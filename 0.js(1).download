(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+9wg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r=(...e)=>{},a={set:r,event:r,convertReactComponentToTestData:r}},"+Gor":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q6rb"),a=n("ZNyp"),o=n("egg7");const s=(e,t)=>n=>(s,i={})=>(...c)=>{if(null==Object(r.a)(n.getState(),s))throw new Error("Config not assigned id");const[l]=Object(o.a)(n,[a.l]),u=(e,t)=>l({config:s,key:e,value:t});n.dispatch(Object(a.m)({config:s,name:e,input:c}));return t(...c,u,i).then(t=>{n.dispatch(Object(a.n)({config:s,name:e,output:t}));return t})}},"+lrG":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("g+dq"),a=n.n(r),o=n("AYIY");const s="contacts/search/v1/report",i="crm-search/report",c=5,l=250,u=(e,t)=>`${s}/${e}${t?"/multi":""}`,p=e=>`${i}${e?"/multi":""}/beta`,d=e=>{const t=e.replace(s,"").split("/").filter(e=>""!==e),n="multi"===t[t.length-1];n&&t.pop();return{objectType:t.join("/"),isMulti:n}},m=e=>e.startsWith(s)&&"quotas"!==d(e).objectType,g=e=>e.includes(i),b=(e,{maxWait:t=l,useCrmSearch:n=!1}={})=>{const r=n?p(!0):u(e,!0);let s=null,i=[];const m=()=>{const e=i.reduce((e,t)=>{const{isMulti:n,options:{data:r}}=t,a=e.length;t.getResponse=e=>n?e.slice(a,a+r.length):e[a];return e.concat(n?r:[r])},[]),t=i;a.a.post(r,{data:e}).then(e=>{t.forEach(t=>{const n=t.getResponse(e);t.defer.resolve(n)})}).catch(e=>{t.forEach(t=>{t.defer.reject(e)})});i=[];clearTimeout(s);s=null};return{post:(e,n)=>{const{isMulti:r}=d(e);return new o.a((a,o)=>{i.push({url:e,options:n,isMulti:r,defer:{resolve:a,reject:o}});i.length>=c?m():s=s||setTimeout(m,t)})}}},O={},f={post:(e,t)=>{const{data:{objectTypeId:n,portalId:r}}=t,o=g(e)&&n&&r;if(!m(e)&&!o)return a.a.post(e,t);const s=o?n:d(e).objectType;let i=O[s];if(!i){i=b(s,{useCrmSearch:o});O[s]=i}return i.post(e,t)}}},"+sJw":function(e,t,n){"use strict";n.d(t,"h",(function(){return m}));n.d(t,"a",(function(){return g}));n.d(t,"j",(function(){return b}));n.d(t,"g",(function(){return f}));n.d(t,"d",(function(){return E}));n.d(t,"i",(function(){return y}));n.d(t,"e",(function(){return T}));n.d(t,"c",(function(){return I}));n.d(t,"f",(function(){return h}));n.d(t,"b",(function(){return j}));var r=n("QgEn"),a=n("QYOI"),o=n("zYNg"),s=n("tc1C"),i=n("MLvm"),c=n("JWMD"),l=n("+KD7"),u=n("zwFt"),p=n("U4wD"),d=n("B7Z+");const m=(e={},t={})=>Object(a.Map)(e).filter(e=>void 0!==e).merge(Object(a.Map)(t).filter(e=>void 0!==e)),g=(e,t,n)=>e.setIn([n,"order"],Object(s.d)({defined:e.getIn([t,"order","defined"])})),b=e=>e.update("layers",e=>e.map(e=>e.set("x",e.get("y")).set("y",e.get("x")))).update("style",(e=Object(o.o)({}))=>e.set("x",e.get("y")).set("y",e.get("x"))),O=({total:e,direction:t,rate:n})=>Object(i.renderToString)(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("strong",{children:Object(u.c)(e)}),null!=n&&Object(r.jsxs)("span",{className:"delta-percentage",children:[t&&Object(r.jsx)(c.a,{size:14,use:t}),0===n?"-":Object(u.d)(Math.abs(n),{precision:2})]})]})),f=({total:e,direction:t,rate:n})=>({align:"right",style:{color:l.SLINKY},useHTML:!0,verticalAlign:"top",y:-30,text:O({total:e,direction:t,rate:n})}),E=(e,t,n)=>n?e.getIn([e.length-1,t],0):e.reduce((e,n)=>e+(n.get(t)||0),0),y=(e,t)=>void 0===e||void 0===t?null:0===e?0:Math.abs(t-e)/e*100,T=e=>[p.i,p.a].includes(e),I=(e,t,n)=>{const r=t.reduce((t,r)=>{if(r&&T(r.options.type.toUpperCase())&&r.visible){const a=r.data.find(t=>t.plotX===e.plotX&&t.plotY===e.plotY);return a?t.push(n.getIn([r.options.id,"points",a.index])):t}return t},Object(a.List)());return r.size>1?r:Object(a.List)()},h=e=>{const t=e.first(),n=t&&("category"===t.getIn(["x","type"])||"scaffold"===t.getIn(["x","type"]))?"y":"x";return t&&t.getIn([n,"formattingObjectMap"])&&t.getIn([n,"formattingObjectMap"]).size>1},j=e=>{if(h(e)){const t=e.first(),n=t.get("dataset"),r=t&&("category"===t.getIn(["x","type"])||"scaffold"===t.getIn(["x","type"]))?"y":"x";return 1!==t.getIn([r,"formattingObjectMap"]).reduce((e,t,r)=>{const a=n.properties.get(r);return t.type!==d.a.AUTO?t.type===d.a.CURRENCY?e.add(t.type+t.currencyCode):e.add(t.type):a?a.get("type")===d.a.CURRENCY?e.add(a.get("type")+a.get("companyCurrencyCode")):e.add(a.get("type")):e.add(r)},Object(a.Set)()).size}return!1}},"+xsV":function(e,t,n){"use strict";const r=e=>e.defaultParams||{};var a=n("Tj69");const o=(e,t)=>{const{metadata:n={}}=e,{sort:[{property:r,order:a}={}]=[]}=t;return{sort:Object.keys(n).includes(r)?"metadata-"+r:r,sortDir:a}},s=(e,t)=>{const{limit:n}=t;return{limit:n}},i=(e,t)=>{const{offset:n}=t;return{offset:n}};var c=n("jpHT");const l=(e,t)=>({get:(n,r)=>{const{filters:{custom:a=[]}={}}=r;return a.reduce((n,r)=>{const{property:a,value:o,values:s}=r;if(a!==e)return n;const i="function"==typeof t?t(r):t||e;Object(c.a)(n,i)||(n[i]=[]);n[i]=[...n[i],...null!=o?[o]:s];return n},{})}}),{get:u}=l("filters","f"),{get:p}=l("excludes","e"),d=(e,t)=>(t.dimensions||[]).includes("people")?{}:l("search").get(e,t),m=e=>0===Object.keys(e).length,g=(e,t)=>{const{d1:n={},d2:r={}}=e;return Object.assign({},m(n)?{}:l("d1").get(e,t),{},m(r)?{}:l("d2").get(e,t))},b=(e,t)=>{const{filters:n={}}=e;return Object.keys(n).reduce((n,r)=>Object.assign({},n,{},l(r).get(e,t)),{})};var O=n("xA3K"),f=n("ahZR"),E=n("9kB+"),y=n("npjq");const T=(e,t)=>{const{filters:{custom:n=[]}={},metrics:r=[],sort:a=[]}=t,{metadata:o={}}=e,s=Object.keys(o);if(0===s.length)return{useForeignIndex:!1};const{drilldown:i={}}=E.a(e,t),c=(e,{property:t})=>e||s.includes(t);if(![a,r,n].reduce((e,t)=>e||t.reduce(c,!1),null!=i.metadata))return{useForeignIndex:!1};const l=e=>"string"==typeof o[e]?o[e]:"enumeration",u=e=>t=>"datetime"===l(e)?y.a.moment(t).format("x"):t,p=e=>{let{operator:t,property:n}=e,r=Object(O.a)(e,["operator","property"]);if(!s.includes(n))return{};const a=u(n),o=a(r.value),i=a(r.highValue),c=r.values&&r.values.map(a),p=null!=o?[o]:c;switch(t){case f.a:return{[`metadata-${n}-min`]:o,[`metadata-${n}-max`]:i};case f.c:case f.d:return{[`metadata-${n}-min`]:p};case f.g:case f.h:return{[`metadata-${n}-max`]:p};default:return"string"===l(n)?{[`metadata-${n}-contains`]:p}:{["metadata-"+n]:p}}},d=n.reduce((e,t)=>Object.assign({},e,{},p(t)),{});return Object.assign({useForeignIndex:!0},d)},I=(e,t)=>{const{filters:{custom:n=[]}={}}=t,{metrics:r={}}=e,a=Object.keys(r),o=({operator:e,property:t,value:n,highValue:r,values:o})=>{if(!a.includes(t))return{};const s=null!=n?[n]:o;switch(e){case f.i:case f.e:case f.j:return{};case f.a:return{[`metric-${t}-min`]:n,[`metric-${t}-max`]:r};case f.c:case f.d:return{[`metric-${t}-min`]:s};case f.g:case f.h:return{[`metric-${t}-max`]:s};default:return{["metric-"+t]:s}}},s=n.reduce((e,t)=>Object.assign({},e,{},o(t)),{});return Object.assign({},s)},h=(e,t)=>{const{metadata:n={}}=e,{dimensions:r}=t;return 1===r.length&&Object(c.a)(n,r[0])?{groupby:"metadata-"+r[0]}:{}};n.d(t,"a",(function(){return j}));const j=(e,t)=>Object.assign({},r(e,t),{},a.a(e,t),{},o(e,t),{},s(e,t),{},i(e,t),{},u(e,t),{},p(e,t),{},d(e,t),{},g(e,t),{},b(e,t),{},T(e,t),{},I(e,t),{},h(e,t))},"/7Op":function(e,t,n){"use strict";var r=n("c50W"),a=n("TsUQ"),o=n("DIPK"),s=n("aOr5");const i=e=>Object(a.a)(Object.assign({cacheKey:o.b,createFetchByIds:e=>Object(s.c)(e)(r.p),createFetchSearchPage:e=>Object(s.a)(e)(r.p),fetchByIds:Object(s.g)(r.p),fetchSearchPage:Object(s.e)(r.p)},e));t.a=i()},"/EpT":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"e",(function(){return i}));const r="CREATE_NEW_REPORT",a="CLONE_EXISTING_REPORT",o="SAVE_UPDATES_AS_NEW",s=[r,a,o,"EDIT_EXISTING_REPORT"],i=({saveUse:e,template:t,isDrilldown:n,shouldBecomeCustom:r})=>{switch(e){case a:return"clone";case o:return"save-updates-as-new";default:return n?"save-from-drilldown":t||!r?"save-from-template":"save-from-scratch"}}},"/SfS":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("O3Yl"),a=n("QYOI");function o(e){return t=>{let n=t.map(t=>{const n=t.get("name");return e.hasIn(["properties","types",n])?t.set("type",e.getIn(["properties","types",n])):t});n=n.update(e.getIn(["properties","idProperty"]),Object(a.Map)(),e=>e.set("type",r.g));return n}}},"/yPC":function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));n.d(t,"c",(function(){return E}));n.d(t,"d",(function(){return y}));n.d(t,"a",(function(){return A}));n.d(t,"e",(function(){return S}));var r=n("QYOI"),a=n("npjq"),o=n("KNLt"),s=n("YTLQ"),i=n("sNkl"),c=n("U9YW"),l=n("3YOP"),u=n("Kcsf"),p=n("66sF"),d=n("ZUx/"),m=n("JmCp");const g="YYYY-MM-DD",b=[i.b.ALL,i.b.IS_AFTER_DATE,i.b.ROLLING,i.b.CUSTOM];function O(e,t){return Object(r.Map)({rangeType:"CUSTOM",endDate:t.format(g),startDate:e.format(g),entireCurrentUnit:!0})}function f(e){const t=a.a.moment.portalTz(e.get("startDate")),n=a.a.moment.portalTz(e.get("endDate")).subtract(1,"years").format(g),r=t.subtract(1,"years").format(g);return e.set("endDate",n).set("startDate",r).set("rangeType","CUSTOM")}function E(e,t,n=!1){const r=e.get("entireCurrentUnit"),o=e.get("rangeType"),s=a.a.moment.portalTz(e.get("startDate")),i=a.a.moment.portalTz(e.get("endDate"));if(b.includes(o)){const e=i.diff(s,"days"),t=s.clone().subtract(1,"days");return O(s.clone().subtract(e+1,"days"),t)}const[,c]=o.split("_"),u=s.subtract(1,c);let p=i.subtract(1,c);r&&!n?p=Object(l.a)({date:p,frequency:c,dataType:t}):n&&r&&Object(m.g)(c)&&(p=p.endOf("month"));return O(u,p)}const y=e=>e.get("compare")&&(e.get("configType")===c.f||e.get("configType")===c.a)&&e.getIn(["filters","dateRange"]),T="ReportingDataCompareLabelCall",I="ReportingDataCompareLabelCompareParam",h="ReportingDataCompareLabelMetricLabelParam",j=(e,t,n)=>{const r=new u.a;e&&r.addReportAttributes(e);r.addAttribute(I,t);r.addAttribute(h,n);r.sendPageAction(T);return n?"PRIOR_YEAR"===t?a.a.text("reporting-data.compare.priorYearAndLabel",{metricLabel:n}):a.a.text("reporting-data.compare.priorPeriodAndLabel",{metricLabel:n}):"PRIOR_YEAR"===t?a.a.text("reporting-data.compare.priorYear"):a.a.text("reporting-data.compare.priorPeriod")},A=e=>(t,n)=>j(e,t,n),S=(e,t=d.a)=>{const n=e.get("dataType"),a=e.get("compare"),i=e.delete("compare"),c=e.getIn(["filters","dateRange"]).get("value"),l=c.get("rangeType",""),u=Object(m.e)(e),[,b]=l.split("_"),O=Object(r.fromJS)(Object(s.a)(c.toJS(),g,n,u,t)),y="PRIOR_YEAR"===a||b===p.YEAR?f(O):E(O,e.get("dataType"),u),T=Object(o.a)(i.setIn(["filters","dateRange","value"],y));return{config:i,compareConfig:T,compareLabelFactory:e=>j(e,a)}}},"03no":function(e,t,n){"use strict";var r=n("npjq"),a=n("QYOI"),o=n("YTnD"),s=n("o07f"),i=n("6Umb"),c=n("x6c8");const l=Object(i.a)("reporting-data.properties.engagement"),u=Object(i.a)("reporting-data.groups.engagement"),p=()=>Object(s.a)()?Object(a.fromJS)([{name:"betEngagementInfo",displayName:u("betEngagementInfo"),displayOrder:0,hubspotDefined:!0,properties:[{name:"engagement.activityType",label:l("activityType"),type:"enumeration",options:[{label:l("activityTypes.CALL"),value:"Call"},{label:l("activityTypes.IMA"),value:"IMA"},{label:l("activityTypes.DEMO"),value:"Demo"},{label:l("activityTypes.DISCOVERY"),value:"Discovery"},{label:l("activityTypes.GOAL_SETTING"),value:"Goal setting"},{label:l("activityTypes.PREQUALIFICATION_CALL"),value:"Prequalification call"},{label:l("activityTypes.ACCOUNT_ASSIST"),value:"Account assist"},{label:l("activityTypes.AGENCY_SERVICES"),value:"Define agency services"},{label:l("activityTypes.BILLING_ISSUE"),value:"Billing or contract issue"},{label:l("activityTypes.BUILD_LEAD_LIST"),value:"Building a lead list"},{label:l("activityTypes.BUSINESS_STRATEGY"),value:"Business strategy"},{label:l("activityTypes.CANCELLATION"),value:"Cancellation/Downgrade"},{label:l("activityTypes.CLIENT_DELIVERY"),value:"Client delivery"},{label:l("activityTypes.CONSULTING"),value:"Consulting"},{label:l("activityTypes.CULTURE"),value:"Hiring/HR/Culture"},{label:l("activityTypes.DEAL_REVIEW"),value:"Deal review"},{label:l("activityTypes.DEVELOPING_SALES_PLAN"),value:"Developing sales plan"},{label:l("activityTypes.ESCALATION"),value:"Escalation"},{label:l("activityTypes.IMPLEMENTATION"),value:"Implementation"},{label:l("activityTypes.INTERNAL_TRANSITION"),value:"Internal transition"},{label:l("activityTypes.KICK_OFF"),value:"Kick-off"},{label:l("activityTypes.PBE_REVIEW"),value:"PBE review"},{label:l("activityTypes.PRICING_PACKAGING"),value:"Pricing & packaging"},{label:l("activityTypes.PROACTIVE_PROSPECTING"),value:"Proactive prospecting"},{label:l("activityTypes.QSR_DELIVERED"),value:"QSR delivered"},{label:l("activityTypes.QUARTERLY_REVIEW"),value:"Quarterly business review"},{label:l("activityTypes.RESELL_DISCUSSION"),value:"Resell & retainers discussion"},{label:l("activityTypes.SALES_COACHING"),value:"Sales coaching"},{label:l("activityTypes.SELLING_OPPORTUNITY"),value:"Selling opportunity"},{label:l("activityTypes.SE_DISCOVERY"),value:"Discovery"},{label:l("activityTypes.SMALL_GROUP_COACHING"),value:"Small group coaching"},{label:l("activityTypes.DEAL_SPECIFIC_COACHING"),value:"Deal specific coaching"},{label:l("activityTypes.FULL_DEMO"),value:"Full demo"},{label:l("activityTypes.IN_PERSON"),value:"In person"},{label:l("activityTypes.OFFLINE_SOLUTION_RESEARCH"),value:"Offline solution research"},{label:l("activityTypes.PARTIAL_DEMO"),value:"Partial demo"},{label:l("activityTypes.POST_SALE_SERVICES_SUPPORT"),value:"Post sale services support"},{label:l("activityTypes.QUESTIONNAIRE_REVIEW_CALL"),value:"Questionnaire review call"},{label:l("activityTypes.TECH_CONSULT"),value:"Tech consult"},{label:l("activityTypes.SALES_NEW_BUSINESS_CALL"),value:"New business"},{label:l("activityTypes.SALES_INSTALL_BASE_CALL"),value:"Install base"},{label:l("activityTypes.SUPPORT_BILLING"),value:"Billing"},{label:l("activityTypes.SUPPORT_CANCELLATION_DOWNGRADE"),value:"Cancellation/Downgrade"},{label:l("activityTypes.SUPPORT_TECHNICAL_SUPPORT"),value:"Technical support"},{label:l("activityTypes.SUPPORT_RENEWAL"),value:"Renewal"},{label:l("activityTypes.SUPPORT_ACCOUNT_MANAGEMENT"),value:"Account management"},{label:l("activityTypes.OTHER_TYPE"),value:"Other"}]},{name:"engagement.productName",label:l("productName"),type:"enumeration",options:[{label:l("productNames.PRODUCT_ADD_ONS"),value:"PRODUCT_ADD_ONS"},{label:l("productNames.PRODUCT_CRM"),value:"PRODUCT_CRM"},{label:l("productNames.PRODUCT_MARKETING_FREE"),value:"PRODUCT_MARKETING_FREE"},{label:l("productNames.PRODUCT_SALES_FREE"),value:"PRODUCT_SALES_FREE"},{label:l("productNames.PRODUCT_GROWTH_STACK"),value:"PRODUCT_GROWTH_STACK"},{label:l("productNames.PRODUCT_MARKETING_PAID"),value:"PRODUCT_MARKETING_PAID"},{label:l("productNames.PRODUCT_MARKETING_STARTER"),value:"PRODUCT_MARKETING_STARTER"},{label:l("productNames.PRODUCT_SALES_PRO"),value:"PRODUCT_SALES_PRO"},{label:l("productNames.PRODUCT_SALES_STARTER"),value:"PRODUCT_SALES_STARTER"},{label:l("productNames.PRODUCT_SALES_HUB_ENTERPRISE"),value:"PRODUCT_SALES_HUB_ENTERPRISE"},{label:l("productNames.PRODUCT_SERVICE_HUB"),value:"PRODUCT_SERVICE_HUB"},{label:l("productNames.PRODUCT_SERVICE_PRO"),value:"PRODUCT_SERVICE_PRO"},{label:l("productNames.PRODUCT_SERVICE_HUB_STARTER"),value:"PRODUCT_SERVICE_HUB_STARTER"},{label:l("productNames.PRODUCT_SERVICE_HUB_ENTERPRISE"),value:"PRODUCT_SERVICE_HUB_ENTERPRISE"},{label:l("productNames.PRODUCT_CMS"),value:"PRODUCT_CMS"},{label:l("productNames.PRODUCT_UNKNOWN"),value:"PRODUCT_UNKNOWN"}]},{name:"engagement.followUpAction",label:l("followUpAction"),type:"string"}]}]):Object(a.List)();var d=n("rpKw"),m=n("Br7N"),g=n("EZi6"),b=n.n(g);const O=`/properties/v4/${d.ENGAGEMENT}/named/hs_engagement_type`,f=()=>m.a(O).then(e=>e.getIn(["property","options"]).map(b()(["value","label","displayOrder"])));var E=n("eY2p");const y=Object(i.a)("reporting-data.properties.engagement"),T=Object(i.a)("reporting-data.groups.engagement"),I=Object(i.a)("reporting-data.properties.common"),h=e=>[{name:"hubspot_owner_id",label:y("owner"),type:"enumeration",externalOptions:!0,referencedObjectType:o.a},{name:"hs_engagement_type",label:y("type"),type:"enumeration",options:e},{name:"hs_createdate",label:I("created"),type:"datetime"},{name:"hs_timestamp",label:y("timestamp"),type:"datetime"}];t.a=()=>Promise.all([f(),Object(E.a)()]).then(([e,{gates:t}])=>{const n=t&&t.includes("RaaS:EngagementReportsLegacyPropertiesMigration");return Object(a.fromJS)([{name:"engagementInfo",displayName:T("engagementInfo"),displayOrder:0,hubspotDefined:!0,properties:[{name:"associations.contact",label:I("associatedContacts"),type:"enumeration",hidden:!1,blocklistedForFiltering:!0},{name:"associations.company",label:I("associatedCompanies"),type:"enumeration",hidden:!1,blocklistedForFiltering:!0},{name:"associations.deal",label:I("associatedDeals"),type:"enumeration",hidden:!1,blocklistedForFiltering:!0},{name:"associations.ticket",label:I("associatedTickets"),type:"enumeration",hidden:!1,blocklistedForFiltering:!0},{name:"engagement.id",label:y("instance"),type:"string",hidden:!0},{name:"engagement.details",label:y("details"),type:"string",format:{type:"string",isHtml:!0},blocklistedForFiltering:!0},Object.assign({name:"engagement.timestamp",label:y("timestamp"),type:"datetime"},n?{hidden:!0}:{}),Object.assign({name:"engagement.createdAt",label:I("created"),type:"datetime"},n?{hidden:!0}:{}),Object.assign({name:"engagement.ownerId",label:y("owner"),type:"enumeration",externalOptions:!0,referencedObjectType:o.a},n?{hidden:!0}:{}),{name:"engagement.createdBy",label:y("createdBy"),type:"enumeration",reportingOverwrittenNumericType:!0,reportingOverwrittenNumericNullLabel:r.a.text("reporting-data.missing.unknown.user"),externalOptions:!0,referencedObjectType:o.c},{name:"engagement.html",label:y("html"),type:"string",format:{type:"string",isHtml:!0},hidden:!0},{name:"engagement.lastUpdated",label:I("updated"),type:"datetime",hidden:!0},{name:"engagement.modifiedBy",label:y("modifiedBy"),type:"enumeration",externalOptions:!0,referencedObjectType:o.c,hidden:!0},Object.assign({name:"engagement.type",label:y("type"),type:"enumeration",options:e},n?{hidden:!0}:{}),{name:"engagement.teamId",label:y("team"),type:"enumeration",externalOptions:!0,referencedObjectType:o.b},{name:"hs_all_accessible_team_ids",label:y("allTeams"),type:"enumeration",externalOptions:!0,referencedObjectType:o.b},{name:"engagement.source",label:y("source"),type:"enumeration",options:Object(a.fromJS)(Object(c.a)()).reduce((e,t,n)=>e.push(Object(a.Map)({label:t,value:n})),Object(a.List)())},...Object(s.a)()?[]:[{name:"engagement.activityType",label:y("activityType"),type:"enumeration",externalOptions:!0}],...n?h(e):[]]}]).concat(p())})},"07iG":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QYOI");const a=e=>e.getIn(["filters","custom"],Object(r.List)()),o=(e,t,n=null)=>a(e).find(e=>e.get("property")===t,null,n)},"0g/9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QYOI"),a=n("t9Aa");const o=(...e)=>(...t)=>Object(a.a)(e.map(e=>e(...t))).then(e=>e.filter(({state:e})=>"fulfilled"===e).map(({value:e})=>e).reduce((e,t)=>e.mergeDeep(t),Object(r.Map)()))},"0iGF":function(e,t,n){"use strict";var r=n("QYOI"),a=n("6Umb");const o=Object(a.a)("reporting-data.properties.common");t.a=()=>Object(r.Map)({"funnel.conversion":Object(r.Map)({name:"funnel.conversion",type:"percent",label:o("conversion")}),"funnel.stepwiseConversion":Object(r.Map)({name:"funnel.stepwiseConversion",type:"percent",label:o("stepwiseConversion")}),"funnel.cumulativeConversion":Object(r.Map)({name:"funnel.cumulativeConversion",type:"percent",label:o("cumulativeConversion")}),"pipeline.skips":Object(r.Map)({name:"pipeline.skips",type:"number",label:o("pipelineSkips")}),"pipeline.cumulativeConversion":Object(r.Map)({name:"pipeline.cumulativeConversion",type:"percent",label:o("cumulativeConversion")})})},"0j78":function(e,t,n){"use strict";n.d(t,"c",(function(){return I}));n.d(t,"a",(function(){return h}));n.d(t,"b",(function(){return j}));var r=n("QYOI"),a=n("nDpY"),o=n.n(a),s=n("c50W"),i=n("u9+u");function c(e){return`/contacts/${o.a.get()}/deal/${e}/`}function l(e){return`/contacts/${o.a.get()}/company/${e}/`}function u(e){return`/contacts/${o.a.get()}/contact/${e}/`}function p(e){return`/contacts/${o.a.get()}/automation/flow/${e}/edit/`}function d(e){return`/contacts/${o.a.get()}/tasks/list/view/all/?taskId=${e}`}function m(e){return`/contacts/${o.a.get()}/ticket/${e}/`}function g(e){return`/social/${o.a.get()}/publishing/view/${e}?source=report-drilldown`}function b(e){return`/campaigns/${o.a.get()}/${e}`}function O(e){return`/live-messages/${o.a.get()}?cvObjectId=${e}`}function f(e){return`/live-messages/${o.a.get()}/inbox/${e}`}function E(e){return`/ctas/${o.a.get()}/details/${e}/`}function y(e){return`/forms/${o.a.get()}/${e}/performance`}const T=new r.Map({[s.H]:l,[s.J]:u,[i.CONVERSATIONS]:O,[s.Q]:f,[s.R]:E,[s.V]:c,[s.lb]:y,[s.ec]:d,[s.rc]:p,[s.ic]:m,[i.ATTRIBUTION_TOUCH_POINTS]:b,[i.CONTACT_CREATE_ATTRIBUTION]:b,[i.SOCIAL_POSTS]:g}),I=e=>({[i.CONTACTS]:s.J,[i.COMPANIES]:s.H,[i.DEALS]:s.V,[i.ENGAGEMENT]:s.gb,[i.ENGAGEMENTS]:s.gb,[i.TICKETS]:s.ic,[i.LINE_ITEMS]:s.Bb,[i.SOCIAL_POSTS]:i.SOCIAL_POSTS}[e]),h=(e,t)=>{const n=T.get(e);return n&&t&&"null"!==t?n(t):null},j=(e,t)=>h(I(e),t)},"0pPx":function(e,t,n){"use strict";var r=n("7Y4s"),a=n("DIPK"),o=n("g+dq"),s=n.n(o),i=n("BPM/"),c=n("QYOI"),l=n("iZt3"),u=n.n(l),p=n("bQHN"),d=n.n(p);const m=e=>new i.a({id:e.id,label:e.name||e.label,referencedObject:Object(c.fromJS)(e)});var g=e=>u()(d()("id"),Object(c.List)(e).map(m));const b="reports/v1/events/simple",O=({httpClient:e})=>()=>e.get(b).then(g),f=O({httpClient:s.a}),E=e=>Object(r.a)(Object.assign({cacheKey:a.fb,createFetchData:O,fetchData:f},e));t.a=E()},"0tG2":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("u9+u");const a=[r.CONTACTS,r.COMPANIES,r.DEALS,r.TICKETS,r.LINE_ITEMS,r.PRODUCTS,r.QUOTAS,r.ENGAGEMENT,r.CALLS,r.CONVERSATIONS,r.ENGAGEMENT_EMAILS,r.MEETINGS,r.NOTES,r.TASKS,r.FEEDBACK]},"0x0+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return i}));var r=n("QYOI");const a=(e,t=(e=>e))=>"object"==typeof e&&null!=e?Array.isArray(e)?e.map(e=>a(e,t)):Object.keys(e).reduce((n,r)=>{const o=e[r];n[r]=a(o,t);return n},{}):t(e),o=e=>"object"==typeof e&&null!=e?Array.isArray(e)?e.map(o):Object.keys(e).sort().reduce((t,n)=>{const r=e[n];t[n]=o(r);return t},{}):e,s=(e,t)=>a(e,e=>"function"==typeof e?t:e),i=(e,...t)=>{const n=r.Iterable.isIterable(e)?e.toJS():e;return JSON.stringify(o(n),...t)}},"1KCo":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));const r="PERCENTILES|funnel.stepwiseConversion",a="PERCENTILES|funnel.cumulativeConversion"},"1WZR":function(e,t,n){"use strict";n.d(t,"c",(function(){return u}));n.d(t,"a",(function(){return p}));n.d(t,"d",(function(){return d}));n.d(t,"b",(function(){return I}));var r=n("QYOI"),a=n("eigc"),o=n("Fkpl"),s=n("djRB"),i=n("Br7N");const c="performance/v1/goals/reports/",l={"sales-goal-assignment":!0,"advanced-sales-goal-assignment":!0,"basic-sales-goal-manager":!0,"advanced-sales-goal-manager":!0,"legacy-quotas-access":!0,"legacy-sales-goal-assignment":!0},u=(Object(r.Map)(l).keySeq().toArray(),e=>{const{user:{scopes:t=[]}={}}=e;return t.reduce((e,t)=>e||Boolean(l[t]),!1)}),p=(e,t,n)=>{const r="REVENUE"!==n?n:"";return e.includes("goals-migration-kpi-gate-access")?i.b(`${c}${r}`,{data:t}):Promise.resolve([])},d=e=>e.getIn(["displayParams","customSeries"],Object(r.List)()).some(e=>"datetime.quota"===e),m=e=>Object(r.fromJS)(e).getIn(["filters","custom"]),g=e=>"hubspot_owner_id"===e.get("property")||"engagement.ownerId"===e.get("property"),b=e=>"hubspot_team_id"===e.get("property")||"engagement.teamId"===e.get("property"),O=e=>(m(e)||Object(r.List)()).find(b),f=e=>(m(e)||Object(r.List)()).find(g),E=e=>t=>e.has(t.get("ownerId")),y=e=>t=>t.get("remoteList").some(t=>e.has(t.get("remoteId"))),T=(e,t,n)=>{const a=f(e),o=O(e),s=a&&(a.get("values")||[a.get("value")]).map(Number),i=s?Object(r.Set)(s):Object(r.Set)();let c=t.filter(e=>null!=e).toSet().union(i.map(e=>Object(r.Map)({ownerId:e,remoteList:Object(r.List)()})));null!=a&&("IN"===a.get("operator")?c=c.filter(E(i)):"NOT_IN"===a.get("operator")&&(c=c.filterNot(E(i))));if(null!=o){const e=o.get("values",Object(r.List)()).map(Number).map(e=>(n.find(t=>t.get("id")===e)||Object(r.Map)()).get("userIds").map(String)).flatten(1).toSet();"IN"===o.get("operator")?c=c.filter(y(e)):"NOT_IN"===o.get("operator")&&(c=c.filterNot(y(e)))}return c},I=e=>Promise.all([Object(a.a)(e.get("config")),Object(o.b)(),Object(s.b)()]).then(([e,t,n])=>{const a=f(e),o=O(e);return a||o?T(e,Object(r.fromJS)(t),Object(r.fromJS)(n)):null})},"1bT7":function(e,t,n){"use strict";var r=n("QYOI"),a=n("LbBa"),o=n("O3Yl"),s=n("chpV");function i(e,t){return Object(s.a)(e).then(n=>n.getIn([e,t,"type"],o.m))}n.d(t,"a",(function(){return m}));const c=e=>Object(r.List)(["properties",e,"value"]);function l(e,t){return t.hasIn(["properties","responsePaths",e])?t.getIn(["properties","responsePaths",e]):c(e)}const u=Object(r.Map)({[o.g]:e=>r.List.isList(e)?e.map(e=>e&&String(e)):e&&String(e)});function p(e,t,n){return u.get(n,e=>e)(e.getIn(t))}function d(e,t){const n=t.getIn(["properties","extractors"],Object(r.Map)());return n.has(e)?Promise.resolve(t=>n.get(e)(t,e)):n.has("__default")?Promise.resolve(n=>t.getIn(["properties","extractors","__default"])(n,e)):i(t.dataType,e).then(n=>r=>p(r,l(e,t),n))}function m(e,t){const n=e.toList();return Promise.all(n.map(e=>d(e,t)).toJS()).then(e=>t=>{const o=Object(a.a)(t);return Object(r.Map)(n.map((t,n)=>[t,e[n](o)]).toJS())})}},"1eNF":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&"string"==typeof e?e.toUpperCase():null},"2LpV":function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var r=n("npjq"),a=n("QYOI"),o=n("z7F3"),s=n("iCNX"),i=n("Br7N"),c=n("MIaD"),l=n("UHjn"),u=n("sJ2X");const p=e=>Object(o.a)(e=>i.b("owners/v2/owners/batch-get/remotes/HUBSPOT",{data:e}).then(s.a),e=>e.reduce((e,t)=>Object.assign({},e,{},t),{}),e),d=e=>p(Object(c.a)(e)).then(e=>Object.keys(e).reduce((t,n)=>{const r=Object(u.b)(e[n]&&e[n].isActive?e[n]:void 0,n);return t.set(String(n),Object(l.b)(n,r))},Object(a.Map)()));t.a=d;const m=e=>d(e).then(e=>e.reduce((e,t)=>Object.assign({},e,{[t.get("value")]:t.get("label")}),{"-1":r.a.text("reporting-data.properties.sales-templates.rootUser")}))},"2Om6":function(e,t,n){"use strict";const r=(e,...t)=>{let n=0;const r=new Error(e.replace(/%s/g,()=>String(t[n++])));r.name="Invariant Violation";return r};t.a=(e,t,...n)=>{if(!e){throw"string"==typeof t?r(t,...n):new Error("invariant(...): Second argument must be a string.")}}},"30sz":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return c}));var r=n("QYOI"),a=n("6Umb");const o=Object(a.a)("reporting-data.properties.tasks"),s=()=>Object(r.OrderedMap)([["COMPLETED",o("taskStatus.options.COMPLETED")],["NOT_STARTED",o("taskStatus.options.NOT_STARTED")],["IN_PROGRESS",o("taskStatus.options.IN_PROGRESS")],["WAITING",o("taskStatus.options.WAITING")],["DEFERRED",o("taskStatus.options.DEFERRED")]]),i=()=>s().keySeq().toSet().toMap().toJS(),c=()=>s().map((e,t)=>Object(r.Map)({label:e,value:t,displayOrder:-1})).valueSeq().toList()},"3Wht":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"c",(function(){return i}));n.d(t,"b",(function(){return p}));n.d(t,"e",(function(){return g}));var r=n("XcLi"),a=n("bw30");const o="__DATASET__",s=a.b,i={ASSOCIATION:"ASSOCIATION",FIELD:"FIELD",COORDINATE:"COORDINATE"},c=r.i({type:r.k().always(i.ASSOCIATION),combinedAssociationTypeId:r.k().optional()},"AssociationJoin"),l=r.i({type:r.k().always(i.FIELD),leftField:r.k(),rightField:r.k()},"FieldJoin"),u=r.i({type:r.k().always(i.COORDINATE),leftField:r.k().optional(),rightField:r.k().optional()},"CoordinateJoin"),p=r.h("type",{[i.ASSOCIATION]:c,[i.FIELD]:l,[i.COORDINATE]:u},"JoinDefinition"),d=e=>r.i({target:e,definitions:r.d(p).defaultValue([])},"Join"),m=r.j(e=>{const t=d(e);return r.i({name:r.k(),type:a.a,datasetId:r.k().optional(),objectTypeId:r.k().optional(),eventsDigestType:r.k().optional(),join:r.d(t).optional().defaultValue([])},"TableDescription")}),g=m;d(m),r.j(e=>r.i({name:r.k(),type:a.a,objectTypeId:r.k().optional(),join:e},"JoinPath"))},"3X2b":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("XcLi");const a=r.i({property:r.k(),table:r.k()},"FieldRef")},"3YOP":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n.d(t,"a",(function(){return l}));var r=n("Z2jm"),a=n("66sF"),o=n("45HM"),s=n("JmCp"),i=n("ZUx/");function c({date:e,dataType:t,frequency:n,useFiscalYear:c=!1,fiscalYearMonthName:l=i.a}){const u=e.clone(),p=u.locale("en").format("MMMM"),{period:d}=Object(o.a)(n,!1);if(!t||n!==a.WEEK)return c?Object(s.b)(u.startOf(d),l,n,p):u.startOf(d);if(!r.b.includes(t))return u.startOf("isoWeek");const m=u.isoWeekday()%7;u.subtract(m,"days");return u.startOf("day")}function l({date:e,dataType:t,frequency:n,useFiscalYear:c=!1,fiscalYearMonthName:l=i.a}){const u=e.clone(),p=u.locale("en").format("MMMM"),{period:d}=Object(o.a)(n,!1);if(!t||n!==a.WEEK)return c?Object(s.a)(u.endOf(d),l,n,p,!0):u.endOf(d);if(!r.b.includes(t))return u.endOf("isoWeek");const m=u.isoWeekday()%7;u.add(6-m,"days");return u.endOf("day")}},"3d/Y":function(e,t,n){"use strict";var r=n("npjq"),a=n("KKaK"),o=n.n(a);const s="__hs__TICKET_CLOSED";var i=n("zzHy");n.d(t,"a",(function(){return c}));const c=o()(()=>Object(i.a)({label:r.a.text("customerDataObjects.TicketStageIdSelect.allClosed"),value:s}))},"3eGA":function(e,t,n){"use strict";n.r(t);n.d(t,"ACCESS_DENIED",(function(){return r}));n.d(t,"TOO_MANY_POINTS_REQUESTED",(function(){return a}));n.d(t,"TOO_MANY_BREAKDOWNS",(function(){return o}));n.d(t,"INVALID_PROPERTIES",(function(){return s}));n.d(t,"INVALID_PIPELINE",(function(){return i}));n.d(t,"DEPRECATED_PROPERTY",(function(){return c}));n.d(t,"FUNNEL_COUNT_PROPERTY_NOT_PRESENT",(function(){return l}));n.d(t,"UNSUPPORTED",(function(){return u}));n.d(t,"TIMEOUT",(function(){return p}));n.d(t,"TOO_MANY_METRICS_REQUESTED",(function(){return d}));n.d(t,"TOO_MANY_DEAL_STAGES_REQUESTED",(function(){return m}));n.d(t,"UNSUPPORTED_DATE_RANGE_REQUESTED",(function(){return g}));n.d(t,"MISSING_REQUIRED_DATA",(function(){return b}));n.d(t,"UNKNOWN",(function(){return O}));n.d(t,"REQUEST_ENTITY_TOO_LARGE",(function(){return f}));n.d(t,"RESULT_POINT_LIMIT_EXCEEDED",(function(){return E}));n.d(t,"NOT_CUSTOM_OBJECT_SUPPORTED",(function(){return y}));n.d(t,"REQUEST_DATASET_TOO_LARGE",(function(){return T}));n.d(t,"PIPELINE_CADENCE_MISMATCH",(function(){return I}));n.d(t,"MISSING_DIMENSIONS_AND_METRICS",(function(){return h}));n.d(t,"DATA_REPROCESSING",(function(){return j}));n.d(t,"HIGHCHARTS_ERROR",(function(){return A}));n.d(t,"UNAUTHORIZED_ENGAGEMENTS_REPORT_READ",(function(){return S}));n.d(t,"MISSING_INTEGRATION_ERROR",(function(){return _}));n.d(t,"MISSING_SERIES_ERROR",(function(){return N}));n.d(t,"PIVOT_TOO_LARGE",(function(){return R}));n.d(t,"INVALID_TWO_DIMENSION_METRIC",(function(){return C}));n.d(t,"MOBILE_UNSUPPORTED",(function(){return v}));n.d(t,"FUTURE_DATE_UNSUPPORTED",(function(){return L}));n.d(t,"FIELD_LEVEL_PERMISSIONS",(function(){return D}));n.d(t,"VALIDATION_ERROR",(function(){return M}));const r="ACCESS_DENIED",a="TOO_MANY_POINTS_REQUESTED",o="TOO_MANY_BREAKDOWNS",s="INVALID_PROPERTIES",i="INVALID_PIPELINE",c="DEPRECATED_PROPERTY",l="FUNNEL_COUNT_PROPERTY_NOT_PRESENT",u="UNSUPPORTED",p="TIMEOUT",d="TOO_MANY_METRICS_REQUESTED",m="TOO_MANY_DEAL_STAGES_REQUESTED",g="UNSUPPORTED_DATE_RANGE_REQUESTED",b="MISSING_REQUIRED_DATA",O="UNKNOWN",f="REQUEST_ENTITY_TOO_LARGE",E="RESULT_POINT_LIMIT_EXCEEDED",y="NOT_CUSTOM_OBJECT_SUPPORTED",T="REQUEST_DATASET_TOO_LARGE",I="PIPELINE_CADENCE_MISMATCH",h="MISSING_DIMENSIONS_AND_METRICS",j="DATA_REPROCESSING",A="HIGHCHARTS_ERROR",S="UNAUTHORIZED_ENGAGEMENTS_REPORT_READ",_="MISSING_INTEGRATION_ERROR",N="MISSING_SERIES_ERROR",R="PIVOT_TOO_LARGE",C="INVALID_TWO_DIMENSION_METRIC",v="MOBILE_UNSUPPORTED",L="FUTURE_DATE_UNSUPPORTED",D="FIELD_LEVEL_PERMISSIONS",M="VALIDATION_ERROR"},"45HM":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("66sF");const a=(e,t=e)=>({period:e,interval:t}),o=(e,t)=>{switch(e){case r.DAY:return a("day");case r.WEEK:return t?a("isoWeek","week"):a("week");case r.MONTH:return a("month");case r.QUARTER:return a("quarter");case r.YEAR:return a("year");default:return a(null)}}},"4Nkb":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));const r="ASC",a="DESC"},"4OPe":function(e,t,n){"use strict";var r=n("DIPK"),a=n("7Y4s"),o=n("ZxVi"),s=n("bQHN"),i=n.n(s),c=n("g+dq"),l=n.n(c);const u="properties/v4/groups/engagement?includeProperties=true",p=i()("results"),d=({httpClient:e})=>()=>e.get(u).then(p).then(o.a),m=d({httpClient:l.a}),g=e=>Object(a.a)(Object.assign({cacheKey:r.eb,createFetchData:d,fetchData:m},e));t.a=g()},"4X0v":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("npjq"),a=n("QYOI"),o=n("YTLQ"),s=n("66sF"),i=n("U9YW"),c=n("sNkl"),l=n("u9+u");const u="YYYY-MM-DD",p={format:u,empty:!1,leading:!0,trailing:!0,sustain:!1},d=Object(a.Map)({[s.DAY]:"day",[s.WEEK]:"week",[s.MONTH]:"month",[s.QUARTER]:"quarter",[s.YEAR]:"year"}),m=(e,t)=>(...n)=>r.a.moment.portalTz(...n).locale(e&&!t?"fr":"en-us");function g(e,t=0){const n=e=>e.map(()=>t);return e.update("metrics",Object(a.Map)(),e=>e.map(n)).updateIn(["dimension","buckets"],Object(a.List)(),e=>e.map(e=>g(e,t)))}function b(e,t,{startDate:n,endDate:o,rangeType:s},{format:i,empty:l,leading:p,trailing:b,sustain:O}){const f=d.get(t),E=e.first(),y=e.last(),T=7===r.a.moment(E.get("key"),u).isoWeekday(),I=m("WEEK"===t,T),h=I(n,u),j=I(o,u),A=I(E.get("key"),u),S=I(y.get("key"),u),_=g(E,0),N=g(E,null),R=e.reduce((e,t)=>e.set(t.get("key"),t),Object(a.OrderedMap)()),C=[];if(p||l)for(let e=A.clone().subtract(1,f);e.isSameOrAfter(h,f)&&![c.b.ALL,c.b.IS_BEFORE_DATE].includes(s);e.subtract(1,f)){const t=e.format(i),n=l?N.set("key",t):_.set("key",t);C.unshift(n)}let v=null;const L=[];for(let e=A.clone();e.isSameOrBefore(S,f);e.add(1,f)){const t=e.format(i),n=R.has(t)?R.get(t):O?v:_.set("key",t);L.push(n);v=n}const D=[];if(b){const e=r.a.moment.portalTz().endOf("day");for(let t=S.clone().add(1,f);t.isSameOrBefore(j,f);t.add(1,f)){const n=t.format(i),r=(t.isSameOrAfter(e,f)?N:O?v:_).set("key",n);D.push(r)}}return Object(a.List)([...C,...L,...D])}function O(e,t){const n=t.getIn(["dimension","buckets"],Object(a.List)()).reduce((e,t)=>t.getIn(["dimension","buckets"],Object(a.List)()).reduce((e,t)=>e.add(t.get("key")),e),Object(a.OrderedSet)()).toList();return n.isEmpty()?t:t.updateIn(["dimension","buckets"],t=>t.map(t=>t.updateIn(["dimension","buckets"],t=>n.map(n=>{const r=Object(a.Map)(e.get("metrics",Object(a.List)()).map(e=>[e.get("property"),Object(a.Map)(e.get("metricTypes",Object(a.List)()).map(e=>[e,0]).toJS())]).toJS()),o=t.find(e=>e.get("key")===n);return o?o.update("metrics",e=>!e||e.isEmpty()?r:e):Object(a.Map)({key:n,metrics:r})}))))}function f(e,t,n={}){const r=e.get("configType"),s=e.getIn(["filters","dateRange"]);if(r!==i.f||!s)return e.get("dataType")===l.CROSS_OBJECT?O(e,t):t;const c=Object.assign({},p,{},n),u=e.get("dataType"),d=e.get("frequency"),m=Object(o.a)(s.get("value").toJS(),c.format,u),g=e=>!e||e.isEmpty()?e:b(e,d,m,c);return O(e,t).withMutations(e=>{e.updateIn(["dimension","buckets"],g);e.set("total",e.getIn(["dimension","buckets"],Object(a.List)()).size)})}},"4aqM":function(e,t,n){"use strict";var r=n("QYOI");let a=Object(r.Map)();const o=e=>{if(!a.has(e)){a=a.set(e,!0);console.error(e)}if(e instanceof Error)throw e;return e};o.bust=()=>{a=Object(r.Map)()};t.a=o},"4k8m":function(e,t,n){"use strict";var r=n("DWAB");const a=Object(r.a)();t.a=a},"4sYE":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"b",(function(){return o}));n.d(t,"d",(function(){return s}));const r="CONFIGURE",a="PROCESS",o="HYDRATE",s="RETRIEVE"},"5H2Q":function(e,t,n){"use strict";var r=n("QYOI"),a=n("jpHT"),o=n("6Umb"),s=n("iCNX"),i=n("Br7N");const c=Object(o.a)("reporting-data.properties.unified.options"),l=()=>({FacebookPage:c("social-channels.facebookpage"),Instagram:c("social-channels.instagram"),Twitter:c("social-channels.twitter"),LinkedInStatus:c("social-channels.linkedinstatus"),LinkedInCompanyPage:c("social-channels.linkedincompanypage"),YouTube:c("social-channels.youtube")});var u=n("UHjn");n.d(t,"c",(function(){return O}));n.d(t,"d",(function(){return f}));n.d(t,"a",(function(){return E}));const p=Object(o.a)("reporting-data.properties.unified.options.social-channels"),d={Twitter:"tw",FacebookPage:"fbp",Instagram:"ig",LinkedInStatus:"lis",LinkedInCompanyPage:"lcp",GooglePlusPage:"gpp",YouTube:"ytc"},m=e=>{const[t,n]=e.split(":");return`${Object(a.a)(d,t)?d[t]:t}-${n}`.toLowerCase()},g=()=>i.a("broadcast/v2/channels").then(s.a),b=({useAnalyticsType:e=!1,useChannelId:t=!1}={})=>g().then((n=[])=>n.reduce((n,{channelKey:r,channelId:a,channelSlug:o,name:s})=>{let i=r;e?i=m(r):t&&(i=a);return n.set(i,Object(u.b)(i,`${s} (${p(o)})`))},Object(r.Map)()));t.b=b;const O=e=>b(e).then(e=>e.reduce((e,t)=>Object.assign({},e,{[t.get("value")]:t.get("label")}),{})),f=e=>"channelType"===e?Promise.resolve(l()):O(),E=()=>O({useAnalyticsType:!0})},"5Kec":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n.d(t,"c",(function(){return s}));n.d(t,"d",(function(){return i}));n.d(t,"a",(function(){return c}));n.d(t,"f",(function(){return l}));n.d(t,"e",(function(){return u}));var r=n("bQHN"),a=n.n(r);const o=a()("id"),s=a()("name"),i=a()("ownerId"),c=a()("demo"),l=a()("widgetCount"),u=a()("userPermissionLevel");a()("createdAt"),a()("widgets")},"5OFW":function(e,t,n){"use strict";n.r(t);n.d(t,"getTaskPropertyGroups",(function(){return m}));n.d(t,"getPropertyGroups",(function(){return g}));n.d(t,"getProperties",(function(){return b}));var r=n("QYOI"),a=n("AYIY"),o=n("6Umb"),s=n("u9+u"),i=n("MSlI"),c=n("03no"),l=n("6sbF"),u=n("30sz");const p=Object(o.a)("reporting-data.groups.engagement"),d=Object(o.a)("reporting-data.properties.tasks"),m=()=>a.a.resolve(r.List.of(Object(r.Map)({name:"taskInfo",displayName:p("taskInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(r.List)([Object(r.Map)({name:"task.status",label:d("taskStatus.label"),type:"enumeration",options:Object(u.b)()}),Object(r.Map)({name:"task.subject",label:d("taskSubject.label"),type:"string"}),Object(r.Map)({name:"task.body",label:d("taskBody.label"),type:"string"}),Object(r.Map)({name:"task.completionDate",label:d("taskCompletionDate.label"),type:"datetime"}),Object(r.Map)({name:"task.taskType",label:d("taskType.label"),type:"enumeration",options:Object(r.List)([Object(r.Map)({value:"EMAIL",label:d("taskType.options.EMAIL"),displayOrder:-1}),Object(r.Map)({value:"CALL",label:d("taskType.options.CALL"),displayOrder:-1}),Object(r.Map)({value:"TODO",label:d("taskType.options.TODO"),displayOrder:-1})])})])}))),g=()=>a.a.all([Object(c.a)(),m()]).then(([e,t])=>Object(r.List)([...e,...t])),b=Object(i.a)(g,e=>e.merge(Object(l.b)(s.TASKS)))},"5Uwv":function(e,t,n){"use strict";var r=n("xA3K"),a=n("QgEn"),o=n("CkSH"),s=n("wBb7"),i=n("VfuR"),c=n.n(i),l=n("Ktcs"),u=n("RZI9"),p=n("Pw6n"),d=n("DqRu"),m=n("OW66"),g=n("vuW9");class b extends l.PureComponent{constructor(...e){super(...e);this.handleChange=(e,t)=>{const{onChange:n,value:r}=this.props;e!==r&&n(Object(p.a)(e,t))}}render(){const e=this.props,{options:t,size:n,value:o}=e,s=Object(r.a)(e,["onChange","options","size","value"]);return Object(a.jsx)(m.a,Object.assign({className:"private-button-select-group"},s,{role:"radiogroup",children:t.map(e=>{const t=e.value===o,{"data-test-id":r}=e;return Object(a.jsx)(g.a,{title:e.title,children:Object(a.jsx)(d.a,{active:t,"aria-checked":t,className:"private-button-select-group__option","data-test-id":r,disabled:e.disabled,onClick:Object(u.a)(this.handleChange,e.value),responsive:!1,role:"radio",size:n,use:"tertiary-light",children:e.buttonText||e.text||e.value})},e.value)})}))}}b.propTypes={onChange:c.a.func,options:c.a.arrayOf(s.c.isRequired).isRequired,size:d.a.propTypes.size,value:c.a.any};b.defaultProps={size:"small"};b.displayName="UIViewController";t.a=Object(o.a)(b)},"5hFj":function(e,t,n){"use strict";n.d(t,"b",(function(){return N}));n.d(t,"c",(function(){return U}));n.d(t,"d",(function(){return k}));var r=n("npjq"),a=n("x3ZR"),o=n("Vfb1"),s=n("V2Fj"),i=n("QYOI"),c=n("U9YW"),l=n("rpKw"),u=n("hZMd"),p=n("BGD4"),d=n("x5iv"),m=n("O3Yl"),g=n("YTnD"),b=n("Mx0d"),O=n("kyD0"),f=n("t81I"),E=n("jpHT"),y=n("6Umb"),T=n("V4H+"),I=n("wAvg"),h=n("zwFt"),j=n("n+iS"),A=n("W5MT");const S="–",_=e=>Object(j.a)(e),N=(e,t,n="portalTz")=>{if(!e)return S;const i=isNaN(Number(e))?e:Number(e);return"short-m-y"===t?Object(a.a)(i,n):"short-q-y"===t?Object(o.a)(i,n):"medium-m-y"===t?Object(s.a)(i,n):r.a.moment[n](i).format(t)},R=[b.b,"engagement.createdBy","engagement.modifiedBy","engagement.createdBy","engagement.ownerId"],C=Object(y.a)("reporting-data.missing"),v=Object(y.a)("reporting-data.properties.common.buckets"),L=e=>{if(null==e)return e;let t;t="true"===e||"false"!==e&&("string"==typeof e?Boolean(Number(e)):e);return v(t?"included":"excluded")},D=({metricType:e,configType:t,dataType:n})=>[p.COUNT,p.DISTINCT_APPROX].includes(e)&&t!==c.e&&Object(E.a)(l,n),M=(e,t)=>e.get("options",Object(i.List)()).find(e=>e.get("value")===t),P=(e,t)=>{const n=e.get("name");if(t===u.a.STRING){return e.get("type")===m.g&&"booleancheckbox"===e.get("fieldType")?C("value"):R.includes(n)?C("unassigned"):C("value")}return R.includes(n)||e.get("type")===m.g&&(e.get("fieldType")===g.a||e.get("referencedObjectType")===g.a)?t&&"0"!==t?C("unknown.owner",{id:t}):C("unassigned"):null},U=e=>""===e?C("value"):e,k=e=>{switch(e){case d.a:return m.c;case d.b:return m.f;case d.d:return m.j;case d.c:case d.e:default:return m.i}};t.a=(e,t,{currencyCode:n,frequency:r,metricType:a,configType:o,dataType:s,smallScale:c}={})=>{const l=t.get("type"),u=t.get("durationUnit"),p=t.get("propertyMeta"),g=p&&p.get("customPrecision");if(Object(f.b)(e))return Object(f.a)(e);"string"==typeof e&&e.indexOf(";")>=0&&"checkbox"===t.get("fieldType")&&(e=Object(i.List)(e.split(";")).map(e=>e.trim()));if(i.List.isList(e))return e.isEmpty()?i.List.of(S):e.map(e=>{const n=M(t,String(e));return n&&n.has("label")?n.get("label"):P(t,e)||U(e)});("number"===l||"id"===l||"enumeration"===l&&!0===t.get("externalOptions")&&null!==t.get("referencedObjectType"))&&(e=Object(I.a)(e));if(!D({metricType:a,configType:o,dataType:s})){const n=M(t,String(e));if(null!=n&&n.has("label")){const{propertyName:e}=Object(T.a)(t.get("name"));return"hs_persona"===e?n.get("description"):n.get("label")}}const b=P(t,e);if(null!==b)return b;const E=t.get("numberDisplayHint");switch(l===m.i?k(E):l){case m.g:return U(e);case m.k:return t.getIn(["format","isHtml"],!1)?_(e):e;case m.b:return e;case m.d:return N(e,A.b[r]||"l","utc");case m.e:return N(e,A.b[r]||"l","userTz");case m.l:return N(e,"lll","userTz");case m.i:return E===d.e?e:Object(h.c)(e,{customPrecision:g});case m.j:return Object(h.d)(100*e);case m.c:return Object(h.a)(e,{currencyCode:n,customPrecision:g});case m.f:return Object(h.b)(e,{durationUnit:u,smallScale:c});case m.a:return L(e);case m.m:default:O.a.once("hydrate/propertyFormatter","unknown type for "+e);return e}}},"5nUE":function(e,t,n){"use strict";var r=n("VfuR"),a=n.n(r),o=n("L/ZD");t.a={report:o.b.isRequired,onDrilldown:a.a.func,setIsRendered:a.a.func,noDataRenderer:a.a.func,errorRenderer:a.a.func,renderInVerticalMode:a.a.bool,disableIframes:a.a.bool,options:a.a.object}},"5uks":function(e,t,n){"use strict";var r=n("QYOI"),a=n("ljrx"),o=n("u9+u"),s=n("WZzs"),i=n("mkAW"),c=n("nNCA"),l=n("80Ck"),u=n("ij+/");const p=()=>new u.a({dataType:o.LINE_ITEMS,properties:{idProperty:"objectId",responsePaths:{objectId:["objectId"]}},search:{url:"contacts/search/v1/search/lineitems",objectsField:"results"},hydrate:{fn:()=>"TODO_LINE_ITEM"}});t.a=Object(a.b)({dataType:o.LINE_ITEMS,references:Object(r.Map)({hs_product_id:Object(i.a)(c.a),hs_line_item_currency_code:Object(i.a)(l.a)}),referenceProperties:Object(r.Map)({"associations.company":o.COMPANIES,"associations.contact":o.CONTACTS,objectId:o.LINE_ITEMS}),hydrate:(e,t)=>Object(s.a)(o.LINE_ITEMS,e,t),getInboundSpec:p})},"66sF":function(e,t,n){"use strict";n.r(t);n.d(t,"DAY",(function(){return r}));n.d(t,"WEEK",(function(){return a}));n.d(t,"MONTH",(function(){return o}));n.d(t,"QUARTER",(function(){return s}));n.d(t,"YEAR",(function(){return i}));const r="DAY",a="WEEK",o="MONTH",s="QUARTER",i="YEAR"},"6E+O":function(e,t,n){"use strict";n.d(t,"e",(function(){return o}));n.d(t,"f",(function(){return s}));n.d(t,"a",(function(){return i}));n.d(t,"c",(function(){return c}));n.d(t,"b",(function(){return l}));n.d(t,"d",(function(){return u}));var r=n("VfuR"),a=n.n(r);const o={EDIT:"EDIT",CREATE:"CREATE"},s=a.a.oneOf(Object.values(o)),i={DASHBOARD:"DASHBOARD",REPORT:"REPORT"},c=a.a.oneOf(Object.values(i)),l={EVERYONE:"EVERYONE",SPECIFIC:"SPECIFIC",PRIVATE:"PRIVATE"},u=a.a.oneOf(Object.values(l))},"6U1n":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return s}));const r={NONE:"NONE",ZERO:"ZERO",VIEW:"VIEW",EDIT:"EDIT",CREATE_AND_OWN:"CREATE_AND_OWN",COMPLETE:"COMPLETE"},a=Object.values(r),o=[r.NONE,r.ZERO,r.VIEW,r.EDIT,r.CREATE_AND_OWN,r.COMPLETE],s=e=>o.indexOf(e)},"6Umb":function(e,t,n){"use strict";var r=n("npjq");t.a=e=>(t,...n)=>r.a.text(`${e}.${t}`,...n)},"6gCf":function(e,t,n){"use strict";var r=n("xA3K"),a=n("DIPK"),o=n("KC+S"),s=n("DF/D"),i=(n("c50W"),n("911S")),c=n("TsUQ"),l=n("nDpY"),u=n.n(l);const p=(e,t)=>`${e}_${t}`,d=(e,t={})=>Object.assign({},t,{getters:Object.assign({},Object(i.c)(e),{},t.getters)}),m=e=>e.map(e=>{const t=e.split("-");return t[t.length-1]}),g=e=>({objectId:t})=>`${u.a.get()}-${e}-${t}`,b=(e,{resolverOptions:t,fetchQueryParams:n,searchOptions:r,searchQueryParams:i,formatterOptions:l}={})=>{(l=l||{}).getters=l.getters||{};l.getters.getId=g(e);const u=d(e,l);return Object(c.a)(Object.assign({cacheKey:p(a.Eb,e),maxBatchSize:200,createFetchByIds:t=>{const r=o.a(Object.assign({},t))(e,{fetchQueryParams:n,formatterOptions:u});return e=>{const t=m(e);return r(t)}},createFetchSearchPage:t=>Object(s.b)(t)(e,{searchOptions:r,searchQueryParams:i,formatterOptions:u}),fetchByIds:(()=>{const t=o.b(e,{fetchQueryParams:n,formatterOptions:u});return e=>{const n=m(e);return t(n)}})(),fetchSearchPage:Object(s.c)(e,{searchOptions:r,searchQueryParams:i,formatterOptions:u})},t))};t.a=(e,t)=>{const n=Object(r.a)(t,["resolverOptions"]);return b(e,n)}},"6sbF":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("QYOI"),a=n("npjq"),o=n("u9+u");const s=e=>`reporting-data.properties.${e}.count`,i=Object(r.Map)({[o.SOCIAL_POSTS]:s("socialPosts")}),c=e=>i.has(e)?a.a.text(i.get(e)):a.a.text(s("common"),{object:a.a.SafeString(a.a.text("reporting-data.dataTypes."+e))});t.b=e=>Object(r.Map)({count:Object(r.Map)({name:"count",label:c(e),type:"number"})});const l=e=>Object(r.Map)({count:Object(r.Map)({name:"count",label:a.a.text("reporting-data.properties.common.count",{object:e}),type:"number"})})},"7bbc":function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));n.d(t,"a",(function(){return u}));var r=n("g+dq"),a=n.n(r),o=n("Tj6W"),s=n.n(o),i=n("fDO/");const c="dashboard/v2/reports/report-counts",l="reportCounts",u=Object(i.d)({fieldName:l,fetcher:()=>a.a.get(c).then(e=>s()(e))})},"7lqv":function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var r=n("QYOI"),a=n("z7F3"),o=n("AYIY"),s=n("iCNX"),i=n("Br7N"),c=n("UHjn"),l=n("mk7u");const u=e=>{const t={};l.b.forEach(n=>{t[n]=e.getIn(["properties",n,"value"])||e.get(n)});return t},p=(e,t)=>Object(l.a)(u(e),t),d=(e=Object(r.List)())=>Object(a.a)(e=>i.a("contacts/v3/contacts/batch",{query:{id:e.toArray(),properties:l.b}}).then(s.a),e=>e.reduce((e,t)=>Object.assign({},e,{},t),{}),e),m=(e,t)=>e.get("label")||Object(l.d)(e.get("vid")||t);t.a=(e,t)=>{if(e.isEmpty())return o.a.resolve(Object(r.Map)());const n=e.reduce((e,t)=>{const n=Number(t);return n?e.set(String(n),t):e},Object(r.Map)());return d(n.keySeq().toList()).then(e=>Object(r.fromJS)(e).reduce((e,a=Object(r.Map)(),o)=>{const s=Object(c.b)(n.get(o,o),p(a,o));return e.set(String(o),t?t(s,a):s)},Object(r.Map)()))}},"7tCk":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="__count"},"80Ck":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("npjq"),a=n("AYIY"),o=n("1eNF"),s=n("UHjn");const i=(e,t)=>{const n=Object(o.a)(t),{name_plural:a}=r.a.currencySymbols[n]||{};return a?`${a} (${n})`:n};t.a=e=>a.a.resolve(e.map((e="")=>Object(s.b)(e,i(void 0,e))))},"88JM":function(e,t,n){"use strict";var r=n("TsUQ"),a=n("DIPK"),o=n("g+dq"),s=n.n(o),i=n("WwZd"),c=n("bQHN"),l=n.n(c),u=n("BPM/"),p=n("QYOI"),d=n("iZt3"),m=n.n(d);const g=e=>new u.a({id:e.guid,label:e.name,referencedObject:Object(p.fromJS)(e)});var b=e=>{const t=m()(l()("id"),Object(p.List)(e.results).map(g));return{count:t.size,hasMore:e.hasMore,offset:e.offset,results:t}};const O="/ctas/v3/placements",f=({httpClient:e})=>t=>e.get(O+"/batch",{query:{includeCtaInfo:!0,guid:t}}).then(Object(i.a)({getId:l()("guid"),getLabel:l()("name")})),E=f({httpClient:s.a}),y=({httpClient:e})=>t=>{const n=Object.assign({},t.toJS(),{limit:t.get("count"),offset:t.get("offset"),name__contains:t.get("query"),includeCtaInfo:!0});return e.get(O,{query:n}).then(b)},T=y({httpClient:s.a}),I=e=>Object(r.a)(Object.assign({cacheKey:a.P,createFetchByIds:f,createFetchSearchPage:y,fetchByIds:E,fetchSearchPage:T},e));t.a=I()},"88Rc":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n.d(t,"a",(function(){return s}));var r=n("QYOI"),a=n("chpV");let o=(e,t)=>Object(a.a)(e).then(n=>n.getIn([e,t],Object(r.Map)()));function s(e,t){return Object(a.a)(e).then(n=>t.reduce((t,a)=>t.set(a,n.getIn([e,a],Object(r.Map)())),Object(r.Map)()))}},"8REs":function(e,t,n){"use strict";var r=n("xA3K"),a=n("QgEn"),o=n("VfuR"),s=n.n(o),i=n("9f1P"),c=n.n(i),l=n("Agbq");const u=c.a.div.withConfig({displayName:"UIOverlayContent__FlexWrapper",componentId:"sc-1k1u62-0"})(["align-items:center;display:flex;height:100%;"]),p=Object(l.o)(),d=c.a.div.withConfig({displayName:"UIOverlayContent__DefaultContentWrapper",componentId:"sc-1k1u62-1"})(["background-color:white;padding:24px;text-align:center;",";"],p),m=e=>{const{children:t,ContentWrapper:n}=e,o=Object(r.a)(e,["children","ContentWrapper"]);return Object(a.jsx)(u,Object.assign({},o,{children:Object(a.jsx)(n,{children:t})}))};m.propTypes={children:s.a.node.isRequired,ContentWrapper:s.a.elementType.isRequired};m.defaultProps={ContentWrapper:d};m.displayName="UIOverlayContent";t.a=m},"8ayz":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n.d(t,"c",(function(){return u}));n.d(t,"b",(function(){return d}));var r=n("QYOI"),a=n("AYIY");let o=Object(r.Map)();const s=!0,i=/^BUCKET_(?:hs_)?lifecyclestage_([a-z]+)_.+$/,c="lifecyclestage",l="bucket:lifecyclestage",u=e=>o.get(e),p=(e,t)=>{o=o.set(e,t)},d=e=>{const t=e.get("dimensions")||Object(r.List)(),n=t.findIndex(i.test.bind(i));if(s||n<0)return a.a.resolve(e);const[,o]=t.get(n).match(i),u=e.setIn(["dimensions",n],c).update("processors",e=>e.push(l));p(u,o);return a.a.resolve(u)}},"9/vt":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"a",(function(){return s}));var r=n("QYOI");const a=(e,t)=>e.get("data").map(e=>e.get(t)).toOrderedSet().toList(),o=(e,[t,n,...r])=>{const a=e.groupBy(e=>e.get(t));return n?a.map(e=>o(e,[n,...r])):a},s=(e,{defined:t}={},n=(e=>e))=>{if(!t)return e;const a=Object(r.Map)(t.map((e,t)=>[e,t]));return e.sortBy(e=>a.get(n(e),a.count()))}},"91Cy":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("u9+u");const a={[r.ATTRIBUTION_TOUCH_POINTS]:["hs_touchpoint_timestamp","hs_contact_id","hs_touchpoint_type","hs_touchpoint_positions","hs_asset_title","hs_asset_type","hs_deal_id","hs_deal_amount","hs_asset_url"],[r.CONTACT_CREATE_ATTRIBUTION]:["hs_interaction_timestamp","hs_contact_id","hs_interaction_type","hs_interaction_positions","hs_asset_title","hs_asset_type","hs_asset_url"],[r.DEAL_CREATE_ATTRIBUTION]:["hs_interaction_timestamp","hs_contact_id","hs_interaction_type","hs_interaction_positions","hs_asset_title","hs_asset_type","hs_deal_id","hs_deal_amount","hs_asset_url"],[r.CONTACTS]:["vid","email"],[r.COMPANIES]:["name","createdate","first_contact_createdate"],[r.CRM_OBJECT]:["hs_object_id"],[r.DEALS]:["dealname","closedate","dealstage","pipeline","amount_in_home_currency"],[r.ENGAGEMENT]:["engagement.timestamp","associations.contact","associations.company","engagement.type","engagement.ownerId","engagement.details"],[r.TICKETS]:["hs_ticket_id","createdate","hs_ticket_category","hubspot_owner_id"],[r.LINE_ITEMS]:["name","quantity","amount"],[r.PRODUCTS]:["name","price"],[r.SEQUENCE_ENROLLMENTS]:["hs_contact_id","hs_company_id","hs_enrolled_by","hs_enrolled_at","hs_sequence_id","hs_enrollment_status"],[r.SOCIAL_POSTS]:["publishedAt","body","channelId","broadcastGuid","interactionsTotal","stats.clicks","stats.impressions","stats.shares"]}},"96fz":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Br7N"),a=n("iCNX");const o=e=>"multi-currency/v2/currencies/"+e,s=()=>r.a(o("information")).then(a.a)},"9L5R":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n.d(t,"b",(function(){return p}));var r=n("QYOI"),a=n("c50W"),o=n("y6Jc"),s=n("u9+u");n("k+EG"),n("V4H+");const i="BATCHEDFORM",c={[s.CALL]:{propertyReferenceType:{hubspot_team_id:"TEAM"},filterFamily:"0-48",externalEnumerationsWithDisplayOrder:[]},[s.CONTACTS]:{apiPath:"contacts",idColumn:"vid",referenceType:a.J,propertyReferenceType:{hubspot_owner_id:a.Lb,hubspot_team_id:a.gc,associatedcompanyid:a.H,"formSubmissions.formId":i,hs_persona:a.Mb,"listMemberships.listId":a.M,salesforcecampaignids:a.Ub,"_inbounddbio.importid_":a.qb,hs_all_assigned_business_unit_ids:a.B},defaultProperties:["createdate","lifecyclestage"],defaultDateProperty:"createdate",defaultExportProperties:["firstname","lastname"],filterFamily:"CONTACT",objectType:"CONTACT",defaultPipeline:Object(o.a)({id:"default",stages:Object(r.List)()}),defaultDimension:"lifecyclestage",externalEnumerationsWithDisplayOrder:[],supportPropertyCounts:!0,crossObjectTypes:[s.COMPANIES,s.DEALS,s.ENGAGEMENTS,s.TICKETS,s.FEEDBACK_SUBMISSIONS],scope:"contacts-read"},[s.COMPANIES]:{apiPath:"companies",idColumn:"company-id",referenceType:a.H,propertyReferenceType:{hs_parent_company_id:"COMPANY",hubspot_owner_id:"OWNER",hubspot_team_id:"TEAM","_inbounddbio.importid_":a.ob,hs_all_assigned_business_unit_ids:a.B},defaultProperties:["industry"],defaultDateProperty:"createdate",defaultExportProperties:["name"],filterFamily:"COMPANY",objectType:"COMPANY",defaultDimension:"hs_analytics_source",externalEnumerationsWithDisplayOrder:[],supportPropertyCounts:!0,crossObjectTypes:[s.CONTACTS,s.DEALS,s.ENGAGEMENTS,s.TICKETS],scope:"crm-access"},[s.CONVERSATIONS]:{propertyReferenceType:{hubspot_owner_id:"OWNER",hubspot_team_id:"TEAM",hs_all_assigned_business_unit_ids:a.B},filterFamily:"0-11",externalEnumerationsWithDisplayOrder:[]},[s.DEALS]:{apiPath:"deals",idColumn:"dealId",referenceType:a.V,propertyReferenceType:{hubspot_owner_id:a.Lb,hubspot_team_id:a.gc,pipeline:a.X,"associations.contact":a.J,"associations.company":a.H,deal_currency_code:a.Ib,"_inbounddbio.importid_":a.sb,dealstage:a.Y,hs_all_assigned_business_unit_ids:a.B},defaultProperties:["amount_in_home_currency","dealstage"],alwaysIncludedCrossObjectProperties:["deal_currency_code"],defaultDateProperty:"createdate",defaultExportProperties:["dealname"],filterFamily:"DEAL",objectType:"DEAL",defaultPipeline:Object(o.a)({id:"default",stages:Object(r.List)()}),defaultDimension:"dealstage",externalEnumerationsWithDisplayOrder:["dealstage"],supportPropertyCounts:!0,crossObjectTypes:[s.CONTACTS,s.COMPANIES,s.ENGAGEMENTS,s.LINE_ITEMS,s.TICKETS],scope:"crm-access"},[s.COMMERCE_PAYMENTS]:{propertyReferenceType:{hs_currency_code:a.Ib}},[s.ENGAGEMENT]:{apiPath:"engagements",idColumn:"engagement.id",referenceType:a.gb,propertyReferenceType:{"engagement.ownerId":a.Lb,"engagement.teamId":a.gc,"engagement.createdBy":a.mc,"engagement.modifiedBy":a.mc,"engagement.activityType":a.a,"call.disposition":a.D},defaultProperties:["engagement.type","engagement.details","engagement.createdAt"],defaultDateProperty:"engagement.timestamp",defaultExportProperties:[],filterFamily:"ENGAGEMENT_LEGACY",objectType:"ENGAGEMENT",defaultDimension:"engagement.type",externalEnumerationsWithDisplayOrder:[],supportPropertyCounts:!0,hideIdColumn:!0,crossObjectTypes:[s.CONTACTS,s.COMPANIES,s.TICKETS,s.DEALS],scope:"crm-access"},[s.ENGAGEMENTS]:{apiPath:"engagements",idColumn:"hs_unique_id",referenceType:a.gb,propertyReferenceType:{hubspot_owner_id:a.Lb,hubspot_team_id:a.gc,hs_created_by:a.mc,hs_modified_by:a.mc,hs_activity_type:a.a,hs_call_disposition:a.D,hs_all_assigned_business_unit_ids:a.B},defaultProperties:["hs_engagement_type","hs_createdate"],defaultDateProperty:"hs_timestamp",defaultExportProperties:[],filterFamily:"ENGAGEMENT",objectType:"ENGAGEMENT",defaultDimension:"hs_engagement_type",externalEnumerationsWithDisplayOrder:[],supportPropertyCounts:!0,hideIdColumn:!0,crossObjectTypes:[s.CONTACTS,s.COMPANIES,s.DEALS,s.TICKETS],scope:"crm-access"},[s.TICKETS]:{apiPath:"tickets",idColumn:"hs_ticket_id",referenceType:a.ic,propertyReferenceType:{hs_pipeline_stage:a.lc,hs_pipeline:a.jc,hs_all_assigned_business_unit_ids:a.B},defaultProperties:["createdate","hs_ticket_category"],defaultDateProperty:"createdate",defaultExportProperties:["subject"],filterFamily:"TICKET",objectType:"TICKET",defaultDimension:"hs_ticket_category",externalEnumerationsWithDisplayOrder:[],crossObjectTypes:[s.CONTACTS,s.COMPANIES,s.DEALS,s.ENGAGEMENTS,s.FEEDBACK_SUBMISSIONS],scope:"tickets-reports-access"},[s.LINE_ITEMS]:{apiPath:"lineitems",idColumn:"objectId",referenceType:a.Bb,propertyReferenceType:{hs_product_id:a.Nb,hs_line_item_currency_code:a.Ib},defaultProperties:["name","createdate","price","amount"],alwaysIncludedCrossObjectProperties:["hs_line_item_currency_code"],defaultDateProperty:"createdate",defaultExportProperties:["name"],filterFamily:"LINE_ITEM",objectType:"LINE_ITEM",defaultDimension:"name",externalEnumerationsWithDisplayOrder:[],crossObjectTypes:[s.DEALS],hideIdColumn:!0,scope:"crm-access"},[s.ANALYTICS_FUNNEL]:{defaultDimension:"event",defaultPipeline:Object(o.a)({id:"default",stages:Object(r.List)()}),defaultDateProperty:"sessionDate",defaultProperties:["completions"],externalEnumerationsWithDisplayOrder:[],tableDimensions:Object(r.List)(["breakdown"]),requiresManualRun:!0,referenceType:a.ib,scope:"events-analytics"},[s.FEEDBACK_SUBMISSIONS]:{idColumn:"hs_object_id",referenceType:a.jb,propertyReferenceType:{hs_engagement_id:a.gb,hs_visitor_id:a.J,hs_knowledge_article_id:a.Ab,hs_survey_id:a.bc,hs_form_id:a.lb},defaultDimension:"hs_survey_id",defaultDateProperty:"hs_submission_timestamp",defaultProperties:["hs_survey_type"],defaultExportProperties:[],filterFamily:"FEEDBACK_SUBMISSION",objectType:"FEEDBACK_SUBMISSION",externalEnumerationsWithDisplayOrder:[],crossObjectTypes:[s.CONTACTS,s.TICKETS],hideIdColumn:!0,supportPropertyCounts:!1,scope:"feedback-reports-access"},[s.ATTRIBUTION_TOUCH_POINTS]:{defaultExportProperties:["hs_touchpoint_timestamp","hs_touchpoint_type","hs_touchpoint_positions","hs_touchpoint_url","hs_asset_type","hs_asset_title","hs_deal_id","hs_associated_deals","hs_deal_amount","hs_associated_contact_ids","hs_associated_contacts","hs_linear_amount","hs_full_path_amount","hs_u_amount","hs_w_amount","hs_first_touch_amount","hs_last_touch_amount"],objectType:"ATTRIBUTION"},[s.CONTACT_CREATE_ATTRIBUTION]:{defaultExportProperties:["hs_interaction_timestamp","hs_interaction_type","hs_interaction_positions","hs_interaction_url","hs_asset_type","hs_asset_title","hs_associated_contact_ids","hs_associated_contacts","hs_linear_interaction_percentage","hs_u_model_percentage","hs_first_interaction_percentage","hs_last_interaction_percentage"],objectType:"CONTACT_CREATE_ATTRIBUTION"},[s.DEAL_CREATE_ATTRIBUTION]:{defaultExportProperties:["hs_interaction_timestamp","hs_interaction_type","hs_interaction_positions","hs_interaction_url","hs_asset_type","hs_asset_title","hs_associated_contact_ids","hs_associated_contacts","hs_linear_interaction_percentage","hs_u_model_percentage","hs_w_percentage","hs_first_interaction_percentage","hs_last_interaction_percentage"],objectType:"DEAL_CREATE_ATTRIBUTION"},[s.GOAL_TARGET]:{apiPath:"goaltarget",idColumn:"hs_object_id",defaultProperties:["hs_goal_name","hs_kpi_progress_percent","hs_goal_type","hs_start_datetime","hs_end_datetime"],defaultDateProperty:"hs_end_datetime",defaultExportProperties:["hs_goal_name"],filterFamily:"GOAL_TARGET",objectType:"GOAL_TARGET",defaultDimension:"hs_goal_type",externalEnumerationsWithDisplayOrder:[],scope:"goals-migration-kpi-gate-access"}},l=[s.CONTACTS,s.COMPANIES,s.DEALS,s.ENGAGEMENT,s.ENGAGEMENTS,s.TICKETS,s.LINE_ITEMS,s.FEEDBACK_SUBMISSIONS,s.ATTRIBUTION_TOUCH_POINTS,s.CONTACT_CREATE_ATTRIBUTION,s.DEAL_CREATE_ATTRIBUTION],u=(Object(r.Map)({ATTRIBUTION_TOUCH_POINTS:"ATTRIBUTION",COMPANIES:"COMPANY",CONTACTS:"CONTACT",CONTACT_CREATE_ATTRIBUTION:"CONTACT_CREATE_ATTRIBUTION",DEAL_CREATE_ATTRIBUTION:"DEAL_CREATE_ATTRIBUTION",DEALS:"DEAL",ENGAGEMENT:"ENGAGEMENT",ENGAGEMENTS:"ENGAGEMENT",FEEDBACK_SUBMISSIONS:"FEEDBACK_SUBMISSION",LINE_ITEMS:"LINE_ITEM",TICKETS:"TICKET",GOAL_TARGET:"GOAL_TARGET"}),Object(r.Map)({ATTRIBUTION:"ATTRIBUTION_TOUCH_POINTS",COMPANY:"COMPANIES",CONTACT:"CONTACTS",CONTACT_CREATE_ATTRIBUTION:"CONTACT_CREATE_ATTRIBUTION",DEAL_CREATE_ATTRIBUTION:"DEAL_CREATE_ATTRIBUTION",DEAL:"DEALS",ENGAGEMENT:"ENGAGEMENTS",FEEDBACK_SUBMISSION:"FEEDBACK_SUBMISSIONS",LINE_ITEM:"LINE_ITEMS",TICKET:"TICKETS",GOAL_TARGET:"GOAL_TARGET"}),[s.ANALYTICS_FUNNEL]),p=[...l,...u,s.CRM_OBJECT];s.CONTACTS,s.DEALS,s.CONTACTS},"9Xev":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));n.d(t,"c",(function(){return o}));const r="COUNT",a="ALPHA",o="METRIC"},"9c9T":function(e,t,n){"use strict";var r=n("QgEn"),a=n("VfuR"),o=n.n(a),s=n("Ktcs"),i=n("QYOI");const c=(e,t=o.a.oneOf([void 0]))=>{const n=`${e}[${Math.random()}]`,a=Object(s.createContext)(),c=e=>{const{children:t,onRaise:o}=e,[c,l]=Object(s.useState)(Object(i.Map)()),u=Object(s.useRef)(!1);Object(s.useEffect)(()=>()=>{u.current=!0},[]);Object(s.useEffect)(()=>{u.current||o(c.valueSeq().toArray())},[u,c,o]);const p=e=>{l(t=>e(t))},d=Object(s.useRef)({[n]:{set:(e,t)=>p(n=>n.set(e,t)),remove:e=>p(t=>t.remove(e))}});return Object(r.jsx)(a.Provider,{value:d.current,children:t})},l=t=>{const r=Object(s.useContext)(a),{children:o,value:i}=t,c=Object(s.useRef)(),l=Object(s.useRef)(!0);Object(s.useEffect)(()=>{if(l.current){l.current=!1;if(r&&r[n]){c.current=Symbol(e+"Raise");r[n].set(c.current,i)}}},[r,c,i]);Object(s.useEffect)(()=>()=>{r&&r[n]&&r[n].remove(c.current)},[c,r]);return o&&s.Children.only(o)};c.propTypes={onRaise:o.a.func.isRequired,children:o.a.element};c.defaultProps={children:null};l.propTypes={children:o.a.element,value:t};l.defaultProps={children:null};return{Receive:c,Raise:l}};t.a=c},"9kB+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>{const{d0:n,d1:r,d2:a}=e,{dimensions:o=[],filters:{custom:s=[]}={}}=t,{length:i}=o;return{drilldown:s.some(({property:e})=>"d2"===e)?a:s.some(({property:e})=>"d1"===e)?r:n,dimensionality:i}}},"9t1i":function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"retrieve",(function(){return l}));n.d(t,"match",(function(){return u}));var r=n("u9+u"),a=n("4aqM"),o=n("bt3G"),s=n("chpV"),i=n("Br7N"),c=n("Pzvz");const l=(e,t,n={})=>{const{batchRequests:l=!1}=n,u=e.get("dataType");return Object(o.a)(u).then(o=>{const p=o.get("use");return u===r.ANALYTICS_FUNNEL?p(e).then(t=>({dataConfig:e,dataset:t,response:void 0})):Object(s.a)(u).then(t=>p(e,t,n)).then(n=>{t("request",n);return i.d(n,{batchRequests:l}).catch(t=>o.get("handleError")?o.get("handleError")(e,t):Object(a.a)(t)).then(r=>{t("response",r);const a=n.transformer?n.transformer(e,r):r;return Promise.resolve(a).then(e=>({response:r,dataset:Object(c.a)(e)}))})}).then(({dataset:t,response:n})=>({dataConfig:e,dataset:t,response:n})).catch(a.a)})},u=()=>!0;e&&e.exports&&(e.exports.default=e.exports)}).call(this,n("OYux")(e))},"A+hA":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return l}));var r=n("WvXS"),a=n("XcLi"),o=n("P2ER");const s=a.i({onPointClick:a.c().optional()},"Events"),i=a.i({name:a.k().optional(),dataset:a.k(),field:a.k(),plot:a.f(),showRangeLabels:a.b().defaultValue(!0),dataColumn:a.k(),compareColumn:a.k().optional()},"GaugeLayer"),c=a.i({legendPosition:a.k().optional(),legendWidth:a.k().optional()}),l=a.i({type:a.k().always(r.d),data:a.f(o.a),events:s.optional(),layer:i,style:c})},AFsi:function(e,t,n){"use strict";var r=n("QYOI"),a=n("u9+u"),o=n("ljrx"),s=n("WZzs"),i=n("mkAW"),c=n("0g/9"),l=n("zviy"),u=n("WLwV"),p=n("l5oV"),d=n("Agl5"),m=n("sV17"),g=n("WUdy"),b=n("yx+q"),O=n("hZMd"),f=n("iCNX"),E=n("Br7N"),y=n("UHjn"),T=n("xMF4"),I=n("c50W");const h=e=>E.b("sfdc/v1/campaigns/batch",{data:e.filter(e=>e!==O.a.ENUMERATION)}).then(f.a);var j=e=>h(e).then(e=>e.reduce((e,{id:t,name:n,label:a})=>e.set(t,Object(y.b)(t,Object(T.a)(I.Ub)(Object(r.Map)({name:n,label:a}),t))),Object(r.Map)())),A=n("VEo5"),S=n("ij+/"),_=n("mk7u"),N=n("llQr"),R=n("YfH6");const C=()=>new S.a({dataType:a.CONTACTS,search:{url:"contacts/search/v1/search/contacts",objectsField:"contacts"},properties:{idProperty:_.c,responsePaths:{vid:["vid"],hs_marketable_reason_id:["vid"]}},hydrate:{inputs:Object(r.Set)(_.b),fn:_.a}});t.a=Object(o.b)({dataType:a.CONTACTS,references:Object(r.Map)({"listMemberships.listId":Object(i.a)(l.a),"formSubmissions.formId":Object(i.a)(u.a),hubspot_owner_id:Object(i.a)(p.a),hubspot_team_id:Object(i.a)(d.a),hs_analytics_first_touch_converting_campaign:Object(i.a)(m.b),hs_analytics_last_touch_converting_campaign:Object(i.a)(m.b),hs_marketable_reason_id:Object(R.a)(R.c),hs_analytics_source_data_2:Object(c.a)(Object(i.a)(N.a),Object(i.a)(g.a),Object(i.a)(b.a)),salesforcecampaignids:Object(i.a)(j),associatedcompanyid:Object(i.a)(A.a)}),referenceProperties:Object(r.Map)({"associations.company":a.COMPANIES,"associations.contact":a.CONTACTS,vid:a.CONTACTS}),hydrate:(e,t)=>Object(s.a)(a.CONTACTS,e,t),getInboundSpec:C})},AXZb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{const[t,...n]=e.split("_");return t.toLowerCase()+n.map(e=>e.slice(0,1)+e.slice(1).toLowerCase()).join("")}},AYIY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=window.Promise},Agl5:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("npjq"),a=n("QYOI"),o=n("djRB"),s=n("UHjn"),i=n("hZMd");const c=(e,t,{isRelational:n}={})=>t===i.a.ENUMERATION||0===Number(t)?n?r.a.text("reporting-data.missing.value"):r.a.text("reporting-data.missing.unassigned"):e.has("label")?e.get("label"):e.has("name")?e.get("name"):r.a.text("reporting-data.missing.unknown.team",{id:t});t.a=e=>Object(o.a)(e).then(t=>e.reduce((e,n)=>{const r=Number(n);return e.set(r,Object(s.b)(n,c(Object(a.Map)(t.has(r)?{name:t.getIn([r,"label"])}:{}),n)))},Object(a.Map)()))},AnRp:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("LZPL"),a=n.n(r),o=n("QYOI"),s=n("nDpY"),i=n.n(s),c=n("V4Ay"),l=n("i7w0");let u=Object(o.Map)();const p=e=>{const t=i.a.get();return[`https://${e?"local":"app"}.hubspot${a.a.isQa()?"qa":""}.com`,`reporting-sandbox/${t}/build/playground`].join("/")},d=e=>{const t="encoded="+btoa(JSON.stringify(e,null,2));return{local:`${p(!0)}?${t}`,deployed:`${p(!1)}?${t}`}},m=e=>{const t=e.get("name"),n=e.get("chartType"),r=e.getIn(["config","dataType"]),a=e.getIn(["config","configType"]);return[...t?[t]:[r,a],n].filter(Boolean).join(" | ")},g=Object(c.a)(e=>({name:m(e),sandbox:d(e),timestamp:new Date,input:e})),b=e=>{u=u.set(e,g(e))};l.b("sandbox",{show:e=>{e&&console.clear();const t="font-weight: bold; font-size: 1.6rem; color: #fea58e";console.log("%cSandbox Links",t);u.filter(({error:e})=>null==e).forEach(({name:e,sandbox:t,timestamp:n,input:r})=>{console.groupCollapsed(e);console.log("Local:",t.local);console.log("Deployed:",t.deployed);console.log("Timestamp:",n);console.log("Input:",r);console.groupEnd()});return u}})},Any2:function(e,t,n){"use strict";var r=n("npjq"),a=n("KKaK"),o=n.n(a);const s="__hs__CLOSEDWON";var i=n("zzHy");n.d(t,"a",(function(){return c}));const c=o()(()=>Object(i.a)({label:r.a.text("customerDataObjects.DealStageIdSelect.allClosedWon"),value:s}))},AuBM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"f",(function(){return i}));n.d(t,"h",(function(){return c}));n.d(t,"e",(function(){return u}));n.d(t,"k",(function(){return p}));n.d(t,"d",(function(){return m}));n.d(t,"g",(function(){return g}));n.d(t,"j",(function(){return b}));n.d(t,"i",(function(){return O}));n.d(t,"c",(function(){return f}));n.d(t,"b",(function(){return E}));var r=n("XcLi"),a=n("GT9n");const o={AND:"AND",OR:"OR",CUSTOM:"CUSTOM"},s=r.l(o,"Conditions"),i=r.i({field:a.k,filter:r.a().fromJS(),isIgnored:r.b().optional()},"Filter"),c={DATASET_FIELD:"DATASET_FIELD",PROPERTY:"PROPERTY",LIST:"LIST",EXPRESSION_FIELD:"EXPRESSION_FIELD"},l=r.l(c,"FilterRefType"),u=r.i({type:l.always(c.DATASET_FIELD).defaultValue(c.DATASET_FIELD),field:r.k()}),p=r.i({type:l.always(c.PROPERTY).defaultValue(c.PROPERTY),property:r.k(),table:r.k()}),d=r.i({type:l.always(c.LIST).defaultValue(c.LIST),table:r.k()}),m=r.i({type:l.always(c.EXPRESSION_FIELD).defaultValue(c.EXPRESSION_FIELD),field:r.k()}),g=r.h("type",{[c.DATASET_FIELD]:u,[c.PROPERTY]:p,[c.LIST]:d,[c.EXPRESSION_FIELD]:m},"FilterRef"),b=r.i({id:r.k(),condition:s,filters:r.d(i)},"Group"),O=r.i({condition:s,groups:r.d(b),logic:r.k().optional(),stagedFilters:r.d(g)},"Filtering"),f=r.i({propertyFilterOperation:r.a().fromJS()},"EventDateInterval"),E=r.i({filters:r.d(i)},"DateComparisonFilter")},"B7Z+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return c}));n.d(t,"e",(function(){return p}));n.d(t,"f",(function(){return d}));n.d(t,"g",(function(){return m}));n.d(t,"c",(function(){return g}));n.d(t,"i",(function(){return f}));n.d(t,"h",(function(){return I}));n.d(t,"d",(function(){return h}));var r=n("QYOI"),a=n("zwFt"),o=n("5hFj");const s={NONE:"none",AUTO:"auto",PERCENTAGE:"percentage",NUMBER:"number",CURRENCY:"currency"},i={AUTO:"auto",PARANTHESES:"parantheses",LEFT:"left",RIGHT:"right"},c={currency:"currency",duration:"duration",number:"number",percent:"percent"},l={date:"date",datetime:"datetime",timestamp:"timestamp"},u=(e,t)=>Object(a.a)(e,t),p=(e,t)=>Object(a.b)(e,t),d=(e,t)=>{const{shouldFormat:n}=t;return n?Object(a.c)(e,t):e},m=(e,t)=>Object(a.d)(100*e,t),g=(e,{format:t="l",method:n="utc"})=>Object(o.b)(e,t,n),b=(e,{format:t="l",method:n})=>Object(o.b)(e,t,n),O=(e,{format:t="lll",method:n="userTz"})=>Object(o.b)(e,t,n),f=e=>e&&(e.get("type")===c.number||e.get("type")===c.currency),E=(e,t,n)=>{const r=t.get("useThousandsSeparator")?void 0:"";switch(t.get("type")){case s.PERCENTAGE:return e<0&&t.get("negativeSymbol")===i.PARANTHESES?`(${Object(a.d)(-100*e,{customPrecision:t.get("customPrecision"),delimiter:r,keepInsignificantZeros:!0})})`:e<0&&t.get("negativeSymbol")===i.RIGHT?Object(a.d)(-100*e,{customPrecision:t.get("customPrecision"),delimiter:r,keepInsignificantZeros:!0})+"-":Object(a.d)(100*e,{customPrecision:t.get("customPrecision"),delimiter:r});case s.CURRENCY:return e<0&&t.get("negativeSymbol")===i.PARANTHESES?`(${Object(a.a)(-1*e,{customPrecision:t.get("customPrecision"),currencyCode:t.get("currencyCode")||n,delimiter:r,keepInsignificantZeros:!0})})`:e<0&&t.get("negativeSymbol")===i.RIGHT?Object(a.a)(-1*e,{customPrecision:t.get("customPrecision"),currencyCode:t.get("currencyCode")||n,delimiter:r,keepInsignificantZeros:!0})+"-":Object(a.a)(e,{customPrecision:t.get("customPrecision"),currencyCode:t.get("currencyCode")||n,delimiter:r,keepInsignificantZeros:!0});case s.NUMBER:return e<0&&t.get("negativeSymbol")===i.PARANTHESES?`(${Object(a.c)(-1*e,{customPrecision:t.get("customPrecision"),delimiter:r,keepInsignificantZeros:!0})})`:e<0&&t.get("negativeSymbol")===i.RIGHT?Object(a.c)(-1*e,{customPrecision:t.get("customPrecision"),delimiter:r,keepInsignificantZeros:!0})+"-":Object(a.c)(e,{customPrecision:t.get("customPrecision"),delimiter:r,keepInsignificantZeros:!0});default:return Object(a.c)(e,t)}},y={[c.currency]:u,[c.duration]:p,[c.number]:d,[c.percent]:m},T={[l.date]:g,[l.datetime]:b,[l.timestamp]:O},I=(e=Object(r.Map)(),t)=>{const n=e.get("formattingObject"),a=e.get("type"),o=e.get("propertyMeta"),s={};if((a===c.number||a===c.currency)&&n&&"auto"!==n.type){const t=e.get("companyCurrencyCode");return e=>E(e,n,t)}if(n&&"auto"===n.type&&"percentage"===e.get("numberDisplayHint"))return e=>m(e,Object.assign({},s,{},t));if(n&&"auto"===n.type&&"unformatted"===e.get("numberDisplayHint"))return e=>e&&e.toString();if(a===c.duration){s.durationUnit=e.getIn(["format","durationUnit"]);s.smallScale=e.get("shouldBeSmallScale")}a===c.currency&&(s.currencyCode=e.getIn(["format","currencyCode"])||e.get("companyCurrencyCode"));a===c.number&&(s.shouldFormat="unformatted"!==e.get("numberDisplayHint"));o&&o.has("customPrecision")&&(s.customPrecision=o.get("customPrecision"));const i=y[a]||T[a]||(e=>e);return e=>i(e,Object.assign({},s,{},t))},h=(e,t)=>e.map(e=>{if(e.has(t)){const n=e.get(t);return e.set(t,m(n))}return e})},BDJE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("XcLi");const a=r.i({dataTypes:r.d().defaultValue([]),reportId:r.a(),dashboardReportId:r.a(),deduplicate:r.b().optional(),filterBranch:r.a()},"CrossObject")},BG7z:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("QYOI"),a=n("u9+u"),o=n("U9YW");const s=e=>`contacts/search/v1/${e}/engagements`,i=(e,t)=>{const n=e===o.e?"search":"aggregate",r=t.get("deduplicate")?"PER_BUCKET":"NONE";return`cross-object-reports/v1/reports/${t.get("reportId")}/${n}?deduplicationMode=${r}`},c=e=>`crm-search/${e}/beta`,l=Object(r.Map)({[a.ATTRIBUTION_TOUCH_POINTS]:e=>"crm-search/"+e,[a.CALLS]:s,[a.COMPANIES]:e=>`contacts/search/v1/${e}/companies`,[a.CONTACTS]:e=>`contacts/search/v1/${e}/contacts`,[a.CONTACT_CREATE_ATTRIBUTION]:e=>"crm-search/"+e,[a.CONVERSATIONS]:s,[a.DEALS]:e=>`contacts/search/v1/${e}/deals`,[a.ENGAGEMENT]:s,[a.ENGAGEMENT_EMAILS]:s,[a.FEEDBACK]:s,[a.FEEDBACK_SUBMISSIONS]:e=>"crm-search/"+e,[a.GOAL_TARGET]:e=>"crm-search/"+e,[a.LINE_ITEMS]:e=>`contacts/search/v1/${e}/lineitems`,[a.MEETINGS]:s,[a.NOTES]:s,[a.PRODUCTS]:e=>`contacts/search/v1/${e}/products`,[a.SOCIAL_POSTS]:e=>`social-reporting/v1/${e}/posts`,[a.TASKS]:s,[a.TICKETS]:e=>`contacts/search/v1/${e}/services/tickets`}),u=(e,t)=>{const n=e.get("dataType"),r=e.get("configType");if(n===a.CROSS_OBJECT)return i(r,e.get("crossObject"),t);const s=r===o.e?"search":"report";return t.useCrmSearch?c(s,n):l.get(n)(s)}},BGD4:function(e,t,n){"use strict";n.r(t);n.d(t,"SUM",(function(){return r}));n.d(t,"AVG",(function(){return a}));n.d(t,"MIN",(function(){return o}));n.d(t,"MAX",(function(){return s}));n.d(t,"COUNT",(function(){return i}));n.d(t,"PERCENTILES",(function(){return c}));n.d(t,"DISTINCT_APPROX",(function(){return l}));const r="SUM",a="AVG",o="MIN",s="MAX",i="COUNT",c="PERCENTILES",l="DISTINCT_APPROX"},BOY1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return i}));const r=e=>Object.assign({},e,{data:e.data?e.data:[],properties:e.properties?e.properties:{}}),a=(e,t)=>e.properties[t],o=(e,t)=>{const n=a(e,t);if(n){const e=n.label;if(e)return e}return t},s=(e,t,n)=>{const r=a(e,t);if(r){const e=r.references[String(n)];if(e)return e}},i=(e,t,n,r=n)=>{const a=s(e,t,n);if(a){const e=a.label;if(e)return e}return String(r)}},BUmr:function(e,t,n){"use strict";var r=n("c50W"),a=n("TsUQ"),o=n("DIPK"),s=n("aOr5");const i=e=>Object(a.a)(Object.assign({cacheKey:o.d,createFetchByIds:e=>Object(s.c)(e)(r.s),createFetchSearchPage:e=>Object(s.a)(e)(r.s),fetchByIds:Object(s.g)(r.s),fetchSearchPage:Object(s.e)(r.s)},e));t.a=i()},BXGd:function(e,t,n){"use strict";n.d(t,"b",(function(){return I}));n.d(t,"a",(function(){return h}));var r=n("npjq"),a=n("QYOI"),o=n("u9+u"),s=n("VqtB"),i=n("fhwZ"),c=n("ahZR"),l=n("kV5Q"),u=n("HHUG"),p=n("AYIY"),d=n("wnG7"),m=n("TTw+");const g="dealstages.*_duration",b=e=>(e.get("dataType")===o.CRM_OBJECT?i.b.get(e.get("objectTypeId"),o.CRM_OBJECT):e.get("dataType"))===o.DEALS&&e.has("metrics")&&e.get("metrics").some(e=>e.get("property")===g),O=e=>e.reduce((e,t)=>e.set(t.get("pipelineId"),t),Object(a.Map)()),f=(e,t)=>e.concat(t.get("stages",Object(a.List)())),E=e=>`dealstages.${Object(d.a)(e.get("stageId"))}_duration`,y=(e,t)=>(e.getIn(["filters","custom"])||Object(a.List)()).map(e=>e.toJS()).filter(({property:e})=>"pipeline"===e).reduce((e,{operator:n,value:r,values:o})=>{switch(n){case c.b:return t.getIn([r,"stages"],Object(a.List)());case c.f:return o.filter(e=>t.has(e)).map(e=>t.get(e)).reduce(f,Object(a.List)());case c.i:return t.filter((e,t)=>r!==t).reduce(f,Object(a.List)());case c.k:return t.filter((e,t)=>!o.includes(t)).reduce(f,Object(a.List)());default:return Object(a.List)()}},t.reduce(f,Object(a.List)())),T=(e,t)=>{const n=y(e,t);return(e.getIn(["filters","custom"])||Object(a.List)()).map(e=>e.toJS()).filter(({property:e})=>"dealstage"===e).reduce((e,{operator:t,values:n})=>t===c.f?e.filter(e=>n.includes(e.get("stageId"))):t===c.k?e.filter(e=>!n.includes(e.get("stageId"))):t===c.j?Object(a.List)():e,n)},I=(e,t,n=!1)=>{if(!b(e))return e;if(e.get("dimensions",Object(a.List)()).count()>1)throw new l.i({propertyName:r.a.text("reporting-data.properties.deals.timeInAllStages")});n&&(t=t.filter(e=>e.getIn(["columnGroup","sourceName"])===g).sortBy(e=>e.getIn(["columnGroup","order"])));return e.update("metrics",e=>{const r=e.reduce((e,r)=>r.get("property")===g?e.concat(t.filter(e=>!(n&&r.has("metricTypes")&&e.has("aggregationType"))||r.get("metricTypes").includes(e.get("aggregationType"))).map(e=>r.set("property",n?e.get("field"):E(e)))):e.push(r),Object(a.List)());if(Object(u.a)(r)>s.c)throw new l.t;return r})},h=e=>b(e)?Object(m.a)(o.DEALS).then(a.fromJS).then(O).then(t=>{const n=T(e,t);return I(e,n)}):p.a.resolve(e)},BYYc:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n("JCIg");Object(r.a)({ALL:null,THIS_DAY:null,LAST_DAY:null,NEXT_DAY:null,THIS_WEEK:null,LAST_WEEK:null,NEXT_WEEK:null,THIS_MONTH:null,LAST_MONTH:null,NEXT_MONTH:null,THIS_QUARTER:null,THIS_FISCAL_QUARTER:null,LAST_QUARTER:null,LAST_FISCAL_QUARTER:null,NEXT_QUARTER:null,NEXT_FISCAL_QUARTER:null,THIS_YEAR:null,THIS_FISCAL_YEAR:null,LAST_YEAR:null,LAST_FISCAL_YEAR:null,NEXT_YEAR:null,NEXT_FISCAL_YEAR:null,ROLLING:null,CUSTOM:null}),Object(r.a)({ALL:null,THIS_DAY:null,LAST_DAY:null,NEXT_DAY:null,THIS_WEEK:null,LAST_WEEK:null,NEXT_WEEK:null,THIS_MONTH:null,LAST_MONTH:null,NEXT_MONTH:null,THIS_QUARTER:null,THIS_FISCAL_QUARTER:null,LAST_QUARTER:null,LAST_FISCAL_QUARTER:null,NEXT_QUARTER:null,NEXT_FISCAL_QUARTER:null,THIS_YEAR:null,THIS_FISCAL_YEAR:null,LAST_YEAR:null,LAST_FISCAL_YEAR:null,NEXT_YEAR:null,NEXT_FISCAL_YEAR:null,ROLLING:null,CUSTOM:null,IS_EQUAL_TO:null,IS_BEFORE_DATE:null,IS_AFTER_DATE:null}),Object(r.a)({ALL:null,THIS_DAY:null,LAST_DAY:null,NEXT_DAY:null,THIS_WEEK:null,LAST_WEEK:null,NEXT_WEEK:null,THIS_MONTH:null,LAST_MONTH:null,NEXT_MONTH:null,THIS_QUARTER:null,LAST_QUARTER:null,NEXT_QUARTER:null,THIS_YEAR:null,LAST_YEAR:null,NEXT_YEAR:null,ROLLING:null,CUSTOM:null}),Object(r.a)({ALL:null,THIS_DAY:null,LAST_DAY:null,NEXT_DAY:null,THIS_WEEK:null,LAST_WEEK:null,NEXT_WEEK:null,THIS_MONTH:null,LAST_MONTH:null,NEXT_MONTH:null,THIS_QUARTER:null,LAST_QUARTER:null,NEXT_QUARTER:null,THIS_YEAR:null,LAST_YEAR:null,NEXT_YEAR:null,ROLLING:null,CUSTOM:null,IS_EQUAL_TO:null,IS_BEFORE_DATE:null,IS_AFTER_DATE:null});const a=Object(r.a)({ALL:null,THIS_DAY:null,LAST_DAY:null,NEXT_DAY:null,THIS_WEEK:null,LAST_WEEK:null,NEXT_WEEK:null,THIS_MONTH:null,LAST_MONTH:null,NEXT_MONTH:null,CUSTOM_MONTH:null,THIS_QUARTER:null,LAST_QUARTER:null,NEXT_QUARTER:null,CUSTOM_QUARTER:null,THIS_YEAR:null,LAST_YEAR:null,NEXT_YEAR:null,CUSTOM_YEAR:null,ROLLING:null,CUSTOM:null,IS_EQUAL_TO:null,IS_BEFORE_DATE:null,IS_AFTER_DATE:null});Object(r.a)({ALL:null,THIS_DAY:null,LAST_DAY:null,THIS_WEEK:null,LAST_WEEK:null,THIS_MONTH:null,LAST_MONTH:null,THIS_QUARTER:null,LAST_QUARTER:null,THIS_YEAR:null,LAST_YEAR:null,ROLLING:null,CUSTOM:null});e&&e.exports&&(e.exports.default=e.exports)}).call(this,n("OYux")(e))},Br7N:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return _}));n.d(t,"a",(function(){return N}));n.d(t,"b",(function(){return R}));n.d(t,"c",(function(){return C}));var r=n("LZPL"),a=n.n(r),o=n("g+dq"),s=n.n(o),i=n("D2Y9"),c=n("LbBa"),l=n("K7y8"),u=n("Kcsf"),p=n("egg7"),d=n("UYb3"),m=n("VljC"),g=n("+lrG"),b=n("R/TV");const O=e=>{const t=e.url;return t.startsWith("reporting")||t.startsWith("sql-reporting")?e.set("url",`https://local.hubspot${a.a.isQa()?"qa":""}.com/${t}`):e},f=[401,403,404],E={"Content-Type":"application/x-www-form-urlencoded"},y={bust:!1,ttl:3e4,disableTtl:!1,batchRequests:!1,useLocalReportingApis:!1,cacheOnly:!1,cacheOnError:!1,retrieveHook:()=>{}};let T=y;const[I,h,j]=Object(p.a)(d.a,[b.b.addRequest,b.b.removeRequest,b.b.setRequestStatus]),A=({form:e,data:t})=>e.isEmpty()?{data:t.toJS()}:{data:Object(i.stringify)(e.toJS()),headers:E},S=(e,t)=>{const n=s.a;return Object.assign({},n,{},t)[e.method](e.url,Object.assign({},A(e),{query:e.query.toJS(),timeout:e.timeout})).then(c.a)},_=(e,t={})=>{const{bust:n,ttl:r,disableTtl:a,cacheOnly:o,batchRequests:s,useLocalReportingApis:i,cacheOnError:c,retrieveHook:p}=Object.assign({},T,{},t),E=m.a.sanitize(e),y=i?O(E):E;p(y);n&&!o&&h({request:y});const A=Object(b.c)(d.a.getState(),y);if(A&&(A.status===b.a.SUCCEEDED||A.status===b.a.PENDING||c||!A.isRetriable))return A.promise;const _=(()=>{const e=Date.now();return()=>Date.now()-e})();if(o){if(A&&A.status===b.a.ERRORED)return Promise.reject(A.error);throw new Error("Cache missed for "+y)}const N=s||l.a.enabled?g.a:void 0,R=S(y,N);I({request:y,promise:R,ttl:r});const C=()=>a?void 0:setTimeout(()=>h({request:y}),r),v=new u.a;v.addAttribute("requestHasClientOverrides",void 0!==N);return R.then(e=>{j({request:y,response:e,status:b.a.SUCCEEDED,duration:_(),timeout:C()});v.logHttpSuccess(y,_());return e}).catch(e=>{j({request:y,error:e,status:b.a.ERRORED,duration:_(),timeout:C(),isRetriable:!f.includes(e.status)});v.logHttpError(e,y,_());throw e})},N=(e,t,n)=>_(m.a.get(Object.assign({url:e},t)),n),R=(e,t,n)=>_(m.a.post(Object.assign({url:e},t)),n),C=(e,t,n)=>_(m.a.put(Object.assign({url:e},t)),n);e&&e.exports&&(e.exports.default=e.exports)}).call(this,n("OYux")(e))},C53X:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return i}));n.d(t,"c",(function(){return c}));n.d(t,"e",(function(){return l}));n.d(t,"g",(function(){return u}));n.d(t,"d",(function(){return p}));n.d(t,"f",(function(){return d}));n.d(t,"h",(function(){return m}));var r=n("30sz"),a=n("Pt4M");const o=(e,t)=>n=>(Array.isArray(e)?e:[e]).includes(n.getIn(["engagement","type"]))?Object(a.a)(n.getIn(t)||null):"",s=()=>({"engagement.details":e=>{const t=e.get("metadata"),n=e.getIn(["engagement","type"]);let r=t.get("text")||t.get("body");["EMAIL","INCOMING_EMAIL","FORWARDED_EMAIL","TASK"].includes(n)?r=t.get("subject"):"MEETING"===n&&t.has("title")&&(r=t.get("title"));return Object(a.a)(r)}}),i=()=>({"call.status":o("CALL",["metadata","status"]),"call.durationMilliseconds":o("CALL",["metadata","durationMilliseconds"]),"call.disposition":o("CALL",["metadata","disposition"]),"call.body":o("CALL",["metadata","body"])}),c=()=>({"conversationSession.visitorStartTime":o("CONVERSATION_SESSION",["metadata","visitorStartTime"]),"conversationSession.visitorEndTime":o("CONVERSATION_SESSION",["metadata","visitorEndTime"]),"conversationSession.visitorWaitTimeMilliseconds":o("CONVERSATION_SESSION",["metadata","visitorWaitTimeMilliseconds"]),"conversationSession.sessionDurationMilliseconds":o("CONVERSATION_SESSION",["metadata","sessionDurationMilliseconds"]),"conversationSession.agentJoinTime":o("CONVERSATION_SESSION",["metadata","agentJoinTime"]),"conversationSession.numVisitorMessages":o("CONVERSATION_SESSION",["metadata","numVisitorMessages"]),"conversationSession.numAgentMessages":o("CONVERSATION_SESSION",["metadata","numAgentMessages"]),"conversationSession.online":o("CONVERSATION_SESSION",["metadata","online"]),"conversationSession.isBot":o("CONVERSATION_SESSION",["metadata","isBot"]),"conversationSession.fullUrl":o("CONVERSATION_SESSION",["metadata","fullUrl"]),"conversationSession.conversationSource":o("CONVERSATION_SESSION",["metadata","conversationSource"]),"conversationSession.threadId":o("CONVERSATION_SESSION",["metadata","threadId"]),"conversationSession.sessionClosedAt":o("CONVERSATION_SESSION",["metadata","sessionClosedAt"]),"conversationSession.agentResponseTimeMilliseconds":o("CONVERSATION_SESSION",["metadata","agentResponseTimeMilliseconds"])}),l=()=>({"feedbackSubmission.rating":o("FEEDBACK_SUBMISSION",["metadata","rating"]),"feedbackSubmission.formType":o("FEEDBACK_SUBMISSION",["metadata","surveyType"]),"feedbackSubmission.formGuid":o("FEEDBACK_SUBMISSION",["metadata","formGuid"]),"feedbackSubmission.followUp":o("FEEDBACK_SUBMISSION",["metadata","followUp"]),"feedbackSubmission.formChannel":o("FEEDBACK_SUBMISSION",["metadata","surveyChannel"]),"feedbackSubmission.responseGroup":o("FEEDBACK_SUBMISSION",["metadata","responseGroup"])}),u=()=>({"note.body":o("NOTE",["metadata","body"])}),p=()=>{const e=["EMAIL","INCOMING_EMAIL","FORWARDED_EMAIL"];return{"email.subject":o(e,["metadata","subject"]),"email.html":o(e,["metadata","from","email","FORWARDED_EMAIL"]),"email.text":o(e,["metadata","text"]),"email.trackerKey":o(e,["metadata","trackerKey"]),"email.messageId":o(e,["metadata","messageId"]),"email.threadId":o(e,["metadata","threadId"]),"email.status":o(e,["metadata","status"]),"email.sentVia":o(e,["metadata","sentVia"])}},d=()=>({"meeting.body":o("MEETING",["metadata","body"]),"meeting.title":o("MEETING",["metadata","title"]),"meeting.startTime":o("MEETING",["metadata","startTime"])}),m=()=>({"task.taskType":o("TASK",["metadata","taskType"]),"task.status":o("TASK",["metadata","status"])||Object(r.a)().NOT_STARTED,"task.subject":o("TASK",["metadata","subject"]),"task.body":o("TASK",["metadata","body"]),"task.completionDate":o("TASK",["metadata","completionDate"])})},CPAr:function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"type",(function(){return J}));n.d(r,"record",(function(){return z}));n.d(r,"Render",(function(){return Z}));n.d(r,"__getChartOptions",(function(){return ee}));var a={};n.r(a);n.d(a,"type",(function(){return He}));n.d(a,"record",(function(){return We}));n.d(a,"TableViz",(function(){return qe}));n.d(a,"Render",(function(){return Qe}));n.d(a,"__getChartOptions",(function(){return $e}));var o={};n.r(o);n.d(o,"type",(function(){return ze}));n.d(o,"record",(function(){return Xe}));n.d(o,"pivotDatasetKey",(function(){return Ze}));n.d(o,"Render",(function(){return nt}));n.d(o,"__getChartOptions",(function(){return rt}));var s={};n.r(s);n.d(s,"getHighchartsOptions",(function(){return Wt}));n.d(s,"type",(function(){return Kt}));n.d(s,"record",(function(){return qt}));n.d(s,"Render",(function(){return $t}));var i={};n.r(i);n.d(i,"getHighchartsOptions",(function(){return Vn}));n.d(i,"type",(function(){return Hn}));n.d(i,"record",(function(){return Wn}));n.d(i,"Render",(function(){return $n}));var c={};n.r(c);n.d(c,"type",(function(){return er}));n.d(c,"record",(function(){return tr}));n.d(c,"getHighchartsOptions",(function(){return cr}));n.d(c,"Render",(function(){return ur}));var l={};n.r(l);n.d(l,"getHighchartsOptions",(function(){return fr}));n.d(l,"type",(function(){return Fr}));n.d(l,"record",(function(){return Yr}));n.d(l,"Render",(function(){return Gr}));var u={};n.r(u);n.d(u,"type",(function(){return Na}));n.d(u,"record",(function(){return Ra}));n.d(u,"DISPLAY_MEASURE",(function(){return Ca}));n.d(u,"SUBTOTAL_DISPLAY_HINT",(function(){return va}));n.d(u,"Render",(function(){return qa}));n.d(u,"__getChartOptions",(function(){return Qa}));var p={};n.r(p);n.d(p,"type",(function(){return Eo}));n.d(p,"record",(function(){return yo}));n.d(p,"getHighchartsOptions",(function(){return Io}));n.d(p,"Render",(function(){return jo}));var d={};n.r(d);n.d(d,"type",(function(){return Vo}));n.d(d,"record",(function(){return Ho}));n.d(d,"Render",(function(){return Wo}));n.d(d,"__getChartOptions",(function(){return Ko}));var m=n("QgEn"),g=n("t6nY"),b=n.n(g),O=n("QYOI"),f=n("Ktcs"),E=n("LqZr"),y=n("+9wg"),T=n("Oc1M"),I=n.n(T),h=n("WvXS"),j=n("+KD7"),A=n("npjq"),S=n("oxA8"),_=n("VfuR"),N=n.n(_),R=n("QQ8p"),C=n("DqRu"),v=n("JWMD"),L=n("UW18"),D=n("PW/O"),M=n("HTXA"),P=n("gsqH"),U=n("h/3h"),k=n("vuW9"),x=n("5zIw");class w extends f.Component{constructor(...e){super(...e);this.renderHead=(e,t)=>{const n=e.get("tooltip")?Object(m.jsx)(x.a,{title:e.get("tooltip"),children:e.get("label")}):e.get("label");return Object(m.jsx)(U.a,{children:t?t(e):n})};this.renderBody=(e,t,n)=>{const r=e.get("valueLabel"),a=n&&n(e),o=Object(R.b)(e.get("field")).property,s=t?t(e):r;return Object(m.jsx)(D.a,{children:a?Object(m.jsx)(C.a,{use:"link","data-test-id":o+"-drilldown-button",onClick:()=>a(e),className:"no-drag",children:s}):s})};this.renderDelta=e=>{if(!e.get("compare"))return null;const t=e.get("value"),n=e.get("compare");if("number"!=typeof n||!isFinite(n))return Object(m.jsx)(M.a,{children:Object(m.jsx)("span",{children:"-"})});if(t===n)return Object(m.jsx)(M.a,{children:Object(m.jsx)(S.a,{message:"reporting-visualizations.deltas.unchanged"})});const r="PERCENTILES"===Object(R.b)(e.field).type?Math.abs(100*(n-t)):Math.abs((n-t)/n*100),a=t-n>0?"increase":"decrease",o=r<.01?"< "+A.a.formatPercentage(.01,{precision:2}):A.a.formatPercentage(r,{precision:2});let s="increase"===a?j.OZ:j.CANDY_APPLE;e.inverseDeltas&&(s=s===j.CANDY_APPLE?j.OZ:j.CANDY_APPLE);return Object(m.jsx)(k.a,{title:A.a.text("reporting-visualizations.deltas.comparison-tooltip",{count:e.get("compareValueLabel")}),placement:"bottom",children:Object(m.jsxs)(M.a,{children:[Object(m.jsx)(v.a,{use:a,color:s}),o]})})}}render(){const{data:e,events:{getOnPointClick:t,getHeader:n,getBody:r}={}}=this.props.datawell;return Object(m.jsx)("div",{style:{flex:1},children:Object(m.jsx)(L.a,{children:e.map((e,a)=>Object(m.jsxs)(P.a,{children:[this.renderHead(e,n),this.renderBody(e,r,t),this.renderDelta(e)]},a))})})}}w.propTypes={datawell:N.a.object};var F=w,Y=n("P2ER"),B=n("B7Z+"),G=n("Qb0q"),V=n("JsU1"),H=n("hZMd"),W=n("q9KR");const K=(e,t,n)=>{const r=e.data;if(!n)return r;const a=Object(W.a)(e,t,n);return r.sortBy(e=>{const n=t&&e.get(t);return a.indexOf(n)})},q=(e,t)=>{const n=t?t.filter(t=>t.column===e).first():void 0;return n&&n.options},Q=e=>{const{data:t,layer:n,events:{getOnPointClick:r,getHeader:a,getBody:o}={}}=e,{dataset:s,compare:i,direction:c,group:l,fields:u=Object(O.List)(),order:p,groupFormattingOptions:d,valueFormattingOptions:m}=n,g=t.getIn(["primary","properties"]),b=t.get(s),f=b.get("data"),E=(e,t)=>e.getIn([t,"inverseDeltas"],!1),y={getOnPointClick:e=>r?r({cell:e,layer:n,dataset:b}):void 0,getHeader:a,getBody:o};if(f.isEmpty())return Object(G.b)({data:Object(O.List)(),events:y});const T=c===G.d.horizontal?u.reduce((e,t)=>e.set(t,(f.first()||Object(O.Map)()).get(t)),Object(O.OrderedMap)()).map((e,t)=>{const r=q(t,m),a=Object(Y.c)(b,t),o=Object(B.i)(a)&&r?a.set("formattingType",r.getIn(["format","type"])).set("formattingObject",r.get("format")):a,s=r&&r.has("tooltipI18nKey")?A.a.text(r.get("tooltipI18nKey")):void 0;return Object(G.a)({label:Object(Y.d)(b,t),value:e,valueLabel:Object(B.h)(o)(e),tooltip:s,field:t,property:Object(R.b)(t).property,row:f.first(),layer:n,inverseDeltas:E(g,t),summary:f.first().map((e,t)=>{const n=q(t,m),r=Object(Y.c)(b,t),a=Object(B.i)(r)&&n?r.set("formattingType",n.getIn(["format","type"])).set("formattingObject",n.get("format")):r;return Object(O.Map)({raw:e,formatted:Object(B.h)(a)(e)})})})}).toList():K(b,l,p).map(e=>{const t=u.first(),r=e.get(t),a=q(t,m),o=Object(Y.c)(b,t),s=Object(B.i)(o)&&a?o.set("formattingType",a.getIn(["format","type"])).set("formattingObject",a.get("format")):o,i=l?Object(Y.c)(b,l):void 0,c=Object(B.i)(i)&&d?i.set("formattingType",d.getIn(["format","type"])).set("formattingObject",d.get("format")):void 0,p=l&&Object(Y.h)(b,t,e.get(l)),f=l?p||!c?Object(Y.g)(b,l,e.get(l)):Object(B.h)(c)(e.get(l)):void 0;return Object(G.a)({label:""+f,row:e,value:r,valueLabel:Object(B.h)(s)(r),field:t,property:Object(R.b)(t).property,layer:n,inverseDeltas:E(g,t),summary:e.map((e,t)=>{const n=q(t,m),r=Object(Y.c)(b,t),a=Object(B.i)(r)&&n?r.set("formattingType",n.getIn(["format","type"])).set("formattingObject",n.get("format")):r;return Object(O.Map)({raw:e,formatted:Object(B.h)(a)(e)})})})}),I=i&&t.get(i),h=(i&&I?T.map((e,t)=>{const n=e.get("field"),r=e.get("value"),a=e.getIn(["row",l]);let o;if(c===G.d.horizontal)o=I.getIn(["data",0,n]);else{const e=I.get("data");o=(null===r?Object(O.Map)({[n]:null}):e.find(e=>void 0!==l&&e.get(l)===a)||e.get(t)||Object(O.Map)({[n]:H.b})).get(n)}const s=Object(Y.c)(I,n),i=Object(B.h)(s)(o);return e.set("compare",o).set("compareValueLabel",i||o)}).toList():T.toList()).filterNot(e=>e.get("field")===V.a).toList();return Object(G.b)({data:h,events:y})},$=I()(Q),J=h.b,z=G.c,X=({visualization:e,debug:t=y.a})=>{const n=$(e);t.set("Datawell",n);const r=Object(m.jsx)(F,{datawell:n});t.set("Test Data",()=>t.convertReactComponentToTestData?t.convertReactComponentToTestData(r):{});return r},Z=Object(f.memo)(X),ee=Q;var te=n("5hFj"),ne=n("9/vt");const re=e=>e.count(),ae=e=>e.reduce((e,t)=>e+(t||0),0),oe=e=>ae(e)/re(e),se={count:re,sum:ae,average:oe,min:e=>e.min(),max:e=>e.max(),distinct:e=>e.toSet().count(),valid:e=>e.filter(e=>null!=e&&void 0!==e).count(),missing:e=>e.filter(e=>null==e||void 0===e).count()},ie="__total";function ce(e,{keys:t,field:n,value:r,groupby:a,op:o,showTotals:s}){if(0===a.length){const a=e.groupBy(e=>e.get(n));return O.List.of(Object(O.Map)(t.map(e=>{const t=se[o];if(!t)throw new Error(`No aggregation function found for operator: ${o}, expected one of [${Object.keys(se)}]`);const n=a.get(e)||Object(O.List)();return[e,"count"!==o&&r?t(n.map(e=>e.find((e,t)=>Object(R.b)(t).property===Object(R.b)(r).property))):n.getIn([0,Object(R.d)({property:o,type:r})])]})).withMutations(e=>s?e.set(ie,ae(e.toList())):e))}const[i,...c]=a;return e.groupBy(e=>e.get(i)).map((e,a)=>ce(e,{keys:t,field:n,value:r,groupby:c,op:o,showTotals:s}).map(e=>e.set(i,a))).toList().flatten(1)}var le=(e,{keys:t,field:n,value:r,groupby:a=[],op:o="sum",showTotals:s})=>{if(!n)throw new Error("Missing pivot field in pivot transform");t=t||Object(ne.b)(e,n).sort();return e.update("data",e=>ce(e,{keys:t,field:n,value:r,groupby:a,op:o,showTotals:s}))},ue=n("L1ux"),pe=n("O3Yl"),de=n("BGD4"),me=n("x5iv"),ge=n("DmHp"),be=n("Tqy5"),Oe=n("6buU"),fe=n("77dM"),Ee=n("EIJv"),ye=n("I5zW");const Te=Object(ye.createMetricsFactory)("reporting-visualizations",{library:"reporting-visualizations"}),Ie="search-link-clicked",he="pivot_too_large",je="pivot_successfully_rendered",Ae=e=>{const{column:t,link:n,valueLabels:r,valueLinks:a,onPointClick:o,index:s}=e,{align:i,onClick:c}=t,l=o||c,u=b()(i===ue.a.left&&"text-left",i===ue.a.right&&"text-right"),p=a.map((a,o)=>{let i;const c=r.get(o);i=null===r.get(o)||void 0===r.get(o)?"-":l?Object(m.jsx)(C.a,{onClick:()=>l(e),use:"link","data-test-id":`table-cell-${t.get("index")}-${s}`,children:c}):a||n?Object(m.jsx)(fe.a,{href:a||n,external:!0,onClick:()=>Te.counter(Ie).increment(),"data-test-id":`table-cell-${t.get("index")}-${s}`,children:c}):"boolean"==typeof c?String(c):c;return Object(m.jsxs)("span",{"data-test-id":`table-cell-wrapper-${t.get("index")}-${s}`,children:[0!==o&&Object(m.jsx)("span",{children:", "}),i]},o)});return i===ue.a.left?Object(m.jsx)("td",{className:u,children:Object(m.jsx)(Ee.a,{maxWidth:400,children:p})}):Object(m.jsx)("td",{className:u,children:p})},Se=({index:e,column:t,getOnPointClick:n})=>{const{dataset:r,field:a,linkField:o,renderCell:s,useRawDataLabel:i}=t,{data:c}=r,l=c.get(e),u=l.get(a),p=o&&l.get(o),d=Object(Y.c)(r,a),m=Object(B.i)(d)&&t.get("formattingObject")?d.set("formattingType",t.getIn(["formattingObject","type"])).set("formattingObject",t.get("formattingObject")):d,g=O.List.isList(u)?u:Object(O.List)([u]),b=m&&Object(B.h)(m)||(e=>e),f=g.map(b),E=g.map((e,t)=>{if(i&&(!m.getIn(["formattingObject","type"])||"auto"===m.getIn(["formattingObject","type"])))return e;if(m&&"currency"===m.getIn(["format","type"])){const t=m.getIn(["format","currencyCodeColumnName"]),n=`${l.get(t)}|${e}`;if(Object(Y.f)(r,a,n))return Object(Y.g)(r,a,n,e)}if(m&&"currency"===m.get("type")){const t=m.get("currencyCodeColumnName"),n=t?l.get(t):void 0;if(n&&"@@MISSING@@"!==n&&A.a.formatCurrency(e,{currencyCode:n}))return A.a.formatCurrency(e,{currencyCode:n})}return Object(Y.f)(r,a,e)?Object(Y.g)(r,a,e):f.get(t)}),y=g.map(e=>l.getIn([V.a,a,String(e)],null)),T={index:e,column:t,row:l,value:u,link:p,valueLabels:E,valueLinks:y,field:a,dataset:r},I=n?n(T):null,h=()=>Ae(Object.assign({onPointClick:I},T));return"function"==typeof s?s(Object.assign({defaultRender:h,onPointClick:I},T)):h()};var _e=Object(f.memo)(Se),Ne=n("lKVk");const Re=e=>{const{column:{align:t,dataset:n,field:r,index:a},footer:{label:o}}=e,s=b()(t===ue.a.left&&"text-left",t===ue.a.right&&"text-right"),i=n.getIn(["properties",r,"type"]);return Object(m.jsx)("th",{className:s,children:(0===a||Ne.a.includes(i))&&o})},Ce=({column:e})=>{const{footer:t,renderFooterCell:n}=e,r={column:e,footer:t},a=()=>Re(r);return n?n(Object.assign({defaultRender:a},r)):a()};var ve=Object(f.memo)(Ce),Le=n("kGiP");var De=({aggregationType:e,label:t})=>Object(m.jsx)(x.a,{title:Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"m-auto-y-2",children:Object(m.jsx)(S.a,{message:`reporting-visualizations.analytic-explainer.aggregations.${e}.description`})})}),tooltipProps:{headingText:t,use:"longform",placement:"bottom"}});const Me=e=>{const{field:t,label:n,dataset:r}=e,a=r&&r.getIn(["properties",t,"propertyMeta","aggregationType"]);return a?Object(m.jsx)(De,{label:n,aggregationType:a}):null},Pe=e=>{const{column:{label:t,align:n,direction:r,onSort:a,field:o,showAsBarChart:s,tooltipI18nKey:i}}=e,c="number"==typeof o?o:Object(R.b)(o).property,l=i?A.a.text(i):null,u=Object(m.jsxs)("span",{children:[t," ",l?Object(m.jsx)(x.a,{title:l}):Me(e.column)]});if(a)return Object(m.jsx)(Le.a,{align:n,sort:r||"none",onSortChange:e=>a(c,e),colSpan:s?2:1,children:u});const p=b()(n===ue.a.left&&"text-left",n===ue.a.right&&"text-right");return Object(m.jsx)("th",{colSpan:s?2:1,className:p,children:u})},Ue=({column:e})=>{const{renderHeaderCell:t}=e,n={column:e},r=()=>Pe(n);return t?t(Object.assign({defaultRender:r},n)):r()};var ke=Object(f.memo)(Ue);const xe="@@MISSING@@",we=({toggleSeriesParams:e,data:t})=>{const{toggleSeriesHandler:n,toggleAllSeriesHandler:r,checkedSeries:a,seriesToggleDisabled:o,dimension:s}=e;if(r){const e="function"!=typeof o&&(o&&o.get("disabled")),n=o&&"function"!=typeof o&&o.get("disabled")&&o.get("tooltip"),i=Object(O.Set)(t.getIn(["primary","data"],Object(O.List)()).map(e=>e.get(s||""))),c=a&&i.isSubset(a),l=Object(m.jsx)(be.a,{"aria-label":"check-all",checked:c,disabled:e,indeterminate:!c&&a&&a.size>0,innerPadding:"none",onChange:e=>{e.preventDefault();r(c?Object(O.Set)():i)}});return n?Object(m.jsx)(k.a,{title:n,placement:"top right",children:Object(m.jsx)("th",{className:"checkbox-col",children:l})},"alltoggle-"+c):Object(m.jsx)("th",{className:"checkbox-col",children:l},"alltoggle-"+c)}return n?Object(m.jsx)("th",{className:"checkbox-col"},"alltoggle"):null},Fe=({toggleSeriesParams:e,data:t,rowIndex:n})=>{const{toggleSeriesHandler:r,toggleAllSeriesHandler:a,checkedSeries:o,seriesToggleDisabled:s,colors:i,dimension:c}=e,l=t.getIn(["primary","data",n],Object(O.Map)()),u=l.get(c);if(r){const e=i&&i.get(u)||"",t=o&&o.includes(u)&&u!==xe,n="function"==typeof s?s(l)||u===xe:s&&s.get("disabled"),a=s&&"function"!=typeof s&&s.get("disabled")&&s.get("tooltip"),c=Object(m.jsx)(be.a,{"aria-label":"check",checked:t,disabled:n,onChange:e=>{e.preventDefault();r(u)},color:e});return a?Object(m.jsx)(k.a,{title:a,placement:"top right",children:Object(m.jsx)("td",{className:"checkbox-col",children:c})},`${u}-${t}`):Object(m.jsx)("td",{className:"checkbox-col",children:c},`${u}-${t}`)}return a?Object(m.jsx)("td",{className:"checkbox-col"},u):null},Ye=({visualization:e})=>{const{data:t,columns:n=Object(O.List)(),footer:r,events:{getOnPointClick:a}={},showTotals:o=!1,toggleSeriesParams:s={},style:{isMobile:i}={}}=e,c=(t.getIn(["primary","data"])||t.toList().getIn([0,"data"])||Object(O.List)()).count(),l=Object(O.Range)(0,c);return Object(m.jsx)("div",{className:"table-report"+(i?" mobile-table-report":""),"data-test-id":"table-report",style:{width:"100%",height:"100%"},children:Object(m.jsxs)(Oe.a,{condensed:!0,flush:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[we({toggleSeriesParams:s,data:t}),n.map((e,t)=>Object(m.jsx)(ke,{column:e},t))]})}),r&&o?Object(m.jsx)("tfoot",{children:Object(m.jsxs)("tr",{children:[s.toggleSeriesHandler?Object(m.jsx)("th",{className:"checkbox-col"}):null,n.map((e,t)=>{const n=e;return Object(m.jsx)(ve,{column:n},t)})]})}):null,Object(m.jsx)("tbody",{children:l.map(e=>Object(m.jsxs)("tr",{style:{whiteSpace:"nowrap"},children:[Fe({toggleSeriesParams:s,data:t,rowIndex:e}),n.map((t,n)=>Object(m.jsx)(_e,{index:e,column:t,getOnPointClick:a},n))]},e))})]})})};var Be=Object(f.memo)(Ye);const Ge=[pe.j,pe.c,pe.i,pe.f],Ve=e=>{const{dataset:t,field:n,index:r,showAsBarChart:a,renderCell:o}=e,{properties:s}=t,i=s.get(n);if(0===r||a||o||!i)return ue.a.left;const c=i.get("type"),l=Ge.includes(c),u=i.getIn(["propertyMeta","aggregationType"]);return l||de.DISTINCT_APPROX===u?ue.a.right:ue.a.left},He=h.h,We=ue.g,Ke=e=>{const{data:t,columns:n=Object(O.List)(),footer:r="",pages:a}=e,o=n.toList();if(t.delete(r).map(e=>(e.get("data")||Object(O.List)()).count()).toSet().count()>1)throw new Error("Table requires all datasets to be of the same size");const s=t&&t.has(Ze),i=t.get(r),c=i&&i.getIn(["data","0"]),l=o.map((e,n)=>{const{field:o,customRendererKey:l}=e,u=e.get("dataset"),p=u?t.get(u):t.first(),d=e.set("index",n).set("dataset",p),m=d.update("align",e=>e||Ve(d)).update("label",e=>e||Object(Y.d)(p,o));let g;if(r){const e=Object(Y.c)(i,o),t=m.get("formattingObject")&&Object(B.i)(e)?e.set("formattingType",m.getIn(["formattingObject","type"])).set("formattingObject",m.get("formattingObject")):e,l=t&&Object(B.h)(t)||(e=>e),u=c&&c.get(o),p=Object(Y.f)(i,o,u)?Object(Y.g)(i,o,u):l(u);let d;d=0===n?s&&a&&a>1?A.a.text("report.details.header.PAGE_TOTAL"):A.a.text("report.details.header.REPORT_TOTAL"):u||0===u?p:void 0;g=Object(ue.e)({dataset:r,field:o,value:u,label:d}).set("dataset",i)}const b=g?m.set("footer",g):m;let O;if(Object(Y.b)(p,o)===me.d&&!b.get("formattingObject")){O=Object(B.d)(p.get("data"),o);return b.set("useRawDataLabel",!0).setIn(["dataset","data"],O)}const f=O?b.set("useRawDataLabel",!0).setIn(["dataset","data"],O):b;return l?f.set("renderCell",Object(ge.a)(l)):f});return e.set("columns",l)},qe=({visualization:e,debug:t=y.a})=>{const n=Ke(e),r=Object(m.jsx)(Be,{visualization:n,debug:t});t.set("Test Data",()=>t.convertReactComponentToTestData?t.convertReactComponentToTestData(r):{});return r},Qe=Object(f.memo)(qe),$e=Ke;var Je=n("e9qj");const ze=h.e,Xe=Je.a,Ze="pivot",et=e=>{const{data:t,pivot:n,events:{getOnPointClick:r}={},showTotalsColumn:a,showTotals:o,pages:s}=e,{dataset:i,field:c,value:l,groupby:u,op:p}=n,d=t.getIn([i,"data"]),m=Object(ne.b)(d,c),g=le(d,{keys:m,field:c,value:l,groupby:u,op:p,showTotals:a}).update("properties",(e=Object(O.Map)())=>{const t=e.get(l);return e.filter((e,t)=>u.contains(t)).merge(m.concat(a?O.List.of(ie):Object(O.List)()).toMap().flip().map(()=>t))}),b=n.get("groupby").first(),f=g.get("data").reduce((e,t)=>e.map((e,n)=>e+t.get(n))).set(b,"subtotal"),E=g.set("data",O.List.of(f)).update("properties",e=>e.map((e,t)=>{if(t===b)return e;const n=f.get(t);return e.setIn(["references",String(n)],Object(O.Map)({label:Object(te.a)(n,e,{currencyCode:e.getIn(["format","currencyCode"])})}))})),y=u.map(e=>({dataset:Ze,field:e})).concat(m.map(e=>({dataset:Ze,field:e,label:Object(Y.g)(d,c,e),getOnPointClick:r?e=>{const{column:t,row:a,value:o}=e,s=a.filter((e,t)=>u.contains(t)).set(c,t.field).set(l,o),i=r(e);return i?()=>i({row:s,field:l,value:o,dataset:d,pivot:n,pivoted:e}):null}:void 0}))).concat(a?O.List.of({dataset:Ze,field:ie,label:A.a.text("reporting-data.properties.common.total")}):Object(O.List)());return Object(ue.g)({data:{[Ze]:g,summary:E},columns:y,pages:s,footer:"summary",showTotals:o}).set("events",{getOnPointClick:e=>{const{column:{getOnPointClick:t}}=e;return t?t(e):null}})},tt=({visualization:e,debug:t=y.a})=>{const n=et(e);t.set("TableVisualization",n);return Object(m.jsx)(Qe,{visualization:n,debug:t})},nt=Object(f.memo)(tt),rt=et;var at=n("kV5Q");const ot=e=>e.default?e.default:e;class st extends f.Component{constructor(...e){super(...e);this.state={width:void 0,height:void 0,error:null};this.instantiateNewChart=()=>{try{Promise.all([n.e("default~bet-CustomerSummaryContainer~bet-RenewalSummaryContainer~highcharts"),n.e("bet")]).then(n.bind(null,"yoyM")).then(ot).then(e=>{e.setOptions({lang:{resetZoom:A.a.text("reporting-visualizations.resetZoom")}});e.SVGRenderer.prototype.symbols.tick=function(e,t,n,r){return["M",e-n/2,t+r/2,"L",e+n+n/2,t+r/2,"z"]};const{chartOptions:t}=this.props,{chartRef:n}=this.refs,r=t.toJS?t.toJS():t;r.chart=Object.assign({},r.chart||{},{renderTo:n});this.chartInstance=new e.Chart(r);this.chartInstance.yAxis.every(e=>0===e.dataMax&&0===e.dataMin)&&this.chartInstance.yAxis[0].setExtremes(0,1)}).catch(e=>{this.setState({error:e})})}catch(e){console.error(e)}}}componentDidMount(){this.instantiateNewChart();this.watchDimensions=setInterval(()=>{const e=this.refs.chartRef;if(e){const{width:t,height:n}=this.state,{offsetWidth:r,offsetHeight:a}=e;if((r!==t||a!==n)&&this.chartInstance){this.chartInstance.reflow();this.setState({width:r,height:a})}}},250)}componentDidUpdate(e){(e.chartOptions.equals&&!e.chartOptions.equals(this.props.chartOptions)||e.chartOptions!==this.props.chartOptions)&&Promise.all([n.e("default~bet-CustomerSummaryContainer~bet-RenewalSummaryContainer~highcharts"),n.e("bet")]).then(n.bind(null,"yoyM")).then(ot).then(()=>{if(this.chartInstance&&this.chartInstance.renderer&&this.chartInstance.renderTo){this.chartInstance.destroy();this.instantiateNewChart()}})}componentWillUnmount(){clearInterval(this.watchDimensions);this.chartInstance&&Promise.all([n.e("default~bet-CustomerSummaryContainer~bet-RenewalSummaryContainer~highcharts"),n.e("bet")]).then(n.bind(null,"yoyM")).then(ot).then(()=>{this.chartInstance.renderer&&this.chartInstance.renderTo&&this.chartInstance.destroy()})}render(){if(this.state.error)throw new at.f(this.state.error);const e=b()("highcharts-root chart-holder",this.props.className);return Object(m.jsx)("div",{className:e,ref:"chartRef",style:{width:"100%"}})}}st.propTypes={className:N.a.string,chartOptions:N.a.object.isRequired};var it=n("MLvm"),ct=n.n(it),lt=n("7ETf"),ut=n.n(lt),pt=n("otYv"),dt=n("O2fa");const mt={value:20,type:"PERCENT"},gt=e=>{const t={"<":"&lt;",">":"&gt;"};return e&&e.replace(/([<>])/g,e=>t[e])},bt={[dt.d.TOP]:{chart:{spacingTop:44},legend:{maxHeight:40,verticalAlign:"top",align:"left"}},[dt.d.BOTTOM]:{chart:{spacingBottom:44},legend:{maxHeight:40,verticalAlign:"bottom",align:"left",y:50}},[dt.d.RIGHT]:{chart:{},legend:{maxHeight:void 0,verticalAlign:"middle",align:"right",layout:"vertical",floating:!1,y:0}},[dt.d.LEFT]:{chart:{},legend:{maxHeight:void 0,verticalAlign:"middle",align:"left",layout:"vertical",floating:!1,y:0}}},Ot=e=>{switch(e.type){case dt.f.PERCENT:return e.value.toString()+"%";case dt.f.PIXEL:return e.value.toString()+"px";default:return}},ft=(e,t)=>{const n=bt[e||dt.d.TOP];return[dt.d.RIGHT,dt.d.LEFT].includes(e)?{chart:Object.assign({},n.chart),legend:Object.assign({width:Ot(t||mt)},n.legend)}:n},Et=Object(O.fromJS)({enabled:!0,borderWidth:0,symbolRadius:4,symbolWidth:8,symbolHeight:8,itemMarginBottom:4,floating:!0,align:"left",verticalAlign:"top",maxHeight:40,alignColumns:!1,y:-50,itemStyle:{color:pt.h,fontSize:"12px",fontWeight:400,textDecoration:"none"},labelFormatter(){return gt(this.name)},navigation:{activeColor:pt.a,inactiveColor:pt.b,style:{color:pt.h,fontSize:"12px"}}}),yt=Object(O.fromJS)({fillOpacity:.3,marker:{symbol:"circle",lineColor:null,lineWidth:2,radius:3.5,fillColor:pt.f}}),Tt=Object(O.fromJS)({marker:{enabled:!1}}),It=Object(O.fromJS)({dataLabels:{crop:!1,overflow:"none",style:{color:pt.h}},borderColor:"transparent",borderWidth:0}),ht=Object(O.fromJS)({dataLabels:{crop:!1,overflow:"none",style:{color:pt.h}},borderColor:"transparent",borderWidth:0}),jt=Object(O.fromJS)({marker:{symbol:"circle",lineColor:null,lineWidth:2,radius:3.5,fillColor:pt.f}}),At=Object(O.fromJS)({showInLegend:!0,innerSize:0,dataLabels:{enabled:!0,connectorColor:pt.i,connectorPadding:10,connectorWidth:2,softConnector:!1,overflow:"none",distance:20,useHTML:!0}}),St=Object(O.fromJS)({marker:{symbol:"circle",radius:5}}),_t=Object(O.fromJS)({borderWidth:0,animation:!1,minPointLength:2});var Nt=n("K7y8");const Rt=Object(O.fromJS)({connectNulls:!0,turboThreshold:2e3,animation:!1,dataLabels:{color:pt.h,style:{fontWeight:600}},pointPadding:.17,groupPadding:.17,states:{hover:{enabled:!Nt.d.enabled},inactive:{enabled:!Nt.d.enabled}}}),Ct=(()=>Object(O.fromJS)({backgroundColor:null,useHTML:!0,shadow:!1,shape:"square",borderColor:pt.i,borderWidth:0,style:{padding:0},followPointer:!Nt.d.enabled,animation:!Nt.d.enabled}))(),vt=["#fea58e","#51d3d9","#bda9ea","#f5c78e","#ea90b1","#81c1fd","#a4d398","#c3705c","#009ca2","#9784c2","#bb915b","#b05c7d","#468cc4","#6b9a5b"],Lt=Object(O.fromJS)({chart:{animation:!1,spacingRight:50,style:{fontFamily:"inherit"},type:"column"},title:{text:null},colors:vt,plotOptions:{series:Rt,area:yt,arearange:Tt,bar:It,column:ht,line:jt,pie:At,scatter:St,waterfall:_t},xAxis:[{}],yAxis:[{}],legend:Et,tooltip:Ct,credits:{enabled:!1}});var Dt=n("ierA"),Mt=n("F1z2");const Pt=(e,t,n,r,a)=>Object(it.renderToString)(Object(m.jsxs)("div",{className:"custom-highcharts-tooltip",children:[Object(m.jsx)("div",{className:"tooltip-header",children:e}),Object(m.jsxs)("div",{className:"tooltip-body",children:[Object(m.jsxs)("div",{className:"tooltip-list-container",children:[Object(m.jsxs)("div",{className:"tooltip-label",children:[Object(m.jsx)("div",{className:"series-symbol"}),Object(m.jsxs)("span",{className:"selected",children:[t,":"]})]}),Object(m.jsxs)("div",{className:"value",children:[Object(m.jsx)("span",{children:Object(m.jsx)("span",{children:n})}),Object(m.jsxs)("span",{className:"m-left-1",children:["(",Object(B.g)(r/100),")"]})]})]}),Object(m.jsx)(Mt.a,{distance:"extra-small"},"hr"),Object(m.jsxs)("div",{className:"tooltip-list-container",children:[Object(m.jsxs)("div",{className:"tooltip-label",children:[Object(m.jsx)("div",{className:"series-symbol"}),Object(m.jsx)("span",{children:A.a.text("reporting-ui-components.tooltip.totals")})]}),Object(m.jsx)("div",{className:"value",children:Object(m.jsx)("span",{children:a})})]},"totalsRow")]})]})),Ut=(e,t)=>function(){return Pt(this.key,this.series.name,e(this.y),this.percentage,e(null==t?this.total:t))};var kt=n("W5MT");const xt=e=>{const{series:t=Object(O.List)()}=e;return t.map(({key:t,name:n,points:r,dataLabelPointFormatter:a,events:o,innerSize:s})=>Object(O.fromJS)({__REF__:{key:t,points:r},name:n,data:r,dataLabels:{enabled:e.getIn(["options","dataLabels"]),formatter(){const{point:e}=this;return`${Object(B.g)(e.percentage/100)} (${a(e.y)})`}},innerSize:s,events:o||{},formatNumber:a}))},wt=(e,t)=>({formatter:Ut(e.get("dataLabelPointFormatter",ut.a),t)}),Ft=(e,t)=>{const n=Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:`${A.a.text("reporting-visualizations.labels.total")} ${e}:`})," "+t]});return Object(it.renderToString)(n)},Yt=(e,t)=>{const n=e.get("name"),r=e.get("dataLabelPointFormatter");return function(){const e=this.series[0].total,a=null==t?e:t,o=r?r(a):A.a.formatNumber(a,{precision:2}),s=Ft(n,o);this.setSubtitle({text:s})}},Bt=e=>{const t=e.get("options")?{type:e.getIn(["options","type"],"pie").toLowerCase()}:{},{legend:n={},chart:r={}}=ft(e.getIn(["options","legendPosition"]),e.getIn(["options","legendWidth"])),a=e.get("series").first(),o=e.getIn(["options","showTotals"]),s=e.getIn(["options","tooltipDisabled"]),i=e.getIn(["options","dateResolution"]),c=e.getIn(["options","dateColumnAlias"]),l=e.getIn(["options","grandTotal"]),u=Object(O.fromJS)({chart:Object.assign({},t,{},r,{},{events:o?{render:Yt(a||Dt.c,l)}:void 0}),plotOptions:{series:{states:e.getIn(["options","disableSeriesHighlighting"])?{hover:{enabled:!1},inactive:{enabled:!1}}:{}}},title:{text:e.getIn(["options","title"])},series:xt(e),tooltip:s?{enabled:!1}:wt(a||Dt.c,l),legend:Object.assign({},n),accessibility:{point:{descriptionFormatter:e=>{if(e.isNull||void 0===e.series.options.formatNumber)return!1;const t=c&&e.sliceRow[c]!==H.b,n=i&&t?Object(B.c)(e.sliceRow[c],{format:kt.a[i],method:"userTz"}):e.name,r=e.series.options.formatNumber(e.y);return`${n}: ${Object(B.g)(e.percentage/100)}, (${r})`}}}});return Lt.mergeDeep(u)},Gt=(e,t,n)=>n.isEmpty()?t.get(e):Object(pt.j)(n.get(e),t.get(e)),Vt=(e,t,{onPointClick:n}={})=>{const{dataset:r,angle:{field:a},color:{field:o,order:s,defined:i=Object(O.Map)(),default:c,definedPatterns:l=Object(O.Map)()},style:u,colorFormattingOptions:p,valueFormattingOptions:d}=e,{data:m}=r,g=s?Object(W.a)(r,o,s):Object(ne.a)(Object(ne.b)(r,o),s),b=Object(Y.c)(r,o),f=Object(B.i)(b)&&p?b.set("formattingType",p.getIn(["format","type"])).set("formattingObject",p.get("format")):void 0,E=t?Object(ne.c)(m,[o]).sortBy((e,t)=>g.indexOf(t)):r.getIn(["data",0]).map(()=>r.get("data")),y=E.map((e,n)=>{const s=Object(Y.h)(r,o,n)||!f?Object(Y.g)(r,o,n):Object(B.h)(f)(n),u=t?s:Object(Y.d)(r,s),p=t?a:s;return Object(Dt.d)({name:u,y:e.first().get(p),color:Gt(String(n),i,l)||c,sliceRow:e.first()})}).toList(),T=t?a:E.keySeq().first(),I=d?d.filter(e=>e.column===T).first().options:void 0,h=Object(Y.c)(r,T),j=Object(B.i)(h)&&I?h.set("formattingType",I.getIn(["format","type"])).set("formattingObject",I.get("format")):h,A=Object(B.h)(j),S=n?{click(t){const a=y.get(t.point.index);n({point:a,layer:e,dataset:r})}}:{};return Object(O.List)([Object(Dt.c)({name:Object(Y.d)(r,a),points:y,dataLabelPointFormatter:A,events:S,innerSize:u.get("innerSize","0%")})])},Ht=(e,t=y.a)=>{const{data:n,layer:r,events:a=Object(O.Map)(),style:o=Object(Dt.e)(),isGrouped:s=!0,grandTotal:i}=e,c=Vt(r.update("dataset",e=>n.get(e)),s,a),l={type:"pie",grandTotal:i,dataLabels:void 0===o.get("dataLabels")||o.get("dataLabels"),legendPosition:o.get("legendPosition"),legendWidth:o.get("legendWidth"),showTotals:o.get("showTotals"),tooltipDisabled:o.get("isMobile")||o.get("tooltipDisabled"),disableSeriesHighlighting:o.get("isMobile"),dateResolution:o.get("dateResolution"),dateColumnAlias:o.get("dateColumnAlias")},u=Object(Dt.b)({series:c,options:l});t.set("Sliced Chart",u);return u},Wt=I()((e,t)=>{const n=Ht(e,t);return Bt(n)}),Kt=h.g,qt=Dt.f,Qt=({visualization:e,style:t,debug:n=y.a})=>{const r=Wt(e,n);n.set("Highcharts",r);return Object(m.jsx)(st,{chartOptions:r,style:t})},$t=Object(f.memo)(Qt),Jt=(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},zt=(e,t,n,r)=>e.set(r,Jt((e.get(n)||0)+t.getIn([-1,"accumulated",r],0),2));function Xt(e,t,n){const{domainWithGroups:r,groups:a}=e.reduce((e,r)=>{const a=r.get(n),o=Object(O.List)(t.map(e=>r.get(e)));return{domainWithGroups:e.domainWithGroups.has(a)?e.domainWithGroups.update(a,e=>e.set(o,r)):e.domainWithGroups.set(a,Object(O.Map)().set(o,r)),groups:e.groups.has(o)?e.groups:e.groups.add(o)}},{domainWithGroups:Object(O.OrderedMap)(),groups:Object(O.OrderedSet)()}),o=(e,r)=>Object(O.fromJS)(Object.assign({[n]:e},t.reduce((e,t,n)=>Object.assign({},e,{[t]:r.get(n)}),{})));return r.map((e,t)=>a.map(n=>e.get(n)||o(t,n)).toList()).toList().flatten(1)}function Zt(e,{groupBy:t,field:n,as:r,along:a}){if(a){e=Object(W.b)(e,a.field,{direction:a.direction});e=t.length>0?Xt(e,t,a.field):e}return e.reduce(({result:e,memo:a},o)=>{const s=t.map(e=>o.get(e)),i=a.getIn(s,Object(O.List)()),c=zt(o,i,n,r);return{result:e.push(c),memo:a.setIn(s,i.push(Object(O.fromJS)({raw:o,accumulated:c})))}},{result:Object(O.List)(),memo:t.length>0?Object(O.Map)():Object(O.List)()}).result}var en=(e,{groupBy:t=[],field:n="",as:r,along:a})=>e.update("data",e=>Zt(e,{groupBy:t,field:n,as:r||n,along:a})),tn=n("MYse"),nn=n("R+M3");const rn=(e,t)=>{if(!t)return e;return t.reduce((e,t)=>{switch(t.get("type")){case nn.d.AGGREGATE:return Object(tn.b)(e,{groupby:t.get("groupBy"),aggregate:t.get("aggregations").toJS()});case nn.d.ACCUMULATE:return en(e,t.toJS());default:return e}},e)},an=Object(O.fromJS)({type:"category",lineColor:pt.e,lineWidth:1,gridLineColor:pt.d,tickColor:pt.e,tickPosition:"inside",tickmarkPlacement:"on",tickLength:"5",labels:{style:{color:pt.h}},stackLabels:{style:{color:pt.h}},title:{text:null,style:{color:pt.h,fontWeight:600}},reversedStacks:!1}),on=Object(O.fromJS)({type:"datetime",lineColor:pt.e,lineWidth:1,gridLineColor:pt.d,tickColor:pt.e,tickPosition:"inside",tickmarkPlacement:"on",tickLength:"5",labels:{style:{color:pt.h}},stackLabels:{style:{color:pt.h}},title:{text:null,style:{color:pt.h,fontWeight:600}},reversedStacks:!1}),sn=Object(O.fromJS)({type:"category",categories:[""],lineColor:"transparent",lineWidth:1,gridLineColor:pt.c,gridLineWidth:0,tickColor:"transparent",labels:{style:{color:pt.h}},stackLabels:{style:{color:pt.h}},title:{text:null,style:{color:pt.h}},reversedStacks:!1}),cn=Object(O.fromJS)({type:"linear",lineColor:"transparent",lineWidth:1,gridLineColor:pt.c,gridLineWidth:1,gridLineDashStyle:"ShortDash",tickColor:pt.e,tickPosition:"inside",tickLength:"5",labels:{style:{color:pt.h}},stackLabels:{style:{color:pt.h}},title:{text:null,style:{color:pt.h}},reversedStacks:!1,softMin:0,softMax:1}),ln=e=>Math.log10(e+(10-e)/10),un=e=>{const t=e<0,n=Math.abs(e);let r;r=n<10?ln(n):Math.log10(n);return t?-r:r},pn=e=>10*(e-1)/9,dn=e=>{const t=e<0;let n=Math.pow(10,Math.abs(e));n<10&&(n=pn(n));return t?-n:n},mn=Object(O.fromJS)({type:"logarithmic",lineColor:"transparent",lineWidth:1,gridLineColor:pt.c,gridLineWidth:1,gridLineDashStyle:"ShortDash",tickColor:pt.e,tickPosition:"inside",tickLength:"5",labels:{style:{color:pt.h}},stackLabels:{style:{color:pt.h}},title:{text:null,style:{color:pt.h}},reversedStacks:!1,softMin:0,softMax:1,events:{afterInit(){this.positiveValuesOnly=!1;this.logarithmic.log2lin=un;this.logarithmic.lin2log=dn}}});var gn=n("zYNg");const bn=Object(O.fromJS)({type:"category",lineColor:pt.e,lineWidth:1,gridLineColor:pt.d,tickColor:pt.e,tickPosition:"inside",tickmarkPlacement:"on",tickLength:"5",labels:{style:{color:pt.h}},stackLabels:{style:{color:pt.h}},title:{text:null,style:{color:pt.h,fontWeight:600}},reversedStacks:!1}),On={category:an,datetime:on,hidden:sn,linear:cn,scaffold:bn,logarithmic:mn},fn=e=>On[e.toLowerCase()]||cn,En=(e,t)=>e&&t?t.map(t=>{if(void 0!==t.get("value"))return t;const n=e.findIndex(e=>e.key===t.get("targetCategoryValue"));return t.set("value",-1!==n?n:void 0)}):t,yn=(e,t,n,r=!1)=>e.map((e,a)=>{const{id:o,title:s,type:i,categories:c,property:l=Object(O.Map)(),min:u,max:p,startOnTick:d,rules:m,gridLineDashStyle:g}=e,b="category"===i&&"datetime"===l.get("type"),f=b?{formatter(){return c.getIn([this.pos,"name"])}}:{},E="string"===l.get("type")&&!l.getIn(["format","isHtml"],!1);let y,T;if(r)y=void 0;else if(!c&&"datetime"!==i||"number"===i&&l.get("formattingObject"))y=Object(B.h)(l,{abbreviate:l.get("type")===B.b.number,maxFractionDigits:2});else if(E){y=gt;T=(e,t,n)=>{const r=e&&e.categories&&e.categories.length||0;return n===t&&t>r-1?null:n}}const I=fn(b?"datetime":i),h=i!==gn.c.datetime&&i!==gn.c.category,j=l.get("type")===B.b.percent?{softMax:0}:{};return I.mergeDeep(Object(O.fromJS)(Object.assign({id:o,title:{text:s},categories:b?void 0:c&&c.map(({name:e})=>e)||I.get("categories"),opposite:0!==a,labels:i===gn.c.scaffold?{formatter:()=>""}:Object.assign({},f,{},y?{formatter(){const e=T?T(this.axis,this.pos,this.value):this.value;return y(e)}}:{}),stackLabels:n&&y?{enabled:!0,formatter(){const e=this.total;return 0===e?"":y(e)}}:{},min:u,max:p},void 0===u?{}:{softMin:void 0},{},void 0===p?{}:{softMax:void 0},{},void 0===d?{}:{startOnTick:d},{plotLines:m&&En(c,m.get("plotLines")),plotBands:m&&m.get("plotBands"),reversed:t&&!h},j,{},void 0===g?{}:{gridLineDashStyle:g})))}),Tn=e=>{const t=e.first(),n=t.getIn(["sizing","field"]),r=t.getIn(["dataset","properties",n]),a=e.reduce((e,t)=>e.concat(t.getIn(["dataset","data"]).map(e=>e.get(n))),Object(O.List)([])).filter(e=>e),o=a.min(),s=a.max(),i=(o+s)/2;return Object(O.List)([o,s,i]).toSet().toList().map(e=>Object(O.fromJS)({value:e,metaData:{property:r}}))},In=({chart:e,layers:t})=>{const n=e.getIn(["options","showBubbleLegend"])?Tn(t):void 0;return Object(O.fromJS)({enabled:e.getIn(["options","showBubbleLegend"]),ranges:n,connectorDistance:40,labels:{formatter(){return Object(B.h)(Object(O.fromJS)(this.metaData.property))(this.value)}}})},hn=({chart:e,layers:t,inverted:n})=>{const{series:r=Object(O.List)()}=e,a=e.getIn(["options","type"]),o=e.getIn(["options","dataLabelFormat"]);return r.map(({index:e,id:r,layerId:s,property:i,name:c,type:l,xAxis:u,yAxis:p,stacking:d,stack:m,points:g,style:b,events:f})=>{l=l||a;b=b||Object(gn.m)({});let E=n?t.getIn([s,"y","field"]):t.getIn([s,"x","field"]),y="datetime"===t.getIn([s,"dataset","properties",E,"type"]);if(void 0!==t.getIn([s,"detail"])){const e=t.getIn([s,"detail","field"]);if("datetime"===t.getIn([s,"dataset","properties",e,"type"])){E=e;y=!0}}const T=y?g.map(e=>e.getIn(["row",E])):void 0,I=g.map(e=>e.get("value")),h=Object(B.h)(i),j=b.get("forceStacking"),A=Object.assign({},j?{inside:!1}:{},{formatter(){switch(this.point.series.userOptions.type){case gn.k.scatter:case gn.k.bubble:{const e=this.x,t=this.y,n=this.point.options.z;switch(o){case dt.b.X:return h(e);case dt.b.Y:return h(t);case dt.b.SIZE:return h(n);case dt.b.X_Y:return`(${h(e)}, ${h(t)})`;case dt.b.X_Y_SIZE:return`(${h(e)}, ${h(t)}, ${h(n)})`;default:return`(${h(e)}, ${h(t)})`}}default:{const e=this.y;return h(e)}}}}),S=b.get("pattern")&&"line"!==l?Object(pt.j)(b.get("pattern"),b.get("color")):b.get("color"),_=Object.assign({zIndex:b.get("zIndex")||e,color:S},{marker:b.get("marker")||{}},{pointWidth:b.get("pointWidth"),dashStyle:b.get("dashStyle"),showInLegend:b.get("showInLegend")});return Object(O.fromJS)(Object.assign({id:r,layerId:s,name:c,type:l,xAxis:u,yAxis:p,stacking:d,stack:m,data:I,dataLabels:A,legendIndex:e,events:f||{},formatNumber:h,seriesDates:T},_))})};var jn=n("XMVY"),An=n("Kcsf");const Sn=(e,t,n)=>{const r=e.find(({selected:e})=>e)||e.first(),a=r&&r.category,o=(n?e:e.filter(({rawValue:e})=>0!==e)).map(({name:e,value:t,selected:n,color:r,percentage:a},o)=>Object(m.jsxs)("div",{className:"tooltip-list-container",children:[Object(m.jsxs)("div",{className:"tooltip-label",children:[Object(m.jsx)("div",{className:"series-symbol",style:{backgroundColor:r}}),Object(m.jsxs)("span",{className:n?"selected":"",children:[e,":"]})]}),Object(m.jsxs)("div",{className:"value",children:[Object(m.jsx)("span",{children:t}),null!=a?Object(m.jsxs)("span",{className:"m-left-1",children:["(",Object(m.jsx)(jn.a,{value:100*a}),")"]}):null]})]},o)).toList(),s=Object(m.jsxs)("div",{className:"custom-highcharts-tooltip",children:[a&&Object(m.jsx)("div",{className:"tooltip-header",children:a}),Object(m.jsxs)("div",{className:"tooltip-body",children:[o,(n?Number.isFinite(t):t)?Object(m.jsxs)(f.Fragment,{children:[Object(m.jsx)(Mt.a,{distance:"extra-small"},"hr"),Object(m.jsxs)("div",{className:"tooltip-list-container",children:[Object(m.jsxs)("div",{className:"tooltip-label",children:[Object(m.jsx)("div",{className:"series-symbol"}),Object(m.jsx)("span",{children:A.a.text("reporting-ui-components.tooltip.totals")})]}),Object(m.jsx)("div",{className:"value",children:Object(m.jsx)("span",{children:t})})]},"totalsRow")]}):null]})]});return Object(it.renderToString)(s)},_n=(e,t,n)=>{const r=Object(Y.c)(e,t),a=Object(Y.f)(e,t,n),o=a&&a.get("label")||Object(B.h)(r)(n);return Object(m.jsx)("div",{className:"tooltip-header",children:o})},Nn=(e,t)=>t.getIn([e,"type"])===gn.c.category&&t.getIn([e,"field"]),Rn=({series:e,layer:t,point:n})=>{const r=t.get("dataset"),a=n.get("row"),o=t.getIn(["x","field"]),s=t.getIn(["y","field"]),i=t.getIn(["color","field"]),c=t.getIn(["sizing","field"]),l=t.getIn(["detail","field"]),u=t.getIn(["mark","type"]),p=Nn("x",t)||Nn("y",t)||l||i,d=Object(O.List)([o,s,i,c,l]).filter(e=>e&&e!==p).map(e=>{const t=Object(Y.c)(r,e),a=Object(Y.d)(r,e),o=n.getIn(["row",e]),s=u===gn.k.arearange?o.join(" - "):o,i=Object(Y.f)(r,e,s),c=i&&i.get("label")||Object(B.h)(t)(s),l="undefined"===c?"-":c;return Object(m.jsxs)("div",{className:"tooltip-list-container",children:[Object(m.jsx)("div",{className:"tooltip-label",children:Object(m.jsxs)("span",{children:[a,":"]})}),Object(m.jsx)("div",{className:"value",children:Object(m.jsx)("span",{children:l})})]},e)}).toList(),g=Object(m.jsxs)("div",{className:"custom-highcharts-tooltip",children:[p&&_n(r,p,a.get(p)),Object(m.jsx)("div",{className:"tooltip-body",children:d})]});return Object(it.renderToString)(g)},Cn={point:({chart:e,layers:t})=>{const n=e.get("series").toMap().mapKeys((e,t)=>t.get("id")),r=t.toMap().mapKeys((e,t)=>t.get("id"));return function(){const e=this.point.index,t=n.get(this.series.userOptions.id),a=r.get(this.series.userOptions.layerId),o=n.get(this.series.userOptions.id).get("points").get(e);return Rn({series:t,layer:a,point:o})}},legacy:({chart:e,layers:t})=>{const n=t.toMap().mapKeys((e,t)=>t.get("id")),r=e.get("series").toMap().mapKeys((e,t)=>t.get("id")),a=n.first();let o=a.getIn(["x","type"])===gn.c.category?"x":"y",s="x"===o?"y":"x";if(!a||a.getIn(["x","type"])!==gn.c.category&&a.getIn(["y","type"])!==gn.c.category){o=void 0;s=a.getIn(["x","type"])===gn.c.scaffold?"y":"x"}const i=n.some(e=>e.getIn(["mark","stacking"]))&&n.every(e=>{const t=e.getIn([s,"field"]),{type:n}=Object(R.b)(t);return["SUM","COUNT"].includes(n)}),c=void 0===e.getIn(["options","showTotals"])?i:e.getIn(["options","showTotals"]),l=e.getIn(["options","showZeroesInTooltip"]);return function(){const e=this.point.x,t=Object(O.List)(this.series.chart.series).toMap().mapKeys((e,t)=>t.userOptions.id),u=r.toList().flatMap(t=>t.get("points").map((e,t)=>e.set("index",t)).filter(t=>{const n=t&&t.get("value");return n&&n[0]===e})).map(a=>{const c=n.get(a.get("layerId")),l=c.get("dataset"),u=c.getIn(["mark","type"]),p=a.get("seriesId"),d=r.get(p),m=d.get("index"),g=d.get("name"),b=p===this.series.userOptions.id&&a.get("index")===this.point.index,O=o?Object(Y.g)(l,c.getIn([o,"field"]),a.getIn(["row",c.getIn([o,"field"])])):void 0,f=c.getIn([s,"field"]),E=c.getIn([s,"formattingObjectMap",f]),y=Object(Y.c)(l,f).set("formattingObject",E),T=a.getIn(["row",f]),I=a.getIn(["row",c.axisTotal]),h=u===gn.k.arearange?T.join(" - "):T;if(!y){const e=new An.a;e.addAttributes({valueField:f,propertyNames:l.properties.keySeq().toList(),datasetKeys:l.data.get(0).keySeq().toList()});e.sendPageAction("RAAS_LEGACY_TOOLTIP_VALUE_FIELD")}const j=y&&y.getIn(["format","currencyCodeColumnName"]),A=j&&a.getIn(["row",j]),S=A?`${A}|${h}`:h,_=Object(Y.f)(l,f,S)||Object(Y.f)(l,f,h),N=_&&_.get("label")||Object(B.h)(y)(h),R={seriesIndex:m,name:g,selected:b,category:O,value:"undefined"===N?"-":N,rawValue:h,color:t.get(p).color,axisTotal:I};if(i){const t=n.get(r.toList().flatMap(t=>t.get("points").map((e,t)=>e.set("index",t)).filter(t=>{const n=t&&t.get("value");return n&&n[0]===e})).filter(e=>e.get("seriesId")===this.series.userOptions.id&&e.get("index")===this.point.index).first().get("layerId"));return Object.assign({},R,{inSelectedData:l.get("key")===t.getIn(["dataset","key"]),excludeFromLegacyTooltipTotals:c.get("excludeFromLegacyTooltipTotals")})}return R}).sortBy(({seriesIndex:e})=>e).filter(({seriesIndex:e},t,n)=>n.findIndex(({seriesIndex:t})=>t===e)===t),p=(()=>(i?u.filter(e=>e.inSelectedData&&!e.excludeFromLegacyTooltipTotals):u).reduce((e,t)=>null==t.rawValue?e:e+t.rawValue,0))(),d=(()=>{const e=(i?u.filter(e=>e.inSelectedData&&!e.excludeFromLegacyTooltipTotals):u).first();return e&&e.axisTotal})(),m=c&&(null==d?p:d),g=c?u.map(e=>e.inSelectedData&&!e.excludeFromLegacyTooltipTotals&&(l?Number.isFinite(e.rawValue):e.rawValue&&m&&m>0)?Object.assign({},e,{percentage:0===m?0:e.rawValue/m}):e):u,b=a.getIn([s,"field"]),f=a.get("dataset"),E=Object(Y.c)(f,b),y=c?Object(B.h)(E)(m):void 0;return Sn(g,y,l)}}},vn=({chart:e,layers:t})=>{const n=t.first().getIn(["mark","type"]),r=[gn.k.scatter,gn.k.bubble].includes(n)?Cn.point({chart:e,layers:t}):Cn.legacy({chart:e,layers:t});return Object.assign({},Ct,{formatter:r})},Ln=({chart:e,layers:t,inverted:n,stackLabels:r,dataLabels:a})=>{const{series:o=Object(O.List)()}=e,s=e.getIn(["options","type"]),i=e.getIn(["options","dataLabelFormat"]);return o.map(({index:e,id:o,layerId:c,property:l,name:u,type:p,xAxis:d,yAxis:m,stacking:g,stack:b,points:f,style:E,events:y})=>{p=p||s;E=E||Object(gn.m)({});let T=n?t.getIn([c,"y","field"]):t.getIn([c,"x","field"]),I="datetime"===t.getIn([c,"dataset","properties",T,"type"]);if(void 0!==t.getIn([c,"detail"])){const e=t.getIn([c,"detail","field"]);if("datetime"===t.getIn([c,"dataset","properties",e,"type"])){T=e;I=!0}}const h=I?f.map(e=>e.getIn(["row",T])):void 0,j=f.map(e=>e.get("value")),A=Object(B.h)(l),S=Object.assign({enabled:r||a},{inside:!1},{formatter(){switch(this.point.series.userOptions.type){case gn.k.scatter:case gn.k.bubble:{const e=this.x,t=this.y,n=this.point.options.z;switch(i){case dt.b.X:return A(e);case dt.b.Y:return A(t);case dt.b.SIZE:return A(n);case dt.b.X_Y:return`(${A(e)}, ${A(t)})`;case dt.b.X_Y_SIZE:return`(${A(e)}, ${A(t)}, ${A(n)})`;default:return`(${A(e)}, ${A(t)})`}}default:{if(r){const e=this.total;return A(e)}const e=this.y;return A(e)}}}}),_=E.get("pattern")&&"line"!==p?Object(pt.j)(E.get("pattern"),E.get("color")):E.get("color"),N=Object.assign({zIndex:E.get("zIndex")||e,color:_},{marker:E.get("marker")||{}},{pointWidth:E.get("pointWidth"),dashStyle:E.get("dashStyle"),showInLegend:E.get("showInLegend")});return Object(O.fromJS)(Object.assign({id:o,layerId:c,name:u,type:p,xAxis:d,yAxis:m,stacking:g,stack:b,data:j,dataLabels:S,legendIndex:e,events:y||{},formatNumber:A,seriesDates:h},N))})};var Dn=n("+sJw");const Mn=(e,t)=>{if(e.getIn(["options","tooltipDisabled"]))return{enabled:!1};const n=e.getIn(["options","tooltipFormatter"]);return n?{formatter:n}:vn({chart:e,layers:t})},Pn=({chart:e,layers:t})=>{const n=e.get("options")&&e.getIn(["options","type"],"column").toLowerCase(),r=e.getIn(["options","dataLabels"]),a=e.getIn(["options","stackLabels"]),o=e.getIn(["axes","inverted"],!1),s=e.getIn(["options","bottomLegend"]),i="datetime"===e.getIn(["axes","xAxis",0,"property","type"]),c=e.getIn(["options","dateResolution"]),{legend:l={},chart:u={}}=ft(e.getIn(["options","legendPosition"]),e.getIn(["options","legendWidth"])),p=Object(Dn.f)(t),d=Object(Dn.b)(t);let m=Object(O.fromJS)({chart:Object.assign({chartType:n,inverted:o},s?{}:u),title:e.getIn(["options","title"]),plotOptions:{series:{dataLabels:{enabled:r},states:e.getIn(["options","disableSeriesHighlighting"])?{hover:{enabled:!1},inactive:{enabled:!1}}:{}}},legend:Object.assign({enabled:e.getIn(["options","showLegend"]),bubbleLegend:In({chart:e,layers:t})},s?{verticalAlign:"bottom",layout:"horizontal",floating:!1,navigation:{enabled:!1},y:20}:Object.assign({},l)),colors:e.getIn(["options","colors"])||[],xAxis:yn(e.getIn(["axes","xAxis"]),o,a),yAxis:yn(e.getIn(["axes","yAxis"]),o,!p&&a,d),series:p?Ln({chart:e,layers:t,inverted:o,stackLabels:a,dataLabels:r}):hn({chart:e,layers:t,inverted:o}),tooltip:Mn(e,t),accessibility:{point:{descriptionFormatter:e=>{const t=e.series.options;if(e.isNull||void 0===t.formatNumber)return!1;const n=t.formatNumber(e.y),r=(i||void 0!==t.seriesDates)&&void 0!==c;let a=e.category;r?a=Object(B.c)(t.seriesDates[e.index],{format:kt.a[c],method:"userTz"}):e.category===e.index&&(a="");return`${a}, ${n}`}}}});e.getIn(["options","disableZoom"])||(m=m.setIn(["chart","zoomType"],"x"));return Lt.mergeDeep(m)};var Un=n("guEt"),kn=n("3JiJ");const xn=e=>{let t=0;return()=>{const n=e.get(t);t=(t+1)%e.count();return n}},wn=e=>{let t=0;return()=>{const n=e.get(t);t=(t+1)%e.count();return n}},Fn=e=>Math.round(e/100*255).toString(16).padStart(2,"0").toUpperCase(),Yn=(e,t)=>{if(!t||100===t)return e;const n=e=>e<10?10:e>100?100:e;return e.concat(Fn(n(t)))},Bn=({xAxis:e,yAxis:t},n)=>{const r={xAxis:e,yAxis:t},a={inverted:!0,xAxis:t,yAxis:e},o=e.some(({type:e})=>e===gn.c.hidden||e===gn.c.scaffold),s=t.some(({type:e})=>e===gn.c.hidden||e===gn.c.scaffold),i=e.some(({type:e})=>e===gn.c.category||e===gn.c.datetime),c=t.some(({type:e})=>e===gn.c.category||e===gn.c.datetime);return o?c?a:r:s?i?r:a:i&&c?r:c?a:i||c||"horizontal"!==n?r:a},Gn=(e,t=y.a,n=[])=>{const{data:r,layers:a,style:o=Object(gn.o)({}),events:s=Object(gn.g)({}),axisTotal:i}=e,c=o.get("type")||gn.k.bar,l=o.get("orient","vertical");let u={text:null};const p=a.map((e,t)=>e.set("id",String(t)).update("dataset",t=>rn(r.get(t).set("key",t),e.get("transform"))).update("mark",e=>e||Object(gn.j)({})).update("mark",e=>e.update("type",e=>e||c).update("type",e=>e&&e.toLowerCase()).update("stack",e=>e||String(t))).update("x",e=>e||Object(gn.b)({type:gn.c.hidden})).update("y",e=>e||Object(gn.b)({type:gn.c.hidden})).update("sizing",e=>e||Object(gn.n)({})).update("detail",e=>e||Object(gn.f)({})).update("color",e=>e||Object(gn.e)({})).update("color",e=>e.update("defined",e=>e||Object(O.Map)())).updateIn(["x","blend"],e=>e||String(t)).updateIn(["y","blend"],e=>e||String(t))).map(e=>Object(Un.e)(e)),d=Bn({xAxis:Object(Un.c)(p,"x",o),yAxis:Object(Un.c)(p,"y",o)},l),{inverted:m=!1}=d,g=m?p.map(e=>{const{x:t,y:n}=e;return e.set("x",n).set("y",t)}):p,b=o.get("colors")||Object(O.List)(),f=b.isEmpty()||"multi"===b.get("colorsTheme")?Object(O.List)(vt):b,E=b.get("patterns")||Object(O.List)(),T=xn(f),I=wn(E),h=o.get("delta");if(h){const e=h.get("initial"),t=h.get("final"),n=t>e?"increase":t<e?"decrease":null,r=Object(Dn.i)(e,t);u=Object(Dn.g)({total:t,direction:n,rate:r})}let j=0,A=g.map(e=>Object(Un.b)(e,g,s,t).map(t=>t.set("index",j++).set("xAxis",e.getIn(["x","blend"])).set("yAxis",e.getIn(["y","blend"])).update("style",e=>e||Object(gn.m)({})).updateIn(["style","color"],e=>Yn(e||T(),o.get("opacity",100))).updateIn(["style","pattern"],e=>e||I()).update(e=>{const t=e.get("type");return t===gn.k.bar?e.set("type",m?"bar":"column"):t===gn.k.tick?e.set("type",gn.k.scatter).updateIn(["style","marker"],(e=Object(O.Map)())=>e.set("symbol",gn.k.tick).set("lineWidth",e.get("lineWidth")||1).set("lineColor",null)):e})).update(t=>!m&&e.getIn(["mark","stacking"])?t.reverse():t)).flatten(1);A=Object(Un.d)(g,s,t,A);const S={title:u,type:o.get("type"),dataLabels:o.get("dataLabels"),stackLabels:o.get("stackLabels"),colors:o.get("colors",Object(O.List)([])),showLegend:void 0===o.get("showLegend")||o.get("showLegend"),showBubbleLegend:o.get("showBubbleLegend"),bottomLegend:o.get("bottomLegend"),tooltipFormatter:o.get("tooltipFormatter"),tooltipDisabled:o.get("isMobile")||o.get("tooltipDisabled"),showTotals:o.get("showTotals"),legendPosition:o.get("legendPosition"),legendWidth:o.get("legendWidth"),dataLabelFormat:o.get("dataLabelFormat"),disableSeriesHighlighting:o.get("isMobile"),dateResolution:o.get("dateResolution"),disableZoom:o.get("disableZoom"),showZeroesInTooltip:o.get("showZeroesInTooltip"),axisTotal:i},_=Object(gn.d)({axes:d,series:A,options:S});Object(kn.a)(()=>t.set("Chart",_),1);return Pn({chart:_,layers:p},n)},Vn=I()((...e)=>Gn(...e)),Hn=h.j,Wn=gn.p,Kn=100,qn=1e4,Qn=({visualization:e,debug:t=y.a,gates:n})=>{const r=Vn(e,t,n),a=r.get("xAxis").map(e=>{const t=e.get("categories");return t?t.count():0}).max()||0,o=r.get("series").count();if(Math.max(a,1)*Math.max(o,1)>=qn||o>Kn)throw new at.v;Object(f.useEffect)(()=>{t.set("Highcharts",r)},[t,r]);return Object(m.jsx)(st,{chartOptions:r})},$n=Object(f.memo)(Qn);var Jn=n("sl/w"),zn=n("9f1P"),Xn=n.n(zn),Zn=n("mop1");const er=h.i,tr=Zn.a,nr={START:{color:j.CHART_BLUE},CREATED:{color:j.CHART_GREEN},PULLED:{color:j.CHART_GREEN},INCREASED:{color:j.CHART_GREEN},DECREASED:{color:j.CHART_RED},PUSHED:{color:j.CHART_RED},LOST:{color:j.CHART_RED},WON:{color:j.CHART_RED},END:{color:j.CHART_BLUE,isSum:!0}},rr=(e=0)=>Math.abs(e)<.01?Number(e.toFixed(2)):e,ar=(e,{xField:t,yField:n})=>function(){const{y:r,name:a,color:o}=this.point,s=o||(r<0?this.series.userOptions.color:this.series.userOptions.upColor),i=Object(B.h)(Object(Y.c)(e,n))(rr(r)),c=Object(m.jsxs)("div",{className:"custom-highcharts-tooltip",children:[Object(m.jsx)("div",{className:"tooltip-header",children:Object(Y.g)(e,t,a)}),Object(m.jsxs)("div",{className:"tooltip-body",children:[Object(m.jsx)("div",{className:"series-symbol",style:{backgroundColor:s}}),Object(m.jsxs)("b",{children:[Object(Y.d)(e,n),":"]})," "+i]})]});return Object(it.renderToString)(c)},or=[{name:"pipelineValue",color:j.CHART_BLUE},{name:"pipelineValueIncrease",color:j.CHART_GREEN},{name:"pipelineValueDecrease",color:j.CHART_RED}],sr=Xn.a.div.withConfig({displayName:"waterfallVisualization__StyledLegend",componentId:"sc-15614on-0"})(["display:flex;align-items:center;.symbol{width:8px;height:8px;border-radius:4px;flex-shrink:0;}"]),ir=()=>{const e=Object(m.jsx)(sr,{children:or.map(({name:e,color:t})=>Object(m.jsxs)(f.Fragment,{children:[Object(m.jsx)("div",{className:"symbol m-right-1",style:{backgroundColor:t}}),Object(m.jsx)(Jn.a,{message:"reporting-visualizations.waterfall."+e,className:"m-right-5"})]},e))});return Object(it.renderToString)(e)},cr=e=>{const t=e.getIn(["data","primary"]),n=e.getIn(["layer","x","field"]),r=e.getIn(["layer","y","field"]),a=t.get("data").map(e=>Object(O.Map)(Object.assign({name:e.get(n),y:e.get(r)},nr[e.get(n)]))),o=Object(Y.d)(t,r),s=Object(O.fromJS)([{data:a,name:o,events:{click:e.getIn(["layer","onClick"])}}]),i=Object(O.fromJS)({type:"category",labels:{formatter(){return Object(Y.g)(t,n,this.value)}}}),c=Object(O.fromJS)({min:0,title:{text:o},labels:{formatter(){return Object(B.h)(Object(Y.c)(t,r))(this.value)}}}),l=Et.merge({useHTML:!0,squareSymbol:!1,symbolWidth:0,labelFormatter:ir});return Lt.setIn(["chart","type"],"waterfall").set("series",s).set("xAxis",i).set("yAxis",c).set("legend",l).setIn(["tooltip","formatter"],ar(t,{xField:n,yField:r}))},lr=({visualization:e,debug:t=y.a})=>{const n=cr(e,t);t.set("Highcharts",n);return Object(m.jsx)(st,{chartOptions:n})},ur=Object(f.memo)(lr);var pr=n("XJEL"),dr=n("PLqz");const mr=(e,{funnelValueProperty:t,funnelConversionProperty:n,conversionDataInRow:r})=>{const a=e.get("data");return{id:"conversion-axis",name:"conversion-axis-series",data:a?a.map(e=>e.get(t)?50:null):null,index:-100,stacking:null,pointPlacement:-.5,enableMouseTracking:!1,showInLegend:!1,dataLabels:{align:"center",verticalAlign:"middle",enabled:!0,formatter(){const t=this.point.index;if(0===t)return null;const o=a.get(r?t:t-1);if(0===o.y)return null;const s=Object(Y.g)(e,n,o.get(n));return ct.a.renderToString(Object(m.jsx)(dr.a,{children:s}))},useHTML:!0,color:j.HEFFALUMP,y:0,x:0},type:"line",xAxis:"bottom",yAxis:"conversion-axis",color:j.TRANSPARENT}},gr={id:"conversion-axis",opposite:!0,min:0,max:100,gridLineWidth:0,title:{text:null},labels:{enabled:!1},tickLength:0},br=(e,{funnelValueProperty:t,funnelConversionProperty:n,conversionDataInRow:r})=>({axis:gr,series:mr(e,{funnelValueProperty:t,funnelConversionProperty:n,conversionDataInRow:r})}),Or=()=>{},fr=e=>{const t=e.get("dataset"),n=e.getIn(["data",t]),r=e.getIn(["style","tooltipFormatter"]),a=e.get("filterProperty"),o=e.get("valueProperty"),s=Wn({data:e.get("data"),layers:Object(O.fromJS)([{dataset:t,x:{blend:"bottom",field:a,type:"category"},y:{blend:"left",field:o,type:"linear"}}]),events:{onPointClick:e.events&&e.events.onPointClick?e.events.onPointClick:Or},style:{tooltipFormatter:r,dataLabels:!0,y:{left:{title:""}},disableZoom:e.get("disableZoom")}}),i=Vn(s),c=e.get("primaryChevronProperty");if(Object(Y.c)(n,c)){const t=br(n,{funnelValueProperty:o,funnelConversionProperty:c,conversionDataInRow:e.get("conversionDataInRow")});return i.update("series",e=>e.push(Object(O.fromJS)(t.series))).update("yAxis",e=>e.push(Object(O.fromJS)(t.axis))).set("accessibility",{point:{descriptionFormatter:e=>{if(e.isNull)return!1;const t=e.index<e.series.data.length-1?e.series.data[e.index+1]:void 0,n=1===e.series.data.length?A.a.text("reporting-visualizations.column-funnel.only-column"):0===e.index?A.a.text("reporting-visualizations.column-funnel.first-column"):e.index===e.series.data.length-1?A.a.text("reporting-visualizations.column-funnel.last-column"):"",r=t?A.a.text("reporting-visualizations.column-funnel.column-change",{funnelPercent:Object(B.g)(t.y/e.y),nextColumnTitle:t.category}):"",a=Object(B.f)(e.y,{shouldFormat:!0});return`${e.category}, ${a}. ${r} ${n}`}}})}return i},Er=(e,t=y.a)=>{const n=fr(e);t.set("Highcharts",n);return Object(m.jsx)(st,{chartOptions:n})};var yr=n("HcfS"),Tr=n("5fTC"),Ir=n("VQUG"),hr=n("x1f2"),jr=n("KO24");const Ar=Xn.a.div.withConfig({displayName:"OldFunnelComponent__FunnelBarRow",componentId:"sc-1sf0ojg-0"})(["width:100%;display:flex;flex-grow:1;min-height:30px;height:100%;"]),Sr=Xn()(Ar).withConfig({displayName:"OldFunnelComponent__HeaderContainer",componentId:"sc-1sf0ojg-1"})(["font-weight:700;margin-left:0;margin-right:0;font-size:11px;flex-grow:0;color:",";"],j.SLINKY),_r=Xn.a.div.withConfig({displayName:"OldFunnelComponent__ReportingChevron",componentId:"sc-1sf0ojg-2"})(["top:0;height:100%;width:100%;&::before{content:'';position:absolute;top:0;left:0;height:100%;width:51%;background-color:",";transform:skew(0deg,12deg);}&::after{content:'';position:absolute;top:0;right:0;height:100%;width:50%;background-color:",";transform:skew(0deg,-12deg);}"],j.KOALA,j.KOALA),Nr=Xn()(hr.a).withConfig({displayName:"OldFunnelComponent__FunnelWrapper",componentId:"sc-1sf0ojg-3"})(["height:95%;"]),Rr=Xn()(Ir.a).withConfig({displayName:"OldFunnelComponent__FunnelWrapperFlex",componentId:"sc-1sf0ojg-4"})(["height:95%;"]),Cr=Xn()(yr.a).withConfig({displayName:"OldFunnelComponent__FunnelBarHeader",componentId:"sc-1sf0ojg-5"})(["flex-grow:1;"]),vr=Xn.a.div.withConfig({displayName:"OldFunnelComponent__ConversionColumn",componentId:"sc-1sf0ojg-6"})(["height:100%;width:110px;padding-left:12px;padding-right:12px;display:flex;flex-direction:column;"]),Lr=Xn()(yr.a).withConfig({displayName:"OldFunnelComponent__FunnelBar",componentId:"sc-1sf0ojg-7"})(["&&&{margin:4px 0;flex-grow:1;font-size:ceil(14px * 0.9);height:95%;}"]),Dr=Xn()(Tr.a).withConfig({displayName:"OldFunnelComponent__FunnelBarStage",componentId:"sc-1sf0ojg-8"})(["display:flex;align-items:center;background:",";"],j.GYPSUM),Mr=Xn()(Tr.a).withConfig({displayName:"OldFunnelComponent__FunnelBarPercent",componentId:"sc-1sf0ojg-9"})(["position:relative;background:",";border-radius:3px;padding:8px;"],j.GYPSUM),Pr=Xn()(Ir.a).withConfig({displayName:"OldFunnelComponent__FunnelBarConversion",componentId:"sc-1sf0ojg-10"})(["font-weight:700;position:relative;min-height:28px;margin-top:12px;"]),Ur=Xn()(Ir.a).withConfig({displayName:"OldFunnelComponent__ConversionValue",componentId:"sc-1sf0ojg-11"})(["z-index:1;position:absolute;margin-top:4px;"]),kr=Xn.a.div.withConfig({displayName:"OldFunnelComponent__FunnelBarBand",componentId:"sc-1sf0ojg-12"})(["position:absolute;top:0;bottom:0;color:",";display:flex;align-items:center;border-radius:3px;"],j.OLAF),xr=Xn()(kr).withConfig({displayName:"OldFunnelComponent__OuterFunnelValue",componentId:"sc-1sf0ojg-13"})(["color:",";margin-right:8px;"],j.HEFFALUMP);class wr extends f.Component{constructor(e){super(e);this.getBase=e=>e.reduce((e,t)=>{const{value:n}=t.values[1];return Math.max(e,n||0)},e[0].values[1].value);this.mapData=(e,t,n,r,a)=>e.get("data",Object(O.List)()).map(o=>({key:o.get(t),values:[{key:o.get(t),value:e.getIn(["properties",t,"references",o.get(t),"label"])},{key:n,value:o.get(n),formatted:e.getIn(["properties",n,"references",String(o.get(n)),"label"])},{key:"stepwiseConversion",value:o.get(r),formatted:e.getIn(["properties",r,"references",String(o.get(r)),"label"])},{key:"cumulativeConversion",value:o.get(a),formatted:e.getIn(["properties",a,"references",String(o.get(a)),"label"])}],datasetRow:o})).toJS();this.renderConversion=({value:e,formatted:t})=>Object(m.jsxs)(Pr,{justify:"center",direction:"column",align:"center",className:"funnel-bar-conversion",children:[Object(m.jsx)(Ur,{justify:"center",direction:"column",align:"center",children:void 0!==e&&t}),void 0!==e&&Object(m.jsx)(_r,{})]});this.handleDrilldown=e=>{const{visualization:t}=this.props,n=t.get("dataset"),r=e.key;t.events&&t.events.onPointClick&&t.events.onPointClick({visualization:t,segment:r,dataset:t.getIn(["data",n]),row:e.datasetRow})};this.renderFunnelBar=(e,t="#9784c2",n)=>{const r=Math.floor(100*e),a={width:(r||1)+"%",right:0,backgroundColor:t},o={right:(r||1)+"%"};return r<25?Object(m.jsxs)("div",{children:[Object(m.jsx)(xr,{style:o,children:n}),Object(m.jsx)(kr,{style:a})]}):Object(m.jsx)(kr,{style:a,children:Object(m.jsx)("div",{className:"p-left-2",children:n})})};this.renderList=e=>{const t=e.get("dataset"),n=e.getIn(["data",t]),r=e.get("filterProperty"),a=e.get("valueProperty"),o=e.get("primaryChevronProperty"),s=e.get("secondaryChevronProperty"),i=this.mapData(n,r,a,o,s),c=["#fea58e","#fb9d95","#f7969c","#ef91a4","#e68cab","#da89b2","#cc87b8","#bc85bd","#aa85c0","#9784c2"],l=this.getBase(i),u=n.get("data").size,p=i.some((e,t)=>i[t].values[2].formatted||i[t].values[3].formatted);return i.map((e,t)=>{const{value:n,formatted:r}=e.values[1],a=0===l?0:n/l,o=i[t].values[2].formatted?this.renderConversion(i[t].values[2]):null,d=i[t].values[3].formatted?this.renderConversion(i[t].values[3]):null,g=e.values[0].value;return Object(m.jsx)(Ar,{onClick:this.handleDrilldown.bind(this,e),className:"funnel-bar-row",children:Object(m.jsxs)(Ir.a,{children:[Object(m.jsx)(Nr,{grow:1,basis:"auto",children:Object(m.jsxs)(Lr,{children:[Object(m.jsx)(Dr,{size:4,className:"text-left",children:Object(m.jsx)(k.a,{title:g,disabled:!g,children:Object(m.jsx)(Ee.a,{children:e.values[0].value})})}),Object(m.jsx)(Mr,{size:8,children:this.renderFunnelBar(a,c[t],r)})]},e.key)}),u>1&&p&&Object(m.jsx)(Nr,{grow:1,basis:220,children:Object(m.jsxs)(Rr,{direction:"row",children:[(o||p)&&Object(m.jsx)(vr,{children:o}),(d||p&&s)&&Object(m.jsx)(vr,{children:d})]})})]})},t)})};this.renderHeader=e=>{const t=e.get("dataset"),n=e.getIn(["data",t]),r=e.get("filterProperty"),a=e.get("valueProperty"),o=n.getIn(["properties",r,"label"]),s=n.getIn(["properties",a,"label"]),i=e.get("primaryChevronProperty"),c=e.get("secondaryChevronProperty"),l=n.getIn(["properties",i,"label"],null),u=n.getIn(["properties",c,"label"],null),p=n.get("data").size;return Object(m.jsx)(Sr,{children:Object(m.jsxs)(Ir.a,{children:[Object(m.jsx)(hr.a,{grow:1,basis:"auto",children:Object(m.jsxs)(Cr,{children:[Object(m.jsx)(Tr.a,{size:4,className:"text-left",children:Object(m.jsx)(jr.a,{children:o})}),Object(m.jsx)(Tr.a,{size:8,className:"text-right",children:Object(m.jsx)(jr.a,{children:s})})]})}),p>1&&(l||u)&&Object(m.jsx)(hr.a,{children:Object(m.jsxs)(Ir.a,{direction:"row",children:[l&&Object(m.jsx)(vr,{className:"text-center",children:Object(m.jsx)(jr.a,{children:l})}),u&&Object(m.jsx)(vr,{className:"text-center",children:Object(m.jsx)(jr.a,{children:u})})]})})]})})}}render(){const{visualization:e}=this.props;return Object(m.jsxs)(Ir.a,{direction:"column",className:"container-fluid",children:[this.renderHeader(e),this.renderList(e)]})}}const Fr=h.c,Yr=pr.a,Br=({visualization:e,debug:t=y.a})=>{const n=e.get("horizontalFunnel")?Er(e,t):Object(m.jsx)(wr,{visualization:e});t.set("Test Data",()=>t.convertReactComponentToTestData?t.convertReactComponentToTestData(n):{});return n},Gr=Object(f.memo)(Br);var Vr=n("3eGA");const Hr="__MEASURE__",Wr="__VALUE__",Kr=(e,{fold:t=[],as:n=["key","value"]})=>{t=Object(O.List)(t);n=Object(O.List)(n);if(t.isEmpty())return e;if(2!==n.count())throw new Error("Cannot fold to unknown key/value fields");const[r,a]=n;return e.update("data",e=>e.flatMap(e=>t.map(t=>e.set(r,t).set(a,e.get(t)))))};var qr=n("tc1C");const Qr=e=>A.a.text("reporting-visualizations.error-messages."+e),$r={[Vr.PIVOT_TOO_LARGE]:()=>({header:Qr("pivot-too-large.header"),tip:Qr("pivot-too-large.message")})},Jr=({type:e})=>{const{header:t,tip:n}=$r[e]();return Object(m.jsxs)("div",{className:"p-all-10 m-auto-y-6 text-center",children:[Object(m.jsx)("h4",{children:t}),Object(m.jsx)("p",{children:n})]})},zr=Object(f.memo)(Jr);var Xr=n("E5x+");const Zr=(e,t,n,r=Object(O.Map)({}))=>{const a=n===t.keySeq().first();return e.find(e=>{const n=t.reduce((t,n,r)=>{const a=e&&e.get(r)===n;return t&&a},!0);return a||n},null,r)},ea=(e,t,n,r,{isColumnSubtotal:a,columnSubtotalField:o},s=!1,{isRowSubtotal:i,rowSubtotalKey:c}={})=>{const{columns:l,events:u,rows:p}=e,d=u&&u.get("onClick");if(!d)return null;const m=p.map(e=>e.get("field")),g=l.map(e=>e.get("field")),b=g.contains(Hr)?g.pop():g,f=b.take(b.findIndex(e=>e===c)+1),E=m.take(m.findIndex(e=>e===o)+1),y=e=>()=>d({row:t.filter((t,n)=>e.includes(n)),field:n,levelOfDetail:e.toJS()});let T=b;s&&(T=Object(O.List)());i&&(T=f);let I=m;r&&(I=Object(O.List)());a&&(I=E);return y(T.concat(I))},ta=(e,t,n,{rowTotalKey:r,rowTotalKeyV2:a},o,{isColumnSubtotal:s,columnSubtotalField:i})=>{const{data:c,dataset:l,grandTotal:u,columnTotal:p}=n,d=c.get(l),m=t.get("headerData"),g=t.get("align"),b=m.get(Ca),f=m.get(a),E=e.get(0);let y,T,I=b;if(o){const e=m.get(Xr.a),t=E.getIn([e]);y=t||E.getIn([u.first()])||0;T=t?e:p.first();I=e}else if(s){T=Object(Xr.e)(b,i);y=E.getIn([T])||0}else{const e=Object(Xr.e)(b,f),t=E.getIn([e]);T=t?e:r;y=t||E.getIn([r])||0}const h=ea(n,E,I,o,{isColumnSubtotal:s,columnSubtotalField:i},!0),j=d.getIn(["properties",b]),A=d.getIn(["properties",T]),S=Object(B.i)(j)&&Object(B.i)(A)&&j.get("formattingObject")?A.set("formattingObject",j.get("formattingObject")).set("formattingType",j.get("formattingType")):A,_=Object(B.h)(S);return Object(O.Map)({label:Object(Y.g)(d,T,y,_(y)),onClick:h,align:g})},na=(e,t,n,r,{isColumnSubtotal:a,columnSubtotalField:o})=>{const{data:s,dataset:i,values:c,rows:l}=n;if(!l.length)return Object(O.Map)();const u=s.get(i),p=c.getIn([0,"field"]),d=p===Wr,m=t.get("headerData"),g=t.get("align"),b=m.get(Xr.b),f=Zr(e,m.delete(Xr.b).delete(va),p),E=f.get(Hr),y=d?E:p;let T=l.last().get("field");r&&(T=void 0);a&&(T=o);const I=Object(Xr.e)(y,T,b),h=f.get(I)||0,j=u.getIn(["properties",y]),A=Object(B.h)(j),S=ea(n,f,y,r,{isColumnSubtotal:a,columnSubtotalField:o},!1,{isRowSubtotal:!0,rowSubtotalKey:b});return Object(O.Map)({label:Object(Y.g)(u,p,h,A(h)),align:g,onClick:S})},ra=(e,t,n,r=!1,{isColumnSubtotal:a,columnSubtotalField:o},s)=>{const{columns:i,data:c,dataset:l,rows:u,values:p,columnTotal:d}=n,m=s&&s.values,g=p.getIn([0,"field"]),b=g===Wr,f=c.get(l),E=t.get("align"),y=t.get("headerData"),T=u.toMap().mapEntries(([t,n])=>{const r=n.get("field");return[r,e.getIn([0,r])]}).merge(y),I=Zr(e,y,g,T),h=I.get(Hr),j=i.last()?i.last().get("field"):void 0,A=i.getIn([i.count()-2,"field"]);let S=g,_=h;if(r){const e=Object(Xr.e)(g,void 0,j);S=I.get(e)?e:d.first();if(b){const e=Object(Xr.e)(h,void 0,A===Hr?void 0:A);_=I.get(e)?e:d.find(e=>e.endsWith(h))}}if(a){S=Object(Xr.e)(g,o,j);b&&(_=Object(Xr.e)(h,o,A===Hr?void 0:A))}const N=b?_:S,R=I.get(N)||0,C=ea(n,I,b?h:g,r,{isColumnSubtotal:a,columnSubtotalField:o}),v=f.getIn(["properties",b?_:N]),L=m&&m.find(e=>b?_.includes(e.field):N.includes(e.field)),D=L&&Object(B.i)(v)&&L.get("formattingObject")?v.set("formattingObject",L.get("formattingObject")).set("formattingType",L.get("formattingType")):v,M=Object(B.h)(D);return Object(O.Map)({label:Object(Y.g)(f,N,R,M(R)),onClick:C,align:E})},aa=(e,t,n,r=!1,{isColumnSubtotal:a,columnSubtotalField:o}={},s)=>{const{values:i,rowTotal:c}=e,l=n.getIn([n.count()-1,"encodingLabels"]),u=i.getIn([0,"field"]);return l.map(n=>{const i=n.get("headerData");if(!r&&!a&&!u)return Object(O.Map)({});const l=i.findKey((e,t)=>t===Xr.c),p=i.find(e=>e===c.first());if(l||p)return ta(t,n,e,{rowTotalKey:p,rowTotalKeyV2:l},r,{isColumnSubtotal:a,columnSubtotalField:o},s);return i.findKey((e,t)=>t===Xr.b)?na(t,n,e,r,{isColumnSubtotal:a,columnSubtotalField:o},s):ra(t,n,e,r,{isColumnSubtotal:a,columnSubtotalField:o},s)})};var oa=n("Pf7D");const sa="#99acc2",ia="#dfe3eb",ca=Xn.a.thead.withConfig({displayName:"CrossTabStyledComponents__StyledThead",componentId:"sc-1tp3bwu-0"})(["border-top:1px solid ",";"],sa),la=Xn.a.th.withConfig({displayName:"CrossTabStyledComponents__StyledTh",componentId:"sc-1tp3bwu-1"})(["&&{height:22px;border:1px solid ",";background-color:"," !important;}"],sa,ia),ua=Xn.a.td.withConfig({displayName:"CrossTabStyledComponents__StyledTd",componentId:"sc-1tp3bwu-2"})(["&&{height:22px;min-width:120px;border:1px solid ",";","}"],sa,({isRowHeader:e})=>e&&`background-color: ${oa.G}!important`),pa=(e,t,n,r,a,o)=>{const{data:s,dataset:i,values:c}=e,l=s.get(i),u=t.get("data"),p=t.get("rowMetaData"),d=p.get("isSubtotalsColumn"),g=p.get("columnSubtotalField"),b=aa(e,u,r,!1,{isColumnSubtotal:d,columnSubtotalField:g},o),f=a.map(e=>{const t=e.getIn(["encoding","field"]),n=p.get(t,Object(O.Map)({})),r=n.get("rowspan"),a=n.get("colspan"),o=n.get("key"),s=e.getIn(["encodingLabels",0,"align"]),i=l.getIn(["properties",p.get("isSubtotalsColumn")?o:t]),c=e.getIn(["encoding","formattingObject"])&&Object(B.i)(i)?i.set("formattingObject",e.getIn(["encoding","formattingObject"])).set("formattingType",e.getIn(["encoding","formattingType"])):i,u=Object(B.h)(c);return Object(O.Map)({label:Object(Y.g)(l,t,o,u(o)),align:s,rowspan:r,colspan:a,isRowHeader:!0})}).filter(e=>e.get("rowspan")).concat(b);return c&&Object(m.jsx)("tr",{children:f.map((e,t)=>{const r=e.get("onClick");return Object(m.jsx)(ua,{className:ha(e.get("align")),rowSpan:e.get("rowspan"),colSpan:e.get("colspan"),isRowHeader:e.get("isRowHeader"),children:Object(m.jsx)(Ee.a,{children:r?Object(m.jsx)(C.a,{onClick:()=>r(),use:"link","data-test-id":`cross-tab-cell-${n}-${t}`,children:e.get("label")}):Object(m.jsx)("span",{"data-test-id":`cross-tab-cell-${n}-${t}`,children:e.get("label")})})},t)})},n)},da=({index:e,visualization:t,rowData:n,dataColumns:r,rowEncodingsWithLabels:a,originalVisualization:o})=>pa(t,n,e,r,a,o);var ma=Object(f.memo)(da),ga=n("rSjK");const ba=(e,t)=>e.headerData&&(e.headerData.keySeq()&&e.headerData.keySeq().first()===Xr.c||e.headerData.first()===t.first()),Oa=e=>e&&e.headerData&&e.headerData.get(Xr.b),fa=e=>e&&e.headerData&&e.headerData.get(va),Ea=({visualization:e,headerEncodingsWithLabels:t})=>{const{columns:n,rowTotal:r,values:a}=e,o=a.getIn([0,"field"])===Wr;return Object(m.jsx)(ca,{children:t.toList().map((e,a)=>{const s=a===t.count()-1;return Object(m.jsx)("tr",{children:e.get("encodingLabels").map((e,t)=>{const a=e.get("encodingType")===ga.e.row,i=ba(e,r),c=Oa(e),l=fa(e);let u=void 0;a&&(u=n.count()+1);i&&(u=o?n.count():n.count()+1);c&&l&&(u=l);const p=a||i&&!o?void 0:e.get("encodingSize");return i&&s&&!o||c&&!l?null:Object(m.jsx)(la,{className:s||a?ha(e.get("align")):"text-center",colSpan:p,rowSpan:u,children:Object(m.jsx)(Ee.a,{children:e.get("label")})},t)})},a)})})};var ya=Object(f.memo)(Ea);const Ta=({visualization:e,dataColumns:t,labelSpan:n,originalVisualization:r})=>{const{data:a,dataset:o}=e,s=a.getIn([o,"data"]),i=aa(e,s,t,!0,void 0,r);return Object(m.jsx)("tfoot",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)(ua,{colSpan:n,isRowHeader:!0,children:Object(m.jsx)(Ee.a,{children:A.a.text("report.details.header.REPORT_TOTAL")})}),i.map((e,t)=>{const n=e.get("onClick"),r=n?Object(m.jsx)(C.a,{onClick:()=>n(),use:"link",children:e.get("label")}):e.get("label");return Object(m.jsx)(ua,{className:ha(e.get("align")),children:Object(m.jsx)(Ee.a,{"data-test-id":"cross-tab-total-cell-"+t,children:r})},t)})]})})};var Ia=Object(f.memo)(Ta);const ha=e=>b()(e===ga.a.left&&"text-left",e===ga.a.right&&"text-right"),ja=(e,t,n,r,a)=>t&&t.map((t,o)=>Object(m.jsx)(ma,{index:o,visualization:e,rowData:t,dataColumns:n,rowEncodingsWithLabels:r,originalVisualization:a},o)),Aa=({visualization:e,rowEncodingsWithLabels:t,headerEncodingsWithLabels:n,columnEncodingsWithLabels:r,flattenedRowData:a,originalVisualization:o})=>{const{columnTotal:s,showColumnTotal:i}=e,c=s.count()>0||i;return Object(m.jsx)("div",{className:"cross-tab-report","data-test-id":"cross-tab-report",style:{width:"100%",height:"100%",transform:"translate3d(0, 0, 0)"},children:Object(m.jsxs)(Oe.a,{condensed:!0,flush:!0,children:[Object(m.jsx)(ya,{headerEncodingsWithLabels:n,rowEncodingsWithLabels:t,visualization:e}),c&&Object(m.jsx)(Ia,{visualization:e,dataColumns:r,labelSpan:t.length,originalVisualization:o}),Object(m.jsx)("tbody",{children:ja(e,a,r,t,o)})]})})};var Sa=Object(f.memo)(Aa);const _a=(e,t,n,r)=>{let a=Object(O.List)([]);const o=(e,t)=>{a=a.push(Object(O.Map)({data:e,rowMetaData:t}))},s=(e,t,n)=>{const r=a.findIndex(e=>n.reduce((t,n,r)=>{const a=e&&e.getIn(["rowMetaData",r,"key"])===n;return t&&a},!0));a=-1!==r?a.setIn([r,"rowMetaData",t,"rowspan"],e):a},i=(t,c,l=0,u=Object(O.Map)({}),p=Object(O.Map)({}))=>{const d=e.getIn([l,"field"]);p=p.set(d,c);u=e.count()?u.set(d,Object(O.Map)({key:c})):u;if(O.List.isList(t)){o(t,u);s(1,d,p);return 1}{let m=t.reduce((e,t,n)=>e+i(t,n,l+1,u,p),0);if(n){const t=Object(O.Map)({[d]:Object(O.Map)({key:A.a.text("report.details.header.SUBTOTAL_WITH_DIMENSION",{dimension:Object(Y.g)(r,d,c)}),colspan:e.count()-(l+1),rowspan:1}),isSubtotalsColumn:!0,columnSubtotalField:d}),n=a.takeLast(m).reduce((e,t)=>e.concat(t.get("data")),Object(O.List)());o(n,t);m+=1}s(m,d,p);return m}};t.forEach((e,t)=>i(e,t));return a},Na=h.a,Ra=ga.b,Ca="DISPLAY_MEASURE",va=Xr.b+"size",La=[pe.j,pe.c,pe.i,pe.f],Da=Object(O.Map)({name:Hr,type:"string",label:"Measures",references:Object(O.Map)()}),Ma=e=>e&&La.includes(e.get("type"))?ga.a.right:ga.a.left,Pa=(e,t,n)=>{if(O.List.isList(t)){const r=Object(W.a)({data:t},e,n);return t.groupBy(t=>t.get(e)).sortBy((e,t)=>r.indexOf(t))}return O.Map.isMap(t)?t.map(t=>Pa(e,t,n)):t},Ua=(e,t)=>e.reduce((e,t)=>{const n=t.get("field"),r=t.get("order")||Object(qr.d)({direction:qr.c.ascending});return Pa(n,e,r)},t.get("data")),ka=(e,t)=>Kr(e,{fold:t,as:[Hr,Wr]}).update("properties",(e=Object(O.Map)())=>{const n=t=>Object(O.Map)({id:t,label:e.getIn([t,"label"])}),r=t.toMap().flip().map((e,t)=>n(t)),a=Da.set("references",r);return e.set(Hr,a)}),xa=(e,t)=>{const n=t.properties.map((t,n)=>{const r=e.find(e=>e.field===n);return!r||!r.get("formattingObject")||t.get("type")!==B.b.number&&t.get("type")!==B.b.currency?t:t.set("formattingType",r.get("formattingType")).set("formattingObject",r.get("formattingObject"))});return t.set("properties",n)},wa=e=>{const{values:t,data:n,dataset:r}=e,a=xa(t,n.get(r));return e.setIn(["data",r],a)},Fa=e=>{const{columns:t,data:n,dataset:r}=e,a=xa(t,n.get(r));return e.setIn(["data",r],a)},Ya=e=>{const{values:t,rows:n,data:r,dataset:a,columns:o}=e;if(t.count()>1||o.isEmpty()&&n.isEmpty()){const n=ka(r.get(a),t.map(e=>e.get("field"))),s=Object(qr.d)({direction:qr.c.ascending,defined:t.map(e=>e.get("field"))}),i=Object(ga.c)({field:Hr,order:s}),c=Object(ga.c)({field:Wr});return e.set("values",O.List.of(c)).setIn(["data",a],n).set("columns",o.concat(O.List.of(i)))}return e},Ba=e=>{const t=e.reduce((e,t)=>e.concat(t.get("encodingLabels")),Object(O.List)());return(e.getIn([0,"encodingLabels"])?e:Object(O.List)([Object(O.Map)({encoding:Object(ga.c)({}),encodingLabels:Object(O.List)([])})])).setIn([0,"encodingLabels"],t).take(1)},Ga=(e,t,n)=>{const r=(e=Fa(e)).getIn(["columns"]),a=e.getIn(["showRowSubtotals"]),o=e.getIn(["values",0,"field"]),s=e.getIn(["data","primary"]),i=s.getIn(["properties",o]),c=o===Wr;let l=r.map(e=>Object(O.Map)({encoding:e,encodingLabels:Object(O.List)()}));const u=({colSpan:e,columnIndex:t,headerData:n,label:r,align:a})=>{t=t||0;const o=l.getIn([t,"encodingLabels"]).push(Object(ga.d)({label:r,encodingSize:e,headerData:n,align:a}));l=l.setIn([t,"encodingLabels"],o)},p=(e,t,o,l=Object(O.Map)({}))=>{const d=r.getIn([o,"field"]),m=s.getIn(["properties",t]),g=r.getIn([o+1,"field"])===Hr,b=a&&!g,f=s.getIn(["properties",d]);l=l.set(d,t);let E=0;if(!O.List.isList(e)){e.forEach((e,t)=>E+=p(e,t,o+1,l));if(b){let e=!0;const a=r.count()-(o+1),p=c?a-1:a;for(let a=o+1;a<r.count();a++){const o=r.getIn([a,"field"])===Hr,m=c&&o?1:n.count();let g=0;e?g=p:o&&(g=1);e=!1;const b=g?Object(O.Map)({[va]:g}):Object(O.Map)({});if(c&&m>1){const e=l.set(Xr.b,d);u({label:A.a.text("report.details.header.SUBTOTAL_WITH_DIMENSION",{dimension:Object(Y.g)(s,d,t)}),colSpan:m,columnIndex:a,headerData:e.merge(b)})}else n.forEach(e=>{const n=e.get("field"),r=s.getIn(["properties",n]);let o=l.set(Xr.b,d);o=c?o.set(Hr,n):o;const p=c?Object(Y.d)(s,n):A.a.text("report.details.header.SUBTOTAL_WITH_DIMENSION",{dimension:Object(Y.g)(s,d,t)});u({colSpan:m,columnIndex:a,label:p,headerData:o.merge(b),align:Ma(c&&r?r:i)})})}}}let y=b?n.count():0;y=O.List.isList(e)?1:y;E+=y;const T=Object(Y.h)(s,d,t),I=Object(B.i)(f)&&f.get("formattingObject"),h=T||!I?Object(Y.g)(s,d,t):Object(B.h)(f)(t);u({label:h,headerData:l,columnIndex:o,colSpan:E,align:Ma(c&&m?m:i)});return E};t.forEach((e,t)=>p(e,t,0));return l},Va=(e,t,n)=>{const r=e.getIn([0,"encodingLabels"]).reduce((e,t)=>e+t.get("encodingSize"),0),a=e.reduce((t,r)=>{const a=r.getIn(["encoding","field"]),o=Object(Y.d)(n,a);return e.first()===r?o:a===Hr?t:t.concat(" / "+o)},"");return t.updateIn([0,"encodingLabels"],e=>e.push(Object(ga.d)({label:a,encodingSize:r}))).concat(e)},Ha=(e,t,n,r)=>{const{rows:a,rowTotal:o,showRowTotal:s,values:i}=t,c=t.getIn(["data","primary"]),l=i.getIn([0,"field"])||"",u=o.first();if(!u&&!s)return e;const p=Object(Xr.e)(l,a.last()?a.last().get("field"):void 0),d=Object(ga.d)({encodingSize:s?r.count():1,label:A.a.text("report.details.header.TOTAL"),headerData:Object(O.OrderedMap)({[Xr.c]:p,[Xr.a]:Object(Xr.e)(l),rowGrandTotal:u}),align:Ma(n)}),m=r.map(e=>{const t=e.get("field"),n=c.getIn(["properties",t]);return Object(ga.d)({label:Object(Y.d)(c,t),encodingSize:1,displayField:t,headerData:Object(O.OrderedMap)({[Xr.c]:a.last()?a.last().get("field"):void 0,DISPLAY_MEASURE:t,[Xr.a]:Object(Xr.e)(t),rowGrandTotal:u}),align:Ma(n)})});return e.map(t=>t===e.first()?t.update("encodingLabels",e=>e.push(d)):t===e.last()?t.update("encodingLabels",e=>s?e.concat(m):e.push(d)):t)},Wa=e=>{const{values:t}=e;e=Ya(wa(e));const{rows:n,values:r,rowTotal:a,columns:o,data:s,dataset:i}=e,c=s.get(i),l=n.length?Ua(n,c):Object(O.OrderedMap)({value:c.get("data")}),u=Ua(o,c),p=r.getIn([0,"field"])||"",d=c.getIn(["properties",p]),m=Object(O.List)([Object(O.Map)({encoding:Object(ga.c)({field:p}),encodingLabels:Object(O.List)([Object(ga.d)({label:Object(Y.d)(c,p),encodingSize:1,headerData:Object(O.OrderedMap)({[p]:p}),align:Ma(d)})])})]),g=n.map(e=>{const t=c.getIn(["properties",e.get("field")]);return Object(O.Map)({encoding:e,encodingLabels:Object(O.List)([Object(ga.d)({label:Object(Y.d)(c,e.get("field")),headerData:Object(O.OrderedMap)({rowTotal:a}),align:Ma(t),encodingType:ga.e.row})])})}),b=Ba(g);let f;if(0===o.count())f=b.updateIn([0,"encodingLabels"],e=>e.push(m.getIn([0,"encodingLabels",0])));else{const n=Ga(e,u,t);f=Va(n,b,c);f=Ha(f,e,d,t)}const E=f.updateIn([f.count()-1,"encodingLabels"],e=>e.filter(e=>e.get("encodingType")!==ga.e.row)),y=e.getIn(["showColumnSubtotals"]);return{visualization:e,flattenedRowData:_a(n,l,y,c),rowEncodingsWithLabels:g,headerEncodingsWithLabels:f,columnEncodingsWithLabels:E}},Ka=({visualization:e,debug:t=y.a})=>{const{visualization:n,flattenedRowData:r,rowEncodingsWithLabels:a,headerEncodingsWithLabels:o,columnEncodingsWithLabels:s}=Wa(e);if(r.count()*s.getIn([0,"encodingLabels"]).reduce((e,t)=>e+t.get("encodingSize"),0)>1500){Te.counter(he).increment();return Object(m.jsx)(zr,{type:Vr.PIVOT_TOO_LARGE})}Te.counter(je).increment();return Object(m.jsx)(Sa,{visualization:n,flattenedRowData:r,rowEncodingsWithLabels:a,headerEncodingsWithLabels:o,columnEncodingsWithLabels:s,originalVisualization:e,debug:t})},qa=Object(f.memo)(Ka),Qa=e=>Object(O.fromJS)(Wa(e));var $a=n("66eB");const Ja=Object(O.fromJS)({dataLabels:{enabled:!0,overflow:"allow",style:{color:pt.h}},borderColor:"transparent",borderWidth:0});var za=n("BOY1");const Xa=({header:e,propertyList:t,additonalInfo:n})=>Object(m.jsxs)("div",{className:"custom-highcharts-tooltip",children:[Object(m.jsx)("div",{className:"tooltip-header",children:e}),Object(m.jsxs)("div",{className:"tooltip-body",children:[Object.keys(t).map(e=>Object(m.jsxs)("div",{className:"tooltip-list-container",children:[Object(m.jsx)("div",{className:"tooltip-label",children:Object(m.jsxs)("b",{children:[e,":"]})}),Object(m.jsx)("div",{className:"value",children:t[e]})]},e)),n]})]}),Za=(e,t,n,r)=>function(){let a=null;const{id:o,options:{isNode:s,name:i,from:c,to:l}}=this.point,{measures:{renderCustomTooltipInfo:u}}=t,p=u?u({point:this.point,dataset:e,linksDataMap:n}):void 0,d=Object(za.c)(e,t.measures.linkMeasure),m=Object(za.d)(e,t.measures.destinationNodeTotal,i),g=p?d+"*":d;if(s)a=Xa({header:r[o],propertyList:{[g]:m},additonalInfo:p});else{const o=n[c][l];if(0===o[t.measures.linkMeasure])return"";const s=t.measures.linkTooltipMeasures?t.measures.linkTooltipMeasures.reduce((t,n)=>Object.assign({},t,{[Object(za.c)(e,n)]:Object(za.d)(e,n,o[n])}),{}):{},i=Object(za.d)(e,t.measures.linkMeasure,o[t.measures.linkMeasure]);a=Xa({header:A.a.text("reporting-visualizations.sankey.drilldown-name",{from:A.a.SafeString(r[c]),to:A.a.SafeString(r[l])}),propertyList:Object.assign({[g]:i},s),additonalInfo:p})}return Object(it.renderToString)(a)},eo="#b05c7d",to=vt.filter(e=>e!==eo),no=";<br/>",ro=(e,{originField:t,destinationField:n})=>{const r=t=>{const n=Object(za.b)(e,t);return Object.keys(n.references).reduce((n,r)=>Object.assign({},n,{[r]:Object(za.d)(e,t,r)}),{})},a=r(t),o=r(n);return Object.assign({},a,{},o)},ao=e=>Object.assign({},e,{color:to[e.column%to.length]}),oo=(e,{columns:t,originField:n,destinationField:r,hideOriginNode:a,measures:{destinationNodeTotal:o}})=>{const s=a?0:1;return[{column:-1+s,id:e.data[0][n],name:Object(za.d)(e,o,e.data[0][o])},...t.flatMap((t,n)=>t.nodes.map(t=>{const a=e.data.find(e=>e[r]===t.id);return{column:n+s,id:a[r],name:Object(za.d)(e,o,a[o])}}))].map(ao)},so=(e,t)=>{const n=t&&Object(za.b)(e,t),r=n&&n.format&&n.format.options;return r?e=>{const t=r[e];return t&&t.label}:$a.a},io=(e,t,n,r)=>{const a=so(e,t.columnLabelField),o=t.columns.map((e,t)=>a(t)||e.nodes.map(e=>n[e.id]).join(no));return t.hideOriginNode?o:[n[r],...o]},co=25,lo=e=>e.columns.reduce((e,t)=>Object.assign({},e,{},t.nodes.reduce((e,t)=>Object.assign({},e,{[t.id]:t.dropoff}),{})),{}),uo=e=>{const t=Math.max(...e),n=t/10,r=10/t;return e=>r*(e<n?n:e)},po=(e,{destinationNodeTotal:t,linkMeasure:n})=>{const r=e.map(e=>({nodeWeight:e[t],linkWeight:e[n]})),a=uo(r.map(e=>e.nodeWeight));return r.reduce((e,{linkWeight:t,nodeWeight:n})=>0===t?e:Object.assign({},e,{[t]:a(n)*(t/n)}),{0:0})},mo=e=>t=>{const{from:n,id:r,isNode:a,to:o}=t.point,s={row:{}};if(a)s.row.to=r;else{s.row.from=n;s.row.to=o}e({point:Object(O.fromJS)(s)})},go=(e,t,n,r,a)=>{const o=lo(n),s=a&&po(e.data,n.measures),i=e.data.map(e=>{const t=e[n.destinationField];return Object.assign({from:e[n.originField],to:t,weight:s?s[e[n.measures.linkMeasure]]:e[n.measures.linkMeasure]},o[t]?{outgoing:!0,color:eo}:{})}),c=r?mo(r):void 0;return Object(O.fromJS)([{type:"sankey",data:i,nodes:t,events:{click:c},nodeWidth:co,dataLabels:{enabled:!0}}])},bo=20,Oo=(e,t,n)=>{const r=e.length,a=(t-co)/(r-1);return e.map((e,t)=>{const o=0===t,s=t===r-1;return{xPos:e+n+(o?0:s?co:co/2),width:o||s?(a+co)/2:a}})},fo=e=>Object(O.fromJS)({chart:{spacingBottom:50,height:"25%",events:{load(){const t=this.series[0];t.points.forEach(n=>{0===n.weight&&n.update({weight:.1,color:"transparent"});t.customHeaders||(t.customHeaders=e.map(e=>({label:e,textElement:void 0})))})},render(){const e=this.series[0],t=e.nodeColumns.map(e=>e[0].nodeX),n=Oo(t,this.plotWidth,this.plotLeft);e.customHeaders&&n.forEach(({xPos:t,width:r},a)=>{if(!isNaN(t)){const o=e.customHeaders[a].textElement;o?o.attr({x:t,y:this.chartHeight-bo}).css({width:r}):e.customHeaders[a].textElement=this.renderer.text(e.customHeaders[a].label).attr({x:t,y:this.chartHeight-bo,"text-anchor":0===a?"start":a===n.length-1?"end":"middle"}).css({width:r,textOverflow:"ellipsis"}).add()}})}}}}),Eo=h.f,yo=e=>e,To=(e,{originField:t,destinationField:n})=>e.data.reduce((e,r)=>{const a=r[t],o=Object.assign({},e[a],{[r[n]]:r});return Object.assign({},e,{[a]:o})},{}),Io=e=>{const t=e.data[e.dataset],n=e.events.onPointClick||$a.a,r=e.layout,a=oo(t,r),o=ro(t,r),s=io(t,r,o,a[0].id),i=fo(s),c=e.options&&e.options.scale||!1,l=go(t,a,r,n,c),u=To(t,r);return Lt.set("series",l).setIn(["plotOptions","sankey"],Ja).mergeDeep(i).setIn(["tooltip","formatter"],Za(t,r,u,o))},ho=({visualization:e})=>{const t=e.toJS(),n=Io(t);return Object(m.jsx)(st,{chartOptions:n})},jo=Object(f.memo)(ho),Ao=Object.freeze({showInLegend:!0,dataLabels:{enabled:!0,borderWidth:0,useHTML:!0,style:{fontSize:"16px"}},dial:{baseLength:"100%",radius:"110%",rearLength:"-70%"},pivot:{radius:0}});var So=n("dKJf");const _o=({dataValue:e,dataValueLabel:t,compareValue:n})=>Object(m.jsx)(L.a,{className:"p-all-0",children:Object(m.jsxs)(P.a,{className:"p-all-0 m-all-0",children:[Object(m.jsx)(D.a,{style:{fontSize:"30px",fontWeight:500},className:"m-bottom-11",children:A.a.formatNumber(e)}),Object(m.jsx)(U.a,{children:t}),n?Object(m.jsx)(M.a,{children:Object(m.jsx)(So.a,{children:A.a.text("reporting-visualizations.gauge.comparison-label",{value:n})})}):null]})}),No=j.OBSIDIAN,Ro=j.CANDY_APPLE,Co=e=>"number"==typeof e&&Number.isFinite(e),vo=(e,t,n)=>e.primary.data.map(r=>{const a=r[t],o=n?r[n]:void 0;return{dataValue:a,compareValue:o,dataValueLabel:Object(za.c)(e.primary,t),compareValueLabel:n&&Object(za.d)(e.primary,n,o)}}),Lo=(e,t,n)=>{const r=vo(e,t,n),a=r[0],o=r[1];return Object(it.renderToString)(Object(m.jsx)(_o,{dataValue:a.dataValue,dataValueLabel:a.dataValueLabel,compareValue:o&&o.dataValue}))},Do=(e,t)=>{const n=e.plot,r=n.min||0,a=n.max||0,o=e.dataColumn,s=e.compareColumn,i=vo(t,o,s),c=i.reduce((e,t)=>Math.max(e,t.dataValue),a);return{min:i.reduce((e,t)=>Math.min(e,t.dataValue),r),max:c}},Mo=(e,t,n)=>{const{onPointClick:r}=n,a=r?{click(){r({row:e.primary.data[this.index]})}}:{},o=t.dataColumn,s=t.compareColumn,i=vo(e,o,s),{dataValue:c,dataValueLabel:l,compareValueLabel:u}=i[0],p=Array(),d={type:"gauge",animation:!1,name:u?`${l} - ${u}`:""+l,data:[c],stickyTracking:!1,dataLabels:{enabled:!1},events:a,dial:{backgroundColor:No},color:No};p.push(d);if(u&&i[1]){const{dataValue:e,compareValueLabel:t}=i[1],n={type:"gauge",animation:!1,name:`${l} - ${t}`,data:[e],stickyTracking:!1,dataLabels:{enabled:!1},events:a,dial:{backgroundColor:Ro},color:Ro};p.push(n)}return p},Po={background:[],startAngle:-90,endAngle:90,center:["50%","75%"]},Uo={tickLength:0,minorTickInterval:null,labels:{distance:20,style:{fontSize:"12px"}}},ko=20,xo=(e,t)=>({from:e,to:t,color:j.GREAT_WHITE,thickness:ko}),wo=(e,t)=>{const n=t.plot,{min:r,max:a}=Do(t,e),o=n.bands.map(e=>{const t=Co(e.from)&&Co(e.to)?Math.min(e.from,e.to):Co(e.from)?e.from:null,n=Co(e.from)&&Co(e.to)?Math.max(e.from,e.to):Co(e.to)?e.to:null,o=Co(t)?Math.max(t,r):r,s=Co(n)?Math.min(n,a):a;return Object.assign({},e,{from:o,to:s,thickness:ko,label:{text:e.label}})});o.unshift(xo(r,a));return[Object.assign({min:r,max:a,plotBands:o},Uo,{tickPositions:t.showRangeLabels?void 0:[r,a]})]},Fo=e=>{const{data:t,layer:n,events:r,style:a}=e,{legend:o={},chart:s={}}=ft(a.legendPosition,a.legendWidth),i=Object.assign({type:"gauge"},s),c=Object.assign({},o);return{chart:i,pane:Po,yAxis:wo(t,n),series:Mo(t,n,r),legend:c,subtitle:{text:Lo(t,n.dataColumn,n.compareColumn),useHTML:!0,align:"center",verticalAlign:"middle",y:85},accessibility:{point:{descriptionFormatter:e=>{if(!e)return"";return`${e.series.name}: ${e.y}`}}}}},Yo=(e,t=y.a)=>{const n=Object(O.fromJS)(Fo(e.toJS()));t.set("Chart",n);return Lt.set("plotOptions",Object(O.fromJS)({gauge:Ao,series:{states:{inactive:{opacity:1}}}})).mergeDeep(n)};var Bo=n("A+hA");const Go=({visualization:e,debug:t=y.a})=>{const n=Yo(e,t);t.set("Highcharts",n);return Object(m.jsx)(st,{chartOptions:n})},Vo=h.d,Ho=Bo.b,Wo=Object(f.memo)(Go),Ko=Yo;n.d(t,"a",(function(){return qo}));const qo={[J]:r,[ze]:o,[Kt]:s,[He]:a,[Hn]:i,[er]:c,[Fr]:l,[Na]:u,[Eo]:p,[Vo]:d},Qo=(e,t)=>t instanceof O.Record?t:e(t),$o=({children:e,className:t,style:n})=>Object(m.jsx)("div",{className:b()("reporting-visualization",t),style:Object.assign({display:"flex",flexGrow:1},n),children:e}),Jo=({visualization:e,className:t,style:n,debug:r=y.a,gates:a=[]})=>{const o=e.get?e.get("type"):e.type,s=qo[o],i=Object(f.useMemo)(()=>s&&Qo(s.record,e),[e,s]);Object(f.useEffect)(()=>{i?r.set("Visualization",i):r.set("Error","Unknown visualization for type "+o)},[r,o,i]);if(!s)return Object(m.jsx)($o,{className:t,style:n,children:Object(m.jsx)(E.a,{name:"errors/general",width:"50%",style:{margin:"auto"}})});const{Render:c}=s;return Object(m.jsx)($o,{className:t,style:n,children:Object(m.jsx)(c,{visualization:i,className:t,debug:r,gates:a})})};t.b=Object(f.memo)(Jo)},Cswz:function(e,t,n){"use strict";n.d(t,"c",(function(){return a}));n.d(t,"d",(function(){return s}));n.d(t,"b",(function(){return c}));n.d(t,"a",(function(){return l}));var r=n("XcLi");const a={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},o=r.l(a,"SortOrder"),s={VALUE:"VALUE",DISPLAY_ORDER:"DISPLAY_ORDER",LABEL:"LABEL"},i=r.l(s,"SortType"),c=r.i({column:r.k(),order:o,sortType:i.optional().defaultValue(s.VALUE)},"Sort"),l=r.i({priority:r.g(),type:i,order:o,by:r.k().optional(),nested:r.b().optional()},"ColumnSort")},DIgQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n.d(t,"a",(function(){return o}));var r=n("XcLi");const a={UNDEFINED:"UNDEFINED",CONSTANT:"CONSTANT",ROW_LEVEL:"ROW_LEVEL",AGGREGATE:"AGGREGATE"},o=r.l(a,"Context")},DVMZ:function(e,t,n){"use strict";n.d(t,"c",(function(){return r}));n.d(t,"d",(function(){return a}));n.d(t,"b",(function(){return o}));n.d(t,"h",(function(){return s}));n.d(t,"g",(function(){return i}));n.d(t,"f",(function(){return c}));n.d(t,"a",(function(){return l}));n.d(t,"e",(function(){return u}));const r="DRILLDOWN_CLOSED",a="DRILLDOWN_OPENED",o="DRILLDOWN_BACKTRACK",s="STARTED_GROUPING",i="SELECTED_GROUPING",c="REMOVED_GROUPING",l="CANCELLED_GROUPING",u="DRILLDOWN_SAVE_REPORT_COMPLETED"},DWAB:function(e,t,n){"use strict";var r=n("9mTs");const a="\\s\\(\\)\\[\\]\\{\\}";t.a=({isGlobal:e=!1,protocolRequired:t=!1,domain:n=r.a.domain,protocol:o=r.a.protocol,path:s=r.a.path,file:i=r.a.file,search:c=r.a.search}={})=>{let l="i";let u=`${t?o:o+"?"}${n}(?:${s}(?:${i})?)?${c}?`;if(e){l+="g";u=`[^${a}]*?${u}[^${a}]*?`}else u=`^${u}$`;return new RegExp(u,l)}},Ddfg:function(e,t,n){"use strict";var r=n("DIPK"),a=n("7Y4s"),o=n("g+dq"),s=n.n(o),i=n("WwZd"),c=n("Lt3g"),l=n.n(c),u=n("bQHN"),p=n.n(u),d=n("TvdH"),m=n.n(d),g=n("iZt3"),b=n.n(g);const O=({httpClient:e})=>()=>e.get("engagements/v1/activity-types").then(l()(b()(p()("id")),Object(i.a)({getId:m()(["name"]),getLabel:m()(["name"])}))),f=O({httpClient:s.a}),E=e=>Object(a.a)(Object.assign({cacheKey:r.a,createFetchData:O,fetchData:f},e));t.a=E()},Dh54:function(e,t,n){"use strict";var r=n("QYOI"),a=n("w17+"),o=n("KlKr");function s(e=Object(r.Map)()){if(e.isEmpty())return e;const t=e.get("property"),n=e.get("value");return Object(o.a)(t,n)}const i=e=>{const t=e.getIn(["filters","dateRange"]);let n=e.getIn(["filters","custom"],Object(r.List)());t&&!t.isEmpty()&&(n=n.push(s(t)));return[{filters:n.toJS()}]};t.a=()=>Object(a.a)(i,null)},Dl53:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("QgEn"),a=n("VfuR"),o=n.n(a),s=n("Ktcs"),i=n("9c9T"),c=n("kAwc"),l=n("+yfp"),u=n.n(l),p=n("LTV0"),d=n("7ETf"),m=n.n(d),g=n("t6nY"),b=n.n(g),O=n("9f1P"),f=n.n(O);const{Receive:E,Raise:y}=Object(i.a)("Loading"),T=200,I=f.a.div.withConfig({displayName:"LoadingTrap__Contents",componentId:"we1fle-0"})(["display:flex;flex-direction:column;height:100%;> *:not(.reporting-loading-overlay):not(.alert){flex-grow:1;}"]);class h extends s.Component{constructor(){super();this.state={loading:!0};this.handleRaise=u()(T,e=>{if(!this._unmounted){const t=this.state;this.setState(t=>Object.assign({},t,{loading:t.loading&&e.length>0}),()=>{const{onLoaded:e}=this.props,{loading:n}=this.state;this._unmounted||n||!t.loading||e()})}})}componentDidMount(){this.handleRaise([])}componentWillUnmount(){this._unmounted=!0}render(){const{children:e,className:t,showOverlay:n}=this.props,{loading:a}=this.state,o=a&&n,s=o?Object(r.jsx)(c.a,{width:100,contextual:!0,className:"reporting-loading-overlay",children:Object(r.jsx)(p.a,{className:"report-loading-spinner-grow m-x-0 m-y-0",layout:"centered"})}):null;return Object(r.jsx)(E,{onRaise:this.handleRaise,children:Object(r.jsxs)(I,{className:b()("reporting-loading-boundary",t),style:o?{overflow:"hidden"}:null,children:[s,e]})})}}h.propTypes={children:o.a.node,className:o.a.string,onLoaded:o.a.func,showOverlay:o.a.bool};h.defaultProps={onLoaded:m.a,showOverlay:!0};const j=e=>Object(r.jsx)(y,{children:Object(r.jsx)(p.a,Object.assign({},e))});j.propTypes=p.a.propTypes;j.defaultProps=Object.assign({},p.a.defaultProps,{layout:"centered",className:"report-loading-spinner-grow flex-grow-1"})},DmHp:function(e,t,n){"use strict";var r=n("QYOI"),a=n("QQ8p"),o=n("QgEn"),s=n("t6nY"),i=n.n(s),c=n("GTTy"),l=n("sl/w"),u=n("5zIw"),p=n("L1ux");const d={LOW:"danger",FAIR:"warning",GOOD:"success",EXCELLENT:"success"};function m(e){const{column:t,value:n}=e,{align:r}=t,a=i()(r===p.a.left&&"text-left",r===p.a.right&&"text-right");return"UNKNOWN"===n?Object(o.jsxs)("td",{className:a,children:["—"," ",Object(o.jsx)(u.a,{title:Object(o.jsx)(l.a,{message:"reporting-data.properties.sequence-sender-score.senderScoreUnavailable"})})]}):Object(o.jsxs)("td",{className:a,children:[Object(o.jsx)(c.a,{use:d[n]}),Object(o.jsx)(l.a,{message:"reporting-data.properties.sequence-sender-score.senderScoreValue."+n})]})}var g=n("npjq"),b=n("xA3K"),O=n("+KD7"),f=n("PQdV"),E=n("VfuR"),y=n.n(E),T=n("Ktcs"),I=n("9f1P"),h=n.n(I);const j=h.a.div.withConfig({displayName:"UIInlineBarChart__Outer",componentId:"sc-19zt3ey-0"})(["display:inline-block;vertical-align:middle;"]),A=h.a.div.withConfig({displayName:"UIInlineBarChart__Bar",componentId:"sc-19zt3ey-1"})(["border-radius:0 "," "," 0;"],f.n,f.n),S=0,_=100,N=Object(T.memo)(e=>{let{color:t,max:n=_,width:r,height:a,style:s,value:i=S}=e,c=Object(b.a)(e,["color","max","width","height","style","value"]);if(0===i)return null;const l=Math.max(Math.min(Math.floor(i/n*100),100),1);return Object(o.jsx)(j,Object.assign({},c,{style:Object.assign({width:r},s),children:Object(o.jsx)(A,{style:{backgroundColor:t,height:a,width:l+"%"}})}))});N.propTypes={displayValueFormatter:y.a.func,max:y.a.number.isRequired,value:y.a.number.isRequired,color:y.a.string,height:y.a.number,width:y.a.number};N.defaultProps={value:S,max:_,color:O.CHART_ORANGE,height:20,width:200};N.displayName="UIInlineBarChart";const R=h.a.td.withConfig({displayName:"UIInlineBarChart__NumberCell",componentId:"sc-19zt3ey-2"})(["&&{padding-right:18px;text-align:right;}"]),C=h.a.td.withConfig({displayName:"UIInlineBarChart__ChartCell",componentId:"sc-19zt3ey-3"})(["&&{padding-left:0;}"]);N.renderTableCells=e=>{const t=g.a.formatNumber,{numberCellClassName:n,barCellClassName:r,displayValueFormatter:a=t,value:s=S}=e,i=Object(b.a)(e,["numberCellClassName","barCellClassName","displayValueFormatter","value"]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(R,{className:n,children:a(s)}),Object(o.jsx)(C,{className:r,children:Object(o.jsx)(N,Object.assign({},i,{value:s}))})]})};var v=N,L=n("DqRu"),D=n("77dM");function M(e){const{column:{onClick:t,showAsBarChartOptions:n=Object(r.Map)()},field:a,value:s,dataset:i,valueLabels:c,valueLinks:l,onPointClick:u}=e,p=u||t,d=n.get("max")||i.get("data").map(e=>e.get(a)).max(),m=n.get("color")?{color:n.get("color")}:{};return v.renderTableCells(Object.assign({barCellClassName:"text-left",displayValueFormatter:()=>l.first()?Object(o.jsx)(D.a,{href:l.first(),external:!0,children:c.first()}):p?Object(o.jsx)(L.a,{onClick:()=>p(e),use:"link",children:c.first()}):c.first(),I18n:g.a,max:d||0===d?d:1,value:s||0},m))}var P=n("vuW9"),U=n("QvWB");const k=h.a.span.withConfig({displayName:"ScriptedPropertyCell__LightText",componentId:"sc-1ehqzao-0"})(["color:#99acc2;"]);var x=e=>{const{column:t}=e,{align:n}=t,r=i()(n===p.a.left&&"text-left",n===p.a.right&&"text-right");return Object(o.jsx)("td",{className:r,children:Object(o.jsx)(P.a,{placement:"left",title:Object(o.jsx)(l.a,{message:"reporting-ui-components.scriptedPropertyCell.tooltip"}),children:Object(o.jsxs)(k,{children:[Object(o.jsx)(l.a,{message:"reporting-ui-components.scriptedPropertyCell.message"})," ",Object(o.jsx)(U.a,{name:"info"})]})})})};n.d(t,"a",(function(){return G}));n.d(t,"b",(function(){return H}));const w="SEQUENCE_SENDER_SCORE",F="SHOW_AS_BAR_CHART",Y="SHOW_SCRIPTED_CELL",B={[w]:m,[F]:M,[Y]:x},G=e=>B[e]||null,V=Object(r.Map)({[w]:({report:e,column:{field:t}})=>"SEQUENCE_SENDER_SCORE"===e.getIn(["config","dataType"])&&"senderScore"===Object(a.b)(t).property,[F]:({column:{showAsBarChart:e}})=>e,[Y]:({report:e,dataMap:t,column:{field:n}})=>"SEARCH"===e.getIn(["config","configType"])&&t.getIn(["primary","data","properties",n,"scripted"],!1)}),H=e=>V.findKey(t=>t(e))},"E5x+":function(e,t,n){"use strict";n.d(t,"c",(function(){return o}));n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return i}));n.d(t,"d",(function(){return c}));n.d(t,"e",(function(){return l}));n.d(t,"f",(function(){return u}));const r="NONE",a="total_",o="__TOTAL__",s="__GRANDTOTAL__",i="__SUBTOTAL__",c=(e,t)=>`${a}${[...t,e].join("-")}`,l=(e,t=r,n=r)=>c(e,[t,n]),u=e=>e.startsWith(a)},EKDx:function(e,t,n){"use strict";var r=n("U9YW"),a=n("4aqM"),o=n("chpV"),s=n("Br7N"),i=n("ESYv"),c=n("QYOI"),l=n("u9+u"),u=n("bt3G");const p=(e,t)=>s.b(e,{data:t,query:{allPropertiesFetchMode:"latest_version"}});var d=n("Dh54"),m=n("w17+"),g=()=>Object(m.a)(e=>e.getIn(["sort"],Object(c.List)()).toJS(),null),b=n("V4H+");const O={[l.CONTACTS]:"vid",[l.COMPANIES]:"company-id",[l.DEALS]:"dealId",[l.TICKETS]:"hs_ticket_id"},f=Object(c.fromJS)({[l.CONTACTS]:{vid:["lastname","firstname","email","hs_object_id"],hs_object_id:["lastname","firstname","email","hs_object_id"],[Object(b.b)(l.CONTACTS)]:["lastname","firstname","email","hs_object_id"]},[l.COMPANIES]:{"company-id":["name","hs_object_id"],hs_object_id:["name","hs_object_id"],[Object(b.b)(l.COMPANIES)]:["name","hs_object_id"]},[l.DEALS]:{dealId:["dealname","hs_object_id"],hs_object_id:["dealname","hs_object_id"],[Object(b.b)(l.DEALS)]:["dealname","hs_object_id"],dealstage:["dealstage.displayOrder","dealstage"]},[l.TICKETS]:{hs_object_id:["subject","hs_object_id"],hs_ticket_id:["subject","hs_object_id"],[Object(b.b)(l.TICKETS)]:["subject","hs_object_id"]}}),E=(e,t)=>f.getIn([e,t],Object(c.List)([t])).toJS(),y=e=>{const{dataType:t,propertyName:n}=Object(b.a)(e);return E(t,n).map(e=>Object(b.d)(t,"hs_object_id"===e?O[t]:e))};var T=(e,t)=>{const n=e.get("dataType"),r=n===l.CROSS_OBJECT;let a=[];t.forEach(({property:e,order:t})=>{const o=r?y(e):E(n,e);a=a.concat(o.map(e=>({property:e,order:t})))});return a},I=n("88Rc"),h=n("4Nkb"),j=n("ahZR"),A=n("O3Yl");const S=5,_=(e,t)=>{const n=Object(d.a)(),r=e.get("dataType"),a=Object(c.fromJS)(n(e)),o=a.reduce((e,t)=>t.get("filters").reduce((e,t)=>e.add(t.get("property")),e),Object(c.Set)()),s=Object(I.a)(r,o).then(e=>a.map(t=>t.update("filters",(t=Object(c.List)())=>t.map(t=>{const n=e.get(t.get("property"));return t.get("operator")===j.f&&n.get("type")===A.k?t.set("propertySuffix","raw"):t})))),i=g()(e);0===i.length&&e.getIn(["filters","dateRange","property"])&&i.push({property:e.getIn(["filters","dateRange","property"]),order:h.b});t&&i.push({property:r===l.CROSS_OBJECT?t:"hs_object_id",order:h.b});return s.then(t=>Object(c.fromJS)({count:e.get("limit")||S,offset:e.get("offset")||0,filterGroups:t,sorts:T(e,i)}))};var N=n("BGD4"),R=n("zwFt"),C=n("1eNF"),v=n("ayHa"),L=n("96fz"),D=n("1bT7");const M=e=>e.get("metrics").map(e=>e.get("property")).toSet(),P=(e,t)=>Object(D.a)(M(e).union(t.hydrate.inputs).add(t.properties.idProperty).add(v.c).add(v.e),t),U=(e,t,n,r)=>Object(c.Map)(M(e).map(a=>{const o="projectedAmount"===a?"hs_projected_amount":a,s=e.get("dataType"),i=t.get(o,"-"),l=r.getIn([s,o,v.b]);if(n&&(l||v.d.includes(o))){const e=Object(C.a)(t.get(l)||t.get(v.a[s]));return[o,Object(c.Map)({[N.COUNT]:Object(c.Map)({raw:i,formatted:Object(R.a)(i,{currencyCode:e}),propertyMeta:{type:"currency",currencyCode:e}})})]}return[o,Object(c.Map)({[N.COUNT]:i})]}).toJS()),k=(e,t,n)=>Promise.all([Object(L.a)(),P(e,t),Object(o.a)(e.get("dataType"))]).then(([r,a,o])=>{const{hasMulticurrencyActive:s}=r||{};return Object(c.Map)({dimension:Object(c.Map)({property:t.properties.idProperty,buckets:n.get(t.search.objectsField).map(n=>{const r=a(n),i=t.hydrate.fn(r.toJS());return Object(c.Map)({key:String(r.get(t.properties.idProperty)),keyLabel:i,metrics:U(e,r,s,o)})})}),total:n.get("total")})});var x=n("nDpY"),w=n.n(x),F=n("FQVk"),Y=n("JB0K"),B=n("R69d"),G=(e,t)=>{const n=e.get("dataType");return _(Y.a.has(n)?Object(B.a)(t,Y.a.get(n)):t,e.properties.idProperty).then(t=>t.set("objectTypeId",e.get("objectTypeId")).set("portalId",w.a.get()).set("requestOptions",{properties:Object(F.c)(e.getIn(["search","properties"],Object(c.List)()),n)}).set("associationPreviews",e.get("associationPreviews"))).then(t=>p(e.search.url,t)).then(n=>k(t,e,n))},V=n("BG7z"),H=n("qIj6"),W=n("I5fL"),K=n("rpKw");const q=(e,t)=>e.map(b.b).includes(t),Q=(e,t)=>{const n=Object(b.a)(t).namespace.toUpperCase();return e.get(n)},$=(e,t,n,r,a)=>{const{propertyName:o,namespace:s,dataType:i}=Object(b.a)(n),l=s.toUpperCase(),u=e.get(l),p=t.getIn([l,u,"properties",o,"value"]),d=a.getIn([K.CROSS_OBJECT,Object(b.d)(i,o),v.b]),m=d?t.getIn([l,u,"properties",d,"value"]):v.a[i]&&t.getIn([l,u,"properties",v.a[i],"value"]);return r&&(d||v.d.includes(o))?Object(c.Map)({raw:p,formatted:Object(R.a)(p,{currencyCode:m}),propertyMeta:{type:"currency",currencyCode:m}}):p},J=(e,t)=>Promise.all([Object(L.a)(),Object(W.a)(e)]).then(([n,r])=>{const{hasMulticurrencyActive:a}=n||{},o=e.getIn(["crossObject","dataTypes"]),s=t.get("objects").map(e=>Object(H.a)(e=>e.get("objectId"),e));return Object(c.Map)({total:t.get("total"),dimension:Object(c.Map)({property:"associationId",buckets:t.get("crossObjectAssociations").map(t=>{const n=t.get("objectTypeAndIds").reduce((e,t)=>e.set(t.get("objectType"),t.get("objectId")),Object(c.Map)());return Object(c.Map)({key:n.map(e=>e).join("__"),keyLabel:n.map((e,t)=>t).join("__"),metrics:Object(c.OrderedMap)(e.get("metrics").map(e=>{const t=e.get("property");return Object(c.List)([t,Object(c.Map)({[N.COUNT]:q(o,t)?Q(n,t):$(n,s,t,a,r)})])}))})})})})});var z=(e,t,n)=>_(t,null).then(e=>p(Object(V.a)(t,n),e)).then(e=>J(t,e)),X=(e,t)=>{const n=Y.a.get(e.get("dataType"));return _(Object(B.a)(t,n),e.properties.idProperty).then(t=>p(e.search.url,t)).then(n=>k(t,e,n))},Z=(e,t)=>_(t,e.properties.idProperty).then(t=>p(e.search.url,t)).then(n=>k(t,e,n)),ee=n("lqKP"),te=n("0tG2");const ne=Object(c.Map)({[l.ATTRIBUTION_TOUCH_POINTS]:G,[l.CONTACT_CREATE_ATTRIBUTION]:G,[l.FEEDBACK_SUBMISSIONS]:G,[l.CROSS_OBJECT]:z,[l.CALLS]:X,[l.CONVERSATIONS]:X,[l.ENGAGEMENT_EMAILS]:X,[l.FEEDBACK]:X,[l.MEETINGS]:X,[l.NOTES]:X});function re(e,t){const n=e.get("dataType");return Object(u.a)(n).then(r=>te.a.includes(n)||n===l.LINE_ITEMS||n===l.FEEDBACK_SUBMISSIONS?G(ee.a.getInboundSpec(e),e,t):ne.get(n,Z)(r.getInboundSpec(e),e,t)).then(t=>({dataConfig:e,dataset:t,response:void 0}))}t.a=(e,t,n)=>{const{batchRequests:c=!1}=n,l=e.get("dataType");return e.get("configType")===r.e?re(e,n):Object(o.a)(l).then(t=>Object(i.a)(e,t,n)).then(n=>{t("request",n);return s.d(n,{batchRequests:c}).catch(e=>Object(a.a)(e)).then(r=>{t("response",r);const a=n.transformer?n.transformer(e,r):r;return Promise.resolve(a).then(e=>({response:r,dataset:e}))})}).then(({dataset:t,response:n})=>({dataConfig:e,dataset:t,response:n}))}},ESYv:function(e,t,n){"use strict";var r=n("QYOI"),a=n("u9+u"),o=n("2Om6"),s=n("nDpY"),i=n.n(s),c=n("VqtB"),l=n("VljC"),u=n("BG7z"),p=n("O3Wt"),d=n("vWJb"),m=n("eRX5"),g=n("hZMd"),b=n("O3Yl");const O=e=>e.map(e=>e.update("subAggregations",e=>e&&O(e))),f=e=>t=>e===a.LINE_ITEMS&&t.has("aggregations")?t.update("aggregations",O):t,E=(e,t)=>e.map((e,n)=>e.map(e=>e.update("key",e=>{if(t.getIn([n,"type"])!==b.i&&!t.getIn([n,"reportingOverwrittenNumericType"],!1))return e;const r=parseFloat(e);return r===g.a.NUMBER?g.a.ENUMERATION:String(r)}).update("aggregations",e=>e&&E(e,t)))),y=(e,t)=>e.has("aggregations")?e.update("aggregations",e=>E(e,t)):e;var T=n("bt3G"),I=n("lqKP"),h=n("0tG2");const j=(e,t)=>t.updateIn(["dimension","buckets"],Object(r.List)(),t=>t.take(e)),A=(e,t,n)=>{const r=e.get("objectTypeId");return r?n.set("objectTypeId",r).set("portalId",i.a.get()):n};var S=(e,t,n)=>{const r=e.get("dataType");return Promise.all([Object(T.a)(r),p.a(e)]).then(([o])=>{const s=h.a.includes(r)||r===a.LINE_ITEMS||r===a.FEEDBACK_SUBMISSIONS,i=s?I.a.getInboundSpec(e):o.getInboundSpec(e),p=e.get("limit")||0,g=0===p||p>c.a?Object(d.a)(t):(...e)=>j(p,Object(d.a)(t)(...e)),b=f(r);return l.a.post({url:Object(u.a)(e,Object.assign({},n,{useCrmSearch:s})),data:A(i,e,b(Object(m.a)(e,t))),transformer:(e,n)=>g(e,y(n,t.get(r)))})})},_=n("AYIY"),N=n("zKI+"),R=n("eyRE"),C=n("U9YW"),v=n("BGD4"),L=n("Pzvz");const D=e=>e.updateIn(["dimension","buckets"],e=>e.map((e,t,n)=>{const r=t+1<n.size?0:void 0;return e.setIn(["metrics","funnel.conversion",v.PERCENTILES],r).setIn(["metrics","funnel.stepwiseConversion",v.PERCENTILES],r).setIn(["metrics","funnel.cumulativeConversion",v.PERCENTILES],r)})).setIn(["metrics","funnel.conversion",v.PERCENTILES],0),M=e=>e.setIn(["metrics","funnel.conversion",v.PERCENTILES],1===e.getIn(["dimension","buckets"]).size?void 0:e.getIn(["dimension","buckets"]).last().getIn(["metrics","count",v.SUM])/e.getIn(["dimension","buckets",0,"metrics","count",v.SUM])),P=e=>e.updateIn(["dimension","buckets"],e=>e.map((e,t,n)=>{const r=e.getIn(["metrics","count",v.SUM]),a=n.getIn([t+1,"metrics","count",v.SUM]);if(void 0===a)return e.setIn(["metrics","funnel.conversion",v.PERCENTILES],void 0).setIn(["metrics","funnel.stepwiseConversion",v.PERCENTILES],void 0);{const t=0===r?0:a/r;return e.setIn(["metrics","funnel.conversion",v.PERCENTILES],t).setIn(["metrics","funnel.stepwiseConversion",v.PERCENTILES],t)}})),U=e=>e.updateIn(["dimension","buckets"],t=>t.map((n,r,a)=>n.setIn(["metrics","funnel.cumulativeConversion",v.PERCENTILES],r+1<a.size?t.getIn([r+1,"metrics","count",v.SUM],0)/e.getIn(["dimension","buckets",0,"metrics","count",v.SUM],0):void 0))),k=e=>0===e.getIn(["dimension","buckets",0,"metrics","count",v.SUM],0)?D(e):U(P(M(e))),x=e=>{const t=e.getIn(["dimension","buckets",0,"metrics","count",v.SUM],0)+e.getIn(["dimension","buckets",0,"metrics","pipeline.skips",v.SUM],0);return 0===t?e:e.updateIn(["dimension","buckets"],e=>e.map((n,r,a)=>{const o=["metrics","pipeline.cumulativeConversion",v.PERCENTILES];if(r+1>=a.size)return n;const s=((e.getIn([r+1,"metrics","count",v.SUM],0)||0)+(e.getIn([r+1,"metrics","pipeline.skips",v.SUM],0)||0))/t;return n.setIn(o,s)}))};var w=e=>(t,n)=>{const a=t.get("configType"),o=t.getIn(["dimensions",0]),s=n.take(e.size),i=n.skip(e.size),c=Object(L.a)(Object(r.Map)({dimension:Object(r.Map)({property:o,buckets:s.map((t,n)=>{const o=a===C.b?{}:{"pipeline.skips":Object(r.Map)({SUM:i.getIn([n,"count"])-t.get("count")})};return Object(r.Map)({key:e.get(n),metrics:Object(r.Map)(Object.assign({count:Object(r.Map)({SUM:t.get("count")})},o))})})}),total:n.size}));return a===C.c?x(c):k(c)},F=n("w17+"),Y=e=>Object(F.a)((t,n)=>{const r=t.getIn(["pipeline","stages"]);return r&&r.size>0?r.filter(t=>!!e.contains(t)):n},e),B=()=>Object(F.a)((e,t)=>e.getIn(["pipeline","id"])||t,"default"),G=n("Ip2w"),V=n("wnG7");const H=(e,t)=>e.getIn(["filters","dateRange"])||t;var W=()=>Object(F.a)(H,Object(r.Map)({value:Object(r.Map)({rangeType:"ALL"})})),K=n("KlKr");const q={last_visit:"hs_analytics_last_visit_timestamp",recent_conversion:"recent_conversion_date",email_last_open:"hs_email_last_open_date",email_last_click:"hs_email_last_click_date",feedback_last_survey:"hs_feedback_last_survey_date"},Q=e=>q[e]?q[e]:"hs_date_entered_"+e,$=e=>`dealstages.${Object(V.a)(e)}_entered`,J={[a.CONTACTS]:Q,[a.DEALS]:$},z=(e,t)=>"create"===t?"createdate":J[e](t),X=(e,t,n)=>Object(K.a)(z(e,n),t),Z=(e,t,n,a)=>n.take(a+1).reduce((n,r)=>n.push(X(e,t,r)),Object(r.List)()),ee=(e,t,n,a)=>r.List.of(X(e,t,n.get(a))),te={[C.c]:ee,[C.b]:Z},ne={[a.CONTACTS]:()=>Object(r.List)(),[a.DEALS]:e=>r.List.of(Object(r.Map)({property:"pipeline",operator:"EQ",value:e}))},re=(e,t,n,r,a,o)=>te[t](e,n,a,o).concat(ne[e](r)),ae=(e,t,n,a,o)=>e!==C.c?Object(r.List)():n.butLast().map((e,n)=>e.update("filterGroups",e=>{const s=e.first().get("filters").filter(e=>e.get("property")!==z(a,t.get(n)));return t.skip(n).map(e=>Object(r.Map)({filters:s.push(X(a,o,e))}))}));var oe=(e,t,n,a)=>{const o=e.get("configType"),s=W()(e).get("value"),i=n.map((n,i,c)=>Object(r.Map)({filterGroups:r.List.of(Object(r.Map)({filters:re(t,o,s,a,c,i).concat(e.getIn(["filters","custom"],Object(r.List)()))}))}));return i.concat(ae(o,n,i,t,s))},se=n("kV5Q");const ie="crm-search/report/multi/beta",ce={[a.CONTACTS]:(e,t)=>"hs_contact_source_event"===t?Object(R.a)():Object(N.c)(),[a.DEALS]:G.a},le=B();var ue=e=>{const t=e.get("dataType"),n=e.get("dimensions").first(),r=le(e);return _.a.resolve(ce[t](r,n)).then(e=>e.map(e=>e.get("value"))).then(n=>{const a=Y(n)(e);if(a.isEmpty())throw new se.c("stages");const o=oe(e,t,a,r);return l.a.post({url:ie,data:o.map(e=>e.set("portalId",i.a.get()).set("objectTypeId",t)),transformer:w(a)})})};const pe=Object(r.Map)({[C.a]:S,[C.f]:S,[C.c]:ue,[C.b]:ue});var de=e=>pe.get(e.get("configType"),()=>{throw new Error("unsupported config type")}),me=(e,t,n)=>Promise.resolve(de(e)).then(r=>{Object(o.a)(r,"expected requestGenerator but no matches were found for %s",e);return r(e,t,n)}),ge=n("I5fL"),be=function(e,t,n){return Object(ge.a)(e).then(t=>me(e,t,n))},Oe=n("R69d"),fe=n("JB0K");function Ee(e,t){const n=fe.a.get(e.get("dataType"));return me(Object(Oe.a)(e,n),t)}n.d(t,"a",(function(){return Te}));const ye=Object(r.Map)({[a.CROSS_OBJECT]:be,[a.CALLS]:Ee,[a.CONVERSATIONS]:Ee,[a.ENGAGEMENT_EMAILS]:Ee,[a.FEEDBACK]:Ee,[a.MEETINGS]:Ee,[a.NOTES]:Ee,[a.TASKS]:Ee});function Te(e,t,n){const r=e.get("dataType");return ye.get(r,me)(e,t,n)}},FQVk:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"d",(function(){return l}));n.d(t,"c",(function(){return u}));n.d(t,"a",(function(){return p}));var r=n("QYOI"),a=n("u9+u"),o=n("JB0K");const s={[a.CONTACTS]:{associatedcompanyid:"hs_associated_company"},[a.DEALS]:{"associations.company":"hs_associated_company","associations.contact":"hs_associated_contacts"},[a.ENGAGEMENT]:{"associations.contact":"hs_associated_contacts","associations.company":"hs_associated_company","associations.deal":"hs_associated_deals","call.status":"hs_call_status","call.durationMilliseconds":"hs_call_duration","call.disposition":"hs_call_disposition","call.body":"hs_call_body","conversationSession.visitorStartTime":"hs_conversation_session_visitor_start_time","conversationSession.visitorEndTime":"hs_conversation_session_visitor_end_time","conversationSession.visitorWaitTimeMilliseconds":"hs_conversation_session_visitor_wait_time","conversationSession.sessionDurationMilliseconds":"hs_conversation_session_duration","conversationSession.agentJoinTime":"hs_conversation_session_agent_join_time","conversationSession.numVisitorMessages":"hs_conversation_session_num_visitor_messages","conversationSession.numAgentMessages":"hs_conversation_session_num_agent_messages","conversationSession.online":"hs_conversation_session_online","conversationSession.isBot":"hs_conversation_session_is_bot","conversationSession.fullUrl":"hs_conversation_session_url","conversationSession.conversationSource":"hs_conversation_session_source","conversationSession.threadId":"hs_conversation_session_thread_id","conversationSession.sessionClosedAt":"hs_conversation_session_session_closed_at","conversationSession.agentResponseTimeMilliseconds":"hs_conversation_session_agent_response_time","email.subject":"hs_email_subject","email.trackerKey":"hs_email_tracker_key","email.messageId":"hs_email_message_id","email.threadId":"hs_email_thread_id","email.status":"hs_email_status","email.sentVia":"hs_email_sent_via","email.html":"hs_email_html","email.text":"hs_email_text","engagement.timestamp":"hs_timestamp","engagement.createdAt":"hs_createdate","engagement.ownerId":"hubspot_owner_id","engagement.createdBy":"hs_created_by","engagement.lastUpdated":"hs_lastmodifieddate","engagement.modifiedBy":"hs_modified_by","engagement.type":"hs_engagement_type","engagement.teamId":"hubspot_team_id","engagement.activityType":"hs_activity_type","engagement.source":"hs_engagement_source","task.status":"hs_task_status","task.subject":"hs_task_subject","task.taskType":"hs_task_type","feedbackSubmission.rating":"hs_feedback_submission_rating","feedbackSubmission.formType":"hs_feedback_submission_form_type","feedbackSubmission.formGuid":"hs_feedback_submission_form_guid","feedbackSubmission.followUp":"hs_feedback_submission_follow_up","feedbackSubmission.formChannel":"hs_feedback_submission_form_channel","feedbackSubmission.responseGroup":"hs_feedback_submission_response_group","meeting.body":"hs_meeting_body","meeting.title":"hs_meeting_title","meeting.startTime":"hs_meeting_start_time","meeting.source":"hs_meeting_source","meeting.meetingOutcome":"hs_meeting_outcome","note.body":"hs_note_body","task.body":"hs_task_body","task.completionDate":"hs_task_completion_date","engagement.html":"hs_body_preview_html","email.headers":"hs_email_headers","publishingTask.state":"hs_publishing_task_state","publishingTask.campaignGuid":"hs_publishing_task_campaign_guid","publishingTask.category":"hs_publishing_task_category","communication.body":"hs_communication_body","postalMail.body":"hs_postal_mail_body"}},i={EMAIL:["hs_email_subject"],CALL:["hs_call_body"],MEETING:["hs_meeting_title","hs_meeting_body"],TASK:["hs_task_subject"],NOTE:["hs_note_body"],INCOMING_EMAIL:["hs_email_subject"],FORWARDED_EMAIL:["hs_email_subject"],PUBLISHING_TASK:["hs_publishing_task_name"]},c=Object(r.fromJS)(i).toList().flatten().toSet(),l=(e,t)=>s[t]&&s[t][e]||e,u=(e,t)=>{if(t===a.ENGAGEMENT||o.a.has(t)){const t=e.map(e=>s[a.ENGAGEMENT][e]||e);return e.includes("engagement.details")?t.toSet().subtract(["engagement.details"]).union(c).toList():t}return e},p=s[a.ENGAGEMENT]},Ff2B:function(e,t,n){"use strict";var r=n("LZPL"),a=n.n(r),o=n("K7y8");const s=()=>!a.a.deployed(),i=()=>o.c.enabled;t.a=()=>{try{return s()||i()}catch(e){console.error("[reporting-data]:",e);return!1}}},Fkpl:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return c}));var r=n("z7F3"),a=n("iCNX"),o=n("Br7N");const s=()=>o.a("owners/v2/owners").then(a.a),i=2147483647,c=e=>{const t=e.filter(e=>isNaN(e)||e<=i);return Object(r.a)(e=>o.a("owners/v2/owners/batch",{query:{ownerId:e.toArray(),includeSignature:!1}}).then(a.a),e=>e.reduce((e,t)=>Object.assign({},e,{},t),{}),t)}},FrAO:function(e,t,n){"use strict";var r=n("nJ0p");t.a=(e,t)=>Object(r.a)(e,t).map(e=>e.raw).toSet().filter(e=>!!e)},G2Ba:function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("O3Yl"),s=n("zwFt"),i=n("P2ER"),c=n("66sF"),l=n("ZM7t");const u="YYYY-MM-DD";function p(e){const t=e.getIn(["config","processors"],[]);return t.includes("accumulator")||t.includes(l.a)}const d=({date:e,frequency:t})=>{const n=a.a.moment(e);switch(t){case c.DAY:return n.add(1,"days").format(u);case c.WEEK:return n.add(1,"weeks").format(u);case c.MONTH:return n.add(1,"months").format(u);case c.QUARTER:return n.add(3,"months").format(u);case c.YEAR:return n.add(1,"years").format(u);default:return n.format(u)}},m=({goalsByMonth:e})=>e.flatMap(e=>{const t=a.a.moment(e.get("date")),n=t.daysInMonth(),o=e.get("value")/n,s=e=>("00"+e).slice(-2),i=e=>a.a.moment(t.format("YYYY-MM-"+s(e))).format(u);return Object(r.Range)(1,n+1).map(i).map(e=>Object(r.Map)({date:e,value:o}))}),g=({goalsByMonth:e=Object(r.List)(),startDate:t,endDate:n})=>{const o=e.toMap().mapKeys((e,t)=>t.get("date")),s=[],i=a.a.moment(t);for(;!i.isAfter(n);){const e=i.format(u),t=o.getIn([e,"value"],0);s.push(Object(r.Map)({date:e,value:t}));i.add(1,"months")}return Object(r.List)(s)},b=({dailyGoals:e,dates:t})=>{const n=[];let o=0,s=0;const i=t=>a.a.moment(e.getIn([t,"date"])),c=t=>e.getIn([t,"value"]),l=e=>a.a.moment(t.get(e));if(e.count()>0){const a=l(s);for(;i(o).isBefore(a)&&o<e.count();)o++;for(;s<t.count()-1;){const t=l(s),a=l(s+1);let p=0;if(i(o).isBefore(a))for(;o<e.count()&&!i(o).isSame(a);){p+=c(o);o++}n.push(Object(r.Map)({date:t.format(u),value:p}));s++}}return Object(r.List)(n)};function O({goal:e},t,n){if(!n.length)return Object(r.Map)({});const o=t.getIn(["config","frequency"]),{id:i}=n[0],{id:c}=n[n.length-1],l=a.a.moment(i).startOf("month"),u=d({date:c,frequency:o});let g=Object(r.List)();for(;l.isSameOrBefore(u);){g=g.push(Object(r.Map)({date:l.format("YYYY-MM-DD"),value:e}));l.add(1,"month")}const O=m({goalsByMonth:g}),f=b({dailyGoals:O,dates:Object(r.List)([...n.map(({id:e})=>e),u])}),E=p(t)?f.reduce((e,t,n)=>[...e,(e[n-1]||0)+t.get("value",0)],[]):f.map(e=>e.get("value",0)).toJS();return n.map((e,t)=>Object.assign({},e,{yLabel:Object(s.c)(E[t]),y:E[t]}))}const f=(e,t,n)=>{const s=["config","context","context","operator"];if("HAS_PROPERTY"===e.getIn(s))return Promise.resolve(null);const c=O(n,e,t.toJS()),l=c.map(e=>({date:e.id,value:e.y})),u=Object(r.List)(c).reduce((e,t)=>e.set(t.id,Object(r.Map)({label:t.xLabel})),Object(r.Map)()),p=Object(r.Map)({[X]:{type:o.e,references:u},[Z]:{type:o.i,label:a.a.text("reporting-data.customSeries.name.goal")}});return Promise.resolve(Object(i.a)({data:l,properties:p}))},E=(e,t,n)=>{const r=t.getIn(["dimension","buckets"]).map(e=>({id:e.get("key"),xLabel:e.get("keyLabel")}));return f(e,r,n)},y=(e,t,n)=>{const r=e.getIn(["config","dimensions",0]),a=t.get("data").map(e=>e.get(r)).toOrderedSet().toList().map(e=>({id:e,xLabel:Object(i.g)(t,r,e)}));return f(e,a,n)};var T=n("RoQ4"),I=n("07iG"),h=n("U4wD"),j=n("U9YW"),A=n("u9+u"),S=n("ZUx/"),_=n("ahZR"),N=n("YPIy"),R=n("JmCp"),C=n("YTLQ"),v=n("eY2p"),L=n("1WZR");const D="count",M="YYYY-MM-DD",P=(e,t)=>Object(v.a)().then(n=>{const{user:{scopes:a}}=n;return Object(L.a)(a,e,t).then(r.fromJS)}),U=(e,t="hs_engagement_type")=>Object(T.a)({operator:_.f,property:t,values:[e]}),k=U("MEETING","engagement.type"),x=U("CALL","engagement.type"),w=U("MEETING"),F=U("CALL"),Y=Object(r.fromJS)({[N.b]:(e,t)=>e===A.DEALS&&t.contains(D),[N.d]:e=>e===A.DEALS,[N.e]:(e,t)=>e===A.TICKETS&&t.contains(D),[N.c]:(e,t,n)=>{const r=Object(T.a)(Object(I.a)(n,"engagement.type")||Object(I.a)(n,"hs_engagement_type")),a=r.equals(w)||r.equals(k);return t.contains(D)&&(e===A.MEETINGS||e===A.ENGAGEMENT&&a)},[N.a]:(e,t,n)=>{const r=Object(T.a)(Object(I.a)(n,"engagement.type")||Object(I.a)(n,"hs_engagement_type")),a=r.equals(F)||r.equals(x);return t.contains(D)&&(e===A.CALLS||e===A.ENGAGEMENT&&a)}}),B=e=>{const t=e.get("config"),n=t.get("dataType");if(t.get("configType")!==j.f)return null;const r=t.get("metrics").map(e=>e.get("property")).toSet();return Y.findKey(e=>e(n,r,t))},G=({report:e,buckets:t,goalResponse:n,fiscalYearMonthName:o})=>{const s=e.getIn(["config","frequency"],c.MONTH),i=e.get("config"),l=Object(R.f)(i)&&Object(R.e)(i)&&Object(R.h)(s,o),u=Object(R.c)(c.YEAR,o);l&&(t=t.map(e=>a.a.moment(e).subtract(1,"year").add(u,"months").format(M)));const p=t.update(e=>e.push(d({date:e.last(),frequency:s}))),O="YYYYMMDD",{config:{dataType:f,filters:{dateRange:{value:E}={}}={}}}=e.toJS(),y=Object(R.e)(i),{startDate:T,endDate:I}=Object(C.a)(E,O,f,y,o),h=a.a.moment(T,O),j=a.a.moment(I,O),A=0!==n.size?n.first().get("key"):a.a.moment(p.first()).format("YYYY-MM-01"),S=0!==n.size?n.last().get("key"):a.a.moment(p.last()).format("YYYY-MM-01"),_=n.map(e=>Object(r.Map)({date:e.get("key"),value:e.get("sum")})),N=g({goalsByMonth:_,startDate:A,endDate:S}),v=m({goalsByMonth:N}).filter(e=>{const t=a.a.moment(e.get("date"),O);return!t.isBefore(h)&&!t.isAfter(j)}),L=b({dailyGoals:v,dates:p});return l?L.map(e=>e.update("date",e=>a.a.moment(e).add(1,"year").subtract(u,"months").format(M))):L},V=(e,t,n)=>{if(t.isEmpty())return null;const r=t.first(),o=t.last();if(!a.a.moment(r).isValid()||!a.a.moment(o).isValid())return null;const s=e.get("frequency",c.MONTH);let i=a.a.moment(r).month()+1,l=a.a.moment(r).year();const u=d({date:o,frequency:s});let p=a.a.moment(u).month()+1,m=a.a.moment(u).year();if(Object(R.f)(e)&&Object(R.e)(e)&&Object(R.h)(s,n)){const e=Object(R.c)(c.YEAR,n);i=(i-1+e)%12+1;p=(p-1+e)%12+1;l=a.a.moment(l,"YYYY").subtract(1,"year").year();m=a.a.moment(m,"YYYY").subtract(1,"year").year()}return{startDate:{month:i,year:l},endDate:{month:p,year:m}}},H=Object(r.Set)([A.DEALS,A.TICKETS]),W=e=>{const t=e.get("dataType"),n=Object(I.a)(e,"pipeline")||Object(I.a)(e,"hs_pipeline");return H.contains(t)&&n?{pipelinesOperator:n.get("operator"),pipelines:n.get("values")}:null};function K(e,t){const n=Object(r.fromJS)(t).toMap().mapKeys((e,t)=>t.get("date")).map(e=>e.get("value")),a=p(e),o=[];t.forEach((e,t)=>{const r=n.get(e.get(X),0),s=a?(0===t?0:o[t-1][Z])+r:r;o.push({[X]:e.get(X),[Z]:s})});return o}const q=(e,t,n,r)=>{const a=e.get("config"),o=W(a),s=V(a,t,r);return s&&n?Object(L.b)(e).then(e=>e?e.map(e=>e.get("ownerId")):[]).then(e=>0!==e.length?{assignees:e,assigneesOperator:_.f}:null).then(e=>Object.assign({},o,{},e,{dateRange:s})):null},Q=(e,t,n)=>{if(!Object(L.d)(e)||e.get("chartType")===h.l)return Promise.resolve(e);const s=B(e);return Promise.all([q(e,t,s,n),Object(v.a)()]).then(([c,l])=>c&&Object(L.c)(l)?P(c,s,l).then(c=>{const l=K(e,G({report:e,buckets:t,goalResponse:c,fiscalYearMonthName:n})),u=l.reduce((e,t)=>e.set(t[X],Object(r.Map)({label:a.a.moment(t[X]).format("l")})),Object(r.Map)());return Object(i.a)({data:l,properties:Object(r.Map)({[X]:{type:o.e,references:u},[Z]:{type:o.i,label:a.a.text("reporting-data.customSeries.goals."+s)}})})}):Promise.resolve(null))},$=(e,t)=>{const n=t.getIn(["dimension","buckets"],Object(r.List)()).map(e=>e.get("key"));return Q(e,n)},J=(e,t,n=S.a)=>{const r=e.getIn(["config","dimensions",0]),a=t.get("data").map(e=>e.get(r)).toOrderedSet().toList();return Q(e,a,n)};n.d(t,"a",(function(){return z}));n.d(t,"b",(function(){return X}));n.d(t,"c",(function(){return Z}));n.d(t,"d",(function(){return ne}));const z="custom-series-",X="date",Z="value",ee={"datetime.goal":E,"datetime.quota":$},te={"datetime.goal":y,"datetime.quota":J};function ne(e,t,n=!1,a){const o=e&&Object(r.fromJS)(e.getIn(["displayParams","customSeries"]))||Object(r.List)(),s=n?te:ee,i=o.filter(e=>"string"==typeof e?s[e]:s[e.get("type")]).map(n=>{const r=s["string"==typeof n?n:n.get("type")];return r(e,t,"string"==typeof n?a:n.toJS())}).toJS();return 0===i.count?Object(r.Map)():Promise.all(i).then(e=>Object(r.fromJS)(e).toMap().mapKeys(e=>`${z}${e}`))}},GPm2:function(e,t,n){"use strict";var r=n("DIPK"),a=n("bw/x"),o=n("7Y4s");const s=e=>Object(o.a)(Object.assign({cacheKey:r.X,createFetchData:a.e,fetchData:a.o},e));t.a=s()},GT9n:function(e,t,n){"use strict";n.d(t,"p",(function(){return m}));n.d(t,"g",(function(){return b}));n.d(t,"m",(function(){return f}));n.d(t,"c",(function(){return y}));n.d(t,"o",(function(){return T}));n.d(t,"b",(function(){return I}));n.d(t,"a",(function(){return j}));n.d(t,"f",(function(){return A}));n.d(t,"e",(function(){return S}));n.d(t,"r",(function(){return _}));n.d(t,"q",(function(){return R}));n.d(t,"l",(function(){return C}));n.d(t,"k",(function(){return L}));n.d(t,"s",(function(){return D}));n.d(t,"d",(function(){return M}));n.d(t,"n",(function(){return P}));n.d(t,"i",(function(){return k}));n.d(t,"t",(function(){return x}));n.d(t,"j",(function(){return w}));n.d(t,"h",(function(){return F}));var r=n("QYOI"),a=n("XcLi"),o=n("Cswz"),s=n("YqTT"),i=n("QP1J"),c=n("jsKR"),l=n("kaWj"),u=n("LA5X"),p=n("DIgQ"),d=n("u4JO");const m={DIMENSION:"DIMENSION",MEASURE:"MEASURE"},g=a.l(m,"Role"),b={DISCRETE:"DISCRETE",CONTINUOUS:"CONTINUOUS"},O=a.l(b,"DomainType"),f=c.b,E=a.l(f,"FieldType"),y={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",DATETIME:"datetime",DATE:"date"},T=(a.l(y,"BasicType"),{NUMBER:"number",STRING:"string",BOOLEAN:"boolean",DATETIME:"datetime",DATE:"date",DURATION:"duration",CURRENCY:"currency",HTML:"html"}),I=c.a,h=a.l(I,"AggregationType"),j=Object(r.fromJS)({[I.COUNT]:{name:"COUNT",displayI18nKey:"reporting-snowflake.aggregations.COUNT",supportedFieldTypes:[]},[I.DISTINCT_COUNT]:{name:"DISTINCT_COUNT",displayI18nKey:"reporting-snowflake.aggregations.DISTINCT_COUNT",supportedFieldTypes:[f.STRING,f.NUMBER,f.DATE,f.BOOL,f.ENUMERATION,f.DATETIME,f.PHONE_NUMBER,f.CURRENCY_NUMBER]},[I.SUM]:{name:"SUM",displayI18nKey:"reporting-snowflake.aggregations.SUM",supportedFieldTypes:[f.NUMBER,f.CURRENCY_NUMBER]},[I.AVERAGE]:{name:"AVERAGE",displayI18nKey:"reporting-snowflake.aggregations.AVERAGE",supportedFieldTypes:[f.NUMBER,f.CURRENCY_NUMBER]},[I.MIN]:{name:"MIN",displayI18nKey:"reporting-snowflake.aggregations.MIN",supportedFieldTypes:[f.NUMBER,f.DATE,f.DATETIME,f.CURRENCY_NUMBER]},[I.MAX]:{name:"MAX",displayI18nKey:"reporting-snowflake.aggregations.MAX",supportedFieldTypes:[f.NUMBER,f.DATE,f.DATETIME,f.CURRENCY_NUMBER]},[I.DELEGATE]:{name:"DELEGATE",displayI18nKey:"reporting-snowflake.aggregations.DELEGATE",supportedFieldTypes:[f.STRING,f.NUMBER,f.DATE,f.BOOL,f.ENUMERATION,f.DATETIME,f.PHONE_NUMBER,f.CURRENCY_NUMBER]}}),A={DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH",QUARTER:"QUARTER",YEAR:"YEAR"},S=(Object(r.fromJS)({[A.DAY]:{name:"DAY",displayI18nKey:"reporting-snowflake.date-trunc.DAY",supportedFieldTypes:[f.DATETIME,f.DATE]},[A.WEEK]:{name:"WEEK",displayI18nKey:"reporting-snowflake.date-trunc.WEEK",supportedFieldTypes:[f.DATETIME,f.DATE]},[A.MONTH]:{name:"MONTH",displayI18nKey:"reporting-snowflake.date-trunc.MONTH",supportedFieldTypes:[f.DATETIME,f.DATE]},[A.QUARTER]:{name:"QUARTER",displayI18nKey:"reporting-snowflake.date-trunc.QUARTER",supportedFieldTypes:[f.DATETIME,f.DATE]},[A.YEAR]:{name:"YEAR",displayI18nKey:"reporting-snowflake.date-trunc.YEAR",supportedFieldTypes:[f.DATETIME,f.DATE]}}),{HOUR:"HOUR",DAY:"DAY",DAYOFWEEK:"DAYOFWEEK",WEEK:"WEEK",MONTH:"MONTH",QUARTER:"QUARTER",DAYOFYEAR:"DAYOFYEAR",YEAR:"YEAR"}),_=(Object(r.fromJS)({[S.HOUR]:{name:"HOUR",displayI18nKey:"reporting-snowflake.date-part.HOUR",supportedFieldTypes:[f.DATETIME]},[S.DAY]:{name:"DAY",displayI18nKey:"reporting-snowflake.date-part.DAY",supportedFieldTypes:[f.DATETIME,f.DATE]},[S.DAYOFWEEK]:{name:"DAYOFWEEK",displayI18nKey:"reporting-snowflake.date-part.DAYOFWEEK",supportedFieldTypes:[f.DATETIME,f.DATE]},[S.WEEK]:{name:"WEEK",displayI18nKey:"reporting-snowflake.date-part.WEEK",supportedFieldTypes:[f.DATETIME,f.DATE]},[S.MONTH]:{name:"MONTH",displayI18nKey:"reporting-snowflake.date-part.MONTH",supportedFieldTypes:[f.DATETIME,f.DATE]},[S.QUARTER]:{name:"QUARTER",displayI18nKey:"reporting-snowflake.date-part.QUARTER",supportedFieldTypes:[f.DATETIME,f.DATE]},[S.DAYOFYEAR]:{name:"DAYOFYEAR",displayI18nKey:"reporting-snowflake.date-part.DAYOFYEAR",supportedFieldTypes:[f.DATETIME,f.DATE]},[S.YEAR]:{name:"YEAR",displayI18nKey:"reporting-snowflake.date-part.YEAR",supportedFieldTypes:[f.DATETIME,f.DATE]}}),{DATE_TRUNC:"DATE_TRUNC",DATE_PART:"DATE_PART"}),N=a.l(_,"TransformType"),R=a.i({type:N,arguments:a.d(a.a())},"Transform"),C={ASSOCIATION:"ASSOCIATION",TABLE:"TABLE",EXPRESSION:"EXPRESSION"},v=a.l(C,"FieldSources"),L=a.i({name:a.k(),table:a.k().optional(),source:v.defaultValue(C.TABLE),type:E},"Field"),D="@@MISSING@@",M=a.i({role:g,domain:O,field:L,sort:o.a.optional(),limit:s.a.optional(),fillDateInRaaS:a.b().optional(),includeUndefinedBuckets:a.b().defaultValue(!0),undefinedBucket:a.k().optional(),transform:R.optional(),useFiscalYear:a.b().defaultValue(!1),aggregation:h.optional(),fixedMeasure:a.b().defaultValue(!1),fixed:a.d(a.k()).optional(),name:a.k().optional(),alias:a.k()},"Column"),P=(Object(r.fromJS)({[d.g.AUTO]:{displayI18nKey:"reporting-snowflake.column-options.formatting.negative-number-types.auto"},[d.g.PARANTHESES]:{displayI18nKey:"reporting-snowflake.column-options.formatting.negative-number-types.parantheses"},[d.g.LEFT]:{displayI18nKey:"reporting-snowflake.column-options.formatting.negative-number-types.left"},[d.g.RIGHT]:{displayI18nKey:"reporting-snowflake.column-options.formatting.negative-number-types.right"}}),Object(r.fromJS)({[d.f.AUTO]:{displayI18nKey:"reporting-snowflake.formatTypes.AUTO"},[d.f.PERCENTAGE]:{displayI18nKey:"reporting-snowflake.formatTypes.PERCENTAGE"},[d.f.NUMBER]:{displayI18nKey:"reporting-snowflake.formatTypes.NUMBER"},[d.f.CURRENCY]:{displayI18nKey:"reporting-snowflake.formatTypes.CURRENCY"}})),U=a.h("type",{[d.i]:d.h,[d.k]:d.j,[d.d]:d.c,[d.b]:d.a},"Formatting"),k=a.i({format:U},"EncodingOptions"),x=k({format:{type:d.b,negativeSymbol:d.g.AUTO,customPrecision:2,useThousandsSeparator:!0}}),w=a.i({alias:a.k(),label:a.k(),derived:a.b(),hidden:a.b(),valid:a.b(),input:a.k().defaultValue(""),expression:i.b,type:l.q,context:p.a.defaultValue(p.b.UNDEFINED),editor:u.c.defaultValue(Object(u.b)({editorState:{}})),formatHint:d.e.defaultValue(d.f.AUTO)},"ExpressionField"),F=a.i({column:a.k(),options:k.defaultValue(x)},"Encoding")},GwuO:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("QgEn"),a=n("VfuR"),o=n.n(a),s=n("Ktcs"),i=n("9c9T"),c=n("xnR0");const{Raise:l}=Object(i.a)("Error",c.a.propTypes.error),u=e=>{const{error:t,type:n}=e;return Object(r.jsxs)(s.Fragment,{children:[Object(r.jsx)("span",{"data-test-id":"error-boundary"}),Object(r.jsx)(l,{value:{error:t,type:n},children:Object(r.jsx)(c.a,Object.assign({},e))})]})};u.propTypes={type:c.a.propTypes.type,error:o.a.any.isRequired}},HHUG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QYOI");const a=e=>e.reduce((e,t)=>e.update(t.get("property"),e=>e?e.update("metricTypes",e=>e.concat(t.get("metricTypes").filter(t=>!e.includes(t)))):t),Object(r.Map)()),o=e=>a(e).reduce((e,t)=>e+t.get("metricTypes").count(),0)},HZJg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("QYOI");const a="reportingDataPerf_start",o="reportingDataPerf_end",s=(e,t)=>{if(e.has(t)){const n=e.get(t);console.warn("ReportingPerf",`${t} was already marked with \`${n}\`!`)}return e.set(t,window.performance.now())};class i{constructor(){this.markStart=()=>{this.marks=s(this.marks,a)};this.markEnd=()=>{this.marks=s(this.marks,o);return this.measure()};this.measure=()=>{const e=this.marks.get(a),t=this.marks.get(o);return null==e||null==t?NaN:t-e};this.getMarks=()=>this.marks;this.marks=Object(r.Map)()}}},HjNE:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n.d(t,"a",(function(){return s}));var r=n("nDpY"),a=n.n(r);const o=()=>`/browse/${a.a.get()}/upgrade/reporting`,s="https://knowledge.hubspot.com/account/what-happens-when-i-downgrade-from-a-paid-marketing-hub-or-sales-hub-account"},HmtI:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"a",(function(){return o}));const r="PENDING",a="SUCCEEDED",o="ERRORED"},"I4K/":function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"AssociationDisplayType",(function(){return zO}));n.d(r,"BooleanDisplayType",(function(){return XO}));n.d(r,"CountDisplayType",(function(){return ZO}));n.d(r,"CtaDisplayType",(function(){return ef}));n.d(r,"DateDisplayType",(function(){return tf}));n.d(r,"DatetimeDisplayType",(function(){return nf}));n.d(r,"DefaultDisplayType",(function(){return rf}));n.d(r,"EmailLinkDisplayType",(function(){return af}));n.d(r,"EmailSubscriptionDisplayType",(function(){return of}));n.d(r,"EnumerationDisplayType",(function(){return sf}));n.d(r,"NoDisplayType",(function(){return cf}));n.d(r,"NumberDisplayType",(function(){return lf}));n.d(r,"PercentageDisplayType",(function(){return uf}));n.d(r,"PropertyDisplayType",(function(){return pf}));n.d(r,"RollingDateDisplayType",(function(){return df}));n.d(r,"RollingInequalityDisplayType",(function(){return mf}));n.d(r,"RollingPropertyUpdatedDisplayType",(function(){return gf}));n.d(r,"RollingWithUnitDisplayType",(function(){return bf}));n.d(r,"StringDisplayType",(function(){return Of}));n.d(r,"RegexString",(function(){return ff}));n.d(r,"MomentDate",(function(){return Ef}));var a={};n.r(a);n.d(a,"AssociationInputType",(function(){return yf}));n.d(a,"CtaInputType",(function(){return Tf}));n.d(a,"DefaultInputType",(function(){return If}));n.d(a,"EmailLinkInputType",(function(){return hf}));n.d(a,"EmailSubscriptionInputType",(function(){return jf}));n.d(a,"RangeInputType",(function(){return Af}));n.d(a,"PropertyInputType",(function(){return Sf}));n.d(a,"RollingDateInputType",(function(){return _f}));n.d(a,"RollingInequalityInputType",(function(){return Nf}));n.d(a,"RollingPropertyUpdatedInputType",(function(){return Rf}));n.d(a,"RollingWithUnitInputType",(function(){return Cf}));n.d(a,"NoInputType",(function(){return vf}));n.d(a,"UrlInputType",(function(){return Lf}));var o={};n.r(o);n.d(o,"After",(function(){return Kf}));n.d(o,"Any",(function(){return qf}));n.d(o,"AssociatedTo",(function(){return Qf}));n.d(o,"Before",(function(){return $f}));n.d(o,"BeforeNow",(function(){return Jf}));n.d(o,"Contain",(function(){return zf}));n.d(o,"ContainAll",(function(){return Xf}));n.d(o,"ContainAllTeams",(function(){return Zf}));n.d(o,"ContainAny",(function(){return eE}));n.d(o,"CtaHasClicked",(function(){return vE}));n.d(o,"CtaHasNotClicked",(function(){return LE}));n.d(o,"CtaHasNotSeen",(function(){return DE}));n.d(o,"CtaHasSeen",(function(){return ME}));n.d(o,"DeprecatedFilter",(function(){return FE}));n.d(o,"EmailBounced",(function(){return YE}));n.d(o,"EmailLinkClicked",(function(){return BE}));n.d(o,"EmailMarked",(function(){return GE}));n.d(o,"EmailOpened",(function(){return VE}));n.d(o,"EmailOpenedButLinkNotClicked",(function(){return HE}));n.d(o,"EmailReceived",(function(){return WE}));n.d(o,"EmailOpenedButNotReplied",(function(){return KE}));n.d(o,"EmailReceivedButNotOpened",(function(){return qE}));n.d(o,"EmailReplied",(function(){return QE}));n.d(o,"EmailSent",(function(){return $E}));n.d(o,"EmailSentButLinkNotClicked",(function(){return JE}));n.d(o,"EmailSentButNotReceived",(function(){return zE}));n.d(o,"EmailUnsubscribed",(function(){return XE}));n.d(o,"EmailSubscriptionNotOpted",(function(){return ZE}));n.d(o,"EmailSubscriptionOptIn",(function(){return ey}));n.d(o,"EmailSubscriptionOptOut",(function(){return ty}));n.d(o,"EndsWith",(function(){return ny}));n.d(o,"EndsWithAny",(function(){return ry}));n.d(o,"Equal",(function(){return ay}));n.d(o,"EqualAll",(function(){return oy}));n.d(o,"EqualAny",(function(){return sy}));n.d(o,"EventCompleted",(function(){return iy}));n.d(o,"EventNotCompleted",(function(){return cy}));n.d(o,"EverContained",(function(){return ly}));n.d(o,"EverContainedAll",(function(){return uy}));n.d(o,"EverContainedAny",(function(){return py}));n.d(o,"EverEqual",(function(){return dy}));n.d(o,"EverEqualAny",(function(){return my}));n.d(o,"EverIn",(function(){return gy}));n.d(o,"FormFilledOut",(function(){return fy}));n.d(o,"FormNotFilledOut",(function(){return Ey}));n.d(o,"Greater",(function(){return yy}));n.d(o,"GreaterOrEqual",(function(){return Ty}));n.d(o,"GreaterRolling",(function(){return hy}));n.d(o,"GreaterThanRolling",(function(){return Sy}));n.d(o,"In",(function(){return _y}));n.d(o,"InImport",(function(){return Ny}));n.d(o,"InRange",(function(){return Ry}));n.d(o,"InRollingDateRange",(function(){return ST}));n.d(o,"Known",(function(){return _T}));n.d(o,"Less",(function(){return NT}));n.d(o,"LessOrEqual",(function(){return RT}));n.d(o,"LessRolling",(function(){return vT}));n.d(o,"LessThanRolling",(function(){return MT}));n.d(o,"ListIsMember",(function(){return PT}));n.d(o,"ListIsNotMember",(function(){return UT}));n.d(o,"Near",(function(){return xT}));n.d(o,"NeverContained",(function(){return wT}));n.d(o,"NeverContainedAll",(function(){return FT}));n.d(o,"NeverEqual",(function(){return YT}));n.d(o,"NeverEqualAny",(function(){return BT}));n.d(o,"NeverIn",(function(){return GT}));n.d(o,"NotContain",(function(){return VT}));n.d(o,"NotContainAll",(function(){return HT}));n.d(o,"NotContainAny",(function(){return WT}));n.d(o,"NotEqual",(function(){return KT}));n.d(o,"NotEqualAll",(function(){return qT}));n.d(o,"NotEqualAny",(function(){return QT}));n.d(o,"SurveyMonkeyHasResponded",(function(){return $T}));n.d(o,"SurveyMonkeyHasAnswered",(function(){return JT}));n.d(o,"SurveyMonkeyNotHasResponded",(function(){return zT}));n.d(o,"NotIn",(function(){return XT}));n.d(o,"NotInImport",(function(){return ZT}));n.d(o,"NotInRange",(function(){return eI}));n.d(o,"NotKnown",(function(){return tI}));n.d(o,"NotUpdatedInLastXDays",(function(){return nI}));n.d(o,"NotWildCardEqual",(function(){return aI}));n.d(o,"PageViewContain",(function(){return oI}));n.d(o,"PageViewEqual",(function(){return sI}));n.d(o,"PageViewMatchRegex",(function(){return iI}));n.d(o,"PageViewNotContain",(function(){return cI}));n.d(o,"PageViewNotEqual",(function(){return lI}));n.d(o,"PageViewNotMatchRegex",(function(){return uI}));n.d(o,"PrivacyConsentCompleted",(function(){return pI}));n.d(o,"PrivacyConsentNotCompleted",(function(){return dI}));n.d(o,"StartsWith",(function(){return mI}));n.d(o,"StartsWithAny",(function(){return gI}));n.d(o,"UpdatedAfter",(function(){return bI}));n.d(o,"UpdatedBefore",(function(){return OI}));n.d(o,"UpdatedInLastXDays",(function(){return fI}));n.d(o,"WebinarHasAttended",(function(){return EI}));n.d(o,"WebinarHasRegistered",(function(){return yI}));n.d(o,"WebinarNotHasAttended",(function(){return TI}));n.d(o,"WebinarNotHasRegistered",(function(){return II}));n.d(o,"WildCardEqual",(function(){return hI}));n.d(o,"WorkflowActive",(function(){return jI}));n.d(o,"WorkflowCompleted",(function(){return AI}));n.d(o,"WorkflowEnrolled",(function(){return SI}));n.d(o,"WorkflowMetGoal",(function(){return _I}));n.d(o,"WorkflowNotActive",(function(){return NI}));n.d(o,"WorkflowNotCompleted",(function(){return RI}));n.d(o,"WorkflowNotEnrolled",(function(){return CI}));n.d(o,"WorkflowNotMetGoal",(function(){return vI}));n.d(o,"EverEqualAll",(function(){return LI}));n.d(o,"NeverEqualAll",(function(){return DI}));n.d(o,"AfterDate",(function(){return MI}));n.d(o,"BeforeDate",(function(){return PI}));n.d(o,"EqualTimePoint",(function(){return UI}));n.d(o,"BeforeTimePoint",(function(){return kI}));n.d(o,"AfterTimePoint",(function(){return xI}));n.d(o,"BetweenTimePoints",(function(){return wI}));n.d(o,"NotBetweenTimePoints",(function(){return FI}));var s={};n.r(s);n.d(s,"condition",(function(){return u9}));n.d(s,"render",(function(){return p9}));n.d(s,"renderWithCondition",(function(){return d9}));n.d(s,"__TESTABLE__",(function(){return m9}));var i={};n.r(i);n.d(i,"condition",(function(){return O9}));n.d(i,"render",(function(){return f9}));n.d(i,"renderWithCondition",(function(){return E9}));var c={};n.r(c);n.d(c,"getComparisonRangeText",(function(){return A9}));n.d(c,"condition",(function(){return _9}));n.d(c,"render",(function(){return N9}));n.d(c,"renderWithCondition",(function(){return R9}));n.d(c,"__TESTABLE__",(function(){return C9}));var l=n("xA3K"),u=n("QgEn"),p=n("Ktcs"),d=n("eigc"),m=n("bt3G"),g=n("XSXw"),b=n("QYOI"),O=n.n(b),f=n("U9YW"),E=n("BGD4"),y=n("4Nkb"),T=n("KNLt"),I=n("OOsp"),h=n("npjq"),j=n("/yPC"),A=n("u9+u"),S=n("sNkl"),_=n("hZMd"),N=n("lKVk"),R=n("ahZR"),C=n("ZM7t"),v=n("O3Yl"),L=n("3YOP"),D=n("YTLQ"),M=n("88Rc"),P=n("V4H+"),U=n("YbiH"),k=n("RoQ4"),x=n("KPJb"),w=n("ZUx/"),F=n("66sF"),Y=n("JmCp");const B=(e,t)=>n=>{const r=t.get(t.count()-2),a=t.last(),o=Object(x.c)(e);return Object(M.b)(o,r).then(e=>N.a.includes(e.get("type"))&&"count"!==r?n.update("custom",Object(b.List)(),t=>(a===E.SUM?t.push(Object(b.fromJS)({property:e.get("name"),operator:R.i,value:0})):t).push(Object(b.fromJS)({property:e.get("name"),operator:R.e}))):n)},G=(e,t,n={})=>t=>{const r=e.get("compare");if(!r)return t;const a=Object(Y.e)(e);return t.updateIn(["dateRange","value"],t=>{const o=Object(b.fromJS)(Object(D.a)(t.toJS(),"YYYY-MM-DD",e.get("dataType"),a,n.fiscalYearMonthName)),s="PRIOR_YEAR"===r?Object(j.b)(o):Object(j.c)(o,e.get("dataType"),a);return n.shouldUseCompare?s:t})},V=e=>{const t="dealstage.probability";return"OPEN"===e?Object(k.a)({property:t,operator:"NOT_IN",values:Object(b.List)([0,1])}):Object(k.a)({property:t,operator:"EQ",value:"WON"===e?1:0})},H=(e,t)=>A.INBOUND_DB_DATA_TYPES.includes(e)&&t===v.k?{propertySuffix:"raw"}:{},W=[S.b.IS_AFTER_DATE,S.b.ALL],K="YYYY-MM-DD",q=(e,t,n={})=>{const r=t.get("dataType"),a=t.get("frequency"),o=t.getIn(["filters","dateRange"]),s=o.get("value").toJS(),i=o.getIn(["value","rangeType"],""),c=[S.b.ALL,S.b.ROLLING].includes(i),l=s.entireCurrentUnit||c,u=o.get("useFiscalYear",!1)||c,p=t.get("useFiscalYearInAggregation",!1),d=n.fiscalYearMonthName||w.a,m="compare"===n.datasetKey&&"CUSTOM"===i,g=Object(Y.h)(a,d)&&(Object(Y.i)(i)||m),O=p&&g,f=(u&&!p||!u&&p)&&g,E=Object(D.a)(s,K,r,u,d),y=h.a.moment.portalTz(E.startDate,K),T=h.a.moment.portalTz(E.endDate,K);let I=h.a.moment.portalTz(e,K);O&&(I=I.subtract(1,"year"));const j=Object(L.a)({date:I,frequency:a,dataType:r,useFiscalYear:!1,fiscalYearMonthName:d}),A=Object(Y.c)(F.YEAR,d),_=I.clone().add(A,"months");let N=j.clone().add(A,"months").endOf("month");l&&!m||(N=h.a.moment.min(N,T));const R=u&&(y.isAfter(I)||T.isBefore(j)),v=O&&(y.isAfter(_)||T.isBefore(N));if(f&&(R||v)){const e=u?I:_,t=u?j:N;return Object(b.Map)({rangeType:S.b.CUSTOM,startDate:h.a.moment.max(y,e).format(K),endDate:h.a.moment.min(T,t).format(K)})}if(O)return Object(b.Map)({rangeType:S.b.CUSTOM,startDate:_.format(K),endDate:N.format(K)});const M=t.get("processors",Object(b.List)()).includes(C.a)||y.isAfter(e)?E.startDate:e,P=W.includes(E.rangeType)?j.format(K):h.a.moment.min(T,j).format(K);return Object(b.Map)({rangeType:S.b.CUSTOM,startDate:M,endDate:P})},Q=(e,t=Object(b.Map)(),n,r,a)=>{const o=r.get("dataType"),s=t.get("type")||"string";if(s===v.e||s===v.d){const t=r.get("frequency");if(Object(Y.e)(r)||Object(Y.f)(r)){const t=q(n,r,a);return Object(b.fromJS)({property:e,operator:R.a,dateTimeFormat:"DATE",value:t.get("startDate"),highValue:t.get("endDate")})}const s=Object(L.a)({date:h.a.moment.portalTz(n,"YYYY-MM-DD"),frequency:t,dataType:o}).format("YYYY-MM-DD");return r.get("processors",Object(b.List)()).includes("accumulate")?Object(b.fromJS)({property:e,operator:R.h,dateTimeFormat:"DATE",value:s}):Object(b.fromJS)({property:e,operator:R.a,dateTimeFormat:"DATE",value:n,highValue:s})}return"BUCKET_dealProgress"===e||"dealstage.probability"===e?V(n):n===_.a.STRING||String(n)===String(t.get("defaultNullValue"))&&"string"!=typeof n&&t.has("defaultNullValue")?Object(k.a)({property:e,operator:R.j}):s!==v.g||Object(U.a)(o)?Object(k.a)(Object.assign({property:e,operator:R.b,value:n},H(o,s))):Object(k.a)(Object.assign({property:e,operator:R.f,values:[n]},H(o,s)))},$=(e,t,n={})=>{const r=Object(x.c)(e),a=e.getIn(["filters","dateRange"]);return Promise.all(e.get("dimensions",Object(b.List)()).map(e=>{if(r===A.CROSS_OBJECT){const{dataType:t,propertyName:n}=Object(P.a)(e);return Object(M.b)(t,n)}return Object(M.b)(r,e)}).toJS()).then(r=>e.get("dimensions",Object(b.List)()).reduce((o,s,i)=>{if(t.count()<=i+2)return o;const c=t.get(i);if(a&&s===a.get("property")){const t=q(c,e,n);return o.setIn(["dateRange","value"],t)}return o.update("custom",Object(b.List)(),t=>t.push(Q(s,r[i],c,e,n)))},e.get("filters")))},J=(e,t,n={})=>{const r=e.update("filters",G(e,t,Object.assign({shouldUseCompare:n.isComparisonPriorPeriod||"compare"===n.datasetKey},n)));return $(r,t,n).then(B(r,t))};var z=n("91Cy"),X=n("U4wD"),Z=n("mtQV"),ee=n("eWZY");const te=e=>(e.get("displayParams")||Object(b.Map)()).delete("checked").delete("columns").delete("customSeries").delete("onRowClick").delete("onRowLinkClick").delete("onClick").delete("onSort").delete("pivot").delete("render").delete("rowsPerPage").delete("showTotals").delete("toggleAllSeries").delete("toggleSeries").delete("showDelta").delete("tableRowExpand").set("drilldown",!0),ne=e=>t=>t.set("processors",(e.getIn(["config","processors"])||Object(b.List)()).filter(ee.c)),re=e=>e.delete("compare").set("offset",0);function ae(e,t,n={}){if(!t)return e;const r=te(e);return Object(b.Map)({chartType:X.l,config:Object(Z.a)(re,ne(e))(t),displayParams:r.set("hideKeyColumn",t.get("configType")===f.e),name:n.name})}var oe=n("jpHT"),se=n("WbQG"),ie=n("sV17"),ce=n("VEo5"),le=n("7lqv"),ue=n("yaFf"),pe=n("l5oV"),de=n("sAns");const me=(e=Object(b.List)())=>{const t=z.a[A.ATTRIBUTION_TOUCH_POINTS].filter(t=>!e.includes(t));return b.OrderedSet.of(...t)},ge=e=>t=>e(Object(b.List)([t])).then(e=>e.valueSeq().getIn([0,"label"])),be={hs_campaign_name:ge(ie.b),hs_contact_company:ge(ce.a),hs_contact_id:ge(le.a),hs_deal_id:ge(ue.a),hs_deal_pipeline:e=>Object(de.a)(A.DEALS)().then(t=>{const n=t.filter(({value:t})=>t===e);return n&&n.length?n[0].label:null}),hs_deal_owner:ge(pe.a)},Oe=(e,t)=>{const n=t.skipLast(2).zip(e.getIn(["config","dimensions"])).map(([e,t])=>({value:e,property:t}));if(n.isEmpty())return Object(se.b)(t.first(),"attributionProperties");const r=n.map(({property:e,value:t})=>{const n=Object(se.b)(e.toLowerCase(),"attributionProperties");let r;r=Object(oe.a)(be,e)?be[e](t):Promise.resolve(Object(se.b)(t.toLowerCase(),"attributionProperties"));return r.then(e=>`${n}: ${e}`)});return Promise.all(r).then(e=>e.join(" & "))},fe=(e,t)=>t.last()===E.DISTINCT_APPROX?f.a:f.e,Ee=(e,t)=>t.last()===E.DISTINCT_APPROX?b.List.of(t.get(-2)):Object(b.List)(),ye=e=>e.getIn(["config","metrics"],Object(b.List)()).filter(e=>["hs_linear_amount","hs_linear_amount_pro","hs_u_amount","hs_w_amount","hs_full_path_amount"].includes(e.get("property"))),Te=(e,t)=>{if(t.last()===E.DISTINCT_APPROX){const n=t.get(-2);return"hs_contact_id"===n?ye(e):"hs_deal_id"===n?ye(e).unshift(Object(I.a)({property:"hs_deal_amount",metricTypes:[E.AVG]})):Object(b.List)()}{const t=e.getIn(["config","metrics"]).map(e=>e.get("property"));return me(e.getIn(["displayParams","hidePropertiesOnDrilldown"],Object(b.List)())).concat(...t).map(e=>Object(I.a)({property:e,metricTypes:[E.COUNT]})).toList()}},Ie=(e,t)=>t.last()===E.DISTINCT_APPROX?Object(b.fromJS)([{order:y.b,property:Te(e,t).getIn([-1,"property"])}]):Object(b.fromJS)([{property:"hs_touchpoint_timestamp",order:y.b}]),he=(e,t,n)=>J(e.get("config"),t,n).then(n=>Object(T.a)({configType:fe(e,t),dataType:A.ATTRIBUTION_TOUCH_POINTS,dimensions:Ee(e,t),filters:n,limit:e.getIn(["config","limit"],5),metrics:Te(e,t),sort:Ie(e,t)})).then(t=>ae(e,t,n));var je={isSupported:e=>e.getIn(["config","dataType"])===A.ATTRIBUTION_TOUCH_POINTS,generate:(e,t,n)=>Promise.all([he(e,t,n),Oe(e,t)]).then(([e,t])=>e.set("name",t).setIn(["displayParams","columns"],Object(b.fromJS)({hs_asset_url:{hideColumn:!0}})))};const Ae=e=>t=>e(Object(b.List)([t])).then(e=>e.valueSeq().getIn([0,"label"])),Se={hs_campaign_guid:Ae(ie.b),hs_contact_id:Ae(le.a),hs_contact_owner:Ae(pe.a)},_e=(e,t)=>{const n=t.skipLast(2).zip(e.getIn(["config","dimensions"])).map(([e,t])=>({value:e,property:t})).map(({property:e,value:t})=>{const n=Object(se.b)(e.toLowerCase(),"contactCreateAttributionProperties");let r;r=Object(oe.a)(Se,e)?Se[e](t):Promise.resolve(Object(se.b)(t.toLowerCase(),"contactCreateAttributionProperties"));return r.then(e=>`${n}: ${e}`)});return Promise.all(n).then(e=>e.join(" & "))},Ne=e=>{const t=e.getIn(["config","metrics"]).map(e=>e.get("property"));return[...z.a[A.CONTACT_CREATE_ATTRIBUTION],...t].map(e=>Object(I.a)({property:e,metricTypes:[E.COUNT]}))},Re=(e,t,n)=>J(e.get("config"),t,n).then(t=>Object(T.a)({configType:f.e,dataType:A.CONTACT_CREATE_ATTRIBUTION,dimensions:b.List.of(),filters:t,limit:e.getIn(["config","limit"],5),metrics:Ne(e),sort:Object(b.fromJS)([{property:"hs_interaction_timestamp",order:y.b}])})).then(t=>ae(e,t,n));var Ce={isSupported:e=>e.getIn(["config","dataType"])===A.CONTACT_CREATE_ATTRIBUTION,generate:(e,t,n)=>Promise.all([Re(e,t,n),_e(e,t)]).then(([e,t])=>e.set("name",t).setIn(["displayParams","columns"],Object(b.fromJS)({hs_asset_url:{hideColumn:!0}})))},ve=n("k+EG");const Le=ve.a.get(A.DEAL_CREATE_ATTRIBUTION),De=e=>t=>e(Object(b.List)([t])).then(e=>e.valueSeq().getIn([0,"label"])),Me={hs_campaign_guid:De(ie.b),hs_contact_company:De(ce.a),hs_contact_id:De(le.a),hs_deal_id:De(ue.a),hs_deal_pipeline:e=>Object(de.a)(A.DEALS)().then(t=>{const n=t.filter(({value:t})=>t===e);return n&&n.length?n[0].label:null}),hs_deal_owner:De(pe.a)},Pe=(e,t)=>{const n=t.skipLast(2).zip(e.getIn(["config","dimensions"])).map(([e,t])=>({value:e,property:t})).map(({property:e,value:t})=>{const n=Object(se.b)(e.toLowerCase(),"dealCreateAttributionProperties");let r;r=Object(oe.a)(Me,e)?Me[e](t):Promise.resolve(Object(se.b)(t.toLowerCase(),"dealCreateAttributionProperties"));return r.then(e=>`${n}: ${e}`)});return Promise.all(n).then(e=>e.join(" & "))},Ue=e=>{const t=e.getIn(["config","metrics"]).map(e=>e.get("property"));return[...z.a[A.DEAL_CREATE_ATTRIBUTION],...t].map(e=>Object(I.a)({property:e,metricTypes:[E.COUNT]}))},ke=(e,t,n)=>J(e.get("config"),t,n).then(t=>Object(T.a)({configType:f.e,dataType:A.CRM_OBJECT,objectTypeId:Le,dimensions:b.List.of(),filters:t,limit:e.getIn(["config","limit"],5),metrics:Ue(e),sort:Object(b.fromJS)([{property:"hs_interaction_timestamp",order:y.b}])})).then(t=>ae(e,t,n));var xe={isSupported:e=>e.getIn(["config","dataType"])===A.CRM_OBJECT&&e.getIn(["config","objectTypeId"])===Le,generate:(e,t,n)=>Promise.all([ke(e,t,n),Pe(e,t)]).then(([e,t])=>e.set("name",t).setIn(["displayParams","columns"],Object(b.fromJS)({hs_asset_url:{hideColumn:!0}})))};const we=e=>e.map(e=>e.update("property",e=>"breakdown"===e?"devicetype":e)).filter(e=>"filters"!==e.get("property"));var Fe={isSupported:e=>e.getIn(["config","dataType"])===A.ANALYTICS_DEVICE_TYPES,generate:(e,t,n)=>{const r=e.get("config");return J(r,t,n).then(e=>r.set("dataType",A.ANALYTICS_SOURCES).set("filters",e.update("custom",we))).then(t=>ae(e,t,n))}},Ye=n("chpV");const Be={[A.CONTACTS]:Object(b.Set)(["hs_count_is_worked","hs_count_is_unworked"])},Ge=e=>Be[e]||Object(b.Set)();let Ve=e=>Object(Ye.a)(e).then(t=>t.get(e).filter(t=>t.get("scripted",!1)||Ge(e).includes(t.get("name"))).map(e=>e.get("name")).toSet());var He=n("JB0K");const We="drilldown",Ke={CRM_OBJECT:"crm_object",UNIFIED_EVENTS:"unified_events",FUNNEL:"funnel",OTHER:"other"};var qe=n("o8Kl");const Qe=e=>e,$e="BUCKET_dealProgress",Je=[...He.a.keySeq().toArray(),A.CONTACTS,A.COMPANIES,A.DEALS,A.ENGAGEMENT,A.TICKETS,A.PRODUCTS,A.LINE_ITEMS,A.SOCIAL_POSTS,A.FEEDBACK_SUBMISSIONS,A.CRM_OBJECT,A.GOAL_TARGET,"mockDataTypeForTesting"],ze=e=>He.a.has(e)?A.ENGAGEMENT:e,Xe=e=>{if(!He.a.has(e.get("dataType")))return Qe;const t=He.a.get(e.get("dataType"));return e=>e.update("custom",Object(b.List)(),e=>e.push(Object(k.a)({property:"engagement.type",operator:"IN",values:[t]})))};var Ze={isSupported:e=>Object(qe.b)(e)&&Je.includes(e.getIn(["config","dataType"])),generate:(e,t,n)=>{const r=e.get("config"),a=r.get("dimensions")||Object(b.List)(),o=r.get("metrics")||Object(b.List)(),s=e.getIn(["config","dataType"]),i=Object(ve.g)(s)?e.getIn(["config","objectTypeId"]):ze(s),c=r.getIn(["filters","dateRange","property"]),l=null!=c?[c]:[],u=t.get(e.getIn(["config","dimensions"],Object(b.List)()).count()),p=o.map(e=>e.get("property")).filter(e=>"count"!==e),d=z.a.hasOwnProperty(s)&&z.a[s]||[],m=e.getIn(["displayParams","dataColumns"])||[],g=Object(b.OrderedSet)([...d,...a.toJS(),...l,...p.toJS(),...m]).toList().filter(e=>e!==$e&&!e.includes("QUOTA"));return Ve(i).then(r=>{const a=g.filter(e=>!r.includes(e));return J(e.get("config"),t,n).then(t=>Xe(e.get("config"))(t)).then(t=>Object(T.a)({configType:f.e,limit:5,dataType:s,objectTypeId:e.getIn(["config","objectTypeId"]),metrics:a.map(e=>Object(I.a)({property:e,metricTypes:[E.COUNT]})),filters:t,sort:Object(b.fromJS)([{property:u,order:y.b}])})).then(t=>ae(e,t,n))})},trackingName:Ke.CRM_OBJECT};const et=["passivesCount","promotersCount","detractorsCount"],tt=e=>Object(b.Map)({surveyType:"feedbackSubmission.formType",customerType:"feedbackSubmission.responseGroup",score:"feedbackSubmission.rating",d1:"feedbackSubmission.surveyId",passives:"PASSIVE",promoters:"PROMOTER",detractors:"DETRACTOR",passivesCount:"PASSIVE",promotersCount:"PROMOTER",detractorsCount:"DETRACTOR",sessionDate:"engagement.timestamp"}).get(e,e);var nt={isSupported:e=>{switch(e.getIn(["config","dataType"])){case A.UNIFIED_FEEDBACK_EMAIL:case A.UNIFIED_FEEDBACK_TRENDS:case A.UNIFIED_FEEDBACK_WEB:case A.FEEDBACK:return!0;default:return!1}},generate:(e,t,n)=>{let r=e.get("config").set("dataType",A.FEEDBACK);"score"===r.getIn(["metrics",0,"property"])&&(r=r.update("processors",Object(b.List)(),e=>e.push(C.a)));2===t.count()&&(r=r.updateIn(["filters","custom"],Object(b.List)(),e=>e.push({property:"customerType",operator:R.b,value:t.first()})));const a=e.set("config",r);return Ze.generate(a,t).then(e=>e.update("metrics",e=>e.filterNot(e=>et.includes(e.get("property"))).map(e=>e.update("property",tt))).updateIn(["filters","custom"],Object(b.List)(),e=>e.filter(e=>"customerType"!==e.get("property")).map(e=>e.update("property",tt).update("value",tt))).updateIn(["filters","dateRange","property"],tt)).then(t=>ae(e,t,n))}},rt=n("wnG7"),at=n("zKI+"),ot=n("Ip2w"),st=n("KlKr");const it=e=>"hs_date_entered_"+e,ct=e=>`dealstages.${Object(rt.a)(e)}_entered`,lt={[A.CONTACTS]:it,[A.DEALS]:ct},ut=(e,t)=>"create"===t?"createdate":lt[e](t),pt=(e,t,n,r=!1)=>{const a=ut(t,e);return Object(st.a)(a,n,r)},dt={[A.CONTACTS]:at.d,[A.DEALS]:ot.a};var mt={isSupported:e=>[f.b,f.c].includes(e.getIn(["config","configType"]))&&[A.CONTACTS,A.DEALS].includes(e.getIn(["config","dataType"])),generate:(e,t,n)=>{const r=e.getIn(["config","dataType"]),a=e.getIn(["config","pipeline","id"]),o=e.getIn(["config","pipeline","stages"],Object(b.List)()),s=Promise.resolve(dt[r](a)),i=()=>o.isEmpty()?s.then(e=>e.map(e=>e.get("value"))):o;return Promise.resolve(i()).then(n=>{const o=t.first(),s=e.getIn(["config","filters","dateRange","value"]),i=Object(Y.e)(e.get("config")),c=z.a[r];let l=e.getIn(["config","filters"]).set("dateRange",Object(b.fromJS)({property:"createdate",value:{rangeType:S.b.ALL}}));r===A.DEALS&&(l=l.update("custom",Object(b.List)(),e=>e.push({property:"pipeline",operator:"EQ",value:a})));if(e.getIn(["config","configType"])===f.c)l=l.update("custom",Object(b.List)(),e=>e.push(pt(o,r,s,i)));else{const e=n.indexOf(o);l=l.update("custom",Object(b.List)(),t=>t.concat(n.take(e+1).map(e=>pt(e,r,s,i))))}return Object(T.a)({configType:f.e,limit:5,dataType:r,metrics:c.map(e=>Object(I.a)({property:e,metricTypes:[E.COUNT]})),filters:l})}).then(t=>ae(e,t,n))},trackingName:Ke.FUNNEL};const gt=e=>({[A.EMAIL]:"id"}[e]);var bt={isSupported:e=>{const t=e.getIn(["config","dataType"]),n=e.getIn(["config","dimensions"])||Object(b.List)(),r=gt(t);return r&&!n.equals(Object(b.List)([r]))},generate:(e,t,n)=>{const r=e.getIn(["config","dataType"]),a=t.get(e.getIn(["config","dimensions"]).count());return J(e.get("config"),t,n).then(e=>Object(T.a)({configType:f.a,limit:5,dataType:r,dimensions:Object(b.List)([gt(r)]),sort:Object(b.fromJS)([{property:a,order:y.b}]),metrics:Object(b.List)([Object(I.a)({property:a,metricTypes:[E.COUNT]})]),filters:e})).then(t=>ae(e,t,n))}};const Ot=ve.a.get(A.SEQUENCE_ENROLLMENTS);var ft={isSupported:e=>e.getIn(["config","dataType"])===A.CRM_OBJECT&&e.getIn(["config","objectTypeId"])===Ot,generate:(e,t,n)=>{const r=e.getIn(["config","dataType"]),a=e.get("config").get("dimensions")||Object(b.List)(),o=Object(b.OrderedSet)([...z.a[A.SEQUENCE_ENROLLMENTS],...a]).toList();return J(e.get("config"),t,n).then(t=>Object(T.a)({configType:f.e,limit:5,dataType:r,objectTypeId:e.getIn(["config","objectTypeId"]),metrics:o.map(e=>Object(I.a)({property:e,metricTypes:[E.COUNT]})),filters:t,sort:Object(b.fromJS)([{property:"hs_enrolled_at",order:y.b}])})).then(t=>ae(e,t,n))}},Et=n("VlG2");const yt={[A.ANALYTICS_GEOLOCATION]:["d1"]},Tt=Object(b.fromJS)({[A.ANALYTICS_SOURCES]:["visits","contacts","customers","bounceRate","timePerSession"],[A.ANALYTICS_ALL_PAGES]:["rawViews","submissions","contacts","pageBounceRate","LANGUAGE","URL","CONTENT_TYPE_CODE"]}),It=e=>{switch(e){case"ANALYTICS_FORMS":case"ANALYTICS_FORMS_SOURCES":case"ANALYTICS_FORMS_URLS":return[];default:return["contacts","customers","lastTouchContacts","influencedContacts","influencedDeals","submissions","uniquePrimaryObjects"]}},ht=e=>{switch(e){case A.ANALYTICS_SOURCES:return["lifecyclestage","hs_analytics_source","first_conversion_event_name","first_conversion_date","recent_conversion_event_name","recent_conversion_date"];case A.ANALYTICS_BEHAVIORAL_EVENTS:return["isContact","completions","lifecyclestage","hs_analytics_source","first_conversion_event_name","first_conversion_date","recent_conversion_event_name","recent_conversion_date"];default:return[]}},jt=(e,t)=>{const n=["d1","d2"],r="d"+(e.getIn(["config","filters","custom"],Object(b.List)()).filter(e=>n.includes(e.get("property"))).count()+1),a=e.getIn(["config","dataType"]),o=(yt[a]||[]).includes(r);return t[r]&&!o?r:null},At=e=>Object(b.fromJS)(e.metrics).reduce((e,t,n)=>e.push(Object(b.fromJS)({property:n,metricTypes:["percent"===t?E.PERCENTILES:E.SUM]})),Object(b.List)()).concat(Object(b.fromJS)(e.metadata||{}).keySeq().map(e=>Object(b.fromJS)({property:e,metricTypes:[E.COUNT]})));var St={isSupported:(e,t)=>{if(!t||t.get("dataSource")!==Et.UNIFIED)return!1;const n=e.getIn(["config","dimensions"]),r=t.getUnifiedSpecForConfig(e.get("config").toJS());return!n.some(e=>["people","deals-influenced"].includes(e))&&(!n.includes("breakdown")||n.includes("sessionDate")||jt(e,r))},isSupportedColumn:(e,t,n)=>!(!n||!n.get("dataSource")===Et.UNIFIED)&&It(e.getIn(["config","dataType"])).includes(t),generate:(e,t,n,r)=>{const a=r.getUnifiedSpecForConfig(e.get("config").toJS()),o=Object.keys(a.metadata||{}),s=At(a),i=e.getIn(["config","dimensions"]),c=t.get(i.count()),l=!i.isEmpty()&&!i.equals(Object(b.List)(["sessionDate"]))&&It(e.getIn(["config","dataType"])).includes(c),u=e.getIn(["config","metrics"]).map(e=>e.get("property")),p=Tt.get(e.getIn(["config","dataType"]))||Object(b.List)(),d=Object(b.OrderedSet)().concat(c,p,u),m=Object(b.OrderedSet)(ht(e.getIn(["config","dataType"]))),g=l?m.map(e=>({property:e,metricTypes:[E.COUNT]})).toJS():d.map(e=>s.find(t=>t.get("property")===e)).filter(e=>e).toJS();if(i.isEmpty()){const t=g.length>0?[{property:g[0].property,order:y.b}]:void 0;return ae(e,e.get("config").merge({configType:f.a,limit:5,dimensions:Object(b.List)(["breakdown"]),metrics:g,sort:t}),n)}return J(e.get("config"),t,n).then(t=>{const n=t.get("custom").find(e=>i.includes(e.get("property"))),r=n&&!l?g.filter(e=>e.metricTypes[0]!==E.COUNT):g,s=r.length>0&&!l?r[0].property:c,u=t.update("custom",Object(b.List)(),t=>t.filterNot(e=>n&&[...o,"filters"].includes(e.get("property"))).map(t=>{if(i.includes(t.get("property"))){const n=jt(e,a);return t.set("property",n&&!l?n:"filters")}return t}).concat(l?Object(b.fromJS)([{property:"peopleType",value:c}]):[])),p="influencedDeals"===c?"deals-influenced":"people";return e.get("config").merge(Object(b.fromJS)({configType:f.a,limit:5,dimensions:Object(b.List)([l?p:"breakdown"]),filters:u,sort:[{property:s,order:y.b}],metrics:r}))}).then(t=>ae(e,t,n))}},_t=n("07iG");function Nt(e,...t){return St.generate(e,...t).then(t=>t.setIn(["config","metrics"],e.getIn(["config","metrics"])).update("name",e=>e&&e.includes("/")?e.split("/")[1]:e))}var Rt={isSupported:(e,t)=>{const n=Boolean(Object(_t.a)(Object(b.fromJS)(e.get("config")),"d1"));return e.getIn(["config","dataType"])===A.SEQUENCE_SENDER_SCORE&&!n},isSupportedColumn:(e,...t)=>e.getIn(["config","dataType"])===A.SEQUENCE_SENDER_SCORE&&St.isSupportedColumn(e,...t),generate:Nt};var Ct={isSupported:e=>e.get("chartType")!==X.l,generate:(e,t,n)=>J(e.get("config"),t,n).then(t=>e.get("config").merge({limit:5,filters:t})).then(t=>ae(e,t,n))};var vt={isSupported:e=>{const t=e.getIn(["config","filters","custom"],Object(b.List)()).map(e=>e.get("property"));return e.getIn(["config","dataType"])===A.SOCIAL_CHANNELS&&!t.includes("breakdownType")&&!t.includes("filters")},generate:(e,t,n)=>{const r=t.get(-2),a=t.get(-3),o=e.get("config").set("dimensions",Object(b.fromJS)(["breakdown"])).set("sort",Object(b.fromJS)([{property:r,order:"DESC"}])).updateIn(["filters","custom"],e=>e.filter(e=>"breakdownType"!==e.property&&"filters"!==e.property).concat(Object(b.fromJS)([{property:"breakdownType",value:"channelKey"},{property:"filters",operator:R.f,values:[a]}])));return Promise.resolve(ae(e,o,n))}},Lt=n("tjfq");const Dt=["interactionsTotal","stats.clicks"],Mt=["publishedAt","broadcastGuid","body","url","channelId","interactionsTotal","stats.clicks","stats.impressions","stats.shares"],Pt=["config","filters","custom"],Ut=["config","metrics"],kt=(e,t)=>e.setIn(["displayParams","columns",t,"hideColumn"],!0);var xt={isSupported:e=>{const t=e.getIn(Ut);return e.getIn(["config","dataType"])===A.SOCIAL_POSTS&&t&&"count"===t.first().get("property")},generate:(e,t,n)=>{const r=t.get(-2),a=t.get(-3),o=e.getIn(Pt)||Object(b.List)();let s=e.getIn(Ut);const i=Lt.CHANNEL_TYPES.includes(a)?"channelId":"id";let c=e.get("config").set("dimensions",b.List.of(i)).set("sort",Object(b.fromJS)([{property:r,order:y.b}]));if("channelId"===i){s=s.concat(Dt.map(e=>Object(I.a)({property:e,metricTypes:[E.SUM]})));c=c.set("metrics",s);c=c.setIn(["filters","custom"],o.filterNot(e=>"channelType"===e.get("property")).push(Object(b.fromJS)({property:"channelType",operator:R.b,value:a})))}else{const t=a?e.getIn(["config","filters"]).set("custom",o.push(Object(b.fromJS)({property:"channelId",operator:R.f,values:[a]}))):e.getIn(["config","filters"]);c=Object(T.a)({configType:f.e,limit:5,dataType:A.SOCIAL_POSTS,metrics:Mt.map(e=>Object(I.a)({property:e})),filters:t,sort:Object(b.fromJS)([{property:"publishedAt",order:y.b}])})}e=ae(e,c,n);e=kt(e,"broadcastGuid");e=kt(e,"channelId");e=kt(e,"id");return Promise.resolve(e)}},wt=n("Br7N");const Ft="NO_DRILLDOWN",Yt=(e=Ft)=>({property:e,counters:[],children:{}}),Bt=(e,t,n)=>{e.counters.includes(t)||e.counters.push(t);const r=n.shift();if(r){e.children[r]=Bt(e.children[r]?e.children[r]:Yt(r),t,n);return e}return e},Gt=e=>{const t=e.rules.reduce((e,t)=>{const n=t.counterName;e.counters.push(n);return t.aggregationHierarchies.map(e=>e.split("/")).reduce((e,t)=>Bt(e,n,t),e)},Yt());return{rawSchema:e,aggregationHierarchy:t}},Vt=(e,t)=>{e.property!==Ft&&(t=t.add(e.property));return Object.keys(e.children).reduce((t,n)=>Vt(e.children[n],t),t)},Ht=e=>Vt(e.aggregationHierarchy,Object(b.Set)()).toArray(),Wt=(e,t)=>{const n=t[e.property]&&t[e.property].label,r=Object.keys(e.children).reduce((n,r)=>{n[r]=Wt(e.children[r],t);return n},{});return Object.assign({},e,{children:r,label:n})},Kt=(e,t)=>Object.assign({},e,{aggregationHierarchy:Wt(e.aggregationHierarchy,t)});var qt=n("nDpY"),Qt=n.n(qt);const $t=(e,t)=>wt.a(`events/internal/v0/report-schema/${e}/${t||"default"}`,{query:{includeImplicitHierarchies:!0}}).then(e=>e.toJS()),Jt=(e,t,n)=>wt.b("reporting-metadata/v1/unified-events/breakdowns",{data:Object.assign({reportType:e,breakdowns:t},n&&{schemaVersion:n})}).then(e=>e.toJS()),zt=(e,t)=>$t(e,t).then(Gt).then(n=>Jt(e,Ht(n),t).then(e=>Kt(n,e)));var Xt=n("Tfih");const Zt=e=>Object(qe.a)(e)&&e.get("flpRestricted",!1),en=e=>Object(qe.b)(e)&&e.getIn(["config","configType"]),tn=e=>en(e)===f.f,nn=e=>Object(qe.h)(e)&&tn(e),rn=e=>Object(qe.a)(e)&&e.getIn(["displayParams","pluginName"]),an=e=>{if(Object(qe.c)(e))return e.getIn(["displayParams","customWidget","type"])},on="date",sn=e=>nn(e)&&e.getIn(["config","dimensions",0])===on,cn=e=>e.setIn(["config","dimensions"],e.getIn(["config","dimensions"]).shift()),ln=(e,t,n={})=>{const r=n.isComparisonPriorPeriod||"compare"===n.datasetKey;r&&(e=e.update("filters",G(e,Object(b.List)([t]),Object.assign({shouldUseCompare:r},n))));return q(t,e,n)},un=e=>zt(Object(Xt.c)(e),Object(Xt.d)(e)).then(t=>{const n=Object(Xt.a)(t,e);return Object.keys(n.children).length>0}),pn=(e,[t,n],r)=>zt(Object(Xt.c)(e),Object(Xt.d)(e)).then(a=>{const{name:o}=r,s=sn(e);s&&(e=cn(e));const i=e.getIn(["config","dimensions"],Object(b.List)()),c=Object(Xt.a)(a,e),l=c&&Object.keys(c.children),u=s&&0===i.size?on:l&&l[0],p=i.get(0);return e.set("chartType",X.l).updateIn(["config","filters","custom"],e=>p&&u!==on?e.filter(e=>e.get("property")!==p).push(Object(b.fromJS)({property:p,operator:"EQ",value:s?n:t})):e).updateIn(["config","filters","dateRange","value"],n=>s?ln(e.get("config").delete("unifiedEvent"),t,r):n).setIn(["config","dimensions",0],u).set("name",o)});var dn={isSupported:e=>{if(e.getIn(["config","dataType"])!==A.UNIFIED_EVENTS||e.getIn(["config","dimensions",0])===on&&!sn(e))return Promise.resolve(!1);const t=sn(e)?cn(e):e;return un(t)},generate:pn,trackingName:Ke.UNIFIED_EVENTS};const mn=Object(b.List)([mt,nt,vt,xt,Rt,St,Fe,bt,je,Ce,xe,ft,Ze,dn,Ct]),gn=(e,t,{checkColumnSupport:n=!1,column:r=""}={})=>{const a=a=>Promise.resolve(a.isSupported(e,t)).then(o=>n?o||a.isSupportedColumn&&a.isSupportedColumn(e,r,t):o),o=([e,...t])=>e?a(e).then(n=>n?e:o(t)):Promise.resolve(void 0);return o(mn.toJS())},bn=(e,t)=>gn(e,t).then(e=>void 0!==e);var On=n("I5zW");const fn=Object(On.createMetricsFactory)("reporting-data",{library:"reporting-data"}),En=(e,t,n={})=>(Object(g.a)(e)?Promise.resolve(e):Object(d.b)(e)).then(e=>Object(m.a)(e.getIn(["config","dataType"])).then(r=>gn(e,r,{checkColumnSupport:!0,column:t.get(-2)}).then(a=>{if(!a)return e;const o=a.trackingName||Ke.OTHER;fn.counter(We,{drilldown_type:o}).increment();return a.generate(e,t,n,r)})));var yn=n("Kcsf"),Tn=n("LTV0"),In=function(e){const{errorRenderer:t,noDataRenderer:n,track:r,setIsRendered:a,inBrowser:o=!0,isPreview:s}=e;return{errorRenderer:t,noDataRenderer:n,track:r,setIsRendered:a,disableIframes:s||!o,disableSVGs:s||!o}},hn=n("DVMZ"),jn=n("sl/w"),An=n("L+5U");const Sn=()=>n.e("reporting-actions-loader").then(n.bind(null,"4rYa"));var _n=Object(An.a)({loader:Sn,LoadingComponent:()=>null}),Nn=n("rVB7"),Rn=n("tc1C"),Cn=n("GT9n"),vn=n("Cswz"),Ln=n("XcLi"),Dn=n("O2fa"),Mn=n("zYNg"),Pn=n("+KD7");const Un=Ln.i({label:Ln.k().optional(),key:Ln.k(),value:Ln.k()},"ColorItem"),kn=Ln.i({positionFraction:Ln.g(),value:Ln.k()},"InterpolateColorItem"),xn={DISCRETE:"DISCRETE",INTERPOLATE:"INTERPOLATE",DISCRETE_PATTERN:"DISCRETE PATTERN"},wn=Ln.i({type:Ln.l(xn,"SchemeTypes").always(xn.DISCRETE).defaultValue(xn.DISCRETE),colors:Ln.d(Un)}),Fn=Ln.i({type:Ln.l(xn,"SchemeTypes").always(xn.INTERPOLATE).defaultValue(xn.INTERPOLATE),points:Ln.d(kn)}),Yn=Ln.i({type:Ln.l(xn,"SchemeTypes").always(xn.DISCRETE_PATTERN).defaultValue(xn.DISCRETE_PATTERN),colors:Ln.d(Un),patterns:Ln.d(Ln.k()),dashStylePatterns:Ln.d(Ln.k())}),Bn={Categorical14:"Categorical14",PatternFill14:"PatternFill14",ShadesOfOrange:"ShadesOfOrange",ShadesOfAqua:"ShadesOfAqua",ShadesOfPurple:"ShadesOfPurple",ShadesOfYellow:"ShadesOfYellow",ShadesOfPink:"ShadesOfPink",ShadesOfBlue:"ShadesOfBlue",ShadesOfGreen:"ShadesOfGreen",TokyoFive:"TokyoFive",BogotaFive:"BogotaFive",DublinFive:"DublinFive",CambridgeFive:"CambridgeFive",SingaporeFive:"SingaporeFive",SydneyFive:"SydneyFive",BerlinFive:"BerlinFive",ParisFive:"ParisFive",SanFranciscoFive:"SanFranciscoFive",PortsmouthFive:"PortsmouthFive",GhentFive:"GhentFive",OceanFive:"OceanFive",SpringFive:"SpringFive",CherryBlossomFive:"CherryBlossomFive",PastelFive:"PastelFive",DefaultY2:"DefaultY2",AlertRedToGreen:"AlertRedToGreen",AlertGreenToRed:"AlertGreenToRed"},Gn=Ln.l(Bn,"PaletteIds"),Vn=Ln.i({id:Ln.l(Bn,"PaletteIds"),label:Ln.k(),i18nLabel:Ln.k().optional(),scheme:Ln.a()},"Palette"),Hn=Vn({id:Bn.Categorical14,label:"reporting-snowflake.colors.palettes.default-14",scheme:wn({colors:[{label:"Orange",key:"orange",value:"#fea58e"},{label:"Aqua",key:"aqua",value:"#51d3d9"},{label:"Purple",key:"purple",value:"#bda9ea"},{label:"Yellow",key:"yellow",value:"#f5c78e"},{label:"Pink",key:"pink",value:"#ea90b1"},{label:"Blue",key:"blue",value:"#81c1fd"},{label:"Green",key:"green",value:"#a4d398"},{label:"DARK_ORANGE",key:"dark-orange",value:"#c3705c"},{label:"DARK_AQUA",key:"dark-aqua",value:"#009ca2"},{label:"DARK_PURPLE",key:"dark-purple",value:"#8775b2"},{label:"DARK_YELLOW",key:"dark-yellow",value:"#bb915b"},{label:"DARK_PINK",key:"dark-pink",value:"#b05c7d"},{label:"DARK_BLUE",key:"dark-blue",value:"#468cc4"},{label:"DARK_GREEN",key:"dark-green",value:"#6b9a5b"}]})}),Wn=Vn({id:Bn.PatternFill14,label:"reporting-snowflake.colors.palettes.pattern-fill-14",scheme:Yn({colors:[{label:"Orange",key:"orange",value:"#fea58e"},{label:"Aqua",key:"aqua",value:"#51d3d9"},{label:"Purple",key:"purple",value:"#bda9ea"},{label:"Yellow",key:"yellow",value:"#f5c78e"},{label:"Pink",key:"pink",value:"#ea90b1"},{label:"Blue",key:"blue",value:"#81c1fd"},{label:"Green",key:"green",value:"#a4d398"},{label:"DARK_ORANGE",key:"dark-orange",value:"#c3705c"},{label:"DARK_AQUA",key:"dark-aqua",value:"#009ca2"},{label:"DARK_PURPLE",key:"dark-purple",value:"#8775b2"},{label:"DARK_YELLOW",key:"dark-yellow",value:"#bb915b"},{label:"DARK_PINK",key:"dark-pink",value:"#b05c7d"},{label:"DARK_BLUE",key:"dark-blue",value:"#468cc4"},{label:"DARK_GREEN",key:"dark-green",value:"#6b9a5b"}],patterns:["M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9","M 0 0 L 5 10 L 10 0","M 3 3 L 8 3 L 8 8 L 3 8 Z","M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11","M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0"],dashStylePatterns:["Solid","ShortDash","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"]})}),Kn=Vn({id:Bn.ShadesOfAqua,label:"reporting-snowflake.colors.palettes.shades-of-aqua",scheme:Fn({points:[{positionFraction:0,value:"#066469"},{positionFraction:.5,value:"#29b7bd"},{positionFraction:1,value:"#a7ffff"}]})}),qn=Vn({id:Bn.ShadesOfOrange,label:"reporting-snowflake.colors.palettes.shades-of-orange",scheme:Fn({points:[{positionFraction:0,value:"#904233"},{positionFraction:.5,value:"#e78f7b"},{positionFraction:1,value:"#fffbe6"}]})}),Qn=Vn({id:Bn.ShadesOfPurple,label:"reporting-snowflake.colors.palettes.shades-of-purple",scheme:Fn({points:[{positionFraction:0,value:"#5b4b85"},{positionFraction:.5,value:"#af9cdc"},{positionFraction:1,value:"#fdf2ff"}]})}),$n=Vn({id:Bn.ShadesOfYellow,label:"reporting-snowflake.colors.palettes.shades-of-yellow",scheme:Fn({points:[{positionFraction:0,value:"#cb8007"},{positionFraction:.5,value:"#fec76f"},{positionFraction:1,value:"#fff1da"}]})}),Jn=Vn({id:Bn.ShadesOfPink,label:"reporting-snowflake.colors.palettes.shades-of-pink",scheme:Fn({points:[{positionFraction:0,value:"#8f3e5f"},{positionFraction:.5,value:"#e48bac"},{positionFraction:1,value:"#ffe4ff"}]})}),zn=Vn({id:Bn.ShadesOfBlue,label:"reporting-snowflake.colors.palettes.shades-of-blue",scheme:Fn({points:[{positionFraction:0,value:"#005a8e"},{positionFraction:.5,value:"#6aabe6"},{positionFraction:1,value:"#c7ffff"}]})}),Xn=Vn({id:Bn.ShadesOfGreen,label:"reporting-snowflake.colors.palettes.shades-of-green",scheme:Fn({points:[{positionFraction:0,value:"#315f24"},{positionFraction:.5,value:"#83b271"},{positionFraction:1,value:"#dbffc7"}]})}),Zn=Vn({id:Bn.TokyoFive,label:"reporting-snowflake.colors.palettes.tokyo-five",scheme:wn({colors:[{label:"",key:"#385315",value:"#385315"},{label:"",key:"#A5B4B3",value:"#A5B4B3"},{label:"",key:"#00627B",value:"#00627B"},{label:"",key:"#AA4735",value:"#AA4735"},{label:"",key:"#E8BAAF",value:"#E8BAAF"}]})}),er=Vn({id:Bn.BogotaFive,label:"reporting-snowflake.colors.palettes.bogota-five",scheme:wn({colors:[{label:"",key:"#D7C1C2",value:"#D7C1C2"},{label:"",key:"#2F4C5E",value:"#2F4C5E"},{label:"",key:"#86343C",value:"#86343C"},{label:"",key:"#B67D40",value:"#B67D40"},{label:"",key:"#133C82",value:"#133C82"}]})}),tr=Vn({id:Bn.DublinFive,label:"reporting-snowflake.colors.palettes.dublin-five",scheme:wn({colors:[{label:"",key:"#43554F",value:"#43554F"},{label:"",key:"#D6D8D4",value:"#D6D8D4"},{label:"",key:"#A3BFBE",value:"#A3BFBE"},{label:"",key:"#4EB39D",value:"#4EB39D"},{label:"",key:"#C7E9C1",value:"#C7E9C1"}]})}),nr=Vn({id:Bn.CambridgeFive,label:"reporting-snowflake.colors.palettes.cambridge-five",scheme:wn({colors:[{label:"",key:"#9C7475",value:"#9C7475"},{label:"",key:"#968613",value:"#968613"},{label:"",key:"#29464E",value:"#29464E"},{label:"",key:"#4E1309",value:"#4E1309"},{label:"",key:"#110235",value:"#110235"}]})}),rr=Vn({id:Bn.SingaporeFive,label:"reporting-snowflake.colors.palettes.singapore-five",scheme:wn({colors:[{label:"",key:"#8B9AF8",value:"#8B9AF8"},{label:"",key:"#982B48",value:"#982B48"},{label:"",key:"#CE7AB5",value:"#CE7AB5"},{label:"",key:"#FEA575",value:"#FEA575"},{label:"",key:"#2B5063",value:"#2B5063"}]})}),ar=Vn({id:Bn.SydneyFive,label:"reporting-snowflake.colors.palettes.sydney-five",scheme:wn({colors:[{label:"",key:"#2B8799",value:"#2B8799"},{label:"",key:"#B96AA3",value:"#B96AA3"},{label:"",key:"#62B9D4",value:"#62B9D4"},{label:"",key:"#F5815F",value:"#F5815F"},{label:"",key:"#5A5DA8",value:"#5A5DA8"}]})}),or=Vn({id:Bn.BerlinFive,label:"reporting-snowflake.colors.palettes.berlin-five",scheme:wn({colors:[{label:"",key:"#4C82B0",value:"#4C82B0"},{label:"",key:"#CA695D",value:"#CA695D"},{label:"",key:"#D3AE84",value:"#D3AE84"},{label:"",key:"#5EAADF",value:"#5EAADF"},{label:"",key:"#4B850E",value:"#4B850E"}]})}),sr=Vn({id:Bn.ParisFive,label:"reporting-snowflake.colors.palettes.paris-five",scheme:wn({colors:[{label:"",key:"#578A8C",value:"#578A8C"},{label:"",key:"#79874A",value:"#79874A"},{label:"",key:"#363D52",value:"#363D52"},{label:"",key:"#DED5E6",value:"#DED5E6"},{label:"",key:"#AFC1D9",value:"#AFC1D9"}]})}),ir=Vn({id:Bn.SanFranciscoFive,label:"reporting-snowflake.colors.palettes.san-francisco-five",scheme:wn({colors:[{label:"",key:"#CB9E74",value:"#CB9E74"},{label:"",key:"#5895B0",value:"#5895B0"},{label:"",key:"#013E55",value:"#013E55"},{label:"",key:"#991801",value:"#991801"},{label:"",key:"#A5A5A0",value:"#A5A5A0"}]})}),cr=Vn({id:Bn.PortsmouthFive,label:"reporting-snowflake.colors.palettes.portsmouth-five",scheme:wn({colors:[{label:"",key:"#879E97",value:"#879E97"},{label:"",key:"#D47469",value:"#D47469"},{label:"",key:"#FCA170",value:"#FCA170"},{label:"",key:"#217E9F",value:"#217E9F"},{label:"",key:"#304B8D",value:"#304B8D"}]})}),lr=Vn({id:Bn.GhentFive,label:"reporting-snowflake.colors.palettes.ghent-five",scheme:wn({colors:[{label:"",key:"#5885C9",value:"#5885C9"},{label:"",key:"#F2E2D2",value:"#F2E2D2"},{label:"",key:"#C46B85",value:"#C46B85"},{label:"",key:"#FF8B62",value:"#FF8B62"},{label:"",key:"#63836E",value:"#63836E"}]})}),ur=Vn({id:Bn.OceanFive,label:"reporting-snowflake.colors.palettes.ocean-five",scheme:wn({colors:[{label:"",key:"#00155D",value:"#00155D"},{label:"",key:"#005C87",value:"#005C87"},{label:"",key:"#008C9B",value:"#008C9B"},{label:"",key:"#88DFD7",value:"#88DFD7"},{label:"",key:"#CCF2F0",value:"#CCF2F0"}]})}),pr=Vn({id:Bn.SpringFive,label:"reporting-snowflake.colors.palettes.spring-five",scheme:wn({colors:[{label:"",key:"#C44170",value:"#C44170"},{label:"",key:"#F7E0E0",value:"#F7E0E0"},{label:"",key:"#6AACD0",value:"#6AACD0"},{label:"",key:"#A0BC8E",value:"#A0BC8E"},{label:"",key:"#B67D40",value:"#B67D40"}]})}),dr=Vn({id:Bn.CherryBlossomFive,label:"reporting-snowflake.colors.palettes.cherry-blossom-five",scheme:wn({colors:[{label:"",key:"#D2B8C3",value:"#D2B8C3"},{label:"",key:"#8D3E37",value:"#8D3E37"},{label:"",key:"#B6674F",value:"#B6674F"},{label:"",key:"#E8BAAF",value:"#E8BAAF"},{label:"",key:"#845C76",value:"#845C76"}]})}),mr=Vn({id:Bn.PastelFive,label:"reporting-snowflake.colors.palettes.pastel-five",scheme:wn({colors:[{label:"",key:"#EFF1DB",value:"#EFF1DB"},{label:"",key:"#FFD4DB",value:"#FFD4DB"},{label:"",key:"#D3B5E5",value:"#D3B5E5"},{label:"",key:"#B4F8C8",value:"#B4F8C8"},{label:"",key:"#FFE4F8",value:"#FFE4F8"}]})}),gr=Vn({id:Bn.DefaultY2,label:"reporting-snowflake.colors.palettes.default-y2",scheme:wn({colors:[{label:"Slinky",key:"slinky",value:Pn.SLINKY}]})}),br=Vn({id:Bn.AlertRedToGreen,label:"reporting-snowflake.colors.palettes.alertRedToGreen",scheme:wn({colors:[{label:"",key:Pn.CANDY_APPLE,value:Pn.CANDY_APPLE},{label:"",key:Pn.CANDY_APPLE_MEDIUM,value:Pn.CANDY_APPLE_MEDIUM},{label:"",key:Pn.MARIGOLD,value:Pn.MARIGOLD},{label:"",key:Pn.OZ_MEDIUM,value:Pn.OZ_MEDIUM},{label:"",key:Pn.OZ,value:Pn.OZ}]})}),Or=Vn({id:Bn.AlertGreenToRed,label:"reporting-snowflake.colors.palettes.alertGreenToRed",scheme:wn({colors:[{label:"",key:Pn.OZ,value:Pn.OZ},{label:"",key:Pn.OZ_MEDIUM,value:Pn.OZ_MEDIUM},{label:"",key:Pn.MARIGOLD,value:Pn.MARIGOLD},{label:"",key:Pn.CANDY_APPLE_MEDIUM,value:Pn.CANDY_APPLE_MEDIUM},{label:"",key:Pn.CANDY_APPLE,value:Pn.CANDY_APPLE}]})}),fr=b.List.of(Hn,Wn,qn,Kn,Qn,$n,Jn,zn,Xn,Zn,er,tr,nr,rr,ar,or,sr,ir,cr,lr,ur,pr,dr,mr).toOrderedMap().mapKeys((e,t)=>t.id),Er=b.List.of(Hn,br,Or,qn,Kn,Qn,$n,Jn,zn,Xn,Zn,er,tr,nr,rr,ar,or,sr,ir,cr,lr,ur,pr,dr,mr).toOrderedMap().mapKeys((e,t)=>t.id),yr=Ln.b().defaultValue(!1),Tr=Ln.b().defaultValue(!0),Ir=Ln.b().defaultValue(!0),hr=Ln.b().defaultValue(!0),jr=Ln.b().defaultValue(!1),Ar=Ln.l(Dn.d,"LegendPositions").optional().defaultValue(Dn.d.TOP),Sr=Dn.e.optional().defaultValue(void 0),_r=Ln.g().optional().defaultValue(void 0),Nr=Ln.l(F,"Frequency").optional().defaultValue(F.MONTH),Rr=Ln.i({paletteId:Gn.optional(),assignments:Ln.f().defaultValue({})},"ColorOption"),Cr=Ln.i({min:Ln.g().optional(),max:Ln.g().optional()},"Scale"),vr=Ln.l({[Mn.c.linear]:Mn.c.linear,[Mn.c.logarithmic]:Mn.c.logarithmic},"AxisScaleType").defaultValue(Mn.c.linear),Lr=Ln.g().optional(),Dr=Ln.l(Dn.b,"DataLabelFormats").optional().defaultValue(void 0),Mr="AREA",Pr=Ln.i({x:Cn.h.optional(),y:Cn.h.optional(),y_multi:Ln.d(Cn.h),color:Cn.h.optional()},"AreaEncodings"),Ur=Ln.i({showDataLabels:Tr,showMarkers:Ir,stacking:hr,accumulate:Ln.b().defaultValue(!1),showToday:jr,goalLineValue:_r,goalFrequency:Nr,yMinMax:Cr.defaultValue({}),color:Rr.defaultValue({}),yAxisType:vr,yAxisLabel:Ln.k().optional(),legendPosition:Ar,legendWidth:Sr}),kr=Ln.i({type:Ln.k().always(Mr),encodings:Pr,options:Ur.defaultValue({})},"AreaVisual"),xr="COMBO",wr=Ln.i({x:Cn.h.optional(),y1:Cn.h.optional(),y2:Cn.h.optional(),breakdown:Cn.h.optional()},"ComboEncodings"),Fr={DUAL:"DUAL",BLEND:"BLEND"},Yr=Ln.l(Fr,"AxisMode"),Br={BAR:"BAR",LINE:"LINE",AREA:"AREA"},Gr=Ln.l(Br,"MarkType"),Vr=Ln.i({axisMode:Yr.defaultValue(Fr.DUAL),y1MarkType:Gr.defaultValue(Br.BAR),y2MarkType:Gr.defaultValue(Br.LINE),y1MinMax:Cr.defaultValue({}),y2MinMax:Cr.defaultValue({}),y1AxisType:vr,y2AxisType:vr,y1ShowMarkers:Ir,y2ShowMarkers:Ir,stacking:Ln.b().optional(),y1Stacking:hr,y2Stacking:hr,y1Accumulate:Ln.b().defaultValue(!1),y2Accumulate:Ln.b().defaultValue(!1),y1Color:Rr.defaultValue({}),y2Color:Rr.defaultValue({}),showDataLabels:Tr,showToday:jr,legendPosition:Ar,legendWidth:Sr}),Hr=Ln.i({type:Ln.k().always(xr),encodings:wr,options:Vr.defaultValue({})},"ComboVisual"),Wr="DONUT",Kr=Ln.i({color:Cn.h.optional(),values:Ln.d(Cn.h)},"DonutEncodings"),qr=Ln.i({showDataLabels:Tr,color:Rr.defaultValue({}),showTotals:Ln.b().defaultValue(!0),legendPosition:Ar,legendWidth:Sr}),Qr=Ln.i({type:Ln.k().always(Wr),encodings:Kr,options:qr.defaultValue({})},"DonutVisual"),$r="HORIZONTAL_BAR",Jr=Ln.i({x:Cn.h.optional(),x_multi:Ln.d(Cn.h),y:Cn.h.optional(),color:Cn.h.optional()},"HorizontalBarEncodings"),zr=Ln.i({showDataLabels:Tr,stacking:hr,accumulate:Ln.b().defaultValue(!1),xMinMax:Cr.defaultValue({}),color:Rr.defaultValue({}),xAxisType:vr,xAxisLabel:Ln.k().optional(),goalLineValue:_r,goalFrequency:Nr,legendPosition:Ar,legendWidth:Sr}),Xr=Ln.i({type:Ln.k().always($r),encodings:Jr,options:zr.defaultValue({})},"HorizontalBarVisual"),Zr="LINE",ea=Ln.i({x:Cn.h.optional(),y:Cn.h.optional(),y_multi:Ln.d(Cn.h),color:Cn.h.optional()},"LineEncodings"),ta=Ln.i({showDataLabels:Tr,showMarkers:Ir,accumulate:Ln.b().defaultValue(!1),showToday:jr,goalLineValue:_r,goalFrequency:Nr,yMinMax:Cr.defaultValue({}),color:Rr.defaultValue({}),yAxisType:vr,yAxisLabel:Ln.k().optional(),legendPosition:Ar,legendWidth:Sr}),na=Ln.i({type:Ln.k().always(Zr),encodings:ea,options:ta.defaultValue({})},"LineVisual"),ra="PIE",aa=Ln.i({color:Cn.h.optional(),values:Ln.d(Cn.h)},"PieEncodings"),oa=Ln.i({showDataLabels:Tr,legendPosition:Ar,legendWidth:Sr,color:Rr.defaultValue({}),showTotals:Ln.b().defaultValue(!0)}),sa=Ln.i({type:Ln.k().always(ra),encodings:aa,options:oa.defaultValue({})},"PieVisual"),ia="PIVOT_TABLE",ca=Ln.i({rows:Ln.d(Cn.h).optional(),columns:Ln.d(Cn.h).optional(),values:Ln.d(Cn.h).optional()},"PivotTableEncodings"),la=Ln.i({showTotals:Ln.b().defaultValue(!0),showColumnSubtotals:Ln.b().defaultValue(!1),showRowSubtotals:Ln.b().defaultValue(!1)},"PivotTableVisualOptions"),ua=Ln.i({type:Ln.k().always(ia),encodings:ca,options:la.defaultValue({})},"PivotTableVisual"),pa="SCATTER",da=Ln.i({x:Cn.h.optional(),y:Cn.h.optional(),color:Cn.h.optional(),detail:Cn.h.optional(),sizing:Cn.h.optional()},"ScatterEncodings"),ma=Ln.i({showBubbleLegend:yr,showDataLabels:Tr.defaultValue(!1),dataLabelFormat:Dr.defaultValue("Y"),legendPosition:Ar,legendWidth:Sr.defaultValue({value:0,type:Dn.f.AUTO}),color:Rr.defaultValue({}),xMinMax:Cr.defaultValue({}),yMinMax:Cr.defaultValue({}),yAxisType:vr,xAxisType:vr,opacity:Lr.defaultValue(75)}),ga=Ln.i({type:Ln.k().always(pa),encodings:da,options:ma.defaultValue({})},"ScatterVisual"),ba="TABLE",Oa=Ln.i({columns:Ln.d(Cn.h).optional()},"TableEncodings"),fa=Ln.i({showTotals:Ln.b().defaultValue(!0)},"TableVisualOptions"),Ea=Ln.i({type:Ln.k().always(ba),encodings:Oa,options:fa.defaultValue({})},"TableVisual"),ya="TEXT",Ta=Ln.i({group:Cn.h.optional(),compare:Cn.h.optional(),values:Ln.d(Cn.h)},"TextEncodings"),Ia=Ln.i({showPercentChangeComparison:Ln.b().defaultValue(!1)},"TextVisualOptions"),ha=Ln.i({type:Ln.k().always(ya),encodings:Ta,options:Ia.defaultValue({})},"TextVisual"),ja="VERTICAL_BAR",Aa=Ln.i({x:Cn.h.optional(),y:Cn.h.optional(),y_multi:Ln.d(Cn.h),color:Cn.h.optional()},"VerticalBarEncodings"),Sa=Ln.i({showDataLabels:Tr,stacking:hr,accumulate:Ln.b().defaultValue(!1),yMinMax:Cr.defaultValue({}),color:Rr.defaultValue({}),yAxisType:vr,yAxisLabel:Ln.k().optional(),goalLineValue:_r,goalFrequency:Nr,legendPosition:Ar,legendWidth:Sr}),_a=Ln.i({type:Ln.k().always(ja),encodings:Aa,options:Sa.defaultValue({})},"VerticalBarVisual"),Na="MAGIC_WAND",Ra=Ln.i({columns:Ln.d(Cn.h)},"MagicWandEncodings"),Ca=Ln.i({}),va=Ln.i({type:Ln.k().always(Na),encodings:Ra,options:Ca.defaultValue({})},"MagicWandVisual"),La="GAUGE",Da=Ln.i({single_value:Cn.h.optional(),compare:Cn.h.optional()},"GaugeEncodings"),Ma=Ln.i({from:Ln.g().optional(),to:Ln.g().optional(),label:Ln.k().defaultValue(""),color:Ln.k(),thickness:Ln.g().optional()},"GaugeBand"),Pa=Ln.i({showRangeLabels:Ln.b().defaultValue(!0),target:Ln.g().defaultValue(1),range:Cr.defaultValue({}),bands:Ln.d(Ma).defaultValue(Object(b.List)([])),legendPosition:Ar,legendWidth:Sr,showPercentChangeComparison:Ln.b().defaultValue(!1),color:Rr.defaultValue({})},"GaugeVisualOptions"),Ua=Ln.i({type:Ln.k().always(La),encodings:Da,options:Pa.defaultValue({})},"GaugeVisual");var ka=n("NfVS"),xa=n("77dM");const wa=e=>{switch(e){case Ba.DETAIL:return Object(u.jsx)(ka.a,{message:"reporting-snowflake.channels-help-text.detail-channel_jsx",elements:{UILink:xa.a},options:{external:!0,href:"https://knowledge.hubspot.com/reports/create-reports-with-the-custom-report-builder#scatter-channels",target:"blank"}});case Ba.SIZING:return Object(u.jsx)(ka.a,{message:"reporting-snowflake.channels-help-text.sizing-channel_jsx",elements:{UILink:xa.a},options:{external:!0,href:"https://knowledge.hubspot.com/reports/create-reports-with-the-custom-report-builder#scatter-channels",target:"blank"}});default:return null}},Fa={VERTICAL_BAR:ja,HORIZONTAL_BAR:$r,LINE:Zr,AREA:Mr,SCATTER:pa,PIE:ra,DONUT:Wr,TEXT:ya,TABLE:ba,PIVOT_TABLE:ia,COMBO:xr,MAGIC_WAND:Na,GAUGE:La},Ya=(Ln.l(Fa,"VisualType"),Ln.h("type",{[ja]:_a,[$r]:Xr,[Zr]:na,[Mr]:kr,[pa]:ga,[ra]:sa,[Wr]:Qr,[ya]:ha,[ba]:Ea,[ia]:ua,[xr]:Hr,[Na]:va,[La]:Ua},"Visual")),Ba={COLOR:"color",SIZING:"sizing",DETAIL:"detail",VALUES:"values",SINGLE_VALUE:"single_value",GROUP:"group",ROWS:"rows",COLUMNS:"columns",X:"x",X_MULTI:"x_multi",Y:"y",Y_MULTI:"y_multi",Y_1:"y1",Y_2:"y2",BREAKDOWN:"breakdown",COMPARE:"compare"},Ga={SINGLE:"SINGLE",MULTIPLE:"MULTIPLE",STATIC:"STATIC"},Va=Ln.l(Ga,"ChannelTypes"),Ha=Ln.i({name:Ln.k(),label:Ln.k(),type:Va,helpText:Ln.a().optional(),displayOrder:Ln.g().optional()},"Channel"),Wa=(e,t)=>t.set("displayOrder",e),Ka=Ha({name:Ba.COLOR,label:"reporting-snowflake.channels.color-channel",type:Ga.SINGLE}),qa=Ha({name:Ba.SIZING,label:"reporting-snowflake.channels.sizing-channel",type:Ga.SINGLE,helpText:wa(Ba.SIZING)}),Qa=Ha({name:Ba.DETAIL,label:"reporting-snowflake.channels.detail-channel",type:Ga.SINGLE,helpText:wa(Ba.DETAIL)}),$a=Ha({name:Ba.VALUES,label:"reporting-snowflake.channels.values-channel",type:Ga.MULTIPLE}),Ja=Ha({name:Ba.SINGLE_VALUE,label:"reporting-snowflake.channels.single-value-channel",type:Ga.SINGLE}),za=Ha({name:Ba.GROUP,label:"reporting-snowflake.channels.group-channel",type:Ga.SINGLE}),Xa=Ha({name:Ba.ROWS,label:"reporting-snowflake.channels.rows-channel",type:Ga.MULTIPLE}),Za=Ha({name:Ba.COLUMNS,label:"reporting-snowflake.channels.columns-channel",type:Ga.MULTIPLE}),eo=Ha({name:Ba.X,label:"reporting-snowflake.channels.x-channel",type:Ga.SINGLE}),to=Ha({name:Ba.X_MULTI,label:"reporting-snowflake.channels.x-multi-channel",type:Ga.MULTIPLE}),no=Ha({name:Ba.COMPARE,label:"reporting-snowflake.channels.x-channel",type:Ga.SINGLE}),ro=Ha({name:Ba.Y,label:"reporting-snowflake.channels.y-channel",type:Ga.SINGLE}),ao=Ha({name:Ba.Y_MULTI,label:"reporting-snowflake.channels.y-multi-channel",type:Ga.MULTIPLE}),oo=Ha({name:Ba.Y_1,label:"reporting-snowflake.channels.y1-channel",type:Ga.SINGLE}),so=Ha({name:Ba.Y_2,label:"reporting-snowflake.channels.y2-channel",type:Ga.SINGLE}),io=Ha({name:Ba.BREAKDOWN,label:"reporting-snowflake.channels.breakdown-first-measure-channel",type:Ga.SINGLE}),co=Object(b.fromJS)({[Ba.X]:Wa(0,eo),[Ba.Y_MULTI]:Wa(1,ao),[Ba.Y]:Wa(2,ro),[Ba.COLOR]:Wa(3,Ka)}),lo=Object(b.fromJS)({[Ba.X_MULTI]:Wa(0,to),[Ba.X]:Wa(1,eo),[Ba.Y]:Wa(2,ro),[Ba.COLOR]:Wa(3,Ka)}),uo=Object(b.fromJS)({[Ba.X]:Wa(0,eo),[Ba.Y_MULTI]:Wa(1,ao),[Ba.Y]:Wa(2,ro),[Ba.COLOR]:Wa(3,Ka)}),po=Object(b.fromJS)({[Ba.X]:Wa(0,eo),[Ba.Y_MULTI]:Wa(1,ao),[Ba.Y]:Wa(2,ro),[Ba.COLOR]:Wa(3,Ka)}),mo=Object(b.fromJS)({[Ba.X]:Wa(0,eo),[Ba.Y]:Wa(1,ro),[Ba.COLOR]:Wa(2,Ka),[Ba.DETAIL]:Wa(3,Qa),[Ba.SIZING]:Wa(4,qa)}),go=Object(b.fromJS)({[Ba.COLOR]:Wa(0,Ka),[Ba.VALUES]:Wa(1,$a)}),bo=Object(b.fromJS)({[Ba.COLOR]:Wa(0,Ka),[Ba.VALUES]:Wa(1,$a)}),Oo=Object(b.fromJS)({[Ba.GROUP]:Wa(0,za),[Ba.COMPARE]:Wa(1,no),[Ba.VALUES]:Wa(2,$a)}),fo=Object(b.fromJS)({[Ba.COLUMNS]:Wa(0,Za)}),Eo=Object(b.fromJS)({[Ba.COLUMNS]:Wa(0,Za)}),yo=Object(b.fromJS)({[Ba.ROWS]:Wa(0,Xa),[Ba.COLUMNS]:Wa(1,Za),[Ba.VALUES]:Wa(2,$a)}),To=Object(b.fromJS)({[Ba.X]:Wa(0,eo),[Ba.Y_1]:Wa(1,oo),[Ba.Y_2]:Wa(2,so),[Ba.BREAKDOWN]:Wa(3,io)}),Io=Object(b.fromJS)({[Ba.SINGLE_VALUE]:Wa(0,Ja),[Ba.COMPARE]:Wa(1,no)}),ho=Object(b.fromJS)({[Ba.COLOR]:Ka,[Ba.SIZING]:qa,[Ba.DETAIL]:Qa,[Ba.VALUES]:$a,[Ba.SINGLE_VALUE]:Ja,[Ba.GROUP]:za,[Ba.ROWS]:Xa,[Ba.COLUMNS]:Za,[Ba.X]:eo,[Ba.X_MULTI]:to,[Ba.Y]:ro,[Ba.Y_MULTI]:ao,[Ba.Y_1]:ro,[Ba.Y_2]:ro,[Ba.BREAKDOWN]:io,[Ba.COMPARE]:no}),jo=Object(b.fromJS)({[Fa.VERTICAL_BAR]:co,[Fa.HORIZONTAL_BAR]:lo,[Fa.LINE]:uo,[Fa.AREA]:po,[Fa.SCATTER]:mo,[Fa.PIE]:go,[Fa.DONUT]:bo,[Fa.TEXT]:Oo,[Fa.TABLE]:fo,[Fa.PIVOT_TABLE]:yo,[Fa.COMBO]:To,[Fa.MAGIC_WAND]:Eo,[Fa.GAUGE]:Io}),Ao=Object(b.fromJS)({[Fa.VERTICAL_BAR]:Sa,[Fa.HORIZONTAL_BAR]:zr,[Fa.LINE]:ta,[Fa.AREA]:Ur,[Fa.SCATTER]:ma,[Fa.PIE]:oa,[Fa.DONUT]:qr,[Fa.TEXT]:Ia,[Fa.TABLE]:fa,[Fa.PIVOT_TABLE]:la,[Fa.COMBO]:Vr,[Fa.GAUGE]:Pa}),So=Object(b.fromJS)({[Fa.VERTICAL_BAR]:{[Ba.X]:Cn.p.DIMENSION,[Ba.Y]:Cn.p.MEASURE,[Ba.Y_MULTI]:Cn.p.MEASURE,[Ba.COLOR]:Cn.p.DIMENSION},[Fa.HORIZONTAL_BAR]:{[Ba.X]:Cn.p.MEASURE,[Ba.X_MULTI]:Cn.p.MEASURE,[Ba.Y]:Cn.p.DIMENSION,[Ba.COLOR]:Cn.p.DIMENSION},[Fa.LINE]:{[Ba.X]:Cn.p.DIMENSION,[Ba.Y]:Cn.p.MEASURE,[Ba.Y_MULTI]:Cn.p.MEASURE,[Ba.COLOR]:Cn.p.DIMENSION},[Fa.AREA]:{[Ba.X]:Cn.p.DIMENSION,[Ba.Y]:Cn.p.MEASURE,[Ba.Y_MULTI]:Cn.p.MEASURE,[Ba.COLOR]:Cn.p.DIMENSION},[Fa.SCATTER]:{[Ba.X]:Cn.p.MEASURE,[Ba.Y]:Cn.p.MEASURE,[Ba.COLOR]:Cn.p.DIMENSION,[Ba.DETAIL]:Cn.p.DIMENSION,[Ba.SIZING]:Cn.p.MEASURE},[Fa.PIE]:{[Ba.COLOR]:Cn.p.DIMENSION,[Ba.VALUES]:Cn.p.MEASURE},[Fa.DONUT]:{[Ba.COLOR]:Cn.p.DIMENSION,[Ba.VALUES]:Cn.p.MEASURE},[Fa.TEXT]:{[Ba.GROUP]:Cn.p.DIMENSION,[Ba.VALUES]:Cn.p.MEASURE},[Fa.TABLE]:{[Ba.COLUMNS]:null},[Fa.PIVOT_TABLE]:{[Ba.COLUMNS]:Cn.p.DIMENSION,[Ba.VALUES]:Cn.p.MEASURE,[Ba.ROWS]:Cn.p.DIMENSION},[Fa.COMBO]:{[Ba.X]:Cn.p.DIMENSION,[Ba.Y_1]:Cn.p.MEASURE,[Ba.Y_2]:Cn.p.MEASURE},[Fa.GAUGE]:{[Ba.SINGLE_VALUE]:Cn.p.MEASURE}});var _o=n("G2Xo"),No=n("x5iv"),Ro=n("3Wht"),Co=n("Q8yF"),vo=n("3X2b");const Lo=Object(vn.a)({priority:0,type:vn.d.VALUE,order:vn.c.ASCENDING}),Do={[vn.c.ASCENDING]:Rn.c.ascending,[vn.c.DESCENDING]:Rn.c.descending},Mo=Object(Rn.d)({direction:Rn.c.ascending}),Po=e=>{const t=e.order===vn.c.ASCENDING?vn.c.DESCENDING:vn.c.ASCENDING;return e.set("order",t)},Uo="sort_",ko=e=>`${Uo}${e}`,xo=(e,t,n=b.List.of(e.alias))=>{const r=ko(e.alias);return t&&t.set("alias",r).set("fixedMeasure",!0).set("fixed",n)},wo="hs_combined_association_type_id",Fo=Ln.i({left:Ln.k(),right:Ln.k(),definitions:Ln.d(Ro.b).defaultValue(Object(b.List)())},"JoinEdge"),Yo=({left:e,right:t})=>`${e}-${t}`,Bo=e=>{const t=e.join;if(void 0===t||t.isEmpty())return Object(b.Map)();const n=e,r=e=>Fo({left:n.name,right:e.target.name,definitions:e.definitions}),a=t.filterNot(e=>e.target.name===Ro.a).map(e=>r(e)).toMap().mapKeys((e,t)=>t?Yo(t):"").toMap(),o=t.filterNot(e=>e.target.name===Ro.a).map(e=>e.target).flatMap(Bo);return a.merge(o).toMap()};var Go=n("prCU"),Vo=n("uE7y");const Ho=(e,t)=>Object(Vo.b)({name:t.name,table:e,type:t.type});function Wo(e,t){function n(){this.constructor=e}n.prototype=t.prototype;e.prototype=new n}function Ko(e,t,n,r){this.message=e;this.expected=t;this.found=n;this.location=r;this.name="SyntaxError";"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Ko)}Wo(Ko,Error);Ko.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return n[e.type](e)}function i(e){var t,n,r=new Array(e.length);for(t=0;t<e.length;t++)r[t]=s(e[t]);r.sort();if(r.length>0){for(t=1,n=1;t<r.length;t++)if(r[t-1]!==r[t]){r[n]=r[t];n++}r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(e){return e?'"'+a(e)+'"':"end of input"}return"Expected "+i(e)+" but "+c(t)+" found."};function qo(e,t){t=void 0!==t?t:{};var n,r={},a={Start:0},o=0,s=[function(e){return e},E(),T("whitespace"),"\t",O("\t",!1),"\v",O("\v",!1),"\f",O("\f",!1)," ",O(" ",!1)," ",O(" ",!1),"\ufeff",O("\ufeff",!1),/^[\n\r\u2028\u2029]/,f(["\n","\r","\u2028","\u2029"],!1,!1),T("end of line"),"\n",O("\n",!1),"\r\n",O("\r\n",!1),"\r",O("\r",!1),"\u2028",O("\u2028",!1),"\u2029",O("\u2029",!1),function(e){return e},T("identifier"),function(e,t){return{type:"IDENTIFIER",name:e+t.join(""),location:b()}},"$",O("$",!1),"_",O("_",!1),"‌",O("‌",!1),"‍",O("‍",!1),function(){return{type:"NULL_LITERAL",value:null,location:b()}},function(){return{type:"BOOLEAN_LITERAL",value:!0,location:b()}},function(){return{type:"BOOLEAN_LITERAL",value:!1,location:b()}},T("number"),function(e){return e},".",O(".",!1),function(){return{type:"NUMERIC_LITERAL",value:parseFloat(g()),location:b()}},"0",O("0",!1),/^[0-9]/,f([["0","9"]],!1,!1),/^[1-9]/,f([["1","9"]],!1,!1),/^[+\-]/,f(["+","-"],!1,!1),T("string"),'"',O('"',!1),function(e){return{type:"STRING_LITERAL",value:e.join(""),location:b()}},"'",O("'",!1),function(e){return{type:"STRING_LITERAL",value:e.join(""),location:b()}},function(){return g()},"[",O("[",!1),"]",O("]",!1),"\\",O("\\",!1),function(){return""},/^[a-z]/,f([["a","z"]],!1,!1),/^[A-Z]/,f([["A","Z"]],!1,!1),/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,f([" "," "," ",[" "," "]," "," ","　"],!1,!1),"true",O("true",!1),"false",O("false",!1),"null",O("null",!1),"NULL",O("NULL",!1),"(",O("(",!1),")",O(")",!1),function(e,t){return{type:"PROPERTY",table:e.name,name:t.name,location:b()}},function(e){return{type:"FIELD",name:e.join(""),location:b()}},"{",O("{",!1),":",O(":",!1),"}",O("}",!1),function(e,t){return{type:"AGGREGATION_CONTEXT",dimensions:e,expression:t,location:b()}},function(e){return{type:"AGGREGATION_CONTEXT",dimensions:[],expression:e,location:b()}},function(e,t){return{type:"FUNCTION_CALL",name:e.name,arguments:t,location:b(),identifierLocation:e.location}},function(e){return M(N(e,0))},",",O(",",!1),function(e,t){return C(e,t,3)},function(e,t){return{type:v(e),operator:e,argument:t,prefix:!0,location:b()}},"+",O("+",!1),"=",O("=",!1),"-",O("-",!1),"!",O("!",!1),function(e,t){return D(e,t,b())},"*",O("*",!1),"/",O("/",!1),"%",O("%",!1),/^[+=]/,f(["+","="],!1,!1),/^[\-=]/,f(["-","="],!1,!1),"<=",O("<=",!1),">=",O(">=",!1),"<",O("<",!1),">",O(">",!1),"==",O("==",!1),"!=",O("!=",!1),"&&",O("&&",!1),"AND",O("AND",!1),"||",O("||",!1),"OR",O("OR",!1)],i=[S("%;A/:#;U/1$;A/($8#: #!!)(#'#(\"'#&'#"),S('1""5!7!'),S('<2#""6#7$._ &2%""6%7&.S &2\'""6\'7(.G &2)""6)7*.; &2+""6+7,./ &2-""6-7..# &;<=." 7"'),S('4/""5!70'),S('<22""6273.M &24""6475.A &26""6677.5 &28""6879.) &2:""6:7;=." 71'),S("%%<;*=.##&&!&'#/1#;&/($8\":<\"! )(\"'#&'#"),S('<%;\'/9#$;(0#*;(&/)$8":>""! )("\'#&\'#=." 7='),S(';).5 &2?""6?7@.) &2A""6A7B'),S(';\'.; &;;.5 &2C""6C7D.) &2E""6E7F'),S(";:.# &;9"),S(";,.# &;-"),S(";,./ &;-.) &;..# &;4"),S("%;?/& 8!:G! )"),S("%;=/& 8!:H! ).. &%;>/& 8!:I! )"),S("<%;//C#%<;'.# &;1=.##&&!&'#/($8\":K\"!!)(\"'#&'#=.\" 7J"),S('%;0/F#2L""6L7M/7$$;10#*;1&/\'$8#:N# )(#\'#("\'#&\'#.^ &%2L""6L7M/=#$;1/&#0#*;1&&&#/\'$8":N" )("\'#&\'#.. &%;0/& 8!:N! )'),S('2O""6O7P.= &%;2/3#$;10#*;1&/#$+")("\'#&\'#'),S('4Q""5!7R'),S('4S""5!7T'),S('%4U""5!7V." &"/9#$;1/&#0#*;1&&&#/#$+")("\'#&\'#'),S('<%2X""6X7Y/G#$;50#*;5&/7$2X""6X7Y/($8#:Z#!!)(#\'#("\'#&\'#.W &%2[""6[7\\/G#$;60#*;6&/7$2[""6[7\\/($8#:]#!!)(#\'#("\'#&\'#=." 7W'),S('%%<2X""6X7Y.# &;#=.##&&!&\'#/0#;!/\'$8":^" )("\'#&\'#.# &;8'),S('%%<2[""6[7\\.# &;#=.##&&!&\'#/0#;!/\'$8":^" )("\'#&\'#.# &;8'),S('%%<2_""6_7`.; &2a""6a7b./ &2L""6L7M.# &;#=.##&&!&\'#/0#;!/\'$8":^" )("\'#&\'#'),S('%2c""6c7d/0#;$/\'$8":e" )("\'#&\'#'),S('4f""5!7g'),S('4h""5!7i'),S('4Q""5!7R'),S('4j""5!7k'),S('%2l""6l7m/8#%<;(=.##&&!&\'#/#$+")("\'#&\'#'),S('%2n""6n7o/8#%<;(=.##&&!&\'#/#$+")("\'#&\'#'),S('2p""6p7q.H &%2r""6r7s/8#%<;(=.##&&!&\'#/#$+")("\'#&\'#'),S('$;".# &;$/,#0)*;".# &;$&&&#'),S('$;".# &;$0)*;".# &;$&'),S('$;"0#*;"&'),S(';%.t &;+.n &;D.h &;E.b &%2t""6t7u/R#;A/I$;U/@$;A/7$2v""6v7w/($8%: %!")(%\'#($\'#(#\'#("\'#&\'#'),S("%2_\"\"6_7`/k#;A/b$;&/Y$2L\"\"6L7M/J$;&/A$;A/8$2a\"\"6a7b/)$8':x'\"$\")(''#(&'#(%'#($'#(#'#(\"'#&'#"),S('%2_""6_7`/Y#;A/P$$;70#*;7&/@$;A/7$2a""6a7b/($8%:y%!")(%\'#($\'#(#\'#("\'#&\'#'),S("%2z\"\"6z7{/}#;A/t$;I/k$;A/b$2|\"\"6|7}/S$;A/J$;U/A$;A/8$2~\"\"6~7/)$8):)\"&\")()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.b &%2z\"\"6z7{/R#;A/I$;U/@$;A/7$2~\"\"6~7/($8%:%!\")(%'#($'#(#'#(\"'#&'#"),S("%;%/;#;A/2$;H/)$8#:#\"\" )(#'#(\"'#&'#"),S('%2t""6t7u/a#;A/X$%;I/,#;A/#$+")("\'#&\'#." &"/7$2v""6v7w/($8$:$!!)($\'#(#\'#("\'#&\'#'),S("%;U/#$%;A/D#2\"\"67/5$;A/,$;U/#$+$)($'#(#'#(\"'#&'#0N*%;A/D#2\"\"67/5$;A/,$;U/#$+$)($'#(#'#(\"'#&'#&/)$8\":\"\"! )(\"'#&'#"),S(";G.) &;F.# &;C.E &%;K/;#;A/2$;J/)$8#:#\"\" )(#'#(\"'#&'#"),S('%%2""67/>#%<2""67=.##&&!&\'#/#$+")("\'#&\'#/"!&,).a &%%2""67/>#%<2""67=.##&&!&\'#/#$+")("\'#&\'#/"!&,).) &2""67'),S("%;J/#$%;A/>#;M/5$;A/,$;J/#$+$)($'#(#'#(\"'#&'#0H*%;A/>#;M/5$;A/,$;J/#$+$)($'#(#'#(\"'#&'#&/)$8\":\"\"! )(\"'#&'#"),S('%%2""67/>#%<2""67=.##&&!&\'#/#$+")("\'#&\'#/"!&,). &%%2""67/>#%<2""67=.##&&!&\'#/#$+")("\'#&\'#/"!&,).U &%%2""67/>#%<2""67=.##&&!&\'#/#$+")("\'#&\'#/"!&,)'),S("%;L/#$%;A/>#;O/5$;A/,$;L/#$+$)($'#(#'#(\"'#&'#0H*%;A/>#;O/5$;A/,$;L/#$+$)($'#(#'#(\"'#&'#&/)$8\":\"\"! )(\"'#&'#"),S('%%2""67/>#%<4""5!7=.##&&!&\'#/#$+")("\'#&\'#/"!&,).U &%%2""67/>#%<4""5!7=.##&&!&\'#/#$+")("\'#&\'#/"!&,)'),S("%;N/#$%;A/>#;Q/5$;A/,$;N/#$+$)($'#(#'#(\"'#&'#0H*%;A/>#;Q/5$;A/,$;N/#$+$)($'#(#'#(\"'#&'#&/)$8\":\"\"! )(\"'#&'#"),S('2""67. &2""67. &%%2""67 />#%<2""67 =.##&&!&\'#/#$+")("\'#&\'#/"!&,).U &%%2¡""6¡7¢/>#%<2¡""6¡7¢=.##&&!&\'#/#$+")("\'#&\'#/"!&,)'),S("%;P/#$%;A/>#;S/5$;A/,$;P/#$+$)($'#(#'#(\"'#&'#0H*%;A/>#;S/5$;A/,$;P/#$+$)($'#(#'#(\"'#&'#&/)$8\":\"\"! )(\"'#&'#"),S('2£""6£7¤.5 &2""67.) &2¥""6¥7¦'),S("%;R/ñ#$%;A/D#2§\"\"6§7¨/5$;A/,$;R/#$+$)($'#(#'#(\"'#&'#.N &%;@/D#2©\"\"6©7ª/5$;@/,$;R/#$+$)($'#(#'#(\"'#&'#0*%;A/D#2§\"\"6§7¨/5$;A/,$;R/#$+$)($'#(#'#(\"'#&'#.N &%;@/D#2©\"\"6©7ª/5$;@/,$;R/#$+$)($'#(#'#(\"'#&'#&/)$8\":\"\"! )(\"'#&'#"),S("%;T/ñ#$%;A/D#2«\"\"6«7¬/5$;A/,$;T/#$+$)($'#(#'#(\"'#&'#.N &%;@/D#2­\"\"6­7®/5$;@/,$;T/#$+$)($'#(#'#(\"'#&'#0*%;A/D#2«\"\"6«7¬/5$;A/,$;T/#$+$)($'#(#'#(\"'#&'#.N &%;@/D#2­\"\"6­7®/5$;@/,$;T/#$+$)($'#(#'#(\"'#&'#&/)$8\":\"\"! )(\"'#&'#")],c=0,l=0,u=[{line:1,column:1}],p=0,d=[],m=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=a[t.startRule]}function g(){return e.substring(l,c)}function b(){return h(l,c)}function O(e,t){return{type:"literal",text:e,ignoreCase:t}}function f(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function E(){return{type:"any"}}function y(){return{type:"end"}}function T(e){return{type:"other",description:e}}function I(t){var n,r=u[t];if(r)return r;n=t-1;for(;!u[n];)n--;r={line:(r=u[n]).line,column:r.column};for(;n<t;){if(10===e.charCodeAt(n)){r.line++;r.column=1}else r.column++;n++}u[t]=r;return r}function h(e,t){var n=I(e),r=I(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function j(e){if(!(c<p)){if(c>p){p=c;d=[]}d.push(e)}}function A(e,t,n){return new Ko(Ko.buildMessage(e,t),e,t,n)}function S(e){var t,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=e.charCodeAt(t)-32;return n}function _(t){for(var n,a,o=i[t],u=0,p=[],d=o.length,g=[],b=[];;){for(;u<d;)switch(o[u]){case 0:b.push(s[o[u+1]]);u+=2;break;case 1:b.push(void 0);u++;break;case 2:b.push(null);u++;break;case 3:b.push(r);u++;break;case 4:b.push([]);u++;break;case 5:b.push(c);u++;break;case 6:b.pop();u++;break;case 7:c=b.pop();u++;break;case 8:b.length-=o[u+1];u+=2;break;case 9:b.splice(-2,1);u++;break;case 10:b[b.length-2].push(b.pop());u++;break;case 11:b.push(b.splice(b.length-o[u+1],o[u+1]));u+=2;break;case 12:b.push(e.substring(b.pop(),c));u++;break;case 13:g.push(d);p.push(u+3+o[u+1]+o[u+2]);if(b[b.length-1]){d=u+3+o[u+1];u+=3}else{d=u+3+o[u+1]+o[u+2];u+=3+o[u+1]}break;case 14:g.push(d);p.push(u+3+o[u+1]+o[u+2]);if(b[b.length-1]===r){d=u+3+o[u+1];u+=3}else{d=u+3+o[u+1]+o[u+2];u+=3+o[u+1]}break;case 15:g.push(d);p.push(u+3+o[u+1]+o[u+2]);if(b[b.length-1]!==r){d=u+3+o[u+1];u+=3}else{d=u+3+o[u+1]+o[u+2];u+=3+o[u+1]}break;case 16:if(b[b.length-1]!==r){g.push(d);p.push(u);d=u+2+o[u+1];u+=2}else u+=2+o[u+1];break;case 17:g.push(d);p.push(u+3+o[u+1]+o[u+2]);if(e.length>c){d=u+3+o[u+1];u+=3}else{d=u+3+o[u+1]+o[u+2];u+=3+o[u+1]}break;case 18:g.push(d);p.push(u+4+o[u+2]+o[u+3]);if(e.substr(c,s[o[u+1]].length)===s[o[u+1]]){d=u+4+o[u+2];u+=4}else{d=u+4+o[u+2]+o[u+3];u+=4+o[u+2]}break;case 19:g.push(d);p.push(u+4+o[u+2]+o[u+3]);if(e.substr(c,s[o[u+1]].length).toLowerCase()===s[o[u+1]]){d=u+4+o[u+2];u+=4}else{d=u+4+o[u+2]+o[u+3];u+=4+o[u+2]}break;case 20:g.push(d);p.push(u+4+o[u+2]+o[u+3]);if(s[o[u+1]].test(e.charAt(c))){d=u+4+o[u+2];u+=4}else{d=u+4+o[u+2]+o[u+3];u+=4+o[u+2]}break;case 21:b.push(e.substr(c,o[u+1]));c+=o[u+1];u+=2;break;case 22:b.push(s[o[u+1]]);c+=s[o[u+1]].length;u+=2;break;case 23:b.push(r);0===m&&j(s[o[u+1]]);u+=2;break;case 24:l=b[b.length-1-o[u+1]];u+=2;break;case 25:l=c;u++;break;case 26:n=o.slice(u+4,u+4+o[u+3]);for(a=0;a<o[u+3];a++)n[a]=b[b.length-1-n[a]];b.splice(b.length-o[u+2],o[u+2],s[o[u+1]].apply(null,n));u+=4+o[u+3];break;case 27:b.push(_(o[u+1]));u+=2;break;case 28:m++;u++;break;case 29:m--;u++;break;default:throw new Error("Invalid opcode: "+o[u]+".")}if(!(g.length>0))break;d=g.pop();u=p.pop()}return b[0]}function N(e,t){return e?e[t]:null}function R(e,t){return e.map((function(e){return e[t]}))}function C(e,t,n){return[e].concat(R(t,n))}function v(e){switch(e){case"+":return"POSITIVE";case"-":return"NEGATIVE";case"!":return"NOT";default:throw new Error("Unknown unary operator")}}function L(e){switch(e){case"+":return"ADD";case"-":return"SUBTRACT";case"*":return"MULTIPLY";case"/":return"DIVIDE";case"%":return"MODULUS";case">":return"GREATER";case"<":return"LESS";case">=":return"GREATER_OR_EQUAL";case"<=":return"LESS_OR_EQUAL";case"=":case"==":return"EQUAL";case"!=":return"NOT_EQUAL";case"AND":return"AND";case"OR":return"OR";case"&&":return"AND";case"||":return"OR";default:throw new Error("Unknown binary operator")}}function D(e,t,n){return t.reduce((function(e,t){const r=t[1];return{type:L(r),operator:r,left:e,right:t[3],location:n}}),e)}function M(e){return null!==e?e:[]}if((n=_(o))!==r&&c===e.length)return n;n!==r&&c<e.length&&j(y());throw A(d,p<e.length?e.charAt(p):null,p<e.length?h(p,p+1):h(p,p))}const Qo=qo;var $o=n("QP1J");const Jo=e=>Object($o.b)(Qo(e)),zo=e=>{let t;try{t=Jo(e)}catch(e){t=Jo("null")}return t},Xo=e=>{switch(e.type){case $o.d.NULL_LITERAL:case $o.d.NUMERIC_LITERAL:case $o.d.STRING_LITERAL:case $o.d.BOOLEAN_LITERAL:return!0;default:return!1}},Zo=e=>e.type===$o.d.IDENTIFIER,es=e=>e.type===$o.d.PROPERTY,ts=e=>e.type===$o.d.FIELD,ns=e=>e.type===$o.d.FUNCTION_CALL,rs=e=>e.type===$o.d.AGGREGATION_CONTEXT,as=e=>{switch(e.type){case $o.d.POSITIVE:case $o.d.NEGATIVE:case $o.d.NOT:return!0;default:return!1}},os=e=>{switch(e.type){case $o.d.ADD:case $o.d.SUBTRACT:case $o.d.MULTIPLY:case $o.d.DIVIDE:case $o.d.MODULUS:case $o.d.GREATER:case $o.d.GREATER_OR_EQUAL:case $o.d.LESS:case $o.d.LESS_OR_EQUAL:case $o.d.EQUAL:case $o.d.NOT_EQUAL:case $o.d.AND:case $o.d.OR:return!0;default:return!1}},ss=e=>{if(e.type===$o.d.NULL_LITERAL)return"";if(Xo(e))return String(e.value);if(Zo(e))return e.name;if(es(e))return`[${e.table}.${e.name}]`;if(ts(e))return`[${e.name}]`;if(ns(e))return`${e.name}(${e.arguments.map(ss).join(",")})`;if(rs(e)){const t=ss(e.expression);if(e.dimensions.isEmpty())return`{ ${t} }`;return`{ ${e.dimensions.map(ss).join(", ")}: ${t} }`}return as(e)?`(${e.operator}${ss(e.argument)})`:os(e)?`(${ss(e.left)}${e.operator}${ss(e.right)})`:""},is=e=>{let t,n,r,a=Object(b.List)(),o=Object(b.List)();if(os(e)){t=e.left;n=e.right}else if(ns(e))a=e.arguments;else if(rs(e)){o=e.dimensions;r=e.expression}else as(e)&&(r=e.argument);return Object(b.List)([e,...Object(b.List)([...a.toArray(),...o.toArray(),r,t,n]).filter(e=>!!e).flatMap(e=>is(e)).toArray()])},cs=(e,t)=>{const n=e=>ns(e)?e.update(t).update("arguments",e=>e.map(e=>n(e))):rs(e)?e.update(t).update("dimensions",e=>e.map(e=>n(e))).update("expression",e=>n(e)):as(e)?e.update(t).update("argument",e=>n(e)):os(e)?e.update(t).update("left",e=>n(e)).update("right",e=>n(e)):e.update(t);return n(e)},ls=e=>is(e).filter(e=>ts(e)).toSet(),us=(e,t)=>cs(e,e=>{if(ts(e)){const n=e.name,r=t.has(n)?t.get(n):n;return e.set("name",r)}return e}),ps=(e,t)=>{const n=t.map(e=>e.label).flip();return us(e,n)},ds=(e,t)=>{const n=t.map(e=>e.label);return us(e,n)},ms=e=>e.reduce((e,t,n)=>e.set(n,t.expression?ls(t.expression).toList().map(e=>e.name):Object(b.List)()),Object(b.Map)()),gs=(e,t)=>{let n=Object(b.Map)();const r=e=>n=n.set(e,0),a=e=>n=n.set(e,1),o=e=>n=n.set(e,2),s=e=>0===n.get(e),i=e=>1===n.get(e);e.forEach((e,t)=>r(t));const c=t=>{a(t);const n=e.get(t);for(const e of n){if(i(e))return!0;if(s(e)&&c(e))return!0}o(t);return!1};if(t)return c(t);const l=e.keySeq().toArray();for(const e of l)if(s(e)&&c(e))return!0;return!1},bs="objectid",Os="rowid",fs=e=>e===Os||e===bs,Es=e=>e.table?Object(vo.a)({property:e.name,table:e.table}):void 0,{DATE:ys,DATETIME:Ts,STRING:Is,NUMBER:hs,BOOL:js,ENUMERATION:As,PHONE_NUMBER:Ss,CURRENCY_NUMBER:_s}=Cn.m,Ns=e=>{switch(e&&e.type){case Cn.m.NUMBER:case Cn.m.CURRENCY_NUMBER:return Cn.c.NUMBER;case Cn.m.BOOL:return Cn.c.BOOLEAN;case Cn.m.DATE:return Cn.c.DATE;case Cn.m.DATETIME:return Cn.c.DATETIME;default:return Cn.c.STRING}},Rs="hs_object_id",Cs=e=>`${e.table||e.source}.${e.name}`,vs=(e,t,n)=>e.table===Ro.a?n?n.label:e.name:t&&t.get("label")||e.name,Ls=e=>e&&e.source===Cn.l.EXPRESSION,Ds=e=>e.reduce((e,t)=>is(t.expression).reduce((e,t)=>t.type===$o.d.PROPERTY?e.push(Object(vo.a)({table:t.table,property:t.name})):e,e),Object(b.List)()),Ms=e=>Ns(e)===Cn.c.NUMBER,Ps=e=>!!e&&e.numberDisplayHint===No.d,Us=e=>Ns(e)===Cn.c.DATETIME||Ns(e)===Cn.c.DATE,ks=(e,t)=>{const{name:n,type:r}=e,a=n===wo?Cn.l.ASSOCIATION:Cn.l.TABLE;return Object(Cn.k)({name:n,type:r,source:a,table:t})},xs=(e,t)=>e.set("transform",t),ws=e=>e.role,Fs=e=>e.domain,Ys=e=>e.field,Bs=e=>e.transform,Gs=e=>e.aggregation,Vs=e=>e.alias,Hs=e=>t=>t.toList().map(e).filter(e=>!!e),Ws=Hs(ws),Ks=Hs(Fs),qs=Hs(Ys),Qs=Hs(Bs),$s=Hs(Gs),Js=e=>e.toList().filter(e=>ws(e)===Cn.p.DIMENSION),zs=e=>e.toList().filter(e=>ws(e)===Cn.p.MEASURE).toList(),Xs=(e,t)=>e.get(t),Zs=(e,t)=>e.field.table===t.name,ei=(e,t)=>e.toList().filter(e=>Zs(e,t)),ti=(e,t)=>e.delete(t),ni=e=>{const t=e.field;if(!t)return e;return Us(t)||e.role===Cn.p.MEASURE?e.set("includeUndefinedBuckets",!1).delete("undefinedBucket"):e.set("includeUndefinedBuckets",!0).set("undefinedBucket",Cn.s)},ri=(e,t)=>ni(void 0===t?e.delete("aggregation").set("role",Cn.p.DIMENSION).set("domain",Cn.g.DISCRETE):e.set("aggregation",t).set("role",Cn.p.MEASURE).set("domain",Cn.g.CONTINUOUS)),ai=e=>ri(e,void 0),oi=e=>e.delete("transform"),si=e=>{const t=Gs(e);return Cn.a.getIn([t,"supportedFieldTypes"])},ii="0123456789abcdef".split(""),ci=()=>{const e=[];for(let t=0;t<32;t++)e.push(ii[Math.floor(Math.random()*ii.length)]);return e.join("")};let li=()=>ci();const ui=e=>e.set("alias",li()),pi=e=>ni(Object(Cn.d)({role:Cn.p.DIMENSION,domain:Cn.g.DISCRETE,field:e,sort:Lo,alias:li()})),di=e=>Us(e)?Object(Cn.q)({type:Cn.r.DATE_TRUNC,arguments:[Cn.f.MONTH]}):void 0,mi=e=>Us(e)?Object(Cn.q)({type:Cn.r.DATE_TRUNC,arguments:[Cn.f.DAY]}):void 0,gi=e=>pi(e).set("transform",di(e)),bi=e=>pi(e).set("transform",mi(e)),Oi=e=>e.name===Rs,fi=e=>ri(e,Cn.b.DISTINCT_COUNT),Ei=(e,t)=>fs(e.name)||Oi(e)?Cn.b.DISTINCT_COUNT:Ps(t)?Cn.b.AVERAGE:Ms(e)?Cn.b.SUM:Cn.b.DISTINCT_COUNT,yi=(e,t)=>{const n=e.field;if(fs(n.name))return fi(e);let r=e;const a=Ei(n,t);r=ri(r,a);r=r.set("sort",Lo);return r},Ti=(e,t)=>{const n=Object(Cn.d)({role:Cn.p.MEASURE,domain:Cn.g.CONTINUOUS,field:e,sort:Lo,alias:li()}),r=Ei(e,t);return ri(n,r)},Ii=e=>Object(Cn.d)({role:Cn.p.MEASURE,domain:Cn.g.CONTINUOUS,field:Object(Cn.k)({name:bs,table:e,type:Cn.m.NUMBER}),sort:Lo,aggregation:Cn.b.DISTINCT_COUNT,alias:li()}),hi=e=>Object(Cn.d)({role:Cn.p.MEASURE,domain:Cn.g.CONTINUOUS,field:Object(Cn.k)({name:Os,table:e,type:Cn.m.NUMBER}),sort:Lo,aggregation:Cn.b.DISTINCT_COUNT,alias:li()}),ji=[Co.b.HUBSPOT_OBJECT,Co.b.HUBSPOT_EVENT,Co.b.EVENTS_DIGEST],Ai=e=>ji.includes(e),Si=e=>{const t=e.type,n=e.name;if(Ai(t))return t===Co.b.EVENTS_DIGEST?hi(n):t===Co.b.HUBSPOT_OBJECT?Ii(n):t===Co.b.HUBSPOT_EVENT?hi(n):void 0},_i=(e,t)=>{const n=e.property,r=e.table;return fs(n)?Object(Cn.k)({name:n,table:r,type:Cn.m.NUMBER}):ks(t,r)},Ni=e=>fs(e.field.name),Ri=e=>null!=e.transform&&e.transform.type===Cn.r.DATE_TRUNC,Ci=e=>null!=e.transform&&e.transform.type===Cn.r.DATE_PART,vi=e=>{if(e.transform&&Ri(e))return e.transform.arguments.first()},Li=e=>{if(e.transform&&Ci(e))return e.transform.arguments.first()},Di=e=>vi(e),Mi=(e,t,n,r,a=Object(b.List)())=>{const{name:o,field:s}=e;if(o)return o;const{table:i}=s,c=vs(s,t,r),l=i&&Object(Go.i)(i,n);if(Ni(e)&&l)return h.a.text("reporting-snowflake.magic-measure-label",{sourceName:l.toLowerCase()});let u=c;if(Ls(e.field)){const t=a.find(t=>t.alias===e.field.name);t&&(u=t.label)}Oi(e.field)&&(u=`${u} - ${l}`);const p=vi(e);if(p){const e=h.a.text("reporting-snowflake.date-trunc."+p);u=Object(_o.a)("reporting-snowflake.transform-label",{subject:u,transform:e})}const d=Li(e);if(d){const e=h.a.text("reporting-snowflake.date-part."+d);u=Object(_o.a)("reporting-snowflake.transform-label",{subject:u,transform:e})}const m=Gs(e);if(m&&m!==Cn.b.DELEGATE){const e=h.a.text("reporting-snowflake.aggregations."+m);u=Object(_o.a)("reporting-snowflake.aggregation-label",{subject:u,aggregation:e})}return u},Pi=e=>{const t=e.field,n=e.role,r=Ns(t);if(n===Cn.p.MEASURE){switch(e.aggregation){case Cn.b.MIN:case Cn.b.MAX:return r;default:return Cn.c.NUMBER}}return r},Ui=(e,t)=>{const n=t&&t.metaDefinition;switch(e){case Cn.c.NUMBER:return n?"duration"===n.numberDisplayHint?Cn.o.DURATION:n.showCurrencySymbol?Cn.o.CURRENCY:Cn.o.NUMBER:Cn.o.NUMBER;case Cn.c.BOOLEAN:return Cn.o.BOOLEAN;case Cn.c.DATE:return Cn.o.DATE;case Cn.c.DATETIME:return Cn.o.DATETIME;default:return n&&n.fieldType===Cn.o.HTML?Cn.o.HTML:Cn.o.STRING}},ki=(e,t)=>{const n=Pi(e);return Ui(n,t)},xi=(e,t)=>e.set(t.alias,t),wi=e=>"currency_"+e,Fi=e=>{const t=vi(e),n=[Cn.f.QUARTER,Cn.f.YEAR].includes(t);return e.useFiscalYear&&n},Yi=(e,t)=>{const n=!!t.datasetDefinition,r=e.field,a={table:r.table,name:r.name};if(!n)return a;const o=t.datasetDefinition.fields.get(r.name);if(o.derived)return a;const s=o.expression;return s.type===$o.d.PROPERTY?{table:s.table,name:s.name}:a},Bi=(e,t)=>{const n=e.field;if("__DATASET__"!==n.table)return n;if(!t)return;const r=t.datasetDefinition;if(!r)return;const a=r.fields.get(e.field.name);if(!a)return n;const{expression:o}=a;if(!(o.type===$o.d.PROPERTY))return n;const{table:s,name:i}=o,c=t.datasetDefinition.properties.getIn([s,i]);return Object(Cn.k)({name:i,table:s,source:Cn.l.TABLE,type:c.type})};var Gi=n("u4JO");const Vi=e=>e.column,Hi=e=>e.column&&e.column.alias,Wi=e=>e&&e.getIn(["options","format"]),Ki=e=>e&&e.getIn(["options","format","type"]),qi=e=>t=>t.get(e),Qi=e=>(t,n)=>t.set(e,n),$i=(qi(Ba.COLOR),qi(Ba.SIZING),qi(Ba.DETAIL),qi(Ba.COLUMNS),qi(Ba.GROUP),qi(Ba.ROWS),qi(Ba.VALUES),qi(Ba.X),qi(Ba.Y),Qi(Ba.COLOR),Qi(Ba.SIZING),Qi(Ba.DETAIL),Qi(Ba.COLUMNS)),Ji=(Qi(Ba.GROUP),Qi(Ba.ROWS),Qi(Ba.VALUES),Qi(Ba.X),Qi(Ba.Y),e=>ho.get(e)),zi=e=>t=>t.type===e,Xi=zi(Ga.SINGLE),Zi=zi(Ga.MULTIPLE),ec=(e,t,n)=>Xi(Ji(t))?e.get(t):e.getIn([t,n]),tc=(e,t)=>{const n=e.get(t);return void 0===n?Object(b.List)():Xi(Ji(t))?Object(b.List)([n]):n},nc=e=>e.keySeq().toList().flatMap(t=>tc(e,t)),rc=(e,t,n)=>Xi(Ji(t))?e.set(t,void 0):e.deleteIn([t,n]),ac=(No.d,Gi.f.PERCENTAGE,(e,t)=>{const n=Ls(e.field)&&t&&t.formatHint;let r=Cn.t;n&&t.formatHint===Gi.f.PERCENTAGE&&(r=Object(Cn.i)({format:Object(Gi.j)({})}));return Object(Cn.h)({column:Vs(e),options:r})}),oc=({encodings:e,channelName:t,encoding:n,toIndex:r})=>Xi(Ji(t))?e.set(t,n):e.update(t,(e=Object(b.List)())=>e.splice(r,1,n)),sc=({encodings:e,channelName:t,encoding:n,toIndex:r})=>Xi(Ji(t))?e.set(t,n):e.update(t,(e=Object(b.List)())=>void 0===r?e.push(n):e.insert(r,n)),ic=({encodings:e,channelName:t,column:n,expressionField:r,toIndex:a,encodingOptions:o})=>{const s=o?ac(n,r).update("options",e=>e.set("format",o.get("format"))):ac(n,r);return sc({encodings:e,channelName:t,encoding:s,toIndex:a})},cc=(e,t)=>e.set("encodings",t),lc=(e,t)=>e.encodings.get(t),uc=e=>jo.get(e),pc=e=>Ao.get(e),dc=e=>nc(e.encodings).map(e=>e.column),mc=e=>Xi(e)?void 0:Object(b.List)(),gc=(e,t)=>{const{type:n,encodings:r}=e,{alias:a}=t;return e.set("encodings",uc(n).reduce((e,t)=>{const{name:n}=t,o=r.get(n);if(!o)return e;if(Xi(t)){const{column:t}=o;return t===a?e.delete(n):e}return e.set(n,o.filter(e=>e.column!==a))},r))},bc=(e,t)=>{const{encodings:n,type:r}=e;return uc(r).find(e=>tc(n,e.name).includes(t))},Oc=(e,t)=>e.find(e=>e.column===t.alias),fc=e=>!!uc(e).get(Ba.COMPARE),Ec=e=>{switch(e){case Fa.GAUGE:return Ba.COMPARE;case Fa.TEXT:return Ba.GROUP;default:return Ba.COLOR}},yc=e=>[Fa.VERTICAL_BAR,Fa.LINE,Fa.AREA,Fa.COMBO].includes(e),Tc=e=>Fa.SCATTER===e,Ic=e=>Ya({type:e,encodings:uc(e).map(mc),options:pc(e)({})}),hc=Object(b.fromJS)({[Fa.SCATTER]:{[Ba.X]:e=>e.get("type")===Cn.m.DATETIME?Cn.p.DIMENSION:Cn.p.MEASURE,[Ba.Y]:e=>e.get("type")===Cn.m.DATETIME?Cn.p.DIMENSION:Cn.p.MEASURE}}),jc=(e,t,n)=>{const r=hc.getIn([e,t]);return r&&n?r(n):So.getIn([e,t])},Ac=(e,t)=>{const n=e.encodings,r=Ic(t),a=uc(t).map(mc),o=$i(a,nc(n));return cc(r,o)},Sc=(e,t,n,r)=>{switch(t){case Ba.X:return yc(n)?gi(e):Ti(e,r);case Ba.Y:return yc(n)||Tc(n)?Ti(e,r):gi(e);case Ba.Y_1:case Ba.Y_2:return Ti(e,r);case Ba.COLOR:case Ba.GROUP:case Ba.ROWS:case Ba.COLUMNS:return gi(e);case Ba.VALUES:case Ba.SINGLE_VALUE:return Ti(e,r);default:return Ms(e)?Ti(e,r):gi(e)}},_c=e=>[Fa.VERTICAL_BAR,Fa.HORIZONTAL_BAR,Fa.LINE,Fa.AREA,Fa.TEXT].includes(e),Nc=(e,t,n)=>{if(!e.includes("AdvancedBuilder:Currency"))return!0;const r=t.properties.getIn([n.table,n.name]);if(!r)return!1;const{metaDefinition:a}=r;if(!a)return!1;const o=t.properties.getIn([n.table,a.currencyPropertyName]);return a.showCurrencySymbol&&!!o},Rc=e=>t=>{const n=t.columns,r=t.visual,a=lc(r,e);if(!a)return;const o=Ji(e);return Xi(o)?a.update("column",e=>n.get(e)):Zi(o)?a.map(e=>e.update("column",e=>n.get(e))):void 0},Cc=Rc(Ba.COLOR),vc=Rc(Ba.SIZING),Lc=Rc(Ba.DETAIL),Dc=Rc(Ba.COLUMNS),Mc=Rc(Ba.BREAKDOWN),Pc=Rc(Ba.GROUP),Uc=Rc(Ba.ROWS),kc=Rc(Ba.VALUES),xc=Rc(Ba.SINGLE_VALUE),wc=Rc(Ba.X),Fc=Rc(Ba.X_MULTI),Yc=Rc(Ba.Y_MULTI),Bc=Rc(Ba.Y),Gc=Rc(Ba.Y_1),Vc=Rc(Ba.Y_2),Hc=(e,t)=>{const{visual:{type:n,encodings:r}}=e,a=nc(r).map(e=>e.column),o=e=>a.includes(e.alias),s=!!t&&t===Fa.TABLE||!t&&n===Fa.TABLE,i=s?a.map(e=>wi(e)):Object(b.List)();return e.update("columns",e=>e.filter(e=>o(e)||s&&i.includes(e.alias)))};var Wc=n("g+dq"),Kc=n.n(Wc),qc=n("GgP/"),Qc=n.n(qc);const $c=window.quickFetch;window.quickFetch||console.warn("window.quickFetch is not included");function Jc(e,t,n=(()=>!0)){return(...r)=>{if(!n(...r))return t(...r);if(!$c)return t(...r);const a=$c.getRequestStateByName(e);return a?new Promise((n,o)=>{a.whenFinished(t=>{n(t);$c.removeEarlyRequest(e)});a.onError(a=>{401!==a.status?t(...r).then(n,o):o();$c.removeEarlyRequest(e)})}):t(...r)}}var zc=n("q/VH");const Xc=Object(b.Map)({"Forecasting:DealSplits:Enabled":zc.p});let Zc,el;const tl="sql-reporting/v1/extended-reportable-options/data-sources",nl=e=>{const{dataSourceId:t,reportingFirstLevelGroups:n}=e;return t!==zc.t&&t!==zc.i&&n.includes(Co.j.MARKETING_EMAILS)?b.List.of(Co.j.MARKETING_EMAIL_EVENTS):n},rl=e=>e.set("reportingFirstLevelGroups",nl(e)),al=(e,t)=>e=>{const{reportingFirstLevelGroups:n}=e;if(n.includes(Co.j.DEAL_SPLITS)){const e=t.get(zc.p);return e&&"true"===e.get("value")}return!0},ol=e=>{const{dataSourceType:t,eventsDigestType:n,dataSourceId:r}=e;switch(t){case Co.b.HUBSPOT_OBJECT:case Co.b.HUBSPOT_EVENT:{const{inboundDbObjectType:n}=e,a=Object.assign({},n,{secondaryDisplayLabelPropertyNames:n.secondaryDisplayLabelPropertyNames||[]}),{id:o,metaTypeId:s,objectTypeId:i,fullyQualifiedName:c}=a;return Object(Co.h)({dataSourceType:t,id:o,dataSourceId:r,metaTypeId:s,objectTypeId:i,name:c,metaDefinition:a})}case Co.b.EVENTS_DIGEST:return Object(Co.h)({dataSourceType:t,dataSourceId:r,name:n,eventsDigestType:n,rolloutStage:"new"});default:console.error("unsupported DataSourceType "+t);return}},sl=e=>{const t=e.filter(e=>{const{dataSourceType:t,reportable:n,reportingSection:r,inboundDbObjectType:a}=e;return n&&!!r&&(!!a||t===Co.b.EVENTS_DIGEST)}).map(e=>{const{dataSourceId:t,dataSourceType:n,eventsDigestType:r,reportable:a,reportingSection:o,reportingBeta:s,reportingFirstLevelGroups:i,inboundDbObjectType:c}=e;return Object(Co.a)({dataSourceType:n,dataSourceId:t,eventsDigestType:r,reportable:a,reportingFirstLevelGroups:i,reportingSection:o,reportingBeta:s,inboundDbObjectType:c})});return Object(b.List)(t)},il=()=>Promise.all(Xc.map((e,t)=>Kc.a.get(`hubs-settings/v1/hubs/${Qt.a.get()}/settings/${t}`).then(b.fromJS).then(t=>b.Map.of(e,t)).catch(()=>Object(b.Map)())).toArray()).then(e=>{const t=Object(b.Map)();return e.reduce((e,t)=>e.merge(t),t)});let cl;const ll=Jc("reporting-snowflake:data-sources",()=>Kc.a.get(tl)),ul=()=>{if(Zc)return Promise.resolve(Zc);cl=cl||(()=>Promise.all([ll().then(sl),Qc()(),il()]).then(([e,t,n])=>{const r=al(t,n);Zc=e.filter(r).map(e=>rl(e));return Zc}))();return cl},pl=e=>e.map(e=>ol(e)).toMap().mapKeys((e,t)=>t?t.dataSourceId:""),dl=()=>el?Promise.resolve(el):ul().then(pl).then(e=>{el=e;return e}),ml=(e,t)=>{const[n,r]=e.split("-"),[a,o]=t.split("-");return+n==+a?+r-+o:+n-+a},gl=e=>e.map(e=>e.sortBy((e,t)=>t,ml)).sortBy((e,t)=>t,ml);let bl;!function(e){e.UNINITIALIZED="UNINITIALIZED";e.PENDING="PENDING";e.SUCCEEDED="SUCCEEDED";e.FAILED="FAILED"}(bl||(bl={}));const Ol=e=>e.status===bl.PENDING||e.status===bl.UNINITIALIZED,fl=e=>e.status===bl.FAILED,El=e=>e.status===bl.SUCCEEDED;let yl;const Tl="sql-reporting/v1/extended-reportable-options/data-sources/available-joins-with-metadata?withVariants=true",Il=Jc("reporting-snowflake:joins-with-meta",()=>Kc.a.get(Tl)),hl=()=>Il().then(e=>Object(b.fromJS)(e).map(e=>Object(Co.d)(e)).groupBy(e=>e.source).map(e=>e.groupBy(e=>e.target))),jl=()=>yl?Promise.resolve(yl):Promise.all([hl(),ul()]).then(([e,t])=>{const n=gl(e),r=t.map(e=>e.dataSourceId).toSet(),a=n.filter((e,t)=>r.includes(t)).map(e=>e.filter((e,t)=>r.includes(t))).filterNot(e=>e.isEmpty());yl=a;return a}),Al="sql-reporting/v1/extended-reportable-options/data-sources/properties";let Sl=Object(b.Map)();const _l=e=>{const{value:t,label:n,description:r,displayOrder:a}=e;return Object(Co.f)({value:t,label:n,description:r,displayOrder:a})};function Nl(e){const{propertyDefinition:{property:t},flpRestricted:n,hiddenForReportBuilder:r,rollupPropertyObjectTypeIds:a,rollupProperty:o,rollupPropertyErrorLevel:s,canBeResolvedWithLabelExpression:i}=e,{name:c,label:l,type:u,groupName:p,numberDisplayHint:d,description:m,options:g}=t,b=t.hubspotDefined?Object(se.b)(l):l;return Object(Co.g)({name:c,label:b||c,type:u,groupName:p,description:m,hidden:r,numberDisplayHint:d,rollupProperty:o,rollupPropertyObjectTypeIds:a,rollupPropertyErrorLevel:s,canBeResolvedWithLabelExpression:i,options:g?g.map(e=>_l(e)):void 0,metaDefinition:t,flpRestricted:n})}const Rl=Jc("reporting-snowflake:contact-properties",e=>Kc.a.get(`${Al}/${e}`),e=>"0-1"===e),Cl=e=>Rl(e).then(e=>{const t=([,e])=>{const t=Nl(e);return[t.name,t]};return Object(b.Map)(e).mapEntries(t)}),vl=e=>{Sl.has(e)||(Sl=Sl.set(e,Cl(e)));return Sl.get(e)};var Ll=n("AuBM"),Dl=n("YqTT");const Ml="RELATIONAL",Pl=Ln.i({type:Ln.k().always(Ml),table:Ro.e,filtering:Ll.i.optional(),columns:Ln.f(Cn.d),sorts:Ln.d(vn.b).defaultValue([]),visual:Ya.optional(),eventDateInterval:Ll.c.optional(),dateComparisonFilter:Ll.b.optional(),stagedEncodings:Ln.d(Cn.h).defaultValue([]),stagedFields:Ln.d(vo.a).defaultValue([]),stagedColumns:Ln.d(Cn.d).defaultValue([]),limitsForQuery:Ln.d(Dl.c).defaultValue([]),sourceCrossObjectReportId:Ln.g().optional(),migratedAt:Ln.k().optional(),expressions:Ln.d(Cn.j).defaultValue([]),flags:Ln.d(Ln.k())},"RelationalReport"),Ul=(e,t)=>e.expressions.toMap().mapKeys((e,t)=>t.alias).get(t.field.name),kl=(e,t)=>is(e.expression).find(e=>e.type===$o.d.PROPERTY&&e.table===t),xl=20,wl=30,Fl=e=>e.visual.type,Yl=e=>e.visual.encodings,Bl=e=>{const t=e.columns,n=Yl(e),r=nc(n).map(Vi);return e.set("columns",t.filter(e=>r.includes(e.get("alias"))))},Gl=e=>{const{visual:{encodings:t}}=e,n=e=>e.set("fixedMeasure",!1).delete("fixed");return nc(t).reduce((e,t)=>e.updateIn(["columns",t.column],n),e)},Vl=()=>Pl({type:Ml,table:Object(Ro.e)({name:"CONTACT",objectTypeId:"0-1",type:Co.b.HUBSPOT_OBJECT}),filtering:Object(Ll.i)({condition:Ll.a.AND,groups:[],logic:void 0,stagedFilters:[]}),stagedColumns:[],stagedEncodings:[],columns:{},sorts:[],flags:[],visual:Ic(Fa.VERTICAL_BAR)}),Hl=e=>Vl().set("visual",Ic(e)),Wl=e=>e.update("visual",e=>Ac(e,ba)),Kl=e=>{const{columns:t,filtering:n,stagedColumns:r,expressions:a}=e,o=t.toList().map(e=>e.field).filter(e=>!Ls(e)).map(Es).toSet(),s=r.map(e=>e.field).filter(e=>!Ls(e)).map(Es).toSet(),i=null==n?Object(b.Set)():Iu(n).toSet(),c=Ds(a).toSet();return Object(b.OrderedSet)().union(o).union(s).union(c).union(i)},ql=(e,t)=>e.update("stagedColumns",e=>e.filterNot(e=>e.equals(t))),Ql=(e,t)=>e.update("stagedEncodings",e=>e.filterNot(e=>e.column===t)),$l=(e,t)=>e.columns.has(t.alias)?Fg(e.update("columns",e=>e.delete(t.alias)).update("visual",e=>gc(e,t)),void 0):e,Jl=e=>{const t=e.columns.filter(Ni).reduce((e,t)=>$l(e,t),e);return e.stagedColumns.filter(Ni).reduce((e,t)=>Ql(ql(e,t),t.alias),t)},zl=e=>{const{visual:{encodings:t,type:n}}=e,r=uc(n),a=e=>r.find(n=>tc(t,n.name).map(e=>e.column).includes(e.alias));return(e,n)=>{const r=a(e),o=a(n);if(!r||!o)return 0;if(r.equals(o)){const a=tc(t,r.name).map(e=>e.column);return a.indexOf(e.alias)-a.indexOf(n.alias)}return r.displayOrder-o.displayOrder}},Xl=(e,t)=>{const{stagedColumns:n,columns:r,table:a,filtering:o,eventDateInterval:s,expressions:i}=Bl(Jl(e)),c=zl(e),l=r.toOrderedSet().sort(c).union(n.toOrderedSet()).filter(e=>e.aggregation!==Cn.b.DELEGATE).map(e=>ai(ui(e)));return Fg(Gl(Hl(Fa.TABLE).set("table",a).set("columns",l.toMap().mapKeys((e,t)=>t.alias)).set("eventDateInterval",s).set("filtering",o).set("expressions",i).updateIn(["visual","encodings"],n=>l.reduce((n,r)=>{const a=Ul(e,r);return ic({encodings:n,channelName:Ba.COLUMNS,column:r,expressionField:a,snowflakeProperty:Wm(t,r.field)})},n))),t)},Zl=(e,t)=>{const{stagedColumns:n,columns:r,table:a,filtering:o,eventDateInterval:s}=Bl(Jl(e)),i=zl(e),c=r.toOrderedSet().sort(i).union(n.toOrderedSet()).filter(e=>e.aggregation!==Cn.b.DELEGATE).map(e=>e.field).map(bi).map(e=>e.remove("sort"));return Fg(Hl(Fa.TABLE).set("table",a).set("columns",c.toMap().mapKeys((e,t)=>t.alias)).set("eventDateInterval",s).set("filtering",o).updateIn(["visual","encodings"],n=>c.reduce((n,r)=>{const a=Ul(e,r);return ic({encodings:n,channelName:Ba.COLUMNS,column:r,expressionField:a,snowflakeProperty:Wm(t,r.field)})},n)),t)},eu=(e,t)=>{const n=t.columns.get(e);if(n)return Di(n)},tu=(e,t)=>{const n=e.stagedColumns.filter(e=>Ni(e)||e.field.table===Ro.a||Ls(e.field)||!Km(t.properties.getIn([e.field.table,e.field.name]))).map(e=>e.alias).toSet();return e.update("stagedColumns",e=>e.filter(e=>n.has(e.alias))).update("stagedEncodings",e=>e.filter(e=>n.has(e.column)))},nu=(e,t)=>{const n=e.expressions.filter(e=>kl(e,t.name)).map(e=>e.alias),r=e.columns.toList().filter(e=>Ls(e.field)&&n.includes(e.field.name)),a=ei(e.columns,t).concat(r).reduce((e,t)=>e.update("columns",e=>ti(e,t.alias)).update("visual",e=>gc(e,t)),e).update("filtering",e=>Uu(e,t)).update("filtering",e=>wu(e,e=>!(!e||e.type!==Ll.h.EXPRESSION_FIELD)&&n.includes(e.field),e=>!!Ls(e.field)&&n.includes(e.field.name))).update("stagedColumns",e=>e.filterNot(e=>Zs(e,t)||Ls(e.field)&&n.includes(e.field.name))).update("expressions",e=>e.filter(e=>!n.includes(e.alias)));return a.update("stagedEncodings",e=>e.filter(e=>!!a.stagedColumns.find(t=>e.column===t.alias)))},ru=(e,t,n)=>{if(!t||!n)return e;const r=e=>Ni(e)&&e.field.table===t.name?e.set("field",Si(n).field).delete("name"):e;return e.update("table",e=>Object(Go.a)(e,t,n)).update("columns",e=>e.map(r)).update("stagedColumns",e=>e.map(r))},au=e=>Hc(e).columns.size>xl,ou=e=>Hc(e).columns.size>wl,su=e=>zs(e.columns).isEmpty(),iu={LP:"(",RP:")",AND:"AND",OR:"OR",NOT:"NOT"},cu={[iu.LP]:3,[iu.NOT]:2,[iu.AND]:1,[iu.OR]:0},lu=e=>(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\(/g," ( ")).replace(/\)/g," ) ")).replace(/AND|and/g," AND ")).replace(/OR|or/g," OR ")).replace(/&&|&/g," AND ")).replace(/\|\||\|/g," OR ")).replace(/NOT|not/g," NOT ")).trim()).split(/\s+/).filter(e=>""!==e),uu=e=>/^(0|[1-9]\d*)$/.test(e),pu=e=>{const t=n=>{if(0===n.length)return;if(1===n.length){const t=n[0];if(uu(t)){if(!e||e.contains(t))return t;throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.invalid-id"))}throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.invalid-input",{first:t}))}const r=[];let a=0;for(let e=0;e<n.length;e++){const t=n[e];if(t!==iu.LP)if(t!==iu.RP){if(0===a)if(t!==iu.NOT)if(t!==iu.AND){if(t===iu.OR){r.push([t,e]);break}if(!uu(t))throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.unrecognized-input",{token:t}))}else r.push([t,e]);else r.push([iu.NOT])}else 0==--a&&r.push([iu.LP]);else a++}if(0!==a)throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.mismatching-parentheses"));if(0===r.length)throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.missing-operator"));const[o,s]=Object(b.Seq)(r).sortBy(([e])=>cu[e]).first();if(o===iu.LP){if(n[0]!==iu.LP)throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.missing-operator"));return t(n.slice(1,-1))}if(o===iu.NOT){if(n[0]!==iu.NOT)throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.missing-operator"));return{operator:o,value:t(n.slice(1))}}if(o===iu.AND||o===iu.OR){const e=n.slice(0,s),r=n.slice(s+1);if(0===e.length||0===r.length)throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.operator-incomplete"));return{operator:o,left:t(e),right:t(r)}}throw new Error(h.a.text("reporting-snowflake.filter-editor.logic-editor.errors.parse-error"))};return t},du=(e,t)=>{const n=t&&Object(b.Set)(t);return pu(n)(lu(e))},mu=(e,t)=>{if(!e)return"";if("string"==typeof e)return e;const{operator:n,value:r,left:a,right:o}=e,s=e=>t!==n&&t?`(${e})`:e;if("NOT"===n)return s("NOT "+mu(r,n));if("AND"===n)return s(`${mu(a,n)} AND ${mu(o,n)}`);if("OR"===n)return s(`${mu(a,n)} OR ${mu(o,n)}`);throw new Error("Unexpected operator "+n)},gu=(e,t)=>{if("string"==typeof e)return t.get(e)||e;const{operator:n,value:r,left:a,right:o}=e;if("NOT"===n)return{operator:n,value:gu(r,t)};if("AND"===n||"OR"===n)return{operator:n,left:gu(a,t),right:gu(o,t)};throw new Error("Unexpected operator "+n)},bu=(e,t)=>({operator:iu.AND,left:e,right:t}),Ou=(e,t)=>{if("string"==typeof e)return e===t?void 0:e;const{operator:n,value:r,left:a,right:o}=e;if("NOT"===n){const e=Ou(r,t);return e?{operator:n,value:e}:void 0}if("AND"===n||"OR"===n){const e=Ou(a,t),r=Ou(o,t);return e&&r?{operator:n,left:e,right:r}:e||r||void 0}throw new Error("Unexpected operator "+n)},fu=e=>e.getIn(["field","source"])===Cn.l.EXPRESSION,Eu=e=>e.groups.map(e=>String(e.id)),yu=e=>{const{logic:t}=e,n=Eu(e);return du(t,n)},Tu=e=>{const{condition:t,groups:n}=e;return n.map((e,t)=>t+1).join(` ${t.toLowerCase()} `)},Iu=e=>e.groups.flatMap(e=>e.filters.map(e=>Es(e.field)).toList()).concat(e.stagedFilters.filter(e=>e&&e.type===Ll.h.PROPERTY).map(e=>e.type===Ll.h.PROPERTY?Object(vo.a)({table:e.table,property:e.property}):void 0).toList()).filter(e=>!!e).toList(),hu=e=>{const t=e.update("groups",e=>e.map(e=>e.update("id",e=>String(e)))),n=t.groups.filter(e=>e.filters.isEmpty()).map(e=>e.id).toSet(),r=t.update("groups",e=>e.filter(e=>!n.has(e.id))).update("logic",e=>{if(!e)return e;try{const e=yu(t),r=n.reduce((e,t)=>Ou(e,t),e);return mu(r)}catch(t){return e}}),a=Object(b.Map)(r.groups.map((e,t)=>[e.id,String(t+1)]));return r.update("groups",e=>e.map(e=>e.update("id",e=>a.get(e)))).update("logic",e=>{if(!e)return e;try{const e=yu(r),t=gu(e,a);return mu(t)}catch(t){return e}}).update("stagedFilters",e=>Object(b.OrderedSet)(e).toList())},ju=(e,t)=>e.getIn(["stagedFilters",t]),Au=(e,t,n)=>{n=void 0===n?t:n;const r=ju(e,t),a=e.update("stagedFilters",e=>e.delete(t).insert(n,r));return hu(a)},Su=(e,t,n)=>{const r=e.stagedFilters.count(),a=e.setIn(["stagedFilters",r.toString()],t);return Au(a,r,n)},_u=(e,t,n)=>{if(fs(t.name))return e;const r=Object(Ll.k)({property:t.name,table:t.table});return Su(e,r,n)},Nu=(e,t,n)=>{const r=Object(Ll.e)({field:t.name});return Su(e,r,n)},Ru=(e,t,n)=>{const r=Object(Ll.d)({field:t.name});return Su(e,r,n)},Cu=(e,t)=>{const n=e.deleteIn(["stagedFilters",String(t)]);return hu(n)},vu=(e,t)=>e.getIn(["groups",t]),Lu=(e,t,n)=>{n=void 0===n?t:n;const r=vu(e,t),a=e.update("groups",e=>e.delete(t).insert(n,r));return hu(a)},Du=(e,t,n)=>{const r=e.groups.count(),a=e.setIn(["groups",r],t.set("id",String(r+1)));return Lu(a,r,n)},Mu=(e,t,n)=>{const r=e.deleteIn(["groups",String(t),"filters",String(n)]);return hu(r)},Pu=(e,t)=>e.table===t.name,Uu=(e,t)=>{if(!e)return e;const n=e.condition===Ll.a.CUSTOM&&e.groups.some(e=>e.filters.some(e=>Pu(e.field,t)));return hu(e.set("groups",e.groups.map(e=>e.set("filters",e.filters.filterNot(e=>Pu(e.field,t))))).set("stagedFilters",e.stagedFilters.filterNot(e=>Pu(e,t))).set("logic",n?"":e.logic))},ku=(e,t)=>{const n=e.groups.some(e=>e.filters.some(e=>e.field.equals(t))),r=e.stagedFilters.find(e=>{switch(e.type){case Ll.h.PROPERTY:return e.property===t.name&&e.table===t.table;case Ll.h.LIST:return!1;case Ll.h.DATASET_FIELD:case Ll.h.EXPRESSION_FIELD:return e.field===t.name;default:return e.field.name===t.name}});return n||r},xu=(e,t)=>{if(!e)return e;const n=e.condition===Ll.a.CUSTOM&&e.groups.some(e=>e.filters.some(e=>e.field.equals(t)));return hu(e.set("groups",e.groups.map(e=>e.set("filters",e.filters.filterNot(e=>e.field.equals(t))))).set("stagedFilters",e.stagedFilters.filterNot(e=>{switch(e.type){case Ll.h.PROPERTY:return e.property===t.name&&e.table===t.table;case Ll.h.LIST:return e.table===t.table;case Ll.h.DATASET_FIELD:case Ll.h.EXPRESSION_FIELD:return e.field===t.name;default:return!1}})).set("logic",n?"":e.logic))},wu=(e,t,n)=>{let r=e;const a=()=>r.stagedFilters.some(t);for(;a();){const e=r.stagedFilters.findIndex(t);if(-1===e)break;r=Cu(r,e)}const o=()=>r.groups.some(e=>e.filters.some(n));for(;o();){const e=r.groups.findIndex(e=>!!e&&e.filters.some(n)),t=r.groups.get(e).filters.findIndex(e=>!!e&&n(e));r=Mu(r,e,t)}return r};var Fu=n("DIgQ"),Yu=n("LA5X"),Bu=n("kaWj");const Gu=Ln.i({expressionType:$o.c,validInputs:Ln.d(Ln.k())},"SupportedType"),Vu=Ln.i({type:Ln.k(),supportedTypes:Ln.d(Gu),validInputs:Ln.d(Ln.a())},"FunctionArgument"),Hu=Ln.i({function:$o.c,returnType:Ln.k(),arguments:Ln.d(Vu)},"FunctionMeta");Ln.i({arguments:Ln.d(Vu),description:Ln.k(),functionName:Ln.k(),returnType:Ln.k()},"InlineFunctionDocumentation");const Wu=Ln.i({name:Ln.k(),descriptionKey:Ln.k(),examples:Ln.d(Ln.a())},"ArgumentDefinition"),Ku=Ln.i({name:Ln.k(),type:Bu.e,signatureIndexForDocs:Ln.g(),showBetaTag:Ln.b().defaultValue(!1),descriptionKey:Ln.k(),examples:Ln.d(Ln.k()),arguments:Ln.d(Wu)},"FunctionDefinition"),qu=Object(Bu.v)({arguments:[Bu.a],returns:Bu.a},{arguments:[Bu.k],returns:Bu.k},{arguments:[Bu.f],returns:Bu.f}),Qu=Object(Bu.v)({arguments:[Bu.a,Bu.a],returns:Bu.a},{arguments:[Bu.k,Bu.f],returns:Bu.k},{arguments:[Bu.f,Bu.k],returns:Bu.k},{arguments:[Bu.f,Bu.f],returns:Bu.f}),$u=Object(Bu.v)({arguments:[Bu.l],returns:Bu.l},{arguments:[Bu.k],returns:Bu.k},{arguments:[Bu.i],returns:Bu.i}),Ju=Object(Bu.v)({arguments:[Bu.l,Bu.l],returns:Bu.l},{arguments:[Bu.i,Bu.k],returns:Bu.k},{arguments:[Bu.k,Bu.i],returns:Bu.k},{arguments:[Bu.i,Bu.i],returns:Bu.i}),zu=Object(Bu.v)({arguments:[Object(Bu.z)(Bu.l,Bu.d,Bu.c),Object(Bu.z)(Bu.l,Bu.d,Bu.c)],returns:Bu.a},{arguments:[Object(Bu.z)(Bu.l,Bu.d,Bu.c,Bu.k),Bu.k],returns:Bu.k},{arguments:[Bu.k,Object(Bu.z)(Bu.l,Bu.d,Bu.c,Bu.k)],returns:Bu.k},{arguments:[Object(Bu.z)(Bu.l,Bu.d,Bu.c,Bu.k),Object(Bu.z)(Bu.l,Bu.d,Bu.c,Bu.k)],returns:Bu.f}),Xu=Object(Bu.v)({arguments:[Object(Bu.w)("T"),Object(Bu.w)("T")],returns:Bu.a}),Zu={[$o.d.NOT]:qu,[$o.d.AND]:Qu,[$o.d.OR]:Qu,[$o.d.POSITIVE]:$u,[$o.d.NEGATIVE]:$u,[$o.d.ADD]:Ju,[$o.d.SUBTRACT]:Ju,[$o.d.MULTIPLY]:Ju,[$o.d.DIVIDE]:Ju,[$o.d.MODULUS]:Ju,[$o.d.GREATER]:zu,[$o.d.GREATER_OR_EQUAL]:zu,[$o.d.LESS]:zu,[$o.d.LESS_OR_EQUAL]:zu,[$o.d.EQUAL]:Xu,[$o.d.NOT_EQUAL]:Xu},ep={IF:Ku({name:"IF",type:Object(Bu.v)({arguments:[Bu.f,Object(Bu.w)("T"),Object(Bu.w)("T")],returns:Object(Bu.w)("T")}),signatureIndexForDocs:0,showBetaTag:!0,descriptionKey:"reporting-snowflake.function-definitions.IF.description",examples:['IF (DATEDIFF("DAY", NOW(), [DEAL.notes_next_activity_date]) < 0, 0, DATEDIFF("DAY", NOW(), [DEAL.notes_next_activity_date]))','IF ([DEAL.amount] <= 2000, "Low profit", IF([DEAL.amount] > 2000 AND [DEAL.amount] < 5000, "Medium profit", "High profit"))'],arguments:[{name:"condition",descriptionKey:"reporting-snowflake.function-definitions.IF.arg1.description",examples:['DATEDIFF("DAY", NOW(), [DEAL.notes_next_activity_date]) < 0',"[DEAL.amount] <= 2000"]},{name:"value1",descriptionKey:"reporting-snowflake.function-definitions.IF.arg2.description",examples:[0,'"Low profit"']},{name:"value2",descriptionKey:"reporting-snowflake.function-definitions.IF.arg3.description",examples:['DATEDIFF("DAY", NOW(), [DEAL.notes_next_activity_date])','IF([DEAL.amount] > 2000 AND [DEAL.amount] < 5000, "Medium profit", "High profit")']}]}),CONTAINS:Ku({name:"CONTAINS",type:Object(Bu.v)({arguments:[Bu.o,Bu.o],returns:Bu.a},{arguments:[Bu.j,Bu.j],returns:Bu.f}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.CONTAINS.description",examples:['CONTAINS("HubSpot", "Hub") = true','CONTAINS("foo", "bar") = false','CONTAINS([CONTACT.firstname], "Mike")'],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.CONTAINS.arg1.description",examples:['"HubSpot"',"string property such as [CONTACT.firstname]","string field"]},{name:"substring",descriptionKey:"reporting-snowflake.function-definitions.CONTAINS.arg2.description",examples:['"Hub"',"string property","string field"]}]}),CONCAT:Ku({name:"CONCAT",type:Object(Bu.v)({arguments:[Object(Bu.z)(Bu.o,Bu.l),Object(Bu.z)(Bu.o,Bu.l)],returns:Bu.o},{arguments:[Bu.k,Object(Bu.z)(Bu.j,Bu.i)],returns:Bu.k},{arguments:[Object(Bu.z)(Bu.j,Bu.i),Bu.k],returns:Bu.k},{arguments:[Object(Bu.z)(Bu.j,Bu.i),Object(Bu.z)(Bu.j,Bu.i)],returns:Bu.j}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.CONCAT.description",examples:['CONCAT("Hub", "Spot") = "HubSpot"','CONCAT([CONTACT.firstname], CONCAT(" ", [CONTACT.lastname]))'],arguments:[{name:"string1",descriptionKey:"reporting-snowflake.function-definitions.CONCAT.arg1.description",examples:['"Hub"',"string property such as [CONTACT.firstname]","string field"]},{name:"string2",descriptionKey:"reporting-snowflake.function-definitions.CONCAT.arg2.description",examples:['"Spot"',"string property such as [CONTACT.lastname]","string field"]}]}),LABEL:Ku({name:"LABEL",type:Object(Bu.v)({arguments:[Bu.m.ENUMERATION],returns:Bu.j},{arguments:[Bu.m.NUMBER],returns:Bu.j}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.LABEL.description",examples:["LABEL([CONTACT.lifecyclestage])","LABEL([DEAL.dealstage])"],arguments:[{name:"field",descriptionKey:"reporting-snowflake.function-definitions.LABEL.arg1.description",examples:["Enumeration properties such as [CONTACT.lifecyclestage]"]}]}),LENGTH:Ku({name:"LENGTH",type:Object(Bu.v)({arguments:[Bu.o],returns:Bu.l},{arguments:[Bu.j],returns:Bu.i}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.LENGTH.description",examples:['LENGTH("HubSpot") = 7',"LENGTH([FEEDBACK_SUBMISSION.hs_content])"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.LENGTH.arg1.description",examples:['"HubSpot"','CONCAT("Hub", "Spot")',"string property such as [DEAL.dealname]","string field"]}]}),TRIM:Ku({name:"TRIM",type:Object(Bu.v)({arguments:[Bu.o],returns:Bu.o},{arguments:[Bu.j],returns:Bu.j}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.TRIM.description",examples:['TRIM("    HubSpot is great    ") = "HubSpot is great"'],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.TRIM.arg1.description",examples:['"    HubSpot    "',"string property","string field"]}]}),ABS:Ku({name:"ABS",type:$u,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.ABS.description",examples:["ABS(-10) = 10","ABS(10) = 10"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.ABS.arg1.description",examples:[-10,10,"EXP(1)","-EXP(1)","number property","number field"]}]}),CEIL:Ku({name:"CEIL",type:$u,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.CEIL.description",examples:["CEIL(3.14) = 4","CEIL(EXP(1)) = 3","CEIL(LN([DEAL.amount]))"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.CEIL.arg1.description",examples:[-10,10,"EXP(1)","-EXP(1)","number property","number field"]}]}),CONVERT_CURRENCY:Ku({name:"CONVERT_CURRENCY",type:Object(Bu.v)({arguments:[Bu.l,Bu.o],returns:Bu.l},{arguments:[Bu.i,Bu.o],returns:Bu.i}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.CONVERT_CURRENCY.description",examples:["CONVERT_CURRENCY([DEAL.amount_in_company_currency], USD)"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.CONVERT_CURRENCY.arg1.description",examples:["20"]},{name:"currency",descriptionKey:"reporting-snowflake.function-definitions.CONVERT_CURRENCY.arg2.description",examples:["USD"]}]}),DIV0:Ku({name:"DIV0",type:Ju,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.DIV0.description",examples:["DIV0(5, 2) = 2.5","DIV0(5, 0) = 0",'DIV0([DEAL.amount], DATEDIFF("DAY", [DEAL.createdate], [DEAL.closedate]))'],arguments:[{name:"dividend",descriptionKey:"reporting-snowflake.function-definitions.DIV0.arg1.description",examples:[10,"([DEAL.amount] - [LINE_ITEM.amount])","number property","number field"]},{name:"divisor",descriptionKey:"reporting-snowflake.function-definitions.DIV0.arg2.description",examples:[0,10,'DATEDIFF("DAY", [DEAL.createdate], [DEAL.closedate])',"number property","number field"]}]}),EXP:Ku({name:"EXP",type:$u,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.EXP.description",examples:["EXP(1) = 2.718281828459045","EXP(0) = 1"],arguments:[{name:"exponent",descriptionKey:"reporting-snowflake.function-definitions.EXP.arg1.description",examples:[0,1,"number property","number field"]}]}),FLOOR:Ku({name:"FLOOR",type:$u,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.FLOOR.description",examples:["FLOOR(3.14) = 3","CEIL(EXP(1)) = 2","FLOOR(LN([DEAL.amount]))"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.FLOOR.arg1.description",examples:[-10,10,"EXP(1)","-EXP(1)","number property","number field"]}]}),LN:Ku({name:"LN",type:$u,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.LN.description",examples:["LN(1) = 0","LN(EXP(1)) = 1","LN([DEAL.amount])"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.LN.arg1.description",examples:[-10,10,"EXP(1)","-EXP(1)","number property","number field"]}]}),LOG:Ku({name:"LOG",type:Ju,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.LOG.description",examples:["LOG(10, 1) = 0","LOG(10, 10) = 1","LOG(10, [DEAL.amount])"],arguments:[{name:"base",descriptionKey:"reporting-snowflake.function-definitions.LOG.arg1.description",examples:[10,"EXP(1)","number property","number field"]},{name:"exponent",descriptionKey:"reporting-snowflake.function-definitions.LOG.arg2.description",examples:[10,100,"number property","number field"]}]}),POWER:Ku({name:"POWER",type:Ju,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.POWER.description",examples:["POWER(2, 10) = 1024","POWER(100, 0.5) = 10","POWER([DEAL.hs_arr], 2)"],arguments:[{name:"base",descriptionKey:"reporting-snowflake.function-definitions.POWER.arg1.description",examples:[5,100,"LN([DEAL.amount])","number property","number field"]},{name:"exponent",descriptionKey:"reporting-snowflake.function-definitions.POWER.arg2.description",examples:[2,10,"EXP(1)","number property","number field"]}]}),SQRT:Ku({name:"SQRT",type:$u,signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.SQRT.description",examples:["SQRT(100) = 10","SQRT([DEAL.hs_arr])"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.SQRT.arg1.description",examples:[100,144,"[DEAL.amount]"]}]}),WIDTH_BUCKET:Ku({name:"WIDTH_BUCKET",type:Object(Bu.v)({arguments:[Bu.l,Bu.l,Bu.l,Bu.l],returns:Bu.l},{arguments:[Bu.i,Bu.l,Bu.l,Bu.l],returns:Bu.i}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.WIDTH_BUCKET.description",examples:["WIDTH_BUCKET(25, 0, 100, 10) = 3","WIDTH_BUCKET(95, 0, 100, 10) = 10","WIDTH_BUCKET(-1000, 0, 100, 10) = 0","WIDTH_BUCKET(9999, 0, 100, 10) = 11","WIDTH_BUCKET([DEAL.amount], 0, 10000, 1000)"],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.WIDTH_BUCKET.arg1.description",examples:[25,'FLOOR(DIV0([DEAL.amount], DATEDIFF("DAY", [DEAL.createdate], [DEAL.closedate])))']},{name:"minValue",descriptionKey:"reporting-snowflake.function-definitions.WIDTH_BUCKET.arg2.description",examples:[]},{name:"maxValue",descriptionKey:"reporting-snowflake.function-definitions.WIDTH_BUCKET.arg3.description",examples:[]},{name:"bucketCount",descriptionKey:"reporting-snowflake.function-definitions.WIDTH_BUCKET.arg4.description",examples:[]}]}),DATE_FROM_PARTS:Ku({name:"DATE_FROM_PARTS",type:Object(Bu.v)({arguments:[Bu.l,Bu.l,Bu.l],returns:Bu.d},{arguments:[Bu.i,Bu.i,Bu.i],returns:Bu.h}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.DATE_FROM_PARTS.description",examples:["DATE_FROM_PARTS(2021, 1, 1) = 2021-01-01"],arguments:[{name:"year",descriptionKey:"reporting-snowflake.function-definitions.DATE_FROM_PARTS.arg1.description",examples:[2021,1995]},{name:"month",descriptionKey:"reporting-snowflake.function-definitions.DATE_FROM_PARTS.arg2.description",examples:[1,2,3,12]},{name:"day",descriptionKey:"reporting-snowflake.function-definitions.DATE_FROM_PARTS.arg3.description",examples:[1,2,3,31]}]}),DATEDIFF:Ku({name:"DATEDIFF",type:Object(Bu.v)({arguments:[Object(Bu.z)(Object(Bu.y)("YEAR"),Object(Bu.y)("QUARTER"),Object(Bu.y)("MONTH"),Object(Bu.y)("WEEK"),Object(Bu.y)("DAY"),Object(Bu.y)("HOUR"),Object(Bu.y)("MINUTE"),Object(Bu.y)("SECOND")),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c)],returns:Bu.l},{arguments:[Object(Bu.z)(Object(Bu.y)("YEAR"),Object(Bu.y)("QUARTER"),Object(Bu.y)("MONTH"),Object(Bu.y)("WEEK"),Object(Bu.y)("DAY"),Object(Bu.y)("HOUR"),Object(Bu.y)("MINUTE"),Object(Bu.y)("SECOND")),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c,Bu.k),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c,Bu.k)],returns:Bu.i}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.DATEDIFF.description",examples:['DATEDIFF("DAY", "2021-01-01", DATE_FROM_PARTS(2021, 2, 1)) = 31','DATEDIFF("MONTH", "2021-01-01", DATE_FROM_PARTS(2021, 2, 1)) = 1','DATEDIFF("QUARTER", [DEAL.createdate], [DEAL.closedate])'],arguments:[{name:"datePart",descriptionKey:"reporting-snowflake.function-definitions.DATEDIFF.arg1.description",examples:['"YEAR"','"QUARTER"','"MONTH"','"WEEK"','"DAY"','"HOUR"','"MINUTE"','"SECOND"']},{name:"date1",descriptionKey:"reporting-snowflake.function-definitions.DATEDIFF.arg2.description",examples:['"2021-01-01"',1609459200,"[DEAL.createdate]"]},{name:"date2",descriptionKey:"reporting-snowflake.function-definitions.DATEDIFF.arg3.description",examples:["DATE_FROM_PARTS(2021, 3, 15)",'DATETRUNC("MONTH", [CONTACT.createdate])']}]}),ADJUST_FISCAL_YEAR:Ku({name:"ADJUST_FISCAL_YEAR",type:Object(Bu.v)({arguments:[Object(Bu.z)(Bu.c,Bu.k)],returns:Bu.g},{arguments:[Object(Bu.z)(Bu.d,Bu.k)],returns:Bu.h}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.ADJUST_FISCAL_YEAR.description",examples:["ADJUST_FISCAL_YEAR([CONTACT.createdate])"],arguments:[{name:"date",descriptionKey:"reporting-snowflake.function-definitions.ADJUST_FISCAL_YEAR.arg1.description",examples:["[CONTACT.createdate]","date property","datetime property"]}]}),DATEPART:Ku({name:"DATEPART",type:Object(Bu.v)({arguments:[Object(Bu.z)(Object(Bu.y)("YEAR"),Object(Bu.y)("YEAROFWEEK"),Object(Bu.y)("YEAROFWEEKISO"),Object(Bu.y)("QUARTER"),Object(Bu.y)("MONTH"),Object(Bu.y)("WEEK"),Object(Bu.y)("WEEKISO"),Object(Bu.y)("DAY"),Object(Bu.y)("HOUR"),Object(Bu.y)("DAYOFWEEK"),Object(Bu.y)("DAYOFWEEKISO"),Object(Bu.y)("DAYOFYEAR")),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c)],returns:Bu.l},{arguments:[Object(Bu.z)(Object(Bu.y)("YEAR"),Object(Bu.y)("YEAROFWEEK"),Object(Bu.y)("YEAROFWEEKISO"),Object(Bu.y)("QUARTER"),Object(Bu.y)("MONTH"),Object(Bu.y)("WEEK"),Object(Bu.y)("WEEKISO"),Object(Bu.y)("DAY"),Object(Bu.y)("HOUR"),Object(Bu.y)("DAYOFWEEK"),Object(Bu.y)("DAYOFWEEKISO"),Object(Bu.y)("DAYOFYEAR")),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c,Bu.k)],returns:Bu.i}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.DATEPART.description",examples:['DATEPART("DAY", "2021-03-15") = 15','DATEPART("MONTH", DATE_FROM_PARTS(2021, 3, 15)) = 3','DATEPART("YEAR", [DEAL.createdate])'],arguments:[{name:"datePart",descriptionKey:"reporting-snowflake.function-definitions.DATEPART.arg1.description",examples:['"YEAR"','"YEAROFWEEK"','"YEAROFWEEKISO"','"QUARTER"','"MONTH"','"WEEK"','"WEEKISO','"DAY"','"DAYOFWEEK"','"DAYOFWEEKISO"','"DAYOFYEAR"']},{name:"value",descriptionKey:"reporting-snowflake.function-definitions.DATEPART.arg2.description",examples:['"2021-01-01"',1609459200,"[DEAL.createdate]"]}]}),DATETRUNC:Ku({name:"DATETRUNC",type:Object(Bu.v)({arguments:[Object(Bu.z)(Object(Bu.y)("YEAR"),Object(Bu.y)("QUARTER"),Object(Bu.y)("MONTH"),Object(Bu.y)("WEEK"),Object(Bu.y)("DAY")),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c)],returns:Bu.d},{arguments:[Object(Bu.z)(Object(Bu.y)("YEAR"),Object(Bu.y)("QUARTER"),Object(Bu.y)("MONTH"),Object(Bu.y)("WEEK"),Object(Bu.y)("DAY")),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c,Bu.k)],returns:Bu.h}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.DATETRUNC.description",examples:['DATETRUNC("YEAR", DATE_FROM_PARTS(2021, 3, 15)) = 2021-01-01','DATETRUNC("MONTH", "2021-03-15") = 2021-03-01','DATETRUNC("DAY", NOW()) = 2022-11-29','DATETRUNC("DAY", [e_visited_page.__hs_event_native_timestamp])'],arguments:[{name:"datePart",descriptionKey:"reporting-snowflake.function-definitions.DATETRUNC.arg1.description",examples:['"YEAR"','"QUARTER"','"MONTH"','"WEEK"','"DAY"']},{name:"value",descriptionKey:"reporting-snowflake.function-definitions.DATETRUNC.arg2.description",examples:['"2021-01-01"',1609459200,"[DEAL.createdate]"]}]}),TIMESTAMP_FROM_PARTS:Ku({name:"TIMESTAMP_FROM_PARTS",type:Object(Bu.v)({arguments:[Bu.l,Bu.l,Bu.l,Bu.l,Bu.l,Bu.l],returns:Bu.c},{arguments:[Bu.i,Bu.i,Bu.i,Bu.i,Bu.i,Bu.i],returns:Bu.g}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.TIMESTAMP_FROM_PARTS.description",examples:["TIMESTAMP_FROM_PARTS(2021, 1, 1, 0, 0, 0) = 1609459200000"],arguments:[{name:"year",descriptionKey:"reporting-snowflake.function-definitions.TIMESTAMP_FROM_PARTS.arg1.description",examples:[2021,1995]},{name:"month",descriptionKey:"reporting-snowflake.function-definitions.TIMESTAMP_FROM_PARTS.arg2.description",examples:[1,2,3,12]},{name:"day",descriptionKey:"reporting-snowflake.function-definitions.TIMESTAMP_FROM_PARTS.arg3.description",examples:[1,2,3,31]},{name:"hour",descriptionKey:"reporting-snowflake.function-definitions.TIMESTAMP_FROM_PARTS.arg4.description",examples:[0,1,2,3,23]},{name:"minute",descriptionKey:"reporting-snowflake.function-definitions.TIMESTAMP_FROM_PARTS.arg5.description",examples:[0,1,2,3,59]},{name:"second",descriptionKey:"reporting-snowflake.function-definitions.TIMESTAMP_FROM_PARTS.arg6.description",examples:[0,1,2,3,59]}]}),WEEKNUM:Ku({name:"WEEKNUM",type:Object(Bu.v)({arguments:[Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c)],returns:Bu.l},{arguments:[Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c,Bu.k)],returns:Bu.i}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.WEEKNUM.description",examples:['WEEKNUM("2021-03-15") = 11'],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.WEEKNUM.arg1.description",examples:['"2021-01-01"',1609459200,"[DEAL.createdate]"]}]}),NOW:Ku({name:"NOW",type:Object(Bu.v)({arguments:[],returns:Bu.c}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.NOW.description",examples:["NOW() = 1633611966314"],arguments:[]}),WORKINGDAYS:Ku({name:"WORKINGDAYS",type:Object(Bu.v)({arguments:[Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c)],returns:Bu.l},{arguments:[Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c,Bu.k),Object(Bu.z)(Bu.l,Bu.o,Bu.d,Bu.c,Bu.k)],returns:Bu.i}),signatureIndexForDocs:0,descriptionKey:"reporting-snowflake.function-definitions.WORKINGDAYS.description",examples:['WORKINGDAYS("2018-01-01", "2017-12-31")',"WORKINGDAYS([DEAL.createdate], NOW())"],arguments:[{name:"value1",descriptionKey:"reporting-snowflake.function-definitions.WORKINGDAYS.arg1.description",examples:['"2021-01-01"',1609459200,"[DEAL.createdate]","NOW()"]},{name:"value2",descriptionKey:"reporting-snowflake.function-definitions.WORKINGDAYS.arg2.description",examples:['"2021-01-01"',1609459200,"[DEAL.createdate]","NOW()"]}]}),DISTINCT_COUNT:Ku({name:"DISTINCT_COUNT",type:Object(Bu.u)({arguments:[Object(Bu.w)("T")],returns:Bu.l}),signatureIndexForDocs:0,showBetaTag:!0,descriptionKey:"reporting-snowflake.function-definitions.DISTINCT_COUNT.description",examples:[],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.DISTINCT_COUNT.arg1.description",examples:[]}]}),SUM:Ku({name:"SUM",type:Object(Bu.u)({arguments:[Bu.i],returns:Bu.l}),signatureIndexForDocs:0,showBetaTag:!0,descriptionKey:"reporting-snowflake.function-definitions.SUM.description",examples:[],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.SUM.arg1.description",examples:[]}]}),AVG:Ku({name:"AVG",type:Object(Bu.u)({arguments:[Bu.i],returns:Bu.l}),signatureIndexForDocs:0,showBetaTag:!0,descriptionKey:"reporting-snowflake.function-definitions.AVG.description",examples:[],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.AVG.arg1.description",examples:[]}]}),MIN:Ku({name:"MIN",type:Object(Bu.u)({arguments:[Bu.i],returns:Bu.l},{arguments:[Bu.j],returns:Bu.o},{arguments:[Bu.f],returns:Bu.a},{arguments:[Bu.h],returns:Bu.d},{arguments:[Bu.g],returns:Bu.c}),signatureIndexForDocs:0,showBetaTag:!0,descriptionKey:"reporting-snowflake.function-definitions.MIN.description",examples:[],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.MIN.arg1.description",examples:[]}]}),MAX:Ku({name:"MAX",type:Object(Bu.u)({arguments:[Bu.i],returns:Bu.l},{arguments:[Bu.j],returns:Bu.o},{arguments:[Bu.f],returns:Bu.a},{arguments:[Bu.h],returns:Bu.d},{arguments:[Bu.g],returns:Bu.c}),signatureIndexForDocs:0,showBetaTag:!0,descriptionKey:"reporting-snowflake.function-definitions.MAX.description",examples:[],arguments:[{name:"value",descriptionKey:"reporting-snowflake.function-definitions.MAX.arg1.description",examples:[]}]})},tp=Object(b.Seq)(ep).map(({type:e})=>e).toObject(),np=Object(Bu.p)({YEAR:Object(Bu.t)({type:Object(Bu.y)("YEAR"),value:"YEAR"}),YEAROFWEEK:Object(Bu.t)({type:Object(Bu.y)("YEAROFWEEK"),value:"YEAROFWEEK"}),YEAROFWEEKISO:Object(Bu.t)({type:Object(Bu.y)("YEAROFWEEKISO"),value:"YEAROFWEEKISO"}),QUARTER:Object(Bu.t)({type:Object(Bu.y)("QUARTER"),value:"QUARTER"}),MONTH:Object(Bu.t)({type:Object(Bu.y)("MONTH"),value:"MONTH"}),WEEK:Object(Bu.t)({type:Object(Bu.y)("WEEK"),value:"WEEK"}),WEEKISO:Object(Bu.t)({type:Object(Bu.y)("WEEKISO"),value:"WEEKISO"}),DAY:Object(Bu.t)({type:Object(Bu.y)("DAY"),value:"DAY"}),DAYOFWEEK:Object(Bu.t)({type:Object(Bu.y)("DAYOFWEEK"),value:"DAYOFWEEK"}),DAYOFWEEKISO:Object(Bu.t)({type:Object(Bu.y)("DAYOFWEEKISO"),value:"DAYOFWEEKISO"}),DAYOFYEAR:Object(Bu.t)({type:Object(Bu.y)("DAYOFYEAR"),value:"DAYOFYEAR"}),HOUR:Object(Bu.t)({type:Object(Bu.y)("HOUR"),value:"HOUR"}),MINUTE:Object(Bu.t)({type:Object(Bu.y)("MINUTE"),value:"MINUTE"}),SECOND:Object(Bu.t)({type:Object(Bu.y)("SECOND"),value:"SECOND"})}),rp=e=>Object.assign({operators:Zu,functions:tp,scope:np},e),ap={UNDEFINED:"UNDEFINED",CONSTANT:"CONSTANT",ROW_LEVEL:"ROW_LEVEL",AGGREGATE:"AGGREGATE"},op=(ap.UNDEFINED,{MIXED_CONTEXT:"MIXED_CONTEXT",AGGREGATION_CONTEXT:"AGGREGATION_CONTEXT"}),sp=e=>e.type===op.MIXED_CONTEXT,ip=e=>e.type===op.AGGREGATION_CONTEXT,cp=e=>sp(e)||ip(e),lp={EXPRESSIONS:"EXPRESSIONS",MISSING:"MISSING",SYMBOL:"SYMBOL",UNRECOGNIZED:"UNRECOGNIZED",NULL_LITERAL:"NULL_LITERAL",BOOLEAN_LITERAL:"BOOLEAN_LITERAL",NUMERIC_LITERAL:"NUMERIC_LITERAL",STRING_LITERAL:"STRING_LITERAL",IDENTIFIER:"IDENTIFIER",PROPERTY:"PROPERTY",FIELD:"FIELD",FUNCTION_CALL:"FUNCTION_CALL",AGGREGATION_CONTEXT:"AGGREGATION_CONTEXT",POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE",NOT:"NOT",ADD:"ADD",SUBTRACT:"SUBTRACT",MULTIPLY:"MULTIPLY",DIVIDE:"DIVIDE",MODULUS:"MODULUS",GREATER:"GREATER",GREATER_OR_EQUAL:"GREATER_OR_EQUAL",LESS:"LESS",LESS_OR_EQUAL:"LESS_OR_EQUAL",EQUAL:"EQUAL",NOT_EQUAL:"NOT_EQUAL",AND:"AND",OR:"OR"},up=e=>e.type===lp.EXPRESSIONS,pp=e=>e.type===lp.MISSING,dp=(lp.MISSING,e=>e.type===lp.SYMBOL),mp=e=>e.type===lp.UNRECOGNIZED,gp=e=>up(e)||pp(e)||dp(e)||mp(e),bp=e=>e.type===lp.NULL_LITERAL,Op=e=>e.type===lp.BOOLEAN_LITERAL,fp=e=>e.type===lp.NUMERIC_LITERAL,Ep=e=>e.type===lp.STRING_LITERAL,yp=e=>e.type===lp.IDENTIFIER,Tp=e=>e.type===lp.PROPERTY,Ip=e=>e.type===lp.FIELD,hp=e=>e.type===lp.FUNCTION_CALL,jp=e=>e.type===lp.AGGREGATION_CONTEXT,Ap=e=>e.type===lp.POSITIVE||e.type===lp.NEGATIVE||e.type===lp.NOT,Sp=e=>e.type===lp.ADD||e.type===lp.SUBTRACT||e.type===lp.MULTIPLY||e.type===lp.DIVIDE||e.type===lp.MODULUS||e.type===lp.GREATER||e.type===lp.GREATER_OR_EQUAL||e.type===lp.LESS||e.type===lp.LESS_OR_EQUAL||e.type===lp.EQUAL||e.type===lp.NOT_EQUAL||e.type===lp.AND||e.type===lp.OR;function _p(e,t){function n(){this.constructor=e}n.prototype=t.prototype;e.prototype=new n}function Np(e,t,n,r){this.message=e;this.expected=t;this.found=n;this.location=r;this.name="SyntaxError";"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Np)}_p(Np,Error);Np.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return n[e.type](e)}function i(e){var t,n,r=new Array(e.length);for(t=0;t<e.length;t++)r[t]=s(e[t]);r.sort();if(r.length>0){for(t=1,n=1;t<r.length;t++)if(r[t-1]!==r[t]){r[n]=r[t];n++}r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(e){return e?'"'+a(e)+'"':"end of input"}return"Expected "+i(e)+" but "+c(t)+" found."};const Rp={UNDEFINED:"UNDEFINED",NULL:"NULL",NULL_LITERAL:"NULL_LITERAL",BOOLEAN_LITERAL:"BOOLEAN_LITERAL",NUMERIC_LITERAL:"NUMERIC_LITERAL",STRING_LITERAL:"STRING_LITERAL",BOOLEAN:"BOOLEAN",NUMBER:"NUMBER",STRING:"STRING",DATE:"DATE",DATETIME:"DATETIME",PROPERTY:"PROPERTY",UNION:"UNION",GENERIC:"GENERIC",FUNCTION:"FUNCTION"},Cp={number:"number",string:"string",bool:"bool",enumeration:"enumeration",datetime:"datetime",date:"date",phone_number:"phone_number",currency_number:"currency_number",json:"json",object_coordinates:"object_coordinates"},vp=e=>e.type===Rp.UNDEFINED,Lp=e=>e.type===Rp.NULL,Dp=e=>e.type===Rp.BOOLEAN_LITERAL,Mp=e=>e.type===Rp.NUMERIC_LITERAL,Pp=e=>e.type===Rp.STRING_LITERAL,Up=e=>Dp(e)||Mp(e)||Pp(e),kp=e=>e.type===Rp.BOOLEAN,xp=e=>e.type===Rp.NUMBER,wp=e=>e.type===Rp.STRING,Fp=e=>e.type===Rp.DATE,Yp=e=>e.type===Rp.DATETIME,Bp=e=>kp(e)||xp(e)||wp(e)||Fp(e)||Yp(e),Gp=e=>e.type===Rp.PROPERTY,Vp=e=>e.type===Rp.UNION,Hp=e=>e.type===Rp.GENERIC,Wp=e=>e.type===Rp.FUNCTION,Kp=e=>({type:Rp.BOOLEAN_LITERAL,value:e}),qp=e=>({type:Rp.NUMERIC_LITERAL,value:e}),Qp=e=>({type:Rp.STRING_LITERAL,value:e}),$p=e=>({type:Rp.PROPERTY,propertyType:e}),Jp=(...e)=>({type:Rp.UNION,types:e}),zp=e=>({type:Rp.GENERIC,name:e}),Xp=(e,...t)=>({type:Rp.FUNCTION,name:e,aggregate:!1,signatures:t}),Zp=(e,...t)=>({type:Rp.FUNCTION,name:e,aggregate:!0,signatures:t}),ed={type:Rp.UNDEFINED,value:void 0},td={type:Rp.NULL,value:null},nd=e=>Jp(e,td),rd={type:Rp.BOOLEAN},ad={type:Rp.NUMBER},od={type:Rp.STRING},sd={type:Rp.DATE},id={type:Rp.DATETIME},cd=nd(rd),ld=nd(ad),ud=nd(od),pd=nd(sd),dd=nd(id),md={NUMBER:$p(Cp.number),STRING:$p(Cp.string),BOOL:$p(Cp.bool),ENUMERATION:$p(Cp.enumeration),DATE:$p(Cp.date),DATETIME:$p(Cp.datetime),PHONE_NUMBER:$p(Cp.phone_number),CURRENCY_NUMBER:$p(Cp.currency_number),JSON:$p(Cp.json),OBJECT_COORDINATES:$p(Cp.object_coordinates)},gd={YEAR:{type:Qp("YEAR"),value:"YEAR"},YEAROFWEEK:{type:Qp("YEAROFWEEK"),value:"YEAROFWEEK"},YEAROFWEEKISO:{type:Qp("YEAROFWEEKISO"),value:"YEAROFWEEKISO"},QUARTER:{type:Qp("QUARTER"),value:"QUARTER"},MONTH:{type:Qp("MONTH"),value:"MONTH"},WEEK:{type:Qp("WEEK"),value:"WEEK"},WEEKISO:{type:Qp("WEEKISO"),value:"WEEKISO"},DAY:{type:Qp("DAY"),value:"DAY"},DAYOFWEEK:{type:Qp("DAYOFWEEK"),value:"DAYOFWEEK"},DAYOFWEEKISO:{type:Qp("DAYOFWEEKISO"),value:"DAYOFWEEKISO"},DAYOFYEAR:{type:Qp("DAYOFYEAR"),value:"DAYOFYEAR"},HOUR:{type:Qp("HOUR"),value:"HOUR"},MINUTE:{type:Qp("MINUTE"),value:"MINUTE"},SECOND:{type:Qp("SECOND"),value:"SECOND"}},bd=(...e)=>t=>Xp(t,...e),Od=bd({arguments:[rd],returns:rd},{arguments:[td],returns:td},{arguments:[cd],returns:cd}),fd=bd({arguments:[rd,rd],returns:rd},{arguments:[td,cd],returns:td},{arguments:[cd,td],returns:td},{arguments:[cd,cd],returns:cd}),Ed=bd({arguments:[ad],returns:ad},{arguments:[td],returns:td},{arguments:[ld],returns:ld}),yd=bd({arguments:[ad,ad],returns:ad},{arguments:[ld,td],returns:td},{arguments:[td,ld],returns:td},{arguments:[ld,ld],returns:ld}),Td=bd({arguments:[Jp(ad,sd,id),Jp(ad,sd,id)],returns:rd},{arguments:[Jp(ad,sd,id,td),td],returns:td},{arguments:[td,Jp(ad,sd,id,td)],returns:td},{arguments:[Jp(ad,sd,id,td),Jp(ad,sd,id,td)],returns:cd}),Id=bd({arguments:[zp("T"),zp("T")],returns:rd}),hd={[lp.NOT]:Od("__NOT__"),[lp.AND]:fd("__AND__"),[lp.OR]:fd("__OR__"),[lp.POSITIVE]:Ed("__POSITIVE__"),[lp.NEGATIVE]:Ed("__NEGATIVE__"),[lp.ADD]:yd("__ADD__"),[lp.SUBTRACT]:yd("__SUBTRACT__"),[lp.MULTIPLY]:yd("__MULTIPLY__"),[lp.DIVIDE]:yd("__DIVIDE__"),[lp.MODULUS]:yd("__MODULUS__"),[lp.GREATER]:Td("__GREATER__"),[lp.GREATER_OR_EQUAL]:Td("__GREATER_OR_EQUAL__"),[lp.LESS]:Td("__LESS__"),[lp.LESS_OR_EQUAL]:Td("__LESS_OR_EQUAL__"),[lp.EQUAL]:Id("__EQUAL__"),[lp.NOT_EQUAL]:Id("__NOT_EQUAL__")},jd={IF:Xp("IF",{arguments:[cd,zp("T"),zp("T")],returns:zp("T")}),CONTAINS:Xp("CONTAINS",{arguments:[od,od],returns:rd},{arguments:[ud,ud],returns:cd}),CONCAT:Xp("CONCAT",{arguments:[Jp(od,ad),Jp(od,ad)],returns:od},{arguments:[td,Jp(ud,ld)],returns:td},{arguments:[Jp(ud,ld),td],returns:td},{arguments:[Jp(ud,ld),Jp(ud,ld)],returns:ud}),LABEL:Xp("LABEL",{arguments:[md.ENUMERATION],returns:ud}),LENGTH:Xp("LENGTH",{arguments:[od],returns:ad},{arguments:[ud],returns:ld}),TRIM:Xp("TRIM",{arguments:[od],returns:od},{arguments:[ud],returns:ud}),ABS:Ed("ABS"),CEIL:Ed("CEIL"),CONVERT_CURRENCY:Xp("CONVERT_CURRENCY",{arguments:[ad,od],returns:ad},{arguments:[ld,od],returns:ld}),DIV0:yd("DIV0"),EXP:Ed("EXP"),FLOOR:Ed("FLOOR"),LN:Ed("LN"),LOG:yd("LOG"),POWER:yd("POWER"),SQRT:Ed("SQRT"),WIDTH_BUCKET:Xp("WIDTH_BUCKET",{arguments:[ad,ad,ad,ad],returns:ad},{arguments:[ld,ad,ad,ad],returns:ld}),DATE_FROM_PARTS:Xp("DATE_FROM_PARTS",{arguments:[ad,ad,ad],returns:sd},{arguments:[ld,ld,ld],returns:pd}),DATEDIFF:Xp("DATEDIFF",{arguments:[Jp(Qp("YEAR"),Qp("QUARTER"),Qp("MONTH"),Qp("WEEK"),Qp("DAY"),Qp("HOUR"),Qp("MINUTE"),Qp("SECOND")),Jp(ad,od,sd,id),Jp(ad,od,sd,id)],returns:ad},{arguments:[Jp(Qp("YEAR"),Qp("QUARTER"),Qp("MONTH"),Qp("WEEK"),Qp("DAY"),Qp("HOUR"),Qp("MINUTE"),Qp("SECOND")),Jp(ad,od,sd,id,td),Jp(ad,od,sd,id,td)],returns:ld}),DATEPART:Xp("DATEPART",{arguments:[Jp(Qp("YEAR"),Qp("YEAROFWEEK"),Qp("YEAROFWEEKISO"),Qp("QUARTER"),Qp("MONTH"),Qp("WEEK"),Qp("WEEKISO"),Qp("DAY"),Qp("DAYOFWEEK"),Qp("DAYOFWEEKISO"),Qp("DAYOFYEAR")),Jp(ad,od,sd,id)],returns:ad},{arguments:[Jp(Qp("YEAR"),Qp("YEAROFWEEK"),Qp("YEAROFWEEKISO"),Qp("QUARTER"),Qp("MONTH"),Qp("WEEK"),Qp("WEEKISO"),Qp("DAY"),Qp("DAYOFWEEK"),Qp("DAYOFWEEKISO"),Qp("DAYOFYEAR")),Jp(ad,od,sd,id,td)],returns:ld}),DATETRUNC:Xp("DATETRUNC",{arguments:[Jp(Qp("YEAR"),Qp("QUARTER"),Qp("MONTH"),Qp("WEEK"),Qp("DAY")),Jp(ad,od,sd,id)],returns:sd},{arguments:[Jp(Qp("YEAR"),Qp("QUARTER"),Qp("MONTH"),Qp("WEEK"),Qp("DAY")),Jp(ad,od,sd,id,td)],returns:pd}),TIMESTAMP_FROM_PARTS:Xp("TIMESTAMP_FROM_PARTS",{arguments:[ad,ad,ad,ad,ad,ad],returns:id},{arguments:[ld,ld,ld,ld,ld,ld],returns:dd}),WEEKNUM:Xp("WEEKNUM",{arguments:[Jp(ad,od,sd,id)],returns:ad},{arguments:[Jp(ad,od,sd,id,td)],returns:ld}),NOW:Xp("NOW",{arguments:[],returns:ad}),WORKINGDAYS:Xp("WORKINGDAYS",{arguments:[Jp(ad,od,sd,id),Jp(ad,od,sd,id)],returns:ad},{arguments:[Jp(ad,od,sd,id,td),Jp(ad,od,sd,id,td)],returns:ld}),DISTINCT_COUNT:Zp("DISTINCT_COUNT",{arguments:[zp("T")],returns:ad}),SUM:Zp("SUM",{arguments:[ld],returns:ad}),AVG:Zp("AVG",{arguments:[ld],returns:ad}),MIN:Zp("MIN",{arguments:[ld],returns:ad},{arguments:[ud],returns:od},{arguments:[cd],returns:rd},{arguments:[pd],returns:sd},{arguments:[dd],returns:id}),MAX:Zp("MAX",{arguments:[ld],returns:ad},{arguments:[ud],returns:od},{arguments:[cd],returns:rd},{arguments:[pd],returns:sd},{arguments:[dd],returns:id})},Ad=e=>Object.assign({scope:gd,operators:hd,functions:jd,violations:[]},e),Sd={CIRCULAR:"CIRCULAR"},_d=e=>e.type===Sd.CIRCULAR,Nd=e=>_d(e),Rd={SYNTAX:"SYNTAX"},Cd=e=>e.type===Rd.SYNTAX,vd=e=>Cd(e),Ld=e=>vp(e)?5:Lp(e)?4:Gp(e)?3:Bp(e)?2:Up(e)?1:6;function Dd(e,t){const n=Ld(e),r=Ld(t);return n<r?-1:n>r?1:Md(e)<Md(t)?-1:Md(e)>Md(t)?1:0}function Md(e){if(vp(e))return e.type;if(Lp(e))return e.type;if(Dp(e))return e.value.toString();if(Mp(e))return e.value.toString();if(Pp(e))return`"${e.value}"`;if(Bp(e))return e.type;if(Vp(e))return`(${e.types.sort(Dd).map(Md).join(" | ")})`;if(Gp(e))return`Property<${e.propertyType}>`;if(Hp(e))return`Generic<${e.name}>`;if(Wp(e))return`Function<${e.name}>`;throw new Error("Unknown type: "+e)}const Pd=e=>{const t=e=>Vp(e)?e.types.flatMap(t):[e],n=new Map;t(e).forEach(e=>n.set(Md(e),e));return n},Ud=e=>{const t=Array.from(Pd(e).values());return 1===t.length?t[0]:Jp(...t)},kd=e=>{if(Vp(e)){const t=Pd(e),n=Array.from(t.values()).map(kd);return Ud(Jp(...n))}if(Dp(e))return rd;if(Mp(e))return ad;if(Pp(e))return od;if(Gp(e))switch(e.propertyType){case Cp.number:case Cp.currency_number:return ld;case Cp.string:case Cp.enumeration:case Cp.phone_number:case Cp.json:case Cp.object_coordinates:return ud;case Cp.bool:return cd;case Cp.date:return pd;case Cp.datetime:return dd;default:throw new Error("Unknown property type: "+e.propertyType)}return e},xd=(e,t)=>{const n=Pd(e),r=Pd(t);return Array.from(n.entries()).every(([e,t])=>r.has(e)||Array.from(Pd(kd(t)).keys()).every(e=>r.has(e)))},wd=(e,t)=>e.rest?Object.assign({},e,{arguments:[...e.arguments,...Array(Math.max(0,t-e.arguments.length)).fill(e.rest)]}):e,Fd={REFERENCE:"REFERENCE",ARGUMENT:"ARGUMENT",GENERICS:"GENERICS"},Yd=e=>e.type===Fd.REFERENCE,Bd=e=>e.type===Fd.ARGUMENT,Gd=e=>e.type===Fd.GENERICS,Vd=e=>Yd(e)||Bd(e)||Gd(e),Hd=(e,...t)=>({type:e,violations:t}),Wd=(e,t)=>{const{scope:n}=t,r=n[e.name];return r?Hd(r.type):Hd(ed,{type:Fd.REFERENCE,expression:e})},Kd=(e,t)=>{const n=t.fields[e.name],r=n&&n.type;return!n||vp(r)?Hd(ed,{type:Fd.REFERENCE,expression:e}):Hd(r)},qd=(e,t)=>{const n=t.properties[`${e.table}.${e.name}`],r=n&&n.type;return r?Hd(r):Hd(ed,{type:Fd.REFERENCE,expression:e})},Qd=(e,t,n)=>{const{arguments:r,returns:a}=t,o=r.map((t,r)=>{const a=e.arguments[r],o=n[r]||ed;return{index:r,argument:a,argumentType:t,providedType:o,valid:xd(o,t),generic:Array.from(Pd(t).values()).find(Hp)}}),s=o.filter(({valid:e})=>!e).filter(({generic:e,providedType:t})=>!e||e&&vp(t)).map(({index:t,argument:n,argumentType:r,providedType:a})=>({type:Fd.ARGUMENT,expression:n,parentExpression:e,argumentIndex:t,expected:r,provided:a})),i={};o.filter(({valid:e,generic:t})=>!e&&t).forEach(e=>{if(e.generic){const t=Md(e.generic);if(!i[t]){i[t]={generic:e.generic,candidates:[e]};return}i[t].candidates.push(e)}});const c=Object.values(i).map(({generic:t,candidates:n})=>{const r=n.map(({providedType:e})=>e),a=Ud(Jp(...r)),o=Pd(a);o.delete(Md(td));if(o.size<2)return Object.assign({generic:t},Hd(a));const s=kd(a),i=Pd(s);i.delete(Md(td));return i.size<2?Object.assign({generic:t},Hd(s)):Object.assign({generic:t},Hd(ed,{type:Fd.GENERICS,expression:e,argumentIndices:n.map(({index:e})=>e),genericType:t,providedTypes:n.map(({providedType:e})=>e)}))}),l=c.flatMap(({violations:e})=>e);if(Hp(a)){const e=Md(a),t=c.find(({generic:t})=>Md(t)===e);if(!t)throw new Error("Could not solve generic type "+e);return Hd(t.type,...s,...l)}return Hd(a,...s,...l)},$d=(e,t)=>{const n=e.arguments.map(e=>em(e,t)),r=n.map(({type:e})=>e),a=n.flatMap(({violations:e})=>e),{functions:o,operators:s}=t,i=o[e.name]||s[e.name];if(!i)return Hd(ed,...a,{type:Fd.REFERENCE,expression:e});let c;for(const t of i.signatures){const n=wd(t,r.length),{type:o,violations:s}=Qd(e,n,r);if(0===s.length)return Hd(o,...a,...s);(!c||s.length<c.violations.length)&&(c=Hd(o,...s))}if(!c||0===i.signatures.length)throw new Error("Could not find a signature for "+e.name);return Hd(c.type,...a,...c.violations)},Jd=(e,t)=>{const{dimensions:n,expression:r}=e,a=n.map(e=>em(e,t)).flatMap(({violations:e})=>e),{type:o,violations:s}=em(r,t);return Hd(o,...a,...s)},zd=e=>(t,n)=>{const r=e(t),{type:a,violations:o}=$d(r,n),s=e=>{e.expression=r===e.expression?t:e.expression;Bd(e)&&(e.parentExpression=r===e.parentExpression?t:e.parentExpression);return e},i=o.map(s);return Hd(a,...i)},Xd=zd(e=>({type:lp.FUNCTION_CALL,name:e.type,arguments:[e.argument]})),Zd=zd(e=>({type:lp.FUNCTION_CALL,name:e.type,arguments:[e.left,e.right]})),em=(e,t)=>{if(gp(e))return Hd(ed);if(bp(e))return Hd(td);if(Op(e))return Hd(Kp(e.value));if(fp(e))return Hd(qp(e.value));if(Ep(e))return Hd(Qp(e.value));if(yp(e))return Wd(e,t);if(Ip(e))return Kd(e,t);if(Tp(e))return qd(e,t);if(hp(e))return $d(e,t);if(jp(e))return Jd(e,t);if(Ap(e))return Xd(e,t);if(Sp(e))return Zd(e,t);throw new Error("Unsupported expression: "+e)},tm={SYNTAX:"SYNTAX",REFERENCE:"REFERENCE",CIRCULAR_DEPENDENCY:"CIRCULAR_DEPENDENCY",TYPE:"TYPE",GENERICS:"GENERICS",CONTEXT:"CONTEXT",DIMENSION_FIELD:"DIMENSION_FIELD",MEASURE_FIELD:"MEASURE_FIELD",CONDITIONAL_FIELD_BOOLEAN:"CONDITIONAL_FIELD_BOOLEAN",PERSISTED_TYPE_DISCREPANCY:"PERSISTED_TYPE_DISCREPANCY",NO_FUNCTION_ACCESS:"NO_FUNCTION_ACCESS",FIELD_LEVEL_PERMISSION:"FIELD_LEVEL_PERMISSION"},nm=Ln.l(tm,"ViolationType"),rm={INFO:"INFO",WARNING:"WARNING",ERROR:"ERROR"},am=Ln.l(rm,"ViolationLevel"),om=Ln.i({violation:nm.always(tm.SYNTAX).defaultValue(tm.SYNTAX),level:am,input:Ln.k(),location:$o.g.optional(),syntaxError:Ln.a()},"SyntaxViolation"),sm=Ln.i({violation:nm.always(tm.REFERENCE).defaultValue(tm.REFERENCE),level:am,expression:$o.b,location:$o.g,field:Vo.a.optional()},"ReferenceViolation"),im=Ln.i({violation:nm.always(tm.CIRCULAR_DEPENDENCY).defaultValue(tm.CIRCULAR_DEPENDENCY),level:am,expression:$o.b},"CircularDependencyViolation"),cm=Ln.i({violation:nm.always(tm.TYPE).defaultValue(tm.TYPE),level:am,expression:$o.b,parentExpression:$o.b,argumentIndex:Ln.g(),location:$o.g.optional(),expected:Bu.q,provided:Bu.q},"TypeViolation"),lm=e=>e.violation===tm.TYPE,um=Ln.i({violation:nm.always(tm.GENERICS).defaultValue(tm.GENERICS),level:am,expression:$o.b,location:$o.g.optional(),argumentIndices:Ln.d(Ln.g()),genericType:Bu.q,providedTypes:Ln.d(Bu.q)},"GenericsViolation"),pm=Ln.i({violation:nm.always(tm.CONTEXT).defaultValue(tm.CONTEXT),level:am,expression:$o.b,location:$o.g.optional()},"ContextViolation"),dm=Ln.i({violation:nm.always(tm.DIMENSION_FIELD).defaultValue(tm.DIMENSION_FIELD),level:am},"DimensionFieldViolation"),mm=Ln.i({violation:nm.always(tm.MEASURE_FIELD).defaultValue(tm.MEASURE_FIELD),level:am},"MeasureFieldViolation"),gm=Ln.i({violation:nm.always(tm.CONDITIONAL_FIELD_BOOLEAN).defaultValue(tm.CONDITIONAL_FIELD_BOOLEAN),expression:$o.b,expected:Bu.b,provided:Bu.q,location:$o.g,level:am},"ConditionalFieldBooleanViolation"),bm=Ln.i({violation:nm.always(tm.PERSISTED_TYPE_DISCREPANCY).defaultValue(tm.PERSISTED_TYPE_DISCREPANCY),currentType:Bu.q,persistedType:Bu.q.optional(),level:am},"PersistedTypeDiscrepancyViolation"),Om=Ln.i({violation:nm.always(tm.NO_FUNCTION_ACCESS).defaultValue(tm.NO_FUNCTION_ACCESS),expression:$o.b,location:$o.g.optional(),level:am},"NoFunctionAccessViolation"),fm=Ln.i({violation:nm.always(tm.FIELD_LEVEL_PERMISSION).defaultValue(tm.FIELD_LEVEL_PERMISSION),expression:$o.b,location:$o.g.optional(),flpRestrictedFieldLabel:Ln.k(),level:am},"FieldLevelPermissionViolation"),Em=Ln.h("violation",{[tm.SYNTAX]:om,[tm.REFERENCE]:sm,[tm.CIRCULAR_DEPENDENCY]:im,[tm.TYPE]:cm,[tm.GENERICS]:um,[tm.CONDITIONAL_FIELD_BOOLEAN]:gm,[tm.CONTEXT]:pm,[tm.DIMENSION_FIELD]:dm,[tm.MEASURE_FIELD]:mm,[tm.NO_FUNCTION_ACCESS]:Om,[tm.FIELD_LEVEL_PERMISSION]:fm},"Violation"),ym=e=>Object(Bu.F)(e)?e.types.flatMap(ym).toOrderedSet():Object(b.OrderedSet)([e]),Tm=e=>{const{fields:t,properties:n}=e,r=Object.fromEntries(n.map(e=>e.toList()).toList().flatten(1).map(e=>({table:e.table,name:e.name,type:$p(e.type),context:ap.ROW_LEVEL})).map(e=>[`${e.table}.${e.name}`,e]).toArray()),a=t.map(e=>({name:e.name,input:e.input,expression:e.expression,type:e.type?e.type.toJS():Bu.s,context:e.context,valid:e.valid,circular:!1,violations:{expression:[],type:[],context:[]}})).toObject();return Ad({properties:r,fields:a,functions:e.functions?Object.fromEntries(Object.entries(e.functions).map(([e,t])=>[e,t.toJS()])):void 0})},Im=(e,t)=>{if(Nd(e))throw new Error("Unexpected environment violation from signature check");if(vd(e))throw new Error("Unexpected expression violation from signature check");if(Vd(e)){if(Yd(e)){const n=Ip(e.expression)?t.fields.get(e.expression.name):void 0;return Em({violation:tm.REFERENCE,level:n?rm.WARNING:rm.ERROR,expression:e.expression,location:e.expression&&e.expression.location,field:n})}if(Bd(e))return Em({violation:tm.TYPE,level:"ERROR",expression:e.expression,parentExpression:e.parentExpression,argumentIndex:e.argumentIndex,location:e.expression&&e.expression.location,expected:e.expected,provided:e.provided});if(Gd(e))return Em({violation:tm.GENERICS,level:"ERROR",expression:e.expression,location:e.expression&&e.expression.location,argumentIndices:e.argumentIndices,genericType:e.genericType,providedTypes:e.providedTypes});throw new Error("Unexpected type violation from signature check")}if(cp(e))throw new Error("Unexpected context violation from signature check");throw new Error("Unexpected violation from signature check")},hm=(e,t)=>{if(!e)return{type:Bu.s,violations:Object(b.List)()};const n=Tm(t),r=em(e.toJS(),n);return{type:Object(Bu.q)(r.type),violations:Object(b.List)(r.violations.map(e=>Im(e,t)).filter(e=>void 0!==e))}},jm=e=>{if(Object(Bu.E)(e)||Object(Bu.B)(e))return Bu.n.string;if(Object(Bu.C)(e))switch(e.type){case Bu.r.NUMBER:return Bu.n.number;case Bu.r.STRING:return Bu.n.string;case Bu.r.BOOLEAN:return Bu.n.bool;case Bu.r.DATE:return Bu.n.date;case Bu.r.DATETIME:return Bu.n.datetime;default:throw new Error}if(Object(Bu.A)(e))switch(e.type){case Bu.r.NUMERIC_LITERAL:return Bu.n.number;case Bu.r.STRING_LITERAL:return Bu.n.string;case Bu.r.BOOLEAN_LITERAL:return Bu.n.bool;default:throw new Error}if(Object(Bu.D)(e))switch(e.propertyType){case Bu.n.number:case Bu.n.currency_number:return Bu.n.number;case Bu.n.string:case Bu.n.enumeration:case Bu.n.phone_number:case Bu.n.json:case Bu.n.object_coordinates:return Bu.n.string;case Bu.n.bool:return Bu.n.bool;case Bu.n.date:return Bu.n.date;case Bu.n.datetime:return Bu.n.datetime;default:throw new Error}const t=ym(e).remove(Bu.k);if(1===t.count())return jm(t.first());throw new Error},Am=(e,...t)=>{const n=Object(b.List)(t);return{field:e.update("valid",e=>e&&n.isEmpty()),violations:n}},Sm=(e,t)=>{try{const n=ps(Jo(e.input),t.fields),r=e.set("expression",n);return Am(r)}catch(t){const n=Jo("null"),r=e.set("expression",n);return""===e.input.trim()?Am(r):Am(r,om({level:rm.ERROR,input:e.input,syntaxError:t}))}},_m=(e,t)=>{if(!e.expression)return Am(e);if(is(e.expression).some(e=>ts(e))){const n=t.fields.set(e.name,e),r=ms(n);if(gs(r,e.name))return Am(e,im({level:rm.ERROR,expression:e.expression}))}return Am(e)},Nm=(e,t)=>{const{type:n,violations:r}=hm(e.expression,t),a=e.set("type",n);return Am(a,...r.toArray())},Rm=e=>{if(e.hasPropertyMapping&&e.persistedType){if(jm(e.type)!==jm(e.persistedType))return Am(e,bm({level:rm.ERROR,currentType:e.type,persistedType:e.persistedType}))}return Am(e)},Cm=(e,t)=>{e=e.set("valid",!0);return[Sm,_m,Nm,Rm].reduce(({field:e,violations:n},r)=>{const a=r(e,t);return Am(a.field,...n.toArray(),...a.violations.toArray())},Am(e))},vm=(e="",t,n)=>{const r=ss(Object($o.e)({name:t})),a=ss(Object($o.e)({name:n}));return e.replaceAll(r,a)},Lm=e=>decodeURIComponent(escape(window.atob(e)));let Dm;const Mm=e=>Object(Vo.c)(e),Pm=e=>{try{return e.update("input",Lm)}catch(t){return e}},Um=()=>Qc()().then(({user:{scopes:e}})=>e.includes("reporting-datasets-access")?Kc.a.get("sql-reporting/v1/datasets"):Promise.resolve(Object(b.List)())).then(b.fromJS).then(e=>e.reduce((e,t)=>e.set(t.get("id"),t.update("datasetDefinition",Mm).update("datasetDefinition",e=>e.update("fields",e=>e.map(Pm)))),Object(b.Map)())).then(e=>{Dm=e;return e}),km=()=>Dm?Promise.resolve(Dm):Um();Ln.i({tables:Ln.f(Co.h),properties:Ln.f(Ln.f(Co.g)),datasetProperties:Ln.f(Ln.f(Vo.b)),functions:Ln.d(Hu)});let xm=Object(b.Map)(),wm=Object(b.Map)();const Fm=(e,t)=>t.map(t=>{const n="combinedAssociationTypeId"in t&&t.combinedAssociationTypeId||"",r=e.find(e=>"combinedAssociationTypeId"in e&&e.combinedAssociationTypeId===n),a=r?r.getIn(["associationDefinition","label"]):void 0;return Object(Co.f)({value:n,label:a||h.a.text("reporting-snowflake.association.any-option-label"),displayOrder:void 0,description:void 0})}).toList(),Ym=(e,t)=>{const n=e=>Object(Go.f)(t,e);return Bo(t).filter(e=>e.definitions.some(e=>e.type===Ro.c.ASSOCIATION)).toMap().mapKeys((e,t)=>t?t.right:"").map(t=>{const{definitions:r=Object(b.List)(),left:a,right:o}=t,s=n(a),i=n(o),c=e.getIn([s,i]),l=c?Fm(c,r):[];return Object(Co.g)({name:wo,label:h.a.text("reporting-snowflake.association.field-label"),type:Cn.m.ENUMERATION,groupName:"none",hidden:!1,numberDisplayHint:void 0,rollupPropertyObjectTypeIds:[],rollupProperty:!1,rollupPropertyErrorLevel:void 0,description:void 0,options:l,flpRestricted:!1})}).toMap()},Bm=e=>jl().then(t=>Ym(t,e)),Gm=e=>e.map((e,t)=>e.map(e=>Ho(t,e))),Vm=e=>{const t=e.hashCode().toString(),n=()=>{if(e.type===Co.b.HUBSPOT_DATASET){const{datasetId:n}=e;return km().then(e=>e.get(n)).then(e=>e.get("datasetDefinition")).then(e=>Vm(e.table).then(({tables:n,properties:r})=>{const a=Object(Co.i)({tables:n,properties:r,datasetProperties:Gm(r),datasetDefinition:e});xm=xm.set(t,a);return a}))}{const n=Object(Go.j)(e),r=n.map(Go.e).toList(),a=Promise.all(r.map(vl).toArray()),o=[dl(),a,Bm(e)];return Promise.all(o).then(e=>{const r=e[0],a=e[1],o=e[2],s=n.toMap().mapKeys((e,t)=>t?t.name:"").map(e=>{const t=Object(Go.e)(e);return r.get(t)}).filter(e=>!!e).toMap(),i=a.reduce((e,t,r)=>{const{name:a}=n.get(r);return e.set(a,t)},Object(b.Map)()).map((e,t)=>{const n=o.get(t);return n?e.set(wo,n):e}).toMap(),c=Object(Co.i)({tables:s,properties:i,datasetProperties:Gm(i)});xm=xm.set(t,c);return c})}};wm.has(t)||(wm=wm.set(t,n()));return wm.get(t).catch(e=>{wm=wm.delete(t);console.error(e);throw e})},Hm=e=>{const{table:t}=e;return Vm(t).then(n=>{const{tables:r,properties:a,datasetDefinition:o}=n,s=Object(Go.h)(r,t),i=o?o.properties.reduce((e,t,n)=>{const r=t.map(e=>Object(vo.a)({table:n,property:e.name})).toList();return e.concat(r).toList()},Object(b.List)()):Object(b.List)(),c=Kl(e).concat(s,i).groupBy(e=>e.table).map(e=>e.map(e=>e.property).toSet()),l=(t.type===Co.b.HUBSPOT_DATASET&&o?Object(Go.j)(o.table):Object(Go.j)(t)).toMap().mapKeys((e,t)=>t?t.name:"").filter((e,t)=>!!t).map(e=>r.get(e.name)).toMap(),u=c.map((e=Object(b.Set)(),t)=>e.toMap().map(e=>a.getIn([t,e])).filter(e=>!!e).toMap()).filter(e=>!e.isEmpty()).toMap(),p=u.map((e,t)=>e.map(e=>Object(Vo.b)({name:e.name,table:t,type:e.type})).toMap()).toMap();return Object(Co.i)({tables:l,properties:u,datasetDefinition:o,datasetProperties:p})})},Wm=(e,t)=>e.properties.getIn([t.table,t.name]),Km=e=>void 0===e||void 0===e.name,qm=e=>{const t=(e,t)=>Ls(t.field)?e.add(t.field.name):e,n=(e,t)=>t.filters.reduce((e,t)=>Ls(t.field)?e.add(t.field.name):e,e),r=e.columns.toList().reduce(t,Object(b.Set)()),a=e.stagedColumns.reduce(t,r);return e.filtering?e.filtering.groups.reduce(n,a):a},Qm=(e,t)=>qm(e).has(t.alias),$m=e=>e.toMap().mapKeys((e,t)=>t?t.alias:"").toMap(),Jm=e=>Object(Co.g)({name:e.alias,label:e.label,type:jm(e.type),groupName:"EXPRESSION",metaDefinition:{},flpRestricted:!1}),zm=e=>{const{alias:t,label:n,derived:r,hidden:a,valid:o,input:s,expression:i,type:c,context:l,editor:u}=e;return Object(Vo.a)({name:t,label:n,derived:r,hidden:a,valid:o,input:s,expression:i,type:c,context:l,editor:u})},Xm=e=>{const{name:t,label:n,derived:r,hidden:a,valid:o,input:s,expression:i,type:c,context:l,editor:u}=e;return Object(Cn.j)({alias:t,label:n,derived:r,hidden:a,valid:o,input:s,expression:i,type:c,context:l,editor:u})},Zm=(e,t,n)=>{const{datasetDefinition:r,datasetProperties:a=Object(b.Map)()}=n||{},o=t.map(zm).reduce((e,t)=>t&&t.name?e.set(t.name,t):e,Object(b.Map)());return hm(e,rp({fields:r?o.merge(r.get("fields")):o,properties:a}))},eg=(e,t,n)=>{const{properties:r=Object(b.Map)()}=n||{},a=is(e.expression),o=a.filter(e=>es(e)),s=a.filter(e=>ts(e)),i=o.filter(e=>r.hasIn([e.table,e.name])&&!0===r.getIn([e.table,e.name,"flpRestricted"])).map(t=>fm({level:rm.ERROR,expression:e.expression,flpRestrictedFieldLabel:`[${t.table}.${t.name}]`,location:t.location})),c=s.filter(e=>{const r=e.name,a=t.get(r);if(!a)return!1;return eg(a,t,n).size>0}).map(n=>fm({level:rm.ERROR,expression:e.expression,flpRestrictedFieldLabel:`[${t.get(n.name).label}]`,location:n.location}));return i.concat(c)},tg=(e,t,n,r=!1)=>{const a=t.map(zm).reduce((e,t)=>t&&t.name?e.set(t.name,t):e,Object(b.Map)()),{datasetDefinition:o,datasetProperties:s=Object(b.Map)()}=n||{},{field:i,violations:c}=Cm(zm(e),rp({fields:o?a.merge(o.get("fields")):a,properties:s})),l=Xm(i).update("expression",e=>o&&o.has("fields")?cs(e,e=>{if(e.type===$o.d.FIELD&&e.name&&o.hasIn(["fields",e.name])){const t=o.fields.get(e.name);return Object($o.j)({table:Ro.a,propertyType:jm(t.type),name:t.name})}return e}):e),u=eg(l,$m(t),n);if(r){const e=is(i.expression).find(e=>ns(e));if(e)return{field:l,violations:c.push(Om({level:rm.ERROR,expression:l.expression,location:e.location})).concat(u)}}return{field:l,violations:c.concat(u)}},ng=e=>Object(Cn.k)({name:e.alias,source:Cn.l.EXPRESSION,type:jm(e.type)}),rg=(e,t)=>e.source===Cn.l.EXPRESSION&&e.name===t.alias,ag=e=>Object(Cn.d)({role:Cn.p.MEASURE,domain:Cn.g.CONTINUOUS,field:e,sort:Lo,alias:li(),aggregation:Cn.b.DELEGATE}),og=(e,t,n,r=Object(b.List)())=>{const a=$m(r),o=ng(e),s=e=>"AGGREGATION_CONTEXT"===e.type,i=e=>e.context===Fu.b.AGGREGATE||is(e.expression).some(e=>s(e)||!!ts(e)&&i(a.get(e.name)));return i(e)?ag(o):Sc(o,t,n)},sg=(e,...t)=>({context:e,violations:Object(b.List)(t)}),ig=(e,t)=>{const{scope:n}=t,r=n.get(e.name);return sg(r?Fu.b.CONSTANT:Fu.b.UNDEFINED)},cg=(e,t)=>{const{fields:n}=t,r=n.get(e.name);return r&&r.valid?sg(r.context):sg(Fu.b.UNDEFINED)},lg=(e,t)=>{const{properties:n}=t,r=n.getIn([e.table,e.name]);return sg(r?Fu.b.ROW_LEVEL:Fu.b.UNDEFINED)},ug=(e,t)=>{const n=e.arguments.map(e=>bg(e,t)),r=n.map(({context:e})=>e),a=n.map(({violations:e})=>e).flatten(1),{functions:o,operators:s}=t,i=o[e.name]||s[e.name];if(!i)return sg(Fu.b.UNDEFINED,...a.toArray());const c=r.includes(Fu.b.UNDEFINED),l=r.includes(Fu.b.ROW_LEVEL),u=r.includes(Fu.b.AGGREGATE);if(u&&l){const t=pm({level:rm.ERROR,expression:e,location:e.location});return sg(Fu.b.UNDEFINED,t,...a.toArray())}return c?sg(Fu.b.UNDEFINED):i.isAggregation||u?sg(Fu.b.AGGREGATE,...a.toArray()):l?sg(Fu.b.ROW_LEVEL,...a.toArray()):sg(Fu.b.CONSTANT,...a.toArray())},pg=(e,t)=>{const{dimensions:n,expression:r}=e,a=n.map(e=>bg(e,t)).map(({violations:e})=>e).flatten(1),{context:o,violations:s}=bg(r,t);if(o!==Fu.b.UNDEFINED&&o!==Fu.b.AGGREGATE){const t=pm({level:rm.ERROR,expression:e,location:e.location});return sg(Fu.b.ROW_LEVEL,t,...a.toArray(),...s.toArray())}return sg(Fu.b.ROW_LEVEL,...a.toArray(),...s.toArray())};function dg(e){return(t,n)=>{const r=e(t),{context:a,violations:o}=ug(r,n),s=e=>r.equals(e)?t:e;function i(e){return lm(e)?e.update("expression",s).update("parentExpression",s):e}const c=o.map(i);return sg(a,...c.toArray())}}const mg=dg(e=>Object($o.f)({type:$o.d.FUNCTION_CALL,name:e.type,arguments:[e.argument],location:e.location})),gg=dg(e=>Object($o.f)({type:$o.d.FUNCTION_CALL,name:e.type,arguments:[e.left,e.right],location:e.location})),bg=(e,t)=>{if(!e)return sg(Fu.b.UNDEFINED);switch(e.type){case $o.d.NULL_LITERAL:case $o.d.NUMERIC_LITERAL:case $o.d.STRING_LITERAL:case $o.d.BOOLEAN_LITERAL:return sg(Fu.b.CONSTANT);case $o.d.IDENTIFIER:return ig(e,t);case $o.d.FIELD:return cg(e,t);case $o.d.PROPERTY:return lg(e,t);case $o.d.FUNCTION_CALL:return ug(e,t);case $o.d.AGGREGATION_CONTEXT:return pg(e,t);case $o.d.NOT:case $o.d.POSITIVE:case $o.d.NEGATIVE:return mg(e,t);case $o.d.AND:case $o.d.OR:case $o.d.ADD:case $o.d.SUBTRACT:case $o.d.MULTIPLY:case $o.d.DIVIDE:case $o.d.MODULUS:case $o.d.GREATER:case $o.d.GREATER_OR_EQUAL:case $o.d.LESS:case $o.d.LESS_OR_EQUAL:case $o.d.EQUAL:case $o.d.NOT_EQUAL:return gg(e,t);default:throw new Error("Unhandled expression context")}},Og=(e,t)=>{const{type:n,violations:r}=hm(e,t),{context:a,violations:o}=bg(e,t);if(!r.concat(o).isEmpty())throw new Error("Cannot create expression field! Violations found.");return{type:n,context:a}},fg=e=>e.canBeResolvedWithLabelExpression,Eg=e=>!(e.options&&!e.options.isEmpty())&&fg(e),yg=(e,t)=>{const n=t&&Wm(t,e);return!!n&&Eg(n)},Tg="label_",Ig=e=>`${Tg}${e}`,hg=(e,t,n)=>{const{sort:{order:r,priority:a=0}={}}=e,o=Object(vn.a)({priority:a,type:vn.d.VALUE,order:r||vn.c.ASCENDING});return og(t,Ba.COLUMNS,Fa.TABLE,n).set("sort",o).set("alias",Ig(e.alias))},jg=(e,t,n)=>{const r=e.expressions.map(zm).reduce((e,t)=>t&&t.name?e.set(t.name,t):e,Object(b.Map)()),a=rp({fields:r,properties:t.datasetProperties||t.properties}),{field:{source:o,table:s,name:i}}=n,c=o===Cn.l.TABLE?s:"",l=Jo(`LABEL([${c}.${i}])`);try{const{type:e,context:t}=Og(l,a);return Object(Cn.j)({alias:Ig(n.alias),label:"",derived:!0,hidden:!0,valid:!0,input:"",expression:l,type:e,context:t,formatHint:Gi.f.AUTO})}catch(e){console.error(e);return}},Ag=(e,t)=>e.columns.filter(e=>{const{sort:{type:n}={}}=e;return!(n!==vn.d.LABEL)&&yg(e.field,t)}).map(n=>{const r=jg(e,t,n);if(r)return[r,hg(n,r,e.expressions)]}).filter(e=>!!e).toList().reduce((e,t)=>{const[n,r]=t;return e.update("expressions",e=>e.push(n)).update("columns",e=>e.set(r.alias,r))},e),Sg=(e,t,n)=>{const{visual:{type:r=Fa.TABLE}}=e;if(!t)return{valid:Object(b.List)(),preferred:void 0};const a=r===Fa.TABLE,o=r===Fa.PIVOT_TABLE,s=!a&&!o,i=Bi(t,n),c=i&&i.type,l=i&&Us(i),u=c===Cn.m.ENUMERATION,p=t.role===Cn.p.MEASURE,d=Object(vn.a)({priority:0,type:vn.d.VALUE,order:vn.c.ASCENDING});if(p)return a?{valid:b.List.of(d,Po(d)),preferred:d}:{valid:Object(b.List)(),preferred:void 0};if(l&&s)return{valid:b.List.of(d,Po(d)),preferred:d};const{table:m,name:g}=i,O=n?n.properties.getIn([m,g]):null,f=O&&O.options&&!O.options.isEmpty(),E=u&&f,y=E?Object(vn.a)({priority:0,type:vn.d.DISPLAY_ORDER,order:vn.c.ASCENDING}):void 0,T=yg(i,n),I=T||E?Object(vn.a)({priority:0,type:vn.d.LABEL,order:vn.c.ASCENDING}):void 0,h=Object(b.List)([d,Po(d),...y?[y,Po(y)]:[],...I?[I,Po(I)]:[]]),j=Hc(e).columns,A=e=>Object(vn.a)({priority:0,type:vn.d.VALUE,order:vn.c.ASCENDING,by:e}),S=zs(j).map(e=>e.alias).map(A).flatMap(e=>[e,Po(e)]);return{valid:h.concat(S),preferred:E?y:T?I:d}},_g=(e,t)=>e.update("columns",n=>n.map(n=>{const{valid:r,preferred:a}=Sg(e,n,t),o=n.sort&&n.sort.set("priority",0).set("nested",void 0);return o&&r.contains(o)?n:n.set("sort",a)})),Ng=e=>{const{visual:{type:t=Fa.TABLE}={}}=e,n=t===Fa.PIVOT_TABLE||void 0,r=e=>e.set("nested",n);return e.update("columns",e=>e.map(e=>e.sort?e.update("sort",r):e))},Rg=(e,t)=>{const{visual:{type:n,encodings:r}={}}=e;if(!(t.sort&&t.sort.nested)||n!==Fa.PIVOT_TABLE)return b.List.of(t.alias);const a=e=>e.some(({column:e})=>e===t.alias),{rows:o,columns:s}=r,i=a(o),c=a(s);if(!i&&!c)return b.List.of(t.alias);return(i?o:s).map(({column:e})=>e).takeUntil(e=>e===t.alias).push(t.alias)},Cg=(e,t)=>{const n=t.sort;if(!n||!n.by)return;const r=n.by,a=e.columns.get(r),o=Rg(e,t);return xo(t,a,o)},vg=e=>{const t=e.columns,n=t.map(t=>Cg(e,t)).filter(e=>e).toMap().mapKeys((e,t)=>t.alias),r=t.merge(n);return e.set("columns",r)},Lg=(e,t)=>{if(!e)return;const n=e.alias,r=e.sort;if(r){if(r.by){const e=ko(n);return Object(vn.b)({column:e,order:r.order})}if(r.type===vn.d.VALUE)return Object(vn.b)({column:n,order:r.order});if(r.type===vn.d.LABEL){if(!yg(e.field,t))return;const a=Ig(n);return Object(vn.b)({column:a,order:r.order})}}},Dg={[Fa.VERTICAL_BAR]:({x:e,color:t},n)=>{const r=Lg(e,n)||Lg(t,n);return b.List.of(r)},[Fa.HORIZONTAL_BAR]:({y:e,color:t},n)=>{const r=Lg(e,n)||Lg(t,n);return b.List.of(r)},[Fa.LINE]:({x:e,color:t},n)=>{const r=Lg(e,n)||Lg(t,n);return b.List.of(r)},[Fa.AREA]:({x:e,color:t},n)=>{const r=Lg(e,n)||Lg(t,n);return b.List.of(r)},[Fa.COMBO]:({x:e,color:t},n)=>{const r=Lg(e,n)||Lg(t,n);return b.List.of(r)},[Fa.PIVOT_TABLE]:({rows:e,columns:t},n)=>{const r=e&&e.first()||t&&t.first();return b.List.of(Lg(r,n))}},Mg=(e,t)=>{const{columns:n,visual:{type:r=Fa.TABLE,encodings:a}={}}=e;if(!a)return e;if(r===Fa.TABLE)return e;const o=Dg[r],s=a.toMap().map((e,t)=>e&&(Zi(Ji(t))?e.map(e=>n.get(e.column)):n.get(e.column))).toObject(),i=(o?o(s,t):Object(b.List)()).filter(e=>e);return e.set("sorts",i)},Pg=e=>{const{visual:{type:t}={},sorts:n}=e;if(!(t===Fa.TABLE))return e;const r=n&&n.first();if(!r)return e;const{column:a,order:o,sortType:s}=r,i=Object(vn.a)({priority:0,type:s,order:o});return e.updateIn(["columns",a],e=>e.set("sort",i))},Ug=(e,t)=>{const n=Pg(e),r=Ag(n,t),a=vg(r);return Mg(a,t)},kg=(e,t)=>{const{visual:{type:n=Fa.TABLE}={}}=e;if(n===Fa.TABLE)return e;return Ng(_g((e=>e.set("sorts",Object(b.List)()))(e),t))},xg=(e,t)=>{const n=(Dc(e)||Object(b.List)()).map(n=>{const r=e.columns.get(n.column.alias),{field:{table:a,name:o}}=r;if(r.role===Cn.p.MEASURE)return b.List.of(Object(vn.b)({column:n.column.alias,order:vn.c.ASCENDING,sortType:vn.d.VALUE}));const s=r.field.type===Cn.m.ENUMERATION,i=t?t.properties.getIn([a,o]):null,c=i&&i.options&&!i.options.isEmpty(),l=s&&(void 0===t||c),u=s&&c||yg(r.field,t),p=[Object(vn.b)({column:n.column.alias,order:vn.c.ASCENDING,sortType:vn.d.VALUE})];if(u){const e=Object(vn.b)({column:n.column.alias,order:vn.c.ASCENDING,sortType:vn.d.LABEL});t?p.unshift(e):p.push(e)}if(l){const e=Object(vn.b)({column:n.column.alias,order:vn.c.ASCENDING,sortType:vn.d.DISPLAY_ORDER});t?p.unshift(e):p.push(e)}return Object(b.List)(p)}).flatten(1).flatMap(e=>Object(b.List)([e,Po(e)]));return{valid:n,preferred:n.first()}},wg=(e,t)=>{const{visual:{type:n}={}}=e;if(n!==Fa.TABLE)return e;const{valid:r,preferred:a}=xg(e,t),{sorts:o=Object(b.List)()}=e,s=o.first();return s&&r.contains(s)?e:e.set("sorts",a?b.List.of(a):Object(b.List)())},Fg=(e,t)=>{const{visual:{type:n=Fa.TABLE}={}}=e;return n===Fa.TABLE?wg(e,t):kg(e,t)},Yg="SnowflakeInlineTableSort",Bg=(e,t,n)=>{const r=new yn.a;r.addReportAttributes(e);r.addAttribute("sortColumn",t);r.addAttribute("sortOrder",n);r.sendPageAction(Yg)},Gg=(e,t,n,r)=>{if(t.visual.type===Fa.TABLE){const a=n&&n.get(0),o=t.columns.get(e);if(!o)throw new Error(`Unexpected nil column, alias = \`${e}\`!`);if(a&&a.column===e){const e=a.get("order")!==vn.c.ASCENDING?vn.c.ASCENDING:vn.c.DESCENDING;Bg(t,o,e);return Object(b.List)([a.update("order",()=>e)])}{const{valid:n}=xg(t,r),a=n.find(t=>t.column===e);Bg(t,o,a.get("order"));return Object(b.List)([a])}}return Object(b.List)()},Vg=(e,t)=>{const{order:n,type:r}=e,a=e=>e.sort((e,t)=>{const n=(e.get("label")||"").toLocaleLowerCase(),r=(t.get("label")||"").toLocaleLowerCase();return n.localeCompare(r)}).map(e=>e.get("value")),o=t.options,s=(()=>{switch(r){case vn.d.DISPLAY_ORDER:return o.map(e=>e.get("value"));case vn.d.LABEL:return a(o);case vn.d.VALUE:default:console.error("`getDefinedOrderFromProperty` should not be called when sort.type is",r);return}})();return n===vn.c.DESCENDING&&s?s.reverse():s},Hg=(e,t)=>{const{sort:n,alias:r}=e;if(!n)return Mo;const{properties:a}=t,o=a&&a.get(r)&&Object(Co.g)(a.get(r)),s=Do[n.order];if(o&&Eg(o)&&n.type===vn.d.LABEL)return Object(Rn.d)({defined:void 0,direction:s,field:Ig(r),aggregation:Rn.a.attribute});if(n.by)return Object(Rn.d)({defined:void 0,direction:s,field:ko(r),aggregation:Rn.a.attribute});if(n.type===vn.d.LABEL||n.type===vn.d.DISPLAY_ORDER){if(o&&o.options){const e=Vg(n,o);return Object(Rn.d)({defined:e,direction:s,field:void 0,aggregation:void 0})}console.warn('property.options is nil. Expected non-nil. A sort by label/display order requires property.options (for properties not sorted by the backend)! Falling back to "sorting by value".')}return Object(Rn.d)({defined:void 0,direction:s,field:void 0,aggregation:void 0})},Wg=[Cn.m.NUMBER,Cn.m.DATETIME,Cn.m.DATE,Cn.m.CURRENCY_NUMBER],Kg=[Cn.m.BOOL,Cn.m.ENUMERATION,Cn.m.STRING],qg=[Fa.LINE,Fa.AREA,Fa.VERTICAL_BAR],Qg=[Fa.HORIZONTAL_BAR],$g=[Fa.PIE,Fa.DONUT],Jg=e=>{let t=[];t.push(Fa.TABLE,Fa.PIVOT_TABLE);const n=e.filter(e=>void 0!==e&&e.role===Cn.p.MEASURE),r=e.filter(e=>void 0!==e&&e.role===Cn.p.DIMENSION);n.size>=1&&(void 0===r||0===r.size)&&t.push(Fa.TEXT);1===n.size&&r.size<=1&&(t=t.concat($g));if(n.size+r.size===1){t=t.concat(qg);t=t.concat(Qg);return t}n.size+r.size>1&&t.push(Fa.SCATTER);if(n.size>=1&&r.size<=2){t=t.concat(qg);t=t.concat(Qg)}2===n.size&&r.size>=1&&t.push(Fa.COMBO);return t},zg=(e,t)=>{const n=Jg(t);return n.includes(e)?e:n[0]},Xg=(e,t)=>!!(e&&!t||!e&&t),Zg="HARD",eb="ILL_FORMED",tb={HARD:Zg,SOFT:"SOFT",COMBINED:"COMBINED"},nb={ILL_FORMED:eb,INCOMPLETE:"INCOMPLETE",UNSUPPORTED:"UNSUPPORTED"},rb=Ln.l(tb,"ConstraintType"),ab=Ln.l(nb,"InvalidSpecificationType");var ob=Ln.i({name:Ln.k(),type:rb,producing:ab.optional(),cost:Ln.g().optional(),children:Ln.d(ob).optional(),validate:Ln.c(),listAll:Ln.c(),listSatisfied:Ln.c(),listViolated:Ln.c()},"Constraint");const sb=(e,...t)=>Array.isArray(e)?e.map(e=>e(...t)):[e(...t)],ib=(e,t,n,r=(()=>!0),a,o=0)=>{const s=(...e)=>{try{const t=a?sb(a,...e):e;return r(...t)}catch(e){console.error(e);return!1}},i=t===tb.HARD?1/0:o,c=Object(b.Map)({name:e,type:t,producing:n,cost:i}),l=Object(b.List)([c]);return ob({name:e,type:t,producing:n,cost:i,validate:s,listAll:()=>l,listSatisfied:(...e)=>s(...e)?l:Object(b.List)(),listViolated:(...e)=>s(...e)?Object(b.List)():l})},cb=(e,t=[],n=((e,...t)=>e.validate(...t)),r)=>{const a=Object(b.List)(t),o=t=>t.update("name",t=>e?`${e}.${t}`:t),s=(e,...t)=>{try{return n(e,...t)}catch(e){console.error(e);return!1}},i=(...e)=>{const t=r?sb(r,...e):e;return Object(b.List)(a).every(e=>s(e,...t))};return ob({name:e,type:tb.COMBINED,validate:i,children:a,listAll:()=>a.flatMap(e=>e.listAll()).map(o),listSatisfied:(...e)=>a.filter(t=>s(t,...e)).flatMap(t=>t.listSatisfied(...e)).map(o),listViolated:(...e)=>a.filter(t=>!s(t,...e)).flatMap(t=>t.listViolated(...e)).map(o)})},lb=e=>t=>void 0===t||ws(Vi(t))===e,ub=e=>t=>void 0===t||t.every(lb(e)),pb=e=>t=>void 0===t||Ys(Vi(t)).type===e,db=e=>lb(Cn.p.MEASURE)(e)||pb(Cn.m.DATETIME)(e)||pb(Cn.m.DATE)(e),mb=ib("x-multi-channel-length",tb.HARD,nb.UNSUPPORTED,(e=Object(b.List)())=>e.size<=10,Fc),gb=ib("y-multi-channel-length",tb.HARD,nb.UNSUPPORTED,(e=Object(b.List)())=>e.size<=10,Yc),bb=ib("single-y-axis-encoding",tb.HARD,nb.UNSUPPORTED,(e,t)=>!e||(!t||0===t.length),[Bc,Yc]),Ob=ib("single-x-axis-encoding",tb.HARD,nb.UNSUPPORTED,(e,t)=>!e||(!t||0===t.length),[wc,Fc]),fb=ib("breakdown-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.DIMENSION),e=>Mc(e)),Eb=ib("color-channel",tb.HARD,nb.UNSUPPORTED,lb(Cn.p.DIMENSION),e=>Cc(e)),yb=ib("sizing-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.MEASURE),e=>vc(e)),Tb=ib("columns-channel",tb.HARD,nb.UNSUPPORTED,ub(Cn.p.DIMENSION),e=>Dc(e)),Ib=ib("columns-channel-length",tb.HARD,nb.UNSUPPORTED,e=>e.size<=4,e=>Dc(e)),hb=ib("columns-channel-length",tb.HARD,nb.UNSUPPORTED,e=>e.size<=6,e=>Dc(e)),jb=ib("group-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.DIMENSION),e=>Pc(e)),Ab=ib("detail-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.DIMENSION),e=>Pc(e)),Sb=ib("rows-channel",tb.HARD,nb.UNSUPPORTED,ub(Cn.p.DIMENSION),e=>Uc(e)),_b=ib("rows-channel-length",tb.HARD,nb.UNSUPPORTED,e=>e.size<=4,e=>Uc(e)),Nb=ib("rows-channel-length",tb.HARD,nb.UNSUPPORTED,e=>e.size<=6,e=>Uc(e)),Rb=ib("values-channel",tb.HARD,nb.ILL_FORMED,ub(Cn.p.MEASURE),e=>kc(e)),Cb=ib("single-value-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.MEASURE),e=>xc(e)),vb=ib("x-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.DIMENSION),e=>wc(e)),Lb=ib("x-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.MEASURE),e=>wc(e)),Db=ib("x-multi-channel",tb.HARD,nb.ILL_FORMED,ub(Cn.p.MEASURE),Fc),Mb=ib("many-measures-xor-category",tb.HARD,nb.UNSUPPORTED,(e,t=Object(b.List)())=>Xg(void 0!==e&&t.size<=1,void 0===e&&t.size>=0),[Cc,Fc]),Pb=ib("many-measures-xor-category",tb.HARD,nb.UNSUPPORTED,(e,t=Object(b.List)())=>Xg(void 0!==e&&t.size<=1,void 0===e&&t.size>=0),[Cc,Yc]),Ub=ib("x-channel",tb.HARD,nb.ILL_FORMED,db,e=>wc(e)),kb=ib("y-multi-channel",tb.HARD,nb.ILL_FORMED,ub(Cn.p.MEASURE),Yc),xb=ib("y-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.DIMENSION),e=>Bc(e)),wb=ib("y-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.MEASURE),e=>Bc(e)),Fb=ib("y-channel",tb.HARD,nb.ILL_FORMED,db,e=>Bc(e)),Yb=ib("y1-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.MEASURE),e=>Gc(e)),Bb=ib("y2-channel",tb.HARD,nb.ILL_FORMED,lb(Cn.p.MEASURE),e=>Vc(e)),Gb=e=>ib(e+"-channel",tb.HARD,nb.ILL_FORMED,(e,t)=>void 0===e||void 0===t||!ub(Cn.p.DIMENSION)([e,t]),[e=>wc(e),e=>Bc(e)]),Vb=e=>ib(`aggregations.${e}-channel`,tb.HARD,nb.ILL_FORMED,t=>{if(t.visual.type===Fa.TABLE)return!0;const n=Xs(t.columns,t.visual.encodings[e]?t.visual.encodings[e].column:null);if(n){const e=n.field,t=Us(e);return!t||!n.aggregation||t&&Cn.b.DISTINCT_COUNT===n.aggregation}return!0},e=>e),Hb=[Vb("x"),Vb("x_multi"),Vb("values"),Vb("y"),Vb("y_multi"),Vb("y1"),Vb("y2")],Wb=cb(Fa.VERTICAL_BAR,[vb,wb,kb,gb,Pb,Eb,bb],(e,t)=>Fl(t)!==Fa.VERTICAL_BAR||e.validate(t)),Kb=cb(Fa.HORIZONTAL_BAR,[Lb,Db,mb,Mb,xb,Eb,Ob],(e,t)=>Fl(t)!==Fa.HORIZONTAL_BAR||e.validate(t)),qb=cb(Fa.LINE,[vb,wb,kb,gb,Pb,Eb,bb],(e,t)=>Fl(t)!==Fa.LINE||e.validate(t)),Qb=cb(Fa.AREA,[vb,wb,kb,Pb,Eb,bb],(e,t)=>Fl(t)!==Fa.AREA||e.validate(t)),$b=cb(Fa.SCATTER,[Ub,Fb,Gb("x"),Gb("y"),Eb,yb,Ab],(e,t)=>Fl(t)!==Fa.SCATTER||e.validate(t)),Jb=cb(Fa.COMBO,[vb,Yb,Bb,fb],(e,t)=>Fl(t)!==Fa.COMBO||e.validate(t)),zb=cb(Fa.PIVOT_TABLE,[Sb,Tb,_b,Ib,Rb],(e,t)=>Fl(t)!==Fa.PIVOT_TABLE||e.validate(t)),Xb=cb(Fa.PIVOT_TABLE,[Sb,Tb,Nb,hb,Rb],(e,t)=>Fl(t)!==Fa.PIVOT_TABLE||e.validate(t)),Zb=(e,t)=>Xg(void 0===e,void 0!==e&&t.size<=1),eO=ib("many-values-xor-category",tb.HARD,nb.ILL_FORMED,e=>Zb(Pc(e),kc(e))),tO=ib("many-values-xor-category",tb.HARD,nb.ILL_FORMED,e=>Zb(Cc(e),kc(e))),nO=cb(Fa.PIE,[Eb,tO,Rb],(e,t)=>Fl(t)!==Fa.PIE||e.validate(t)),rO=cb(Fa.DONUT,[Eb,tO,Rb],(e,t)=>Fl(t)!==Fa.DONUT||e.validate(t)),aO=cb(Fa.TEXT,[jb,eO,Rb],(e,t)=>Fl(t)!==Fa.TEXT||e.validate(t)),oO=cb("channels",[Wb,Kb,qb,Qb,$b,Jb,zb,...Hb,nO,rO,aO],(e,t)=>e.validate(t)),sO=cb("channels",[Wb,Kb,qb,Qb,$b,Jb,Xb,...Hb,nO,rO,aO],(e,t)=>e.validate(t)),iO=5,cO=1,lO=b.List.of(zc.i,zc.b,zc.c,zc.a,zc.r),uO=e=>Object(Go.j)(e).filterNot(e=>!(!Object(Go.l)(e)&&e.type!==Co.b.HUBSPOT_OBJECT||!e.objectTypeId)&&lO.includes(e.objectTypeId)).size,pO=e=>uO(e)<=iO,dO=e=>Object(Go.g)(e).size<=cO,mO=ib("supportedAggregationsForFieldTypes",Zg,eb,e=>e.every(e=>si(e).includes(Ys(e).type)),e=>zs(e.columns)),gO=(e,t)=>n=>Object.values(e).includes(t?n.get(t):n),bO=(e,t)=>n=>n.every(gO(e,t)),OO=e=>t=>e(t.columns),fO=e=>t=>e(t.table),EO=cb("enums",[ib("aggregationTypesAreValid",Zg,eb,bO(Cn.b),OO($s)),ib("sourceTypesAreValid",Zg,eb,bO(Co.b,"type"),fO(Go.j)),ib("domainsAreValid",Zg,eb,bO(Cn.g),OO(Ks)),ib("fieldTypesAreValid",Zg,eb,bO(Cn.m,"type"),OO(qs)),ib("rolesAreValid",Zg,eb,bO(Cn.p),OO(Ws)),ib("visualTypeIsValid",Zg,eb,gO(Fa),e=>e.visual.type),ib("sortOrdersAreValid",Zg,eb,bO(vn.c,"order"),e=>e.sorts),ib("transformTypesAreValid",Zg,eb,bO(Cn.r,"type"),OO(Qs))]),yO=ib("twoOrFewerValueChannels",tb.HARD,nb.UNSUPPORTED,e=>void 0===e||e.size<=2,e=>kc(e)),TO=ib("completionCriteria",tb.HARD,nb.INCOMPLETE,(e,t,n,r)=>e||n||t&&t.length>0||r&&r.length>0,[wc,Fc,Bc,Yc]),IO=ib("manyValuesXORColor",tb.HARD,nb.UNSUPPORTED,(e,t)=>Xg(void 0!==e&&t.size<=1,void 0===e&&t.size>=0),[e=>Cc(e),e=>kc(e)]),hO=ib("completionCriteria",tb.HARD,nb.INCOMPLETE,e=>e.size>0,e=>kc(e)),jO=(e,t)=>{if(e.isEmpty())return!0;if(void 0===t)return!0;const n=Object(vn.b)({column:t,order:vn.c.ASCENDING});return e.includes(n)},AO=e=>{const t=e=>e.role===Cn.p.DIMENSION,n=e=>Us(e.field),r=e=>{const t=e.transform;return t&&[Cn.r.DATE_TRUNC,Cn.r.DATE_PART].includes(t.type)},a=e=>!t(e)||!n(e)||r(e);return e.reduce((e,t)=>e&&a(t),!0)},SO=e=>{const t=wc(e);return t&&Hi(t)},_O=cb("area",[yO,TO,ib("sortIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t,n)=>!e||jO(t,n),[e=>e.visual.options.accumulate,e=>e.sorts,SO]),ib("xAxisIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t)=>{if(!e)return!0;const n=t&&t.column;return void 0===n||Us(n.field)},[e=>e.visual.options.accumulate,e=>wc(e)]),ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns])],(e,t)=>Fl(t)!==Fa.AREA||e.validate(t)),NO=cb("donut",[IO,hO,ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns])],(e,t)=>Fl(t)!==Fa.DONUT||e.validate(t)),RO=e=>{const t=Bc(e);return t&&Hi(t)},CO=ib("yAxisIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t)=>{if(!e)return!0;const n=t&&t.column;return void 0===n||Us(n.field)},[e=>e.visual.options.accumulate,e=>Bc(e)]),vO=ib("sortIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t,n)=>!e||jO(t,n),[e=>e.visual.options.accumulate,e=>e.sorts,RO]),LO=cb("horizontalBar",[yO,TO,ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns]),CO,vO],(e,t)=>Fl(t)!==Fa.HORIZONTAL_BAR||e.validate(t)),DO=e=>{const t=wc(e);return t&&Hi(t)},MO=cb("line",[yO,TO,ib("sortIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t,n)=>!e||jO(t,n),[e=>e.visual.options.accumulate,e=>e.sorts,DO]),ib("xAxisIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t)=>{if(!e)return!0;const n=t&&t.column;return void 0===n||Us(n.field)},[e=>e.visual.options.accumulate,e=>wc(e)]),ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns])],(e,t)=>Fl(t)!==Fa.LINE||e.validate(t)),PO=cb("pie",[Eb,Rb,IO,hO,ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns])],(e,t)=>Fl(t)!==Fa.PIE||e.validate(t)),UO=ib("completionCriteria",tb.HARD,nb.INCOMPLETE,(e,t,n)=>e.size>0||t.size>0||n.size>0,[e=>Dc(e),e=>Uc(e),e=>kc(e)]),kO=ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns]),xO=cb("pivotTable",[UO,Sb,_b,Tb,Ib,kO],(e,t,n)=>Fl(t)!==Fa.PIVOT_TABLE||e.validate(t,n)),wO=cb("pivotTable",[UO,Sb,Nb,Tb,hb,kO],(e,t,n)=>Fl(t)!==Fa.PIVOT_TABLE||e.validate(t,n)),FO=cb("scatter",[TO],(e,t)=>Fl(t)!==Fa.SCATTER||e.validate(t)),YO=cb("table",[ib("completionCriteria",tb.HARD,nb.INCOMPLETE,e=>e.size>0,e=>Dc(e)),ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,e=>AO(e),[e=>e.columns])],(e,t)=>Fl(t)!==Fa.TABLE||e.validate(t)),BO=cb("text",[jb,Rb,ib("manyValuesXORGroup",tb.HARD,nb.ILL_FORMED,(e,t)=>Xg(void 0!==e&&1===t.size,void 0===e&&t.size>=1),[Pc,kc]),ib("completionCriteria",tb.HARD,nb.INCOMPLETE,e=>e.size>0,kc),ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns])],(e,t)=>Fl(t)!==Fa.TEXT||e.validate(t)),GO=e=>{const t=wc(e);return t&&Hi(t)},VO=cb("verticalBar",[yO,TO,ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns]),ib("xAxisIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t)=>{if(!e)return!0;const n=t&&t.column;return void 0===n||Us(n.field)},[e=>e.visual.options.accumulate,e=>wc(e)]),ib("sortIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t,n)=>!e||jO(t,n),[e=>e.visual.options.accumulate,e=>e.sorts,GO])],(e,t)=>Fl(t)!==Fa.VERTICAL_BAR||e.validate(t)),HO=e=>{const t=wc(e);return t&&Hi(t)},WO=ib("sortIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t,n,r)=>!e&&!t||jO(n,r),[e=>e.visual.options.y1Accumulate,e=>e.visual.options.y2Accumulate,e=>e.sorts,HO]),KO=ib("xAxisIsAccumulateFriendly",tb.HARD,nb.UNSUPPORTED,(e,t,n)=>{if(!e&&!t)return!0;const r=n&&n.column;return void 0===r||Us(r.field)},[e=>e.visual.options.y1Accumulate,e=>e.visual.options.y2Accumulate,e=>wc(e)]),qO=ib("completeYLayer",tb.HARD,nb.INCOMPLETE,(e,t,n)=>!(t&&n&&!e),[Gc,Vc,Mc]),QO=cb("combo",[ib("completionCriteria",tb.HARD,nb.INCOMPLETE,(e,t,n)=>e||t||n,[wc,Gc,Vc]),qO,WO,KO,ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns])],(e,t)=>Fl(t)!==Fa.COMBO||e.validate(t)),$O=cb("gauge",[Cb,ib("completionCriteria",tb.HARD,nb.INCOMPLETE,e=>e,xc),ib("dateDimensionsHaveTransformation",tb.HARD,nb.UNSUPPORTED,AO,[e=>e.columns])],(e,t)=>Fl(t)!==Fa.GAUGE||e.validate(t));var JO=n("P1Hv");const zO="ASSOCIATION",XO=JO.BOOLEAN,ZO="COUNT",ef="CTA",tf=JO.DATE,nf=JO.DATE_TIME,rf="DEFAULT",af="EMAIL_LINK",of="EMAIL_SUBSCRIPTION",sf=JO.ENUMERATION,cf="NONE",lf=JO.NUMBER,uf="percent",pf="PROPERTY",df="ROLLING_DATE",mf="ROLLING_INEQUALITY",gf="ROLLING_PROPERTY_UPDATED",bf="ROLLING_WITH_UNIT",Of=JO.STRING,ff="REGEX_STRING",Ef="MOMENT_DATE",yf="ASSOCIATION",Tf="CTA",If="DEFAULT",hf="EMAIL_LINK",jf="EMAIL_SUBSCRIPTION",Af="RANGE",Sf="PROPERTY",_f="ROLLING_DATE",Nf="ROLLING_INEQUALITY",Rf="ROLLING_PROPERTY_UPDATED",Cf="ROLLING_WITH_UNIT",vf="NONE",Lf="URL",Df=Object(b.Record)({defaultComparisonValue:null,defaultValue:null,includeObjectsWithNoValueSet:void 0},"DefaultNullValueRecord");Df.isDefined=e=>null!==e.defaultValue||null!==e.defaultComparisonValue;Df.isDefaultNullValueRecord=e=>e instanceof Df;var Mf=Df,Pf=n("DFoL"),Uf=n("Gc2C"),kf=n("oBtT"),xf=n.n(kf);const wf="__OPERATOR_FLAG__";function Ff(e){return"function"==typeof e&&!0===e[wf]}function Yf(e){return Ff(e.constructor)}function Bf(e){return void 0!==e}function Gf(e,t){Object(Uf.a)("string"==typeof e.name&&e.name.length>0,"expected `value[%s].name` to be a non-empty string but got `%s`",t,e.name);Object(Uf.a)(void 0===e.isValid||"function"==typeof e.isValid,"expected `value[%s].isValid` to be a function but got `%s`",t,e.isValid)}function Vf({displayType:e=rf,getLabel:t,getOperatorDisplay:n,inputType:o=If,isRefinable:s=!1,isRefinableExtra:i=!1,name:c,values:l=[]}){Object(Uf.a)("string"==typeof c&&c.length>1,"expected `name` to be a non-empty string but got `%s`",c);l.forEach(Gf);const u={defaultNullValue:Mf(),field:void 0,errors:[],name:c};(s||i)&&(u.refinement=void 0);const p=l.reduce((e,t)=>{e[t.name]=t.defaultValue;return e},u),d={field:Bf,refinement:e=>void 0===e||Yf(e)},m=l.reduce((e,t)=>{e[t.name]=t.isValid||Bf;return e},d),g=Object(b.Record)(p,c);g[wf]=!0;g._name=c;g.toString=()=>c;if(Object.values(r).includes(e))g.displayType=e;else{const t="Attempted to create an operator with invalid display type: "+e;Pf.a.warn({message:t})}if(Object.values(a).includes(o))g.inputType=o;else{const e="Attempted to create an operator with invalid display type: "+o;Pf.a.warn({message:e})}g.getLabel=t;g.getOperatorDisplay=n;g.of=(e,...t)=>g().withMutations(n=>{n.set("field",e);l.forEach((r,a)=>{const o=t[a];m[r.name](o,e)&&n.set(r.name,o)});return n});g.ofUnsafe=(e,...t)=>g().withMutations(n=>{n.set("field",e);l.forEach((e,r)=>n.set(e.name,t[r]));return n});function O(e,t,n){return!m[e]||m[e](t,n)}function f(e){return b.Iterable.isIterable(e)?0===e.toSeq().size:null==e||""===e}g.isRefinable=s;g.isRefinableExtra=i;g.isIterableField=e=>{const t=p[e];return b.Iterable.isIterable(t)&&!xf()(t)};g.isInexclusive=e=>b.Iterable.isIterable(p[e])&&p.isInexclusive;g.isValidField=O;g.isValid=e=>e instanceof g&&(!!e.field&&l.every(({name:t})=>O(t,e.get(t),e.field)));g.isValueEmpty=e=>{if(e instanceof g)return l.some(({name:t})=>f(e.get(t)))};return g}var Hf=n("w+Se"),Wf=n.n(Hf),Kf=Vf({displayType:pf,inputType:Sf,name:"After",values:[{name:"value",isValid:Wf.a}]}),qf=Vf({inputType:vf,name:"Any"}),Qf=Vf({name:"AssociatedTo",displayType:zO,inputType:yf,values:[{name:"propertySuffix",isValid:Wf.a},{name:"value",isValid:Wf.a}]}),$f=Vf({displayType:pf,inputType:Sf,name:"Before",values:[{name:"value",isValid:Wf.a}]}),Jf=Vf({displayType:cf,inputType:vf,name:"BeforeNow"}),zf=Vf({name:"Contain",values:[{name:"value",isValid:Wf.a}]}),Xf=Vf({name:"ContainAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),Zf=Vf({name:"ContainAllTeams",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),eE=Vf({name:"ContainAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]});const tE="ADS",nE="CONTACT",rE="0-1",aE="CTA",oE="CTA_TO_PLACEMENT",sE="EMAIL_CAMPAIGN",iE="EMAIL_SUBSCRIPTION",cE="EVENT",lE="FORM",uE="GOTO_WEBINAR_WEBINAR",pE="INTEGRATION",dE="PAGE_VIEW",mE="SURVEY_MONKEY_SURVEY",gE="SURVEY_MONKEY_QUESTION",bE="WORKFLOW",OE="IN_LIST",fE="IMPORT",EE="PRIVACY_CONSENT",yE="UNIFIED_EVENT",TE="__ANY_CTA",IE="__ANY_FORM",hE="__ANY_LINK",jE="__ANY_PAGE",AE="__ANY_WEBINAR",SE="__PRIVACY_CONSENT",_E="PrivacyConsent",NE={AD_TYPE:"AD_TYPE",IDS:"IDS",ID:"ID",NAMES:"NAMES",NAME:"NAME",TIMESTAMP:"TIMESTAMP"},RE={AD:"AD",ADGROUP:"ADGROUP",CAMPAIGN:"CAMPAIGN",KEYWORD:"KEYWORD"},CE="INTERACTION";var vE=Vf({displayType:ef,inputType:Tf,name:"CtaHasClicked",values:[{name:"value",isValid:Wf.a,defaultValue:TE}],isRefinable:!0,isRefinableExtra:!0}),LE=Vf({displayType:ef,inputType:Tf,name:"CtaHasNotClicked",values:[{name:"value",isValid:Wf.a,defaultValue:TE}],isRefinable:!0,isRefinableExtra:!0}),DE=Vf({displayType:ef,inputType:Tf,name:"CtaHasNotSeen",values:[{name:"value",isValid:Wf.a,defaultValue:TE}],isRefinable:!0,isRefinableExtra:!0}),ME=Vf({displayType:ef,inputType:Tf,name:"CtaHasSeen",values:[{name:"value",isValid:Wf.a,defaultValue:TE}],isRefinable:!0,isRefinableExtra:!0});const PE=/^\d{4}-\d{2}-\d{2}$/,UE=/^\d+(\.\d+)?$/;function kE(e){if(!e||"string"!=typeof e||0===e.length)return!1;try{RegExp(e)}catch(e){return!1}return!0}function xE(e,t){if(!t)return void 0!==e;switch(t.type){case JO.BOOLEAN:return"boolean"==typeof e;case JO.DATE:case JO.DATE_TIME:return PE.test(e);case JO.ENUMERATION:return null!=e;case JO.NUMBER:return"number"==typeof e&&!isNaN(e)||UE.test(e);case JO.STRING:return"string"==typeof e&&""!==e;default:return void 0!==e}}const wE=e=>h.a.moment.isMoment(e)&&e.isValid();var FE=Vf({inputType:vf,name:"DeprecatedFilter",values:[{name:"value",isValid:xE}]}),YE=Vf({displayType:cf,inputType:vf,name:"EmailBounced",isRefinable:!0}),BE=Vf({displayType:af,inputType:hf,name:"EmailLinkClicked",isRefinable:!0,values:[{name:"value",isValid:Wf.a}]}),GE=Vf({displayType:cf,inputType:vf,name:"EmailMarked",isRefinable:!0}),VE=Vf({displayType:cf,inputType:vf,name:"EmailOpened",isRefinable:!0}),HE=Vf({displayType:cf,inputType:vf,name:"EmailOpenedButLinkNotClicked",isRefinable:!0}),WE=Vf({displayType:cf,inputType:vf,name:"EmailReceived",isRefinable:!0}),KE=Vf({displayType:cf,inputType:vf,name:"EmailOpenedButNotReplied",isRefinable:!0}),qE=Vf({displayType:cf,inputType:vf,name:"EmailReceivedButNotOpened",isRefinable:!0}),QE=Vf({displayType:cf,inputType:vf,name:"EmailReplied",isRefinable:!0}),$E=Vf({displayType:cf,inputType:vf,name:"EmailSent",isRefinable:!0}),JE=Vf({displayType:cf,inputType:vf,name:"EmailSentButLinkNotClicked",isRefinable:!0}),zE=Vf({displayType:cf,inputType:vf,name:"EmailSentButNotReceived",isRefinable:!0}),XE=Vf({displayType:cf,inputType:vf,name:"EmailUnsubscribed",isRefinable:!0}),ZE=Vf({name:"EmailSubscriptionNotOpted",values:[{name:"value",defaultValue:Object(b.List)(),isValid:e=>b.List.isList(e)&&!e.isEmpty()},{name:"isInexclusive",defaultValue:!0}],displayType:of}),ey=Vf({name:"EmailSubscriptionOptIn",values:[{name:"value",defaultValue:Object(b.List)(),isValid:e=>b.List.isList(e)&&!e.isEmpty()},{name:"isInexclusive",defaultValue:!0}],displayType:of}),ty=Vf({name:"EmailSubscriptionOptOut",values:[{name:"value",defaultValue:Object(b.List)(),isValid:e=>b.List.isList(e)&&!e.isEmpty()},{name:"isInexclusive",defaultValue:!0}],displayType:of}),ny=Vf({name:"EndsWith",values:[{name:"value",isValid:Wf.a}]}),ry=Vf({name:"EndsWithAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]}),ay=Vf({name:"Equal",values:[{name:"value",isValid:xE}]}),oy=Vf({name:"EqualAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),sy=Vf({name:"EqualAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]}),iy=Vf({displayType:cf,inputType:vf,name:"EventCompleted",isRefinable:!0,isRefinableExtra:!0}),cy=Vf({displayType:cf,inputType:vf,name:"EventNotCompleted",isRefinable:!0,isRefinableExtra:!0}),ly=Vf({name:"EverContained",values:[{name:"value",isValid:Wf.a}]}),uy=Vf({name:"EverContainedAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),py=Vf({name:"EverContainedAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]});var dy=Vf({name:"EverEqual",values:[{name:"value",isValid:e=>null!=e}]}),my=Vf({name:"EverEqualAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]}),gy=Vf({name:"EverIn",values:[{name:"value",defaultValue:Object(b.List)(),isValid:e=>b.List.isList(e)&&!e.isEmpty()},{name:"isInexclusive",defaultValue:!0}]}),by=n("lw5f"),Oy=n.n(by),fy=Vf({isRefinable:!0,isRefinableExtra:!0,name:"FormFilledOut",values:[{defaultValue:jE,isValid:e=>Oy()(e)||Wf()(e),name:"value"},{defaultValue:!1,name:"isPageSelected"}]}),Ey=Vf({isRefinable:!0,isRefinableExtra:!0,name:"FormNotFilledOut",values:[{defaultValue:jE,name:"value",isValid:e=>Oy()(e)||Wf()(e)},{defaultValue:!1,name:"isPageSelected"}]}),yy=Vf({name:"Greater",values:[{name:"value",isValid:xE}]}),Ty=Vf({name:"GreaterOrEqual",values:[{name:"value",isValid:xE}]});const Iy=e=>"forward"===e||"backward"===e;var hy=Vf({displayType:mf,inputType:Nf,name:"GreaterRolling",values:[{name:"numberOfDays",isValid:Oy.a,defaultValue:1},{name:"direction",isValid:Iy,defaultValue:"backward"}]});const jy=e=>"forward"===e||"backward"===e,Ay=e=>"days"===e||"weeks"===e;var Sy=Vf({displayType:bf,inputType:Cf,name:"GreaterThanRolling",values:[{defaultValue:1,name:"value",isValid:Oy.a},{defaultValue:"backward",name:"direction",isValid:jy},{defaultValue:"days",name:"timeUnit",isValid:Ay}]}),_y=Vf({name:"In",values:[{name:"value",defaultValue:Object(b.List)(),isValid:e=>b.List.isList(e)&&!e.isEmpty()}]}),Ny=Vf({displayType:cf,inputType:vf,name:"InImport"}),Ry=Vf({inputType:Af,name:"InRange",values:[{name:"value",isValid:xE},{name:"highValue",isValid:xE}]});const Cy="TODAY",vy="YESTERDAY",Ly="TOMORROW",Dy="THIS_WEEK",My="THIS_WEEK_SO_FAR",Py="LAST_WEEK",Uy="NEXT_WEEK",ky="THIS_MONTH",xy="THIS_MONTH_SO_FAR",wy="LAST_MONTH",Fy="NEXT_MONTH",Yy="THIS_QUARTER",By="THIS_FISCAL_QUARTER",Gy="THIS_QUARTER_SO_FAR",Vy="THIS_FISCAL_QUARTER_SO_FAR",Hy="LAST_QUARTER",Wy="LAST_FISCAL_QUARTER",Ky="NEXT_QUARTER",qy="NEXT_FISCAL_QUARTER",Qy="THIS_YEAR",$y="THIS_FISCAL_YEAR",Jy="THIS_YEAR_SO_FAR",zy="THIS_FISCAL_YEAR_SO_FAR",Xy="LAST_YEAR",Zy="LAST_FISCAL_YEAR",eT="NEXT_YEAR",tT="NEXT_FISCAL_YEAR",nT="LAST_7_DAYS",rT="LAST_14_DAYS",aT="LAST_30_DAYS",oT="LAST_60_DAYS",sT="LAST_90_DAYS",iT="LAST_180_DAYS",cT="LAST_365_DAYS",lT="backward",uT="forward",pT="DAY",dT="WEEK",mT="MONTH",gT="QUARTER",bT="YEAR",OT=e=>e===uT||e===lT,fT=e=>[pT,mT,gT,dT,bT].includes(e),ET=e=>!0===e||!1===e,yT={direction:lT,includeFutureDates:!0,isInclusive:!0,timeUnit:pT,useFiscalYear:!1,value:1},TT=Object(b.Record)(yT,"RollingDateConfig"),IT=(e={})=>{const{direction:t,includeFutureDates:n,isInclusive:r,timeUnit:a,value:o}=e;return!!OT(t)&&(!!fT(a)&&(!!ET(r)&&(!!ET(n)&&!(!Oy()(o)||o<0))))},hT={[Cy]:TT({direction:lT,isInclusive:!0,timeUnit:pT,useFiscalYear:!1,value:1}),[vy]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:1}),[Ly]:TT({direction:uT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:1}),[Dy]:TT({direction:lT,isInclusive:!0,timeUnit:dT,useFiscalYear:!1,value:1}),[My]:TT({direction:lT,includeFutureDates:!1,isInclusive:!0,timeUnit:dT,useFiscalYear:!1,value:1}),[Py]:TT({direction:lT,isInclusive:!1,timeUnit:dT,useFiscalYear:!1,value:1}),[Uy]:TT({direction:uT,isInclusive:!1,timeUnit:dT,useFiscalYear:!1,value:1}),[ky]:TT({direction:lT,isInclusive:!0,timeUnit:mT,useFiscalYear:!1,value:1}),[xy]:TT({direction:lT,includeFutureDates:!1,isInclusive:!0,timeUnit:mT,useFiscalYear:!1,value:1}),[wy]:TT({direction:lT,isInclusive:!1,timeUnit:mT,useFiscalYear:!1,value:1}),[Fy]:TT({direction:uT,isInclusive:!1,timeUnit:mT,useFiscalYear:!1,value:1}),[Yy]:TT({direction:lT,isInclusive:!0,timeUnit:gT,useFiscalYear:!1,value:1}),[By]:TT({direction:lT,isInclusive:!0,timeUnit:gT,useFiscalYear:!0,value:1}),[Gy]:TT({direction:lT,includeFutureDates:!1,isInclusive:!0,timeUnit:gT,useFiscalYear:!1,value:1}),[Vy]:TT({direction:lT,includeFutureDates:!1,isInclusive:!0,timeUnit:gT,useFiscalYear:!0,value:1}),[Hy]:TT({direction:lT,isInclusive:!1,timeUnit:gT,useFiscalYear:!1,value:1}),[Wy]:TT({direction:lT,isInclusive:!1,timeUnit:gT,useFiscalYear:!0,value:1}),[Ky]:TT({direction:uT,isInclusive:!1,timeUnit:gT,useFiscalYear:!1,value:1}),[qy]:TT({direction:uT,isInclusive:!1,timeUnit:gT,useFiscalYear:!0,value:1}),[Qy]:TT({direction:lT,isInclusive:!0,timeUnit:bT,useFiscalYear:!1,value:1}),[$y]:TT({direction:lT,isInclusive:!0,timeUnit:bT,useFiscalYear:!0,value:1}),[Jy]:TT({direction:lT,includeFutureDates:!1,isInclusive:!0,timeUnit:bT,useFiscalYear:!1,value:1}),[zy]:TT({direction:lT,includeFutureDates:!1,isInclusive:!0,timeUnit:bT,useFiscalYear:!0,value:1}),[Xy]:TT({direction:lT,isInclusive:!1,timeUnit:bT,useFiscalYear:!1,value:1}),[Zy]:TT({direction:lT,isInclusive:!1,timeUnit:bT,useFiscalYear:!0,value:1}),[eT]:TT({direction:uT,isInclusive:!1,timeUnit:bT,useFiscalYear:!1,value:1}),[tT]:TT({direction:uT,isInclusive:!1,timeUnit:bT,useFiscalYear:!0,value:1}),[nT]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:7}),[rT]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:14}),[aT]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:30}),[oT]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:60}),[sT]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:90}),[iT]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:180}),[cT]:TT({direction:lT,isInclusive:!1,timeUnit:pT,useFiscalYear:!1,value:365})},jT=Object(b.Map)(hT);TT.fromRollingDateOptionValue=e=>hT[e];TT.toRollingDateOptionValue=e=>{const t=jT.findEntry(t=>Object(b.is)(t,e));if(Array.isArray(t)){const[e]=t;return e}};var AT=TT,ST=Vf({displayType:df,inputType:_f,name:"InRollingDateRange",values:[{defaultValue:AT.fromRollingDateOptionValue(Cy),isIterable:!1,isValid:IT,name:"value"},{defaultValue:0,isValid:Oy.a,name:"rollingOffset"}]}),_T=Vf({displayType:cf,inputType:vf,name:"Known"}),NT=Vf({name:"Less",values:[{name:"value",isValid:xE}]}),RT=Vf({name:"LessOrEqual",values:[{name:"value",isValid:xE}]});const CT=e=>"forward"===e||"backward"===e;var vT=Vf({displayType:mf,inputType:Nf,name:"LessRolling",values:[{name:"numberOfDays",isValid:Oy.a,defaultValue:1},{name:"direction",isValid:CT,defaultValue:"backward"}]});const LT=e=>"forward"===e||"backward"===e,DT=e=>"days"===e||"weeks"===e;var MT=Vf({displayType:bf,inputType:Cf,name:"LessThanRolling",values:[{defaultValue:1,name:"value",isValid:Oy.a},{defaultValue:"backward",name:"direction",isValid:LT},{defaultValue:"days",name:"timeUnit",isValid:DT}]}),PT=Vf({displayType:cf,inputType:vf,name:"ListIsMember"}),UT=Vf({displayType:cf,inputType:vf,name:"ListIsNotMember"});const kT=/^\d{5}(-\d{4})?$/;var xT=Vf({name:"Near",values:[{name:"value",defaultValue:"",isValid:e=>kT.test(e)}]}),wT=Vf({name:"NeverContained",values:[{name:"value",isValid:Wf.a}]}),FT=Vf({name:"NeverContainedAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]});var YT=Vf({name:"NeverEqual",values:[{name:"value",isValid:e=>null!=e}]}),BT=Vf({name:"NeverEqualAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]}),GT=Vf({name:"NeverIn",values:[{name:"value",defaultValue:Object(b.List)(),isValid:e=>b.List.isList(e)&&!e.isEmpty()},{name:"isInexclusive",defaultValue:!0}]}),VT=Vf({name:"NotContain",values:[{name:"value",isValid:Wf.a}]}),HT=Vf({name:"NotContainAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),WT=Vf({name:"NotContainAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]}),KT=Vf({name:"NotEqual",values:[{name:"value",isValid:xE}]}),qT=Vf({name:"NotEqualAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),QT=Vf({name:"NotEqualAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]}),$T=Vf({displayType:cf,inputType:vf,name:"SurveyMonkeyHasResponded"}),JT=Vf({name:"SurveyMonkeyHasAnswered",values:[{name:"value",isValid:xE}]}),zT=Vf({displayType:cf,inputType:vf,name:"SurveyMonkeyNotHasResponded"}),XT=Vf({name:"NotIn",values:[{name:"value",defaultValue:Object(b.List)(),isValid:e=>b.List.isList(e)&&!e.isEmpty()}]}),ZT=Vf({displayType:cf,inputType:vf,name:"NotInImport"}),eI=Vf({inputType:Af,name:"NotInRange",values:[{name:"value",isValid:xE},{name:"highValue",isValid:xE}]}),tI=Vf({displayType:cf,inputType:vf,name:"NotKnown"}),nI=Vf({displayType:gf,inputType:Rf,name:"NotUpdatedInLastXDays",values:[{name:"numberOfDays",isValid:Oy.a}]}),rI=n("h4h6"),aI=Vf({name:"NotWildCardEqual",values:[{name:"value",defaultValue:Object(b.List)(),isValid:(e,t)=>t.type===JO.STRING&&b.List.isList(e)&&!e.isEmpty()&&e.every(rI.a)}]}),oI=Vf({name:"PageViewContain",isRefinable:!0,isRefinableExtra:!0,values:[{name:"value",isValid:Wf.a}]}),sI=Vf({inputType:Lf,name:"PageViewEqual",isRefinable:!0,isRefinableExtra:!0,values:[{name:"value",isValid:Wf.a}]}),iI=Vf({name:"PageViewMatchRegex",isRefinable:!0,isRefinableExtra:!0,values:[{name:"value",isValid:kE}],displayType:ff}),cI=Vf({name:"PageViewNotContain",isRefinable:!0,isRefinableExtra:!0,values:[{name:"value",isValid:Wf.a}]}),lI=Vf({inputType:Lf,name:"PageViewNotEqual",isRefinable:!0,isRefinableExtra:!0,values:[{name:"value",isValid:Wf.a}]}),uI=Vf({name:"PageViewNotMatchRegex",isRefinable:!0,isRefinableExtra:!0,values:[{name:"value",isValid:kE}],displayType:ff}),pI=Vf({name:"PrivacyConsentCompleted",values:[{name:"value",isValid:e=>null!=e}],isRefinable:!0}),dI=Vf({name:"PrivacyConsentNotCompleted",values:[{name:"value",isValid:e=>null!=e}],isRefinable:!0}),mI=Vf({name:"StartsWith",values:[{name:"value",isValid:Wf.a}]}),gI=Vf({name:"StartsWithAny",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!1}]}),bI=Vf({displayType:pf,inputType:Sf,name:"UpdatedAfter",values:[{name:"value",isValid:Wf.a}]}),OI=Vf({displayType:pf,inputType:Sf,name:"UpdatedBefore",values:[{name:"value",isValid:Wf.a}]}),fI=Vf({displayType:gf,inputType:Rf,name:"UpdatedInLastXDays",values:[{name:"numberOfDays",isValid:Oy.a}]}),EI=Vf({displayType:cf,inputType:vf,name:"WebinarHasAttended"}),yI=Vf({displayType:cf,inputType:vf,name:"WebinarHasRegistered"}),TI=Vf({displayType:cf,inputType:vf,name:"WebinarNotHasAttended"}),II=Vf({displayType:cf,inputType:vf,name:"WebinarNotHasRegistered"}),hI=Vf({name:"WildCardEqual",values:[{name:"value",defaultValue:Object(b.List)(),isValid:(e,t)=>t.type===JO.STRING&&b.List.isList(e)&&!e.isEmpty()&&e.every(rI.a)}]}),jI=Vf({displayType:cf,inputType:vf,name:"WorkflowActive"}),AI=Vf({displayType:cf,inputType:vf,name:"WorkflowCompleted"}),SI=Vf({displayType:cf,inputType:vf,name:"WorkflowEnrolled"}),_I=Vf({displayType:cf,inputType:vf,name:"WorkflowMetGoal"}),NI=Vf({displayType:cf,inputType:vf,name:"WorkflowNotActive"}),RI=Vf({displayType:cf,inputType:vf,name:"WorkflowNotCompleted"}),CI=Vf({displayType:cf,inputType:vf,name:"WorkflowNotEnrolled"}),vI=Vf({displayType:cf,inputType:vf,name:"WorkflowNotMetGoal"}),LI=Vf({name:"EverEqualAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),DI=Vf({name:"NeverEqualAll",values:[{name:"value",isValid:e=>b.List.isList(e)&&!e.isEmpty(),defaultValue:Object(b.List)()},{name:"isInexclusive",defaultValue:!0}]}),MI=Vf({name:"AfterDate",values:[{name:"value",isValid:xE}]}),PI=Vf({name:"BeforeDate",values:[{name:"value",isValid:xE}]}),UI=Vf({displayType:Ef,name:"EqualTimePoint",values:[{name:"value",isValid:wE}]}),kI=Vf({displayType:Ef,name:"BeforeTimePoint",values:[{name:"value",isValid:wE}]}),xI=Vf({displayType:Ef,name:"AfterTimePoint",values:[{name:"value",isValid:wE}]}),wI=Vf({inputType:Af,displayType:Ef,name:"BetweenTimePoints",values:[{name:"value",isValid:wE},{name:"highValue",isValid:wE}]}),FI=Vf({inputType:Af,displayType:Ef,name:"NotBetweenTimePoints",values:[{name:"value",isValid:wE},{name:"highValue",isValid:wE}]});const YI="CONTAINS",BI="DOES_NOT_CONTAIN",GI="ENDS_WITH",VI="HAS_EVER_BEEN_ANY_OF",HI="HAS_EVER_BEEN_EQUAL_TO",WI="HAS_EVER_CONTAINED",KI="HAS_NEVER_BEEN_ANY_OF",qI="HAS_NEVER_BEEN_EQUAL_TO",QI="HAS_NEVER_CONTAINED",$I="IS_AFTER",JI="IS_AFTER_DATE",zI="IS_ANY_OF",XI="IS_BEFORE",ZI="IS_BEFORE_DATE",eh="IS_BETWEEN",th="IS_EQUAL_TO",nh="IS_GREATER_THAN",rh="IS_GREATER_THAN_OR_EQUAL_TO",ah="IS_KNOWN",oh="IS_LESS_THAN",sh="IN_LAST_TIME_UNIT",ih="IN_THIS_TIME_UNIT",ch="IN_THIS_TIME_UNIT_SO_FAR",lh="IN_NEXT_TIME_UNIT",uh="IS_LESS_THAN_OR_EQUAL_TO",ph="IS_LESS_THAN_X_DAYS_AGO",dh="IS_LESS_THAN_X_DAYS_FROM_NOW",mh="IS_MORE_THAN_X_DAYS_AGO",gh="IS_MORE_THAN_X_DAYS_FROM_NOW",bh="IS_NONE_OF",Oh="IS_NOT_BETWEEN",fh="IS_NOT_EQUAL_TO",Eh="IS_UNKNOWN",yh="NOT_UPDATED_IN_LAST_X_DAYS",Th="STARTS_WITH",Ih="UPDATED_IN_LAST_X_DAYS",hh="IS_EXACTLY",jh="IS_NOT_EXACTLY",Ah="CONTAINS_ALL",Sh="DOES_NOT_CONTAIN_ALL",_h="HAS_EVER_BEEN_EXACTLY",Nh="HAS_NEVER_BEEN_EXACTLY",Rh="HAS_EVER_CONTAINED_ALL",Ch="HAS_NEVER_CONTAINED_ALL",vh="CONSTANT",Lh="LESS_THAN_X_AGO_OR_FROM_NOW",Dh="MORE_THAN_X_AGO_OR_FROM_NOW",Mh="HAS_CLICKED_CTA",Ph="HAS_NOT_CLICKED_CTA",Uh="HAS_OPENED_CTA",kh="HAS_NOT_OPENED_CTA",xh="HAS_CLICKED_CTA_PLACEMENT",wh="HAS_NOT_CLICKED_CTA_PLACEMENT",Fh="HAS_OPENED_CTA_PLACEMENT",Yh="HAS_NOT_OPENED_CTA_PLACEMENT",Bh="HAS_EVENT",Gh="NOT_HAS_EVENT",Vh="PRIVACY_CONSENT_NOT_GRANTED",Hh="PRIVACY_CONSENT_GRANTED",Wh="EMAIL_BOUNCED",Kh="EMAIL_LINK_CLICKED",qh="EMAIL_MARKED",Qh="EMAIL_OPENED",$h="EMAIL_OPENED_BUT_LINK_NOT_CLICKED",Jh="EMAIL_OPENED_BUT_NOT_REPLIED",zh="EMAIL_RECEIVED",Xh="EMAIL_RECEIVED_BUT_NOT_OPENED",Zh="EMAIL_REPLIED",ej="EMAIL_SENT",tj="EMAIL_SENT_BUT_LINK_NOT_CLICKED",nj="EMAIL_SENT_BUT_NOT_RECEIVED",rj="EMAIL_UNSUBSCRIBED",aj="OPT_IN",oj="OPT_OUT",sj="NOT_OPTED",ij="FORM_SUBMISSION",cj="FORM_SUBMISSION_ON_PAGE",lj="IN_LIST",uj="NOT_IN_LIST",pj="IN_IMPORT",dj="NOT_IN_IMPORT",mj="HAS_PAGEVIEW_CONTAINS",gj="HAS_PAGEVIEW_EQ",bj="HAS_PAGEVIEW_MATCHES_REGEX",Oj="NOT_HAS_PAGEVIEW_CONTAINS",fj="NOT_HAS_PAGEVIEW_EQ",Ej="NOT_HAS_PAGEVIEW_MATCHES_REGEX",yj="HAS_NOT_RESPONDED_TO_SURVEY",Tj="HAS_RESPONDED_TO_SURVEY",Ij="HAS_WEBINAR_ATTENDANCE",hj="HAS_WEBINAR_REGISTRATION",jj="NOT_HAS_WEBINAR_ATTENDANCE",Aj="NOT_HAS_WEBINAR_REGISTRATION",Sj="ACTIVE_IN_WORKFLOW",_j="COMPLETED_WORKFLOW",Nj="ENROLLED_IN_WORKFLOW",Rj="MET_WORKFLOW_GOAL",Cj="NEVER_ACTIVE_IN_WORKFLOW",vj="NEVER_COMPLETED_WORKFLOW",Lj="NEVER_ENROLLED_IN_WORKFLOW",Dj="NEVER_MET_WORKFLOW_GOAL",Mj="ADS_SEARCH",Pj="ADS_TIME",Uj="CTA",kj="CONSTANT",xj="EMAIL_EVENT",wj="EMAIL_SUBSCRIPTION",Fj="EVENT",Yj="FORM_SUBMISSION",Bj="FORM_SUBMISSION_ON_PAGE",Gj="IN_LIST",Vj="INTEGRATION_EVENT",Hj="IN_IMPORT",Wj="PAGE_VIEW",Kj="PRIVACY",qj="PROPERTY",Qj="SURVEY_MONKEY",$j="WEBINAR",Jj="WORKFLOW",zj="SURVEY_MONKEY_VALUE",Xj="alltypes",Zj="string",eA="multistring",tA="number",nA="bool",rA="enumeration",aA="datetime",oA="datetime-comparative",sA="number-ranged",iA="datetime-ranged",cA="datetime-rolling",lA="property-updated-comparative",uA="rangedtime",pA="timepoint",dA={IMPORT:"IMPORT",WORKFLOWS_ACTIVE:"WORKFLOWS_ACTIVE",WORKFLOWS_COMPLETED:"WORKFLOWS_COMPLETED",WORKFLOWS_ENROLLMENT:"WORKFLOWS_ENROLLMENT",WORKFLOWS_GOAL:"WORKFLOWS_GOAL"},mA="AllHistoryRefineBy",gA="pruningRefineBy",bA="coalescingRefineBy",OA={NUM_OCCURRENCES:"NumOccurrencesRefineBy",SET_OCCURRENCES:"SetOccurrencesRefineBy"},fA={ALL:"ALL",ALL_INCLUDE_EMPTY:"ALL_INCLUDE_EMPTY",ANY:"ANY",NONE:"NONE",NONE_EXCLUDE_EMPTY:"NONE_EXCLUDE_EMPTY"},EA={ABSOLUTE:"AbsoluteComparativeTimestampRefineBy",ABSOLUTE_RANGE:"AbsoluteRangedTimestampRefineBy",RELATIVE:"RelativeComparativeTimestampRefineBy",RELATIVE_RANGE:"RelativeRangedTimestampRefineBy"},yA={PAST:"PAST",FUTURE:"FUTURE"},TA={DAYS:"DAYS",WEEKS:"WEEKS"},IA={AFTER:"AFTER",BEFORE:"BEFORE",BETWEEN:"BETWEEN",NOT_BETWEEN:"NOT_BETWEEN"},hA="DEPRECATED_FILTER",jA="NONE",AA="PORTAL_TZ_ALIGNED",SA="UTC_TZ_ALIGNED",_A=(e,t)=>{const n=parseInt(e,10);if(t===AA)return h.a.moment.portalTz(n).format("YYYY-MM-DD");if(t===SA)return h.a.moment.utc(n).startOf("day").format("YYYY-MM-DD");if(t===jA)return e;Object(Uf.a)(!1,"Date conversions must use one of the types specified in TimestampTypes");return h.a.moment.portalTz(n).format("YYYY-MM-DD")};var NA=n("0SHK");const RA="formatted",CA=Object(b.Record)({accessLevel:void 0,description:"",displayName:"",displayOrder:0,displayType:null,externalOptions:!1,externalOptionsReferenceType:null,fieldType:NA.j,groupName:null,hidden:!1,hubspotDefined:!1,isHiddenFromSelect:!1,label:"",metadata:null,name:"",numberDisplayHint:RA,options:null,referencedObjectType:null,refinement:!1,showCurrencySymbol:!1,timestampType:AA,type:JO.STRING,url:null,wrappedObject:null,disabled:!1,tooltip:"",placeholder:""},"DSFieldRecord");CA.fromJS=e=>null==e?e:CA(e);CA.isDSFieldRecord=e=>e instanceof CA;var vA=CA,LA=n("TvdH"),DA=n.n(LA);const MA=e=>vA({refinement:!0,type:"date",timestampType:e.get("timestampType")}),PA=()=>vA({displayType:ZO,refinement:!0,type:"number"}),UA=(e,t)=>{const n=e.get("timestampType");return _A(t,n===jA?AA:n)},kA={[TA.DAYS]:"days",[TA.WEEKS]:"weeks"},xA=e=>kA[e],wA=(e,t)=>{const n=t.filterType===Pj,r=DA()([gA,"comparison"],t);let a;r===IA.BEFORE?a=n?NT:RT:r===IA.AFTER&&(a=n?yy:Ty);Object(Uf.a)(a,`Unable to parse time refinement for absolute time comparison "${r}"`);return a.of(MA(e),UA(e,DA()([gA,"timestamp"],t)))},FA=(e,t)=>{const n=DA()([gA,"rangeType"],t);let r;n===IA.BETWEEN?r=Ry:n===IA.NOT_BETWEEN&&(r=eI);Object(Uf.a)(r,`Unable to parse time refinement for absolute time range of type "${n}"`);return r.of(MA(e),UA(e,DA()([gA,"lowerTimestamp"],t)),UA(e,DA()([gA,"upperTimestamp"],t)))},YA=(e,t)=>{const n=DA()([gA,"comparison"],t),r=DA()([gA,"timeOffset"],t),a=r.offsetDirection;let o,s;if(n===IA.AFTER&&a===yA.PAST){o=MT;s="backward"}if(n===IA.BEFORE&&a===yA.FUTURE){o=MT;s="forward"}if(n===IA.BEFORE&&a===yA.PAST){o=Sy;s="backward"}if(n===IA.AFTER&&a===yA.FUTURE){o=Sy;s="forward"}Object(Uf.a)(o,`Unable to parse time refinement for relative time comparison "${n}"`);return o.of(MA(e),r.amount,s,xA(r.timeUnit))},BA=(e,t)=>{const n=MT,r=DA()(["pruningRefineBy","lowerBoundOffset","offsetDirection"],t),a=DA()(["pruningRefineBy","lowerBoundOffset","timeUnit"],t);let o,s;if(r===yA.PAST){s=lT;o=DA()(["pruningRefineBy","lowerBoundOffset","amount"],t)}else{s=uT;o=DA()(["pruningRefineBy","upperBoundOffset","amount"],t)}return n.of(MA(e),o,s,xA(a))},GA=(e,t)=>{const n=PA(),r=parseInt(DA()([bA,"minOccurrences"],t),10),a=parseInt(DA()([bA,"maxOccurrences"],t),10),o=Oy()(r),s=Oy()(a);Object(Uf.a)(o||s,`Unable to parse occurrence refinement with min: "${r}" and max: "${a}"`);return r===a?ay.of(n,r):o?yy.of(n,r):NT.of(n,a)},VA={[EA.ABSOLUTE]:wA,[EA.ABSOLUTE_RANGE]:FA,[EA.RELATIVE]:YA,[EA.RELATIVE_RANGE]:BA},HA={[OA.NUM_OCCURRENCES]:GA};var WA=(e,t)=>{const n=DA()([gA,"type"],t);if(Object.prototype.hasOwnProperty.call(VA,n))return VA[n](e,t);const r=DA()([bA,"type"],t);return Object.prototype.hasOwnProperty.call(HA,r)?HA[r](e,t):void 0};const KA={[NE.AD_TYPE]:"type",[NE.ID]:"id",[NE.NAME]:"name",[NE.TIMESTAMP]:"timestamp"},qA={[RE.AD]:"ad",[RE.ADGROUP]:"adgroup",[RE.CAMPAIGN]:"campaign",[RE.KEYWORD]:"keyword"},QA=e=>{if(e.operator)return e.operator;const{pruningRefineBy:{type:t,comparison:n,rangeType:r}}=e;if(t===EA.ABSOLUTE)return n===IA.BEFORE?oh:nh;if(t===EA.ABSOLUTE_RANGE)return r===IA.NOT_BETWEEN?Oh:eh;if(t===EA.RELATIVE_RANGE)return Lh;if(t===EA.RELATIVE){const t=DA()(["pruningRefineBy","timeOffset","offsetDirection"],e);if(n===IA.AFTER&&t===yA.PAST||n===IA.BEFORE&&t===yA.FUTURE)return Lh;if(n===IA.BEFORE&&t===yA.PAST||n===IA.AFTER&&t===yA.FUTURE)return Dh}},$A=(e,t,n)=>WA(t,n).set("field",t),JA=e=>{const{adNetwork:t,entityType:n}=e,r=e.filterType===Pj?NE.TIMESTAMP:e.searchTermType,a=KA[r];let o;if(r===NE.TIMESTAMP)o=[RE.AD,CE,a];else if(r===NE.AD_TYPE)o=[t,RE.AD,a];else{o=[t,qA[n],a]}return o.join("_").toLowerCase()},zA=[Mh,Ph,Uh,kh],XA=(e,t,n)=>{const r=WA(t,n);return r?e.set("refinement",r):e},ZA=e=>zA.includes(e),eS=(e,t,n)=>{const{ctaName:r,operator:a}=n,o=ZA(a)?r:TE,s=e.of(t,o);return XA(s,t,n)},tS=Object(b.Record)({errorMessage:null,isHiddenFromSelect:!0,label:"",name:"",timestampType:jA,type:JO.STRING,metadata:null,userHasNoAccess:!1},"MissingField");tS.fromJS=e=>null==e?e:tS(e);tS.isMissingField=e=>e instanceof tS;var nS=tS;const rS={SENT:ej,DELIVERED:zh,BOUNCE:Wh,OPEN:Qh,CLICK:Kh,SPAMREPORT:qh,UNSUBSCRIBED:rj,REPLIED:Zh},aS=(e,t,n)=>{const r=DA()(["emailFilterLines",0],n),a=WA(t,r);return a?e.set("refinement",a):e},oS=(e,t)=>e instanceof nS?e.set("metadata",{appId:t.appId,level:t.level}):e,sS=(e,t,n)=>{const r=oS(t,n),a=e.of(r);return aS(a,r,n)},iS=(e,t,n)=>{let r;const a=n.emailFilterLines;a&&a.length&&a[0].clickUrlSubstring&&(r=a[0].clickUrlSubstring);const o=oS(t,n),s=e.of(o,r||hE);return aS(s,o,n)},cS=e=>{if(!e||!e.emailFilterLines||!e.emailFilterLines.length)return;const{emailFilterLines:t}=e,n=rS[t[0].eventType];if(1===t.length)return n;const r=rS[t[1].eventType],{negated:a}=t[1];return n===Qh&&r===Kh&&a?$h:n===Qh&&r===Zh&&a?Jh:n===zh&&r===Qh&&a?Xh:n===ej&&r===Kh&&a?tj:n===ej&&r===zh&&a?nj:void 0},lS={[lh]:{direction:uT,isInclusive:!1,includeFutureDates:!0},[ch]:{direction:lT,isInclusive:!0,includeFutureDates:!1},[sh]:{direction:lT,isInclusive:!1,includeFutureDates:!0},[ih]:{direction:lT,isInclusive:!0,includeFutureDates:!0}},uS=(e,t,{operation:n})=>{const{direction:r,isInclusive:a,includeFutureDates:o}=lS[n.operator];return e.of(t,AT({direction:r,includeFutureDates:o,useFiscalYear:!0===n.useFiscalYear,isInclusive:a,timeUnit:n.timeUnit,value:n.timeUnitCount}),0)},pS=(e,t,n)=>{const r=WA(t,n);return r?e.set("refinement",r):e},dS=(e,t,n)=>{const r=e.of(t);return pS(r,t,n)},mS=(e,t,n)=>{if(e===Ey)return!1;if(n[gA])return!1;const{type:r,setType:a,maxOccurrences:o}=n[bA]||{},s=r===OA.SET_OCCURRENCES,i=a===fA.NONE||a===fA.NONE_EXCLUDE_EMPTY,c=s&&i,l=r===OA.NUM_OCCURRENCES;return c||l&&0===o},gS=(e,t,n)=>{if(mS(e,t,n))return e;const r=WA(t,n);return r?e.set("refinement",r):e},bS=(e,t,n)=>{const r=DA()(["pageId"],n),a=jE,o=e.of(t,r||a);return gS(o,t,n)},OS=(e,t,n)=>{const r=WA(t,n);return r?e.set("refinement",r):e},fS=(e,t,n)=>{const r=e.of(t,n.pageUrl);return OS(r,t,n)},ES=(e,t,n)=>{const r=WA(t,n);return r?e.set("refinement",r):e},yS=(e,t,n)=>{const r=e.of(t,n.privacyName);return ES(r,t,n)},TS=Object(b.Map)({[Mj]:tE,[Pj]:tE,[Uj]:aE,[kj]:hA,[Kj]:EE,[Fj]:cE,[xj]:sE,[wj]:iE,[Yj]:lE,[Bj]:lE,[Wj]:dE,[Qj]:mE,[$j]:uE,[nE]:rE,[Gj]:OE,[Vj]:pE,[Hj]:fE,[Jj]:bE,[zj]:gE}),IS=e=>TS.get(e),hS=[dA.WORKFLOWS_ACTIVE,dA.WORKFLOWS_COMPLETED,dA.WORKFLOWS_ENROLLMENT,dA.WORKFLOWS_GOAL],jS=e=>hS.includes(e),AS={[dA.WORKFLOWS_ACTIVE]:Sj,[dA.WORKFLOWS_COMPLETED]:_j,[dA.WORKFLOWS_ENROLLMENT]:Nj,[dA.WORKFLOWS_GOAL]:Rj},SS={[dA.WORKFLOWS_ACTIVE]:Cj,[dA.WORKFLOWS_COMPLETED]:vj,[dA.WORKFLOWS_ENROLLMENT]:Lj,[dA.WORKFLOWS_GOAL]:Dj},_S=(e,t)=>t?SS[e]:AS[e],NS=e=>{const t=e.operator===lj?pj:dj;return{filterType:Hj,operator:t,importId:DA()(["metadata","id"],e)}},RS=(e,t)=>{const n=e.operator===uj,r=_S(t,n);return{filterType:Jj,operator:r,workflowId:DA()(["metadata","id"],e)}},CS=e=>{const t=DA()(["metadata","inListType"],e);return t===dA.IMPORT?[NS(e),fE]:jS(t)?[RS(e,t),bE]:[e,OE]},vS="SELF",LS={[OE]:{filterFamily:OE,regex:RegExp(OE+"-[0-9][-][0-9]+"),make:e=>`${OE}-${e}`,parse:e=>e.replace(OE+"-","")},[pE]:{filterFamily:pE,regex:RegExp(pE+"-[0-9]+"),make:e=>`${pE}-${e}`,parse:e=>e.replace(pE+"-","")},[fE]:{filterFamily:fE,regex:RegExp(fE+"-[0-9][-][0-9]+"),make:e=>`${fE}-${e}`,parse:e=>e.replace(fE+"-","")},[yE]:{filterFamily:yE,regex:RegExp(yE+"-\\w+"),make:e=>`${yE}-${e}`,parse:e=>e.replace(yE+"-","")},[vS]:{filterFamily:vS,regex:RegExp("[0-9][-][0-9]+__SELF"),make:e=>e+"__SELF",parse:e=>e.replace("__SELF","")}},DS=Object.values(LS),MS=e=>DS.find(t=>t.filterFamily===e),PS=e=>DS.find(({regex:t})=>t.test(e)),US=e=>{const t=PS(e);return t?t.filterFamily:void 0},kS=(e,t)=>{const n=MS(e);Object(Uf.a)(n,`Cannot create a dynamic filter family instance of non-dynamic filterFamily: "${e}".`);return n.make(t)},xS=Object(b.Map)({[vh]:FE,[$I]:Kf,[XI]:$f,[zI]:_y,[bh]:XT,[VI]:gy,[KI]:GT,[th]:ay,[fh]:KT,[nh]:yy,[oh]:NT,[rh]:Ty,[uh]:RT,[ZI]:NT,[JI]:yy,[eh]:Ry,[Oh]:eI,[ah]:_T,[Eh]:tI,[sh]:ST,[ih]:ST,[ch]:ST,[lh]:ST,[ph]:vT,[dh]:vT,[mh]:hy,[gh]:hy,[YI]:zf,[BI]:VT,[Th]:mI,[GI]:ny,[HI]:dy,[qI]:YT,[WI]:ly,[QI]:wT,[Ih]:fI,[yh]:nI,[hh]:oy,[jh]:qT,[Ah]:Xf,[Sh]:HT,[_h]:LI,[Nh]:DI,[Rh]:uy,[Ch]:FT}),wS=Object(b.fromJS)({[lA]:{[$I]:bI,[XI]:OI},[Zj]:{[th]:sy,[fh]:QT,[YI]:eE,[BI]:WT,[Th]:gI,[GI]:ry,[HI]:my,[qI]:BT},[eA]:{[th]:sy,[fh]:QT,[YI]:eE,[BI]:WT,[Th]:gI,[GI]:ry,[HI]:my,[qI]:BT},[aA]:{[$I]:MI,[XI]:PI,[JI]:MI,[ZI]:PI},[uA]:{[eh]:qf,[Oh]:qf},[pA]:{[$I]:qf,[XI]:qf}}),FS=Object(b.fromJS)({[Pj]:{[Lh]:MT,[Dh]:Sy},[Uj]:{[Mh]:vE,[Ph]:LE,[Uh]:ME,[kh]:DE,[xh]:vE,[wh]:LE,[Fh]:ME,[Yh]:DE},[Fj]:{[Bh]:iy,[Gh]:cy},[Kj]:{[Vh]:dI,[Hh]:pI},[xj]:{[Wh]:YE,[Kh]:BE,[qh]:GE,[$h]:HE,[Jh]:KE,[Qh]:VE,[Xh]:qE,[zh]:WE,[Zh]:QE,[tj]:JE,[nj]:zE,[ej]:$E,[rj]:XE},[wj]:{[aj]:ey,[oj]:ty,[sj]:ZE},[Yj]:{[ij]:fy},[Bj]:{[cj]:fy},[Hj]:{[pj]:Ny,[dj]:ZT},[Gj]:{[lj]:PT,[uj]:UT},[Wj]:{[gj]:sI,[mj]:oI,[bj]:iI,[fj]:lI,[Oj]:cI,[Ej]:uI},[Qj]:{[yj]:zT,[Tj]:$T},[$j]:{[Ij]:EI,[hj]:yI,[jj]:TI,[Aj]:II},[Jj]:{[Sj]:jI,[_j]:AI,[Nj]:SI,[Rj]:_I,[Cj]:NI,[vj]:RI,[Lj]:CI,[Dj]:vI}}),YS=Object(b.fromJS)({[eA]:{[th]:my,[fh]:BT}}),BS=Object(b.fromJS)({DEFAULT:{[Yj]:Ey,[Bj]:Ey}}),GS=(e,t,n={})=>{const r=n.operation||n,a=[gA,bA].reduce((e,t)=>{r[t]&&(e[t]=r[t]);return e},{});if(Object.prototype.hasOwnProperty.call(a,gA)&&a[gA].type===mA)return YS.getIn([t,e]);if(Object.prototype.hasOwnProperty.call(a,bA)&&"object"==typeof a[bA]){const{type:n,setType:r,maxOccurrences:o}=a[bA],s=n===OA.SET_OCCURRENCES,i=r===fA.NONE||r===fA.NONE_EXCLUDE_EMPTY,c=s&&i,l=0===o,u=n===OA.NUM_OCCURRENCES&&l;if(c||u)return BS.getIn([t||"DEFAULT",e])}};function VS(e,t,n={}){const{filterType:r}=n,a=GS(e,t,n)||DA()([r,e],FS)||DA()([t,e],wS)||DA()([e],xS);a||Object(Uf.a)(!1,`operator type "${e}" is not supported`);return a}var HS=n("MQNR"),WS=n("eUxV");HS.CONTACT,WS.CONTACT_TYPE_ID,HS.COMPANY,WS.COMPANY_TYPE_ID,HS.DEAL,WS.DEAL_TYPE_ID,HS.ENGAGEMENT,WS.ENGAGEMENT_TYPE_ID,HS.TICKET,WS.TICKET_TYPE_ID,HS.PRODUCT,WS.PRODUCT_TYPE_ID,HS.LINE_ITEM,WS.LINE_ITEM_TYPE_ID,HS.QUOTE,WS.QUOTE_TYPE_ID,HS.FEEDBACK_SUBMISSION,WS.FEEDBACK_SUBMISSION_TYPE_ID;const KS=e=>"string"==typeof e&&e.startsWith("4-"),qS=e=>"string"==typeof e&&e.startsWith("6-");var QS=n("D2Y9");const $S=e=>e?"object"==typeof e?e:Object(QS.parse)(e.substring(1)):{},JS=e=>{const{gated:t,ungated:n}=$S(e),r={};n&&(Array.isArray(n)?n:[n]).reduce((e,t)=>{t&&(e[t]=!0);return e},r);t&&(Array.isArray(t)?t:[t]).reduce((e,t)=>{t&&(e[t]=!1);return e},r);return r};var zS=(e,t,n=JS(window.location.search))=>{const r=n[e];return void 0!==r?r:t};const XS="new-ils-time-filters",ZS=e=>zS(XS,e(XS)),e_={boolean:[KT,YT],datetimePropComparison:[],datetime:[eI],enumeration:[XT,GT,qT,HT,DI,FT],number:[KT,NT,RT,YT],string:[QT,WT,BT,wT]},t_={boolean:[ay,dy],datetimePropComparison:[Kf,$f],datetime:[],enumeration:[_y,gy],number:[ay,yy,Ty],string:[sy,eE]},n_=e=>e_.boolean.includes(e.constructor)||t_.boolean.includes(e.constructor)?Mf({defaultValue:!1}):void 0,r_=e=>e_.datetimePropComparison.includes(e.constructor)||t_.datetimePropComparison.includes(e.constructor)?Mf({defaultComparisonValue:0}):e_.datetime.includes(e.constructor)||t_.datetime.includes(e.constructor)?Mf({defaultValue:0}):void 0,a_=e=>e_.enumeration.includes(e.constructor)||t_.enumeration.includes(e.constructor)?Mf({defaultValue:""}):void 0,o_=e=>e_.number.includes(e.constructor)||t_.number.includes(e.constructor)?Mf({defaultValue:0}):void 0,s_=e=>e_.string.includes(e.constructor)||t_.string.includes(e.constructor)?Mf({defaultValue:""}):void 0,i_=(e,t)=>{let n;switch(e.field.type){case JO.BOOLEAN:n=n_(e);break;case JO.DATE:case JO.DATE_TIME:n=r_(e);break;case JO.ENUMERATION:n=a_(e);break;case JO.NUMBER:n=o_(e);break;case JO.STRING:n=s_(e);break;default:n=void 0}e.constructor===nI&&(n=Mf());return n?n.set("includeObjectsWithNoValueSet",t):Mf()};Object(b.Map)({[JO.NUMBER]:Object(b.Map)({[ay]:e=>0===e,[KT]:()=>!0,[NT]:e=>e>0,[RT]:e=>e>=0,[yy]:e=>e<0,[Ty]:e=>e<=0})});const c_="VALUE",l_="UPDATED_AT",u_="NOW",p_="TODAY",d_="INCLUSIVE",m_="EXCLUSIVE",g_="VALUE",b_="UPDATED_AT",O_="DATE",f_="INDEXED",E_="PROPERTY_REFERENCED",y_=e=>{if(e.propertyParser===g_&&e.propertyType===uA&&e.operator===eh&&e.lowerBoundTimePoint.timeType===O_&&e.upperBoundTimePoint.timeType===O_&&e.lowerBoundEndpointBehavior===d_&&e.upperBoundEndpointBehavior===d_){const{lowerBoundTimePoint:t,upperBoundTimePoint:n}=e;if(t.year===n.year&&t.month===n.month&&t.day===n.day&&0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond&&23===n.hour&&59===n.minute&&59===n.second&&999===n.millisecond)return!0}return!1},T_=e=>{if(e.propertyParser===g_&&e.propertyType===uA&&e.operator===eh&&e.lowerBoundTimePoint.timeType===O_&&e.upperBoundTimePoint.timeType===O_&&e.lowerBoundEndpointBehavior===d_&&e.upperBoundEndpointBehavior===d_){const{lowerBoundTimePoint:t,upperBoundTimePoint:n}=e;if(0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond&&23===n.hour&&59===n.minute&&59===n.second&&999===n.millisecond)return!0}return!1},I_=e=>{if(e.propertyParser===g_&&e.propertyType===uA&&e.operator===Oh&&e.lowerBoundTimePoint.timeType===O_&&e.upperBoundTimePoint.timeType===O_&&e.lowerBoundEndpointBehavior===d_&&e.upperBoundEndpointBehavior===d_){const{lowerBoundTimePoint:t,upperBoundTimePoint:n}=e;if(0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond&&23===n.hour&&59===n.minute&&59===n.second&&999===n.millisecond)return!0}return!1},h_=e=>e.propertyParser===g_&&"endpointBehavior"in e&&e.endpointBehavior===m_&&e.propertyType===pA&&e.operator===$I&&e.timePoint.timeType===O_&&23===e.timePoint.hour&&59===e.timePoint.minute&&59===e.timePoint.second&&999===e.timePoint.millisecond,j_=e=>e.propertyParser===g_&&e.propertyType===pA&&e.operator===XI&&e.timePoint.timeType===O_&&0===e.timePoint.hour&&0===e.timePoint.minute&&0===e.timePoint.second&&0===e.timePoint.millisecond,A_=e=>e.propertyParser===g_&&e.propertyType===pA&&e.operator===XI&&e.timePoint.timeType===f_&&e.timePoint.indexReference.referenceType===p_&&e.endpointBehavior===m_&&e.timePoint.offset.days<=0,S_=e=>e.propertyParser===g_&&e.propertyType===pA&&e.operator===$I&&e.timePoint.timeType===f_&&e.timePoint.indexReference.referenceType===p_&&e.endpointBehavior===m_&&e.timePoint.offset.days>=0&&23===e.timePoint.offset.hours&&59===e.timePoint.offset.minutes&&59===e.timePoint.offset.seconds&&999===e.timePoint.offset.milliseconds,__=e=>!!(e.propertyParser===g_&&e.propertyType===uA&&e.operator===eh&&e.lowerBoundTimePoint.timeType===f_&&e.lowerBoundTimePoint.indexReference.referenceType===p_&&e.lowerBoundEndpointBehavior===d_&&"offset"in e.lowerBoundTimePoint&&e.lowerBoundTimePoint.offset&&e.lowerBoundTimePoint.offset.days<=0&&e.upperBoundTimePoint.timeType===f_&&e.upperBoundTimePoint.indexReference.referenceType===u_&&e.upperBoundEndpointBehavior===d_),N_=e=>!!(e.propertyParser===g_&&e.propertyType===uA&&e.operator===eh&&e.lowerBoundTimePoint.timeType===f_&&e.lowerBoundTimePoint.indexReference.referenceType===u_&&e.lowerBoundEndpointBehavior===d_&&e.upperBoundTimePoint.timeType===f_&&e.upperBoundTimePoint.indexReference.referenceType===p_&&e.upperBoundEndpointBehavior===d_&&"offset"in e.upperBoundTimePoint&&e.upperBoundTimePoint.offset&&e.upperBoundTimePoint.offset.days>=0&&23===e.upperBoundTimePoint.offset.hours&&59===e.upperBoundTimePoint.offset.minutes&&59===e.upperBoundTimePoint.offset.seconds&&999===e.upperBoundTimePoint.offset.milliseconds),R_=e=>e.propertyParser===g_&&e.propertyType===pA&&e.timePoint.timeType===E_&&e.timePoint.referenceType===c_,C_=e=>!(!R_(e)||e.operator!==$I),v_=e=>!(!R_(e)||e.operator!==XI),L_=e=>!!(e.propertyParser===b_&&e.propertyType===uA&&e.lowerBoundEndpointBehavior===d_&&e.lowerBoundTimePoint.timeType===f_&&e.lowerBoundTimePoint.indexReference.referenceType===p_&&"offset"in e.lowerBoundTimePoint&&e.lowerBoundTimePoint.offset&&e.lowerBoundTimePoint.offset.days<=0&&e.upperBoundEndpointBehavior===d_&&e.upperBoundTimePoint.timeType===f_&&e.upperBoundTimePoint.indexReference.referenceType===u_),D_=e=>!(!L_(e)||e.operator!==eh),M_=e=>!(!L_(e)||e.operator!==Oh),P_=e=>e.propertyParser===b_&&e.propertyType===pA&&e.timePoint.timeType===E_&&e.timePoint.referenceType===l_&&"string"==typeof e.timePoint.property,U_=e=>!(!P_(e)||e.operator!==$I),k_=e=>!(!P_(e)||e.operator!==XI),x_=e=>"Z"===e||/^[-+]\d\d:\d\d$/.test(e),w_=e=>x_(e.zoneId)?h.a.moment.utc({year:e.year,month:e.month-1,date:e.day}).utcOffset(e.zoneId,!0):h.a.moment.tz({year:e.year,month:e.month-1,date:e.day},e.zoneId);n("JarC");const F_=(e,t)=>{const n=w_(t.lowerBoundTimePoint);return UI.of(e,n)},Y_=(e,t)=>{const n=w_(t.timePoint);return xI.of(e,n)},B_=(e,t)=>{const n=w_(t.timePoint);return kI.of(e,n)},G_=(e,t)=>{const n=w_(t.lowerBoundTimePoint),r=w_(t.upperBoundTimePoint);return wI.of(e,n,r)},V_=(e,t)=>{const n=w_(t.lowerBoundTimePoint),r=w_(t.upperBoundTimePoint);return FI.of(e,n,r)},H_=(e,t)=>hy.of(e,Math.abs(t.timePoint.offset.days),"backward"),W_=(e,t)=>hy.of(e,t.timePoint.offset.days,"forward"),K_=(e,t)=>vT.of(e,Math.abs(t.lowerBoundTimePoint.offset.days),"backward"),q_=(e,t)=>vT.of(e,t.upperBoundTimePoint.offset.days,"forward"),Q_=(e,t)=>Kf.of(e,t.timePoint.property),$_=(e,t)=>$f.of(e,t.timePoint.property),J_=(e,t)=>fI.of(e,Math.abs(t.lowerBoundTimePoint.offset.days)),z_=(e,t)=>nI.of(e,Math.abs(t.lowerBoundTimePoint.offset.days)),X_=(e,t)=>bI.of(e,t.timePoint.property),Z_=(e,t)=>OI.of(e,t.timePoint.property),eN=(e,t,n,r)=>{const a=ZS(r.isUngated);Object(Uf.a)(a,"Not ungated for a new time filters format");return y_(n.operation)?F_(t,n.operation):h_(n.operation)?Y_(t,n.operation):j_(n.operation)?B_(t,n.operation):T_(n.operation)?G_(t,n.operation):I_(n.operation)?V_(t,n.operation):A_(n.operation)?H_(t,n.operation):S_(n.operation)?W_(t,n.operation):__(n.operation)?K_(t,n.operation):N_(n.operation)?q_(t,n.operation):C_(n.operation)?Q_(t,n.operation):v_(n.operation)?$_(t,n.operation):D_(n.operation)?J_(t,n.operation):M_(n.operation)?z_(t,n.operation):U_(n.operation)?X_(t,n.operation):k_(n.operation)?Z_(t,n.operation):void 0},tN=e=>"object"==typeof e&&null!==e&&"string"==typeof e.filterType;var nN=n("KKaK"),rN=n.n(nN),aN=rN()(()=>nS({type:JO.BOOLEAN,name:hA,label:h.a.text("customerDataFilters.FilterOperatorLabelTranslations.DEFAULT.DeprecatedFilter")}));const oN=e=>{const t=ZS(e);Object(Uf.a)(!t,"Ungated for a new time filters but old datetime filter format is found")},sN=e=>h.a.moment.utc(e).format("YYYY-MM-DD"),iN=e=>h.a.moment.portalTz(e).format("YYYY-MM-DD"),cN=(e,t,{operation:n},r)=>{oN(r.isUngated);return e.of(t,sN(n.timestamp))},lN=(e,t,{operation:n},r)=>{oN(r.isUngated);return e.of(t,iN(n.timestamp))},uN=(e,t,n,r)=>{const{operation:a}=n;return a.propertyType===aA?lN(e,t,n,r):e.of(t,a.value)},pN=e=>"string"==typeof e?Object(b.List)([e]):Object(b.List)(),dN=(e,t,{valueComparison:n})=>n.values?e.of(t,Object(b.List)(n.values)):e.of(t,pN(n.value)),mN=(e,t,{valueComparison:n})=>e.of(t,n.value),gN=(e,t,{valueComparison:n},r)=>{oN(r.isUngated);return e.of(t,sN(n.timestamp))},bN=(e,t,{valueComparison:n},r)=>{oN(r.isUngated);return e.of(t,iN(n.timestamp))},ON=(e,t,{valueComparison:n},r)=>eN(e,t,{operation:n},r),fN=(e,t,n)=>e.of(t,n.shouldAccept),EN=(e,t,{operation:n})=>n.values?e.of(t,Object(b.List)(n.values)):e.of(t,pN(n.value)),yN=(e,t,{operation:n})=>{if(n.propertyType===iA)return e.of(t,sN(n.lowerBoundTimestamp),sN(n.upperBoundTimestamp));if(n.propertyType===sA&&(e===Ry||e===eI)){const r=iN(n.lowerBound),a=iN(n.upperBound);return r===a?ay.of(t,r):e.of(t,r,a)}return e.of(t,n.value,n.highValue)},TN=(e,t)=>e.of(t),IN=(e,t,n)=>{const r=n.subscriptionIds;return e.of(t,Object(b.List)(r).map(e=>String(e)))},hN=(e,t,{operation:n},r)=>{oN(r.isUngated);let a="";[ph,mh].includes(n.operator)&&(a=lT);[dh,gh].includes(n.operator)&&(a=uT);n.numberOfDays<0&&(a=a===uT?lT:uT);Object(Uf.a)(a,`Can't determine direction for the ${n.operator} operator`);return e.of(t,Math.abs(n.numberOfDays),a)},jN=(e,t,{operation:n})=>e.of(t,n.numberOfDays),AN=(e,t,{operation:n})=>e.of(t,n.comparisonPropertyName),SN=(e,t,{valueComparison:n})=>yN(e,t,{operation:n}),_N=(e,t,{valueComparison:n},r)=>hN(e,t,{operation:n},r),NN=Object(b.fromJS)({DEFAULT:{[$I]:AN,[XI]:AN,[zI]:EN,[bh]:EN,[VI]:EN,[KI]:EN,[th]:uN,[fh]:uN,[nh]:uN,[oh]:uN,[rh]:uN,[uh]:uN,[ZI]:cN,[JI]:cN,[eh]:yN,[Oh]:yN,[ah]:TN,[Eh]:TN,[sh]:uS,[ih]:uS,[ch]:uS,[lh]:uS,[ph]:hN,[dh]:hN,[mh]:hN,[gh]:hN,[YI]:uN,[BI]:uN,[Th]:uN,[GI]:uN,[HI]:uN,[qI]:uN,[WI]:uN,[QI]:uN,[Ih]:jN,[yh]:jN,[hh]:EN,[jh]:EN,[Ah]:EN,[Sh]:EN,[_h]:EN,[Nh]:EN,[Rh]:EN,[Ch]:EN},[Zj]:{[th]:EN,[fh]:EN,[YI]:EN,[BI]:EN,[Th]:EN,[GI]:EN,[HI]:EN,[qI]:EN},[eA]:{[th]:EN,[fh]:EN,[YI]:EN,[BI]:EN,[Th]:EN,[GI]:EN,[HI]:EN,[qI]:EN},[aA]:{[$I]:lN,[XI]:lN,[th]:cN},[uA]:{[eh]:eN,[Oh]:eN},[pA]:{[$I]:eN,[XI]:eN}}),RN=(e,t,n)=>{const{operator:r,propertyType:a}=e.operation;return(NN.getIn([a,r])||NN.getIn(["DEFAULT",r]))(VS(r,a,e),t,e,n)},CN={[Xj]:JO.STRING,[Zj]:JO.STRING,[eA]:JO.STRING,[tA]:JO.NUMBER,[nA]:JO.BOOLEAN,[rA]:JO.ENUMERATION,[aA]:JO.DATE_TIME,[oA]:JO.DATE_TIME,[iA]:JO.DATE_TIME,[cA]:JO.DATE_TIME},vN=({propertyType:e})=>CN[e]||JO.STRING,LN=Object(b.fromJS)({[hA]:{DEFAULT:{[vh]:fN}},[tE]:{DEFAULT:{[zI]:EN,[ah]:TN,[th]:EN,[YI]:EN,[Th]:EN,[GI]:EN,[oh]:$A,[nh]:$A,[Oh]:$A,[eh]:$A,[Lh]:$A,[Dh]:$A}},[aE]:{DEFAULT:{[Mh]:eS,[Ph]:eS,[Uh]:eS,[kh]:eS,[xh]:eS,[wh]:eS,[Fh]:eS,[Yh]:eS}},[cE]:{DEFAULT:{[Bh]:dS,[Gh]:dS}},[EE]:{DEFAULT:{[Vh]:yS,[Hh]:yS}},[OE]:{DEFAULT:{[lj]:TN,[uj]:TN}},[fE]:{DEFAULT:{[pj]:TN,[dj]:TN}},[pE]:{DEFAULT:{[$I]:lN,[XI]:lN,[zI]:EN,[bh]:EN,[VI]:EN,[KI]:EN,[th]:uN,[fh]:uN,[nh]:uN,[oh]:uN,[rh]:uN,[uh]:uN,[ZI]:cN,[JI]:cN,[eh]:yN,[Oh]:yN,[ah]:TN,[Eh]:TN,[ph]:hN,[dh]:hN,[mh]:hN,[gh]:hN,[YI]:uN,[BI]:uN,[Th]:uN,[GI]:uN,[HI]:uN,[qI]:uN,[WI]:uN,[QI]:uN,[Ih]:jN,[yh]:jN},[Zj]:{[th]:EN,[fh]:EN,[YI]:EN,[BI]:EN,[Th]:EN,[GI]:EN},[eA]:{[th]:EN,[fh]:EN,[YI]:EN,[BI]:EN,[Th]:EN,[GI]:EN},[aA]:{[th]:cN},[uA]:{[eh]:eN,[Oh]:eN},[pA]:{[$I]:eN,[XI]:eN}},[lE]:{DEFAULT:{[ij]:bS,[cj]:bS}},[dE]:{DEFAULT:{[gj]:fS,[mj]:fS,[bj]:fS,[fj]:fS,[Oj]:fS,[Ej]:fS}},[mE]:{DEFAULT:{[Tj]:TN,[yj]:TN}},[gE]:{DEFAULT:{[zI]:dN,[bh]:dN,[ah]:TN,[Eh]:TN,[YI]:dN,[BI]:dN,[Th]:dN,[GI]:dN,[th]:mN,[fh]:mN,[oh]:mN,[uh]:mN,[nh]:mN,[rh]:mN,[Oh]:SN,[eh]:SN,[ph]:_N,[dh]:_N,[mh]:_N,[gh]:_N},[eA]:{[th]:dN,[fh]:dN},[aA]:{[th]:gN,[XI]:bN,[$I]:bN},[uA]:{[eh]:ON,[Oh]:ON},[pA]:{[$I]:ON,[XI]:ON}},[uE]:{DEFAULT:{[hj]:TN,[Aj]:TN,[Ij]:TN,[jj]:TN}},[sE]:{DEFAULT:{[Wh]:sS,[Kh]:iS,[qh]:sS,[Qh]:sS,[$h]:sS,[Jh]:sS,[zh]:sS,[Xh]:sS,[Zh]:sS,[ej]:sS,[tj]:sS,[nj]:sS,[rj]:sS}},[iE]:{DEFAULT:{[aj]:IN,[oj]:IN,[sj]:IN}},[bE]:{DEFAULT:{[Sj]:TN,[Cj]:TN,[_j]:TN,[vj]:TN,[Nj]:TN,[Lj]:TN,[Rj]:TN,[Dj]:TN}}}),DN=(e,t,n,r)=>{const{operation:a,property:o}=e,s=t([n,o])||t([o])||nS({name:o,label:o,type:vN(a)}),i=RN(e,s,r),c=void 0===a.defaultComparisonValue?null:a.defaultComparisonValue,l=void 0===a.defaultValue?null:a.defaultValue;return a.includeObjectsWithNoValueSet&&null===c?i.set("defaultNullValue",i_(i,!0)):i.set("defaultNullValue",Mf({defaultComparisonValue:c,defaultValue:l}))},MN=(e,t,n,r,a,o)=>{const s=DA()([e,t,n],LN)||DA()([e,"DEFAULT",n],LN),i=VS(n,t,a);if(e===pE){const e=a.filterLines[0].operation,t=s(i,r,{operation:e},o),n=void 0===e.defaultComparisonValue?null:e.defaultComparisonValue;return e.includeObjectsWithNoValueSet&&null===n?t.set("defaultNullValue",i_(t,!0)):t}if(e===tE&&a.filterType===Mj){return s(i,r,{operation:{values:a.searchTerms}},o)}return s(i,r,a,o)},PN=e=>{const{surveyQuestion:t,surveyAnswerRowId:n,surveyAnswerColId:r}=e;return`${t}-${n||""}-${r||""}`},UN=e=>[e,e],kN=e=>e===dE||e===iE,xN=(e,t)=>{if(kN(t))return UN(t);const{filterType:n}=e;switch(n){case Mj:case Pj:return[t,JA(e)];case Uj:return[ZA(e.operator)?oE:aE,e.ctaName];case Fj:return[t,e.eventId];case Kj:return[t,SE];case xj:return[t,e.emailId];case Bj:case Yj:return[t,e.formId||IE];case Hj:return[t,e.importId];case Gj:return[t,e.listId];case Vj:return[kS(t,e.eventTypeId),e.filterLines[0].property];case Wj:return[t,e.pageUrl];case Qj:return[t,e.surveyId];case zj:return[t,PN(e)];case $j:return[t,e.webinarId||AE];case Jj:return[t,e.workflowId];default:return[t,t]}},wN=(e,t)=>{switch(t){case tE:return QA(e);case sE:return cS(e);case iE:return e.acceptedStatuses[0];case lE:return e.filterType;case gE:return DA()(["valueComparison","operator"],e);case pE:return e.filterLines[0].operation.operator;default:return e.operator}},FN=(e,t)=>{switch(t){case tE:return eA;case pE:return e.filterLines[0].operation.propertyType;case gE:return e.valueComparison.propertyType;default:return}},YN=(e,t)=>e.filterType===Gj?CS(e):[e,t],BN=(e,t,n,r)=>{[e,n]=YN(e,n);let a=wN(e,n);const o=FN(e,n);let s=xN(e,n);if(ZA(e.operator)){const e=t(s);s=[aE,DA()(["name"],e)]}let i=t(s);if(e.filterType===kj){i=aN();a=vh}Object(Uf.a)(a,`Unable to convert operator "${a}"`);Object(Uf.a)(i,`Unable to get a field for operator "${a}"`);return MN(n,o,a,i,e,r)},GN=(e,t,n,r)=>{Object(Uf.a)(tN(e),`Expected ${e} to be an ILSFilter`);Object(Uf.a)("function"==typeof t,`Expected ${t} to be a function`);Object(Uf.a)("string"==typeof n,`Expected ${n} to be a string`);Object(Uf.a)("function"==typeof r,`Expected ${r} to be a function`);const a={isUngated:r};if(e.filterType===qj)return DN(e,t,n,a);const o=IS(e.filterType);Object(Uf.a)(o,`Unable to determine what filter family to use for filter type: "${e.filterType}"`);return BN(e,t,o,a)};var VN=n("1waI"),HN=n("c50W"),WN=n("3d/Y"),KN=n("Any2"),qN=n("slWH"),QN=n("zzHy");rN()(()=>({[VN.OWNER]:()=>b.List.of(Object(qN.a)()),[VN.DEAL_STAGE]:()=>b.List.of(Object(KN.a)()),[VN.TICKET_STAGE]:()=>b.List.of(Object(WN.a)()),[HN.db]:()=>b.List.of(Object(QN.a)({label:Object(_o.a)("customerDataFilters.FilterEditor.specialOptionValues.anyLink"),value:hE})),[HN.Xb]:()=>b.List.of(Object(QN.a)({label:Object(_o.a)("customerDataFilters.FilterEditor.specialOptionValues.anyPage"),value:jE}))}));var $N=n("c/Td"),JN=n.n($N),zN=n("VfuR"),XN=n.n(zN),ZN=Object($N.recordOf)({error:XN.a.bool.isRequired,message:XN.a.node.isRequired,opts:XN.a.object.isRequired}),eR=n("uzdC"),tR=n("5Uwv");const nR=({className:e,error:t,onChange:n,value:r})=>Object(u.jsx)(eR.a,{"aria-label":h.a.text("customerDataFilters.FilterOperatorInput.ariaLabel"),error:t.get("error"),validationMessage:t.get("error")?t.get("message"):null,children:Object(u.jsx)(tR.a,{className:e,onChange:n,options:[{text:Object(_o.a)("customerDataFilters.DisplayValue.booleanTrue"),value:!0},{text:Object(_o.a)("customerDataFilters.DisplayValue.booleanFalse"),value:!1}],size:"sm",value:r})});nR.propTypes={className:XN.a.string,error:ZN.isRequired,onChange:XN.a.func.isRequired,value:XN.a.bool};var rR=n("Pw6n"),aR=n("P+6W");const oR={"data-selenium-test":!0,placeholder:!0,onChange:!0,className:!0,value:!0,disabled:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0},sR=(e,t={})=>Object.keys(e).reduce((n,r)=>{(oR[r]||t[r])&&(n[r]=e[r]);return n},{});var iR=n("XSYQ");const cR="Y-MM-DD";function lR(e,t){return t?e===JO.DATE_TIME?Object(iR.g)(h.a.moment.utc(t)):Object(iR.g)(h.a.moment.portalTz(t)):null}function uR(e,t){if(null==t)return null;return(e===JO.DATE_TIME?Object(iR.w)(t):Object(iR.u)(t)).format(cR)}class pR extends p.Component{constructor(...e){super(...e);this.handleChange=e=>{const{onChange:t,fieldType:n}=this.props;t(Object(rR.a)(uR(n,e.target.value)))};this.handleOpenChange=e=>{const{onBlur:t}=this.props;!e.target.value&&t&&t()}}render(){const e=this.props,{className:t,error:n,fieldType:r,value:a}=e,o=Object(l.a)(e,["className","error","fieldType","value"]),s=n.get("error"),i=n.get("message");return Object(u.jsx)(eR.a,{"aria-label":h.a.text("customerDataFilters.FilterOperatorInput.ariaLabel"),error:s,validationMessage:s?i:null,children:Object(u.jsx)(aR.a,Object.assign({},sR(o),{className:t,onChange:this.handleChange,onOpenChange:this.handleOpenChange,value:lR(r,a)}))})}}pR.propTypes={className:XN.a.string,error:ZN.isRequired,fieldType:XN.a.oneOf([JO.DATE,JO.DATE_TIME]).isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,value:XN.a.string};const dR="seconds",mR="minutes",gR="hours",bR="days",OR=e=>e%864e5==0?bR:e%36e5==0?gR:e%6e4==0?mR:dR,fR=(e,t)=>{if(void 0!==e)switch(t){case bR:return e/1e3/60/60/24;case gR:return e/1e3/60/60;case mR:return e/1e3/60;case dR:default:return e/1e3}},ER=(e,t)=>{switch(t){case bR:return 1e3*e*60*60*24;case gR:return 1e3*e*60*60;case mR:return 1e3*e*60;case dR:default:return 1e3*e}};var yR=n("91BM"),TR=n("9cwB"),IR=n("DSKb");const hR=e=>{const{className:t,"data-selenium-test":n,error:r,onBlur:a,onChange:o,value:s}=e,i=r.get("error"),c=r.get("message"),l=OR(s),[d,m]=Object(p.useState)(fR(s,l)),[g,b]=Object(p.useState)(l),O="customerDataFilters.FilterOperatorDurationInput.DurationUnits",f=[{text:h.a.text(O+".seconds",{count:d||0}),value:dR},{text:h.a.text(O+".minutes",{count:d||0}),value:mR},{text:h.a.text(O+".hours",{count:d||0}),value:gR},{text:h.a.text(O+".days",{count:d||0}),value:bR}],E=e=>{const{target:{value:t}}=e;if("number"!=typeof t){o(Object(rR.a)(null));return}const n=Math.floor(ER(t,g));m(t);o(Object(rR.a)(n))},y=e=>{const{target:{value:t}}=e;b(t);if("number"!=typeof d){o(Object(rR.a)(null));return}const n=Math.floor(ER(d,t));o(Object(rR.a)(n))};return Object(u.jsxs)(yR.a,{className:t,use:"itemBoth",children:[Object(u.jsx)(eR.a,{error:i,style:{flexGrow:1},validationMessage:i?c:null,children:Object(u.jsx)(TR.a,{"data-selenium-info":"duration","data-selenium-test":n,formatter:e=>null!=e?h.a.formatNumber(e,{precision:3}):"",onBlur:a,onChange:E,value:d})}),Object(u.jsx)(eR.a,{children:Object(u.jsx)(IR.a,{clearable:!1,"data-selenium-info":"unit","data-selenium-test":n,onChange:y,options:f,value:g})})]})};hR.propTypes={className:XN.a.string,"data-selenium-test":XN.a.string,error:ZN.isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,value:XN.a.number};var jR=n("Uw0N");const AR=/\s+OR\s+/gi,SR=e=>{const{className:t,error:n,onChange:r,value:a=Object(b.List)()}=e,o=n.get("error"),s=n.get("message"),i=" OR ",c=500,l=3e3;return Object(u.jsx)(eR.a,{error:o,validationMessage:o?s:null,children:Object(u.jsx)(IR.a,{allowCreate:a.size<c,className:t,delimiter:i,maxLength:""+l,menuWidth:"auto",multi:!0,noResultsText:Object(u.jsx)(jn.a,{message:"customerDataFilters.FilterOperatorMultiStringInput.resultsText"}),onChange:e=>{const{target:{value:t}}=e;return r({target:{value:Object(b.List)(t)}})},placeholder:Object(u.jsx)(jn.a,{message:"customerDataFilters.FilterOperatorMultiStringInput.placeholder"}),splitRegex:AR,value:a.toArray()})})};SR.propTypes={className:XN.a.string,error:ZN.isRequired,onChange:XN.a.func.isRequired,value:JN.a.listOf(XN.a.string).isRequired};var _R=Object($N.recordOf)({hubspotDefined:XN.a.bool,label:XN.a.string.isRequired,name:XN.a.string.isRequired,type:XN.a.string.isRequired}),NR=n("t7X+"),RR=n("0fP3"),CR=n("4A/j"),vR=n.n(CR),LR=n("LhZO"),DR=n.n(LR),MR=n("x63W"),PR=n.n(MR),UR=n("/B53"),kR=n.n(UR),xR=n("Cxba"),wR=n.n(xR);const FR=(e,t)=>{if(!t)return!1;if(nS.isMissingField(e))return!1;const n=WS.ObjectTypesToIds[t]||t;return Object(jR.J)({objectTypeId:n,property:e})};var YR=n("U+NM"),BR=n("o2FA");const GR=e=>{const{onChange:t,onOpenChange:n,options:r,resolver:a,value:o,uiFormControlProps:s,multi:i}=e,c=Object(l.a)(e,["onChange","onOpenChange","options","resolver","value","uiFormControlProps","multi"]),d=Object(p.useCallback)(e=>{const n=i?Object(b.List)(e.target.value):e.target.value;t(Object(rR.a)(n))},[t,i]),m=Object(p.useMemo)(()=>r.toArray().map(({label:e,value:t})=>({text:e,value:t})),[r]),g=Object(p.useMemo)(()=>{if(o){if("function"==typeof o.toArray)return o.toArray();if(Array.isArray(o))return o;if("string"==typeof o)return i?[o]:o}return i?[]:void 0},[o,i]);return Object(u.jsx)(eR.a,Object.assign({},s,{children:Object(u.jsx)(YR.a,Object.assign({},sR(c),{multi:i,onChange:d,onOpenChange:n,options:m,resolver:a,value:g}))}))};GR.propTypes={multi:XN.a.bool,onChange:XN.a.func.isRequired,onOpenChange:XN.a.func,options:Object($N.listOf)(Object($N.recordOf)({label:XN.a.string.isRequired,value:XN.a.string.isRequired})),resolver:BR.a.isRequired,uiFormControlProps:XN.a.object,value:XN.a.oneOfType([XN.a.string,XN.a.number,Object($N.listOf)(XN.a.oneOfType([XN.a.string,XN.a.number]))])};var VR=GR,HR=n("9Tlw");const WR=PR()(DR()(wR()({help:e=>e.description,text:e=>e.label,value:!0})),kR.a),KR=e=>{const t=b.Map.isMap(e)?e.toJS():e;return Object(QN.a)(t)},qR=(e,t,n,r)=>{const a=t&&t.map(KR);return r?b.List.isList(n)?n:Object(b.List)():b.List.isList(a)&&b.List.isList(n)?n.concat(a):vR()(a)&&b.List.isList(n)?n:e&&e.hubspotDefined?WR(a)||Object(b.List)():a||Object(b.List)()},QR=(e,t)=>{if(t&&t.get("referencedObjectType")===VN.INBOUND_DB_LIST)return{listFilterProperties:{includeDeletes:!1,objectTypeId:e}}};function $R(e){let{error:t,field:n,filterFamily:r,options:a,resolver:o,specialOptions:s,onBlur:i,onChange:c}=e,d=Object(l.a)(e,["error","field","filterFamily","options","resolver","specialOptions","onBlur","onChange"]);const[m,g]=Object(p.useState)(!1),b=t.get("error"),O=t.get("message"),f=e=>{g(e.target.value);!1===e.target.value&&i&&i()},E=e=>{c(e,m)},y={"aria-label":h.a.text("customerDataFilters.FilterOperatorInput.ariaLabel"),error:b,validationMessage:b?O:null},T=Object.assign({},sR(d,{multi:!0}),{menuRenderer:HR.a,onChange:E,onOpenChange:f,options:qR(n,a,s,o),resolver:o,onKeyDown:e=>e.stopPropagation(),onKeyPress:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation()});return FR(n,r)?Object(u.jsx)(VR,Object.assign({},T,{uiFormControlProps:y})):Object(u.jsx)(eR.a,Object.assign({},y,{children:Object(u.jsx)(NR.a,Object.assign({},T,{requestOptions:QR(r,n)}))}))}$R.propTypes={error:ZN.isRequired,field:_R,filterFamily:XN.a.string.isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,options:Object($N.listOf)(XN.a.shape({label:XN.a.string.isRequired,value:XN.a.string.isRequired})),resolver:XN.a.oneOfType([RR.a,BR.a]),specialOptions:Object($N.listOf)(Object($N.recordOf)({label:XN.a.string.isRequired,value:XN.a.string.isRequired}))};const JR="__DEFAULT__",zR="__REFINEMENT__",XR="customerDataFilters.FilterOperatorLabelTranslations";Object(b.fromJS)({[JR]:{[Kf]:XR+".DEFAULT.After",[MI]:XR+".DEFAULT.AfterDate",[qf]:XR+".DEFAULT.Any",[Qf]:XR+".DEFAULT.AssociatedTo",[$f]:XR+".DEFAULT.Before",[PI]:XR+".DEFAULT.BeforeDate",[Jf]:XR+".DEFAULT.BeforeNow",[zf]:XR+".DEFAULT.Contain",[Xf]:XR+".DEFAULT.ContainAll",[Zf]:XR+".DEFAULT.ContainAllTeams",[eE]:XR+".DEFAULT.ContainAny",[vE]:XR+".DEFAULT.CtaHasClicked",[LE]:XR+".DEFAULT.CtaHasNotClicked",[DE]:XR+".DEFAULT.CtaHasNotSeen",[ME]:XR+".DEFAULT.CtaHasSeen",[FE]:XR+".DEFAULT.DeprecatedFilter",[YE]:XR+".DEFAULT.EmailBounced",[BE]:XR+".DEFAULT.EmailLinkClicked",[GE]:XR+".DEFAULT.EmailMarked",[VE]:XR+".DEFAULT.EmailOpened",[HE]:XR+".DEFAULT.EmailOpenedButLinkNotClicked",[KE]:XR+".DEFAULT.EmailOpenedButNotReplied",[WE]:XR+".DEFAULT.EmailReceived",[qE]:XR+".DEFAULT.EmailReceivedButNotOpened",[QE]:XR+".DEFAULT.EmailReplied",[$E]:XR+".DEFAULT.EmailSent",[JE]:XR+".DEFAULT.EmailSentButLinkNotClicked",[zE]:XR+".DEFAULT.EmailSentButNotReceived",[XE]:XR+".DEFAULT.EmailUnsubscribed",[ZE]:XR+".DEFAULT.EmailSubscriptionNotOpted",[ey]:XR+".DEFAULT.EmailSubscriptionOptIn",[ty]:XR+".DEFAULT.EmailSubscriptionOptOut",[ny]:XR+".DEFAULT.EndsWith",[ry]:XR+".DEFAULT.EndsWithAny",[ay]:XR+".DEFAULT.Equal",[oy]:XR+".DEFAULT.EqualAll",[sy]:XR+".DEFAULT.EqualAny",[iy]:XR+".DEFAULT.EventCompleted",[cy]:XR+".DEFAULT.EventNotCompleted",[ly]:XR+".DEFAULT.EverContained",[uy]:XR+".DEFAULT.EverContainedAll",[py]:XR+".DEFAULT.EverContainedAny",[dy]:XR+".DEFAULT.EverEqual",[my]:XR+".DEFAULT.EverEqualAny",[LI]:XR+".DEFAULT.EverEqualAll",[gy]:XR+".DEFAULT.EverIn",[fy]:XR+".DEFAULT.FormFilledOut",[Ey]:XR+".DEFAULT.FormNotFilledOut",[yy]:XR+".DEFAULT.Greater",[Ty]:XR+".DEFAULT.GreaterOrEqual",[hy]:XR+".DEFAULT.GreaterRolling",[Sy]:XR+".DEFAULT.GreaterThanRolling",[_y]:XR+".DEFAULT.In",[Ny]:XR+".DEFAULT.InImport",[Ry]:XR+".DEFAULT.InRange",[ST]:XR+".DEFAULT.InRollingDateRange",[_T]:XR+".DEFAULT.Known",[NT]:XR+".DEFAULT.Less",[RT]:XR+".DEFAULT.LessOrEqual",[vT]:XR+".DEFAULT.LessRolling",[MT]:XR+".DEFAULT.LessThanRolling",[PT]:XR+".DEFAULT.ListIsMember",[UT]:XR+".DEFAULT.ListIsNotMember",[xT]:XR+".DEFAULT.Near",[wT]:XR+".DEFAULT.NeverContained",[YT]:XR+".DEFAULT.NeverEqual",[BT]:XR+".DEFAULT.NeverEqualAny",[DI]:XR+".DEFAULT.NeverEqualAll",[GT]:XR+".DEFAULT.NeverIn",[VT]:XR+".DEFAULT.NotContain",[HT]:XR+".DEFAULT.NotContainAll",[WT]:XR+".DEFAULT.NotContainAny",[KT]:XR+".DEFAULT.NotEqual",[qT]:XR+".DEFAULT.NotEqualAll",[QT]:XR+".DEFAULT.NotEqualAny",[FT]:XR+".DEFAULT.NeverContainedAll",[JT]:XR+".DEFAULT.SurveyMonkeyHasAnswered",[$T]:XR+".DEFAULT.SurveyMonkeyHasResponded",[zT]:XR+".DEFAULT.SurveyMonkeyNotHasResponded",[XT]:XR+".DEFAULT.NotIn",[ZT]:XR+".DEFAULT.NotInImport",[eI]:XR+".DEFAULT.NotInRange",[tI]:XR+".DEFAULT.NotKnown",[aI]:XR+".DEFAULT.NotWildCardEqual",[nI]:XR+".DEFAULT.NotUpdatedInLastXDays",[oI]:XR+".DEFAULT.PageViewContain",[sI]:XR+".DEFAULT.PageViewEqual",[iI]:XR+".DEFAULT.PageViewMatchRegex",[cI]:XR+".DEFAULT.PageViewNotContain",[lI]:XR+".DEFAULT.PageViewNotEqual",[uI]:XR+".DEFAULT.PageViewNotMatchRegex",[pI]:XR+".DEFAULT.PrivacyConsentCompleted",[dI]:XR+".DEFAULT.PrivacyConsentNotCompleted",[mI]:XR+".DEFAULT.StartsWith",[gI]:XR+".DEFAULT.StartsWithAny",[bI]:XR+".DEFAULT.UpdatedAfter",[OI]:XR+".DEFAULT.UpdatedBefore",[fI]:XR+".DEFAULT.UpdatedInLastXDays",[EI]:XR+".DEFAULT.WebinarHasAttended",[TI]:XR+".DEFAULT.WebinarNotHasAttended",[II]:XR+".DEFAULT.WebinarNotHasRegistered",[yI]:XR+".DEFAULT.WebinarHasRegistered",[hI]:XR+".DEFAULT.WildCardEqual",[jI]:XR+".DEFAULT.WorkflowActive",[NI]:XR+".DEFAULT.WorkflowNotActive",[AI]:XR+".DEFAULT.WorkflowCompleted",[RI]:XR+".DEFAULT.WorkflowNotCompleted",[SI]:XR+".DEFAULT.WorkflowEnrolled",[CI]:XR+".DEFAULT.WorkflowNotEnrolled",[_I]:XR+".DEFAULT.WorkflowMetGoal",[vI]:XR+".DEFAULT.WorkflowNotMetGoal",[UI]:XR+".DEFAULT.Equal",[kI]:XR+".DEFAULT.BeforeDate",[xI]:XR+".DEFAULT.AfterDate",[wI]:XR+".DEFAULT.InRange",[FI]:XR+".DEFAULT.NotInRange"},[JO.DATE]:{[yy]:XR+".DATE.Greater",[Ty]:XR+".DATE.GreaterOrEqual",[NT]:XR+".DATE.Less",[RT]:XR+".DATE.LessOrEqual"},[JO.DATE_TIME]:{[yy]:XR+".DATE.Greater",[NT]:XR+".DATE.Less"},[zR]:{[ay]:XR+".REFINEMENT.Equal",[yy]:XR+".REFINEMENT.Greater",[NT]:XR+".REFINEMENT.Less"},[JO.STRING]:{[aI]:XR+".STRING.NotWildCardEqual",[hI]:XR+".STRING.WildCardEqual"}});var ZR=n("t6nY"),eC=n.n(ZR);const tC=({className:e,"data-selenium-test":t,error:n,onChange:r,onBlur:a,value:o})=>{const s=()=>{"function"==typeof a&&a()};return Object(u.jsx)(eR.a,{"aria-label":h.a.text("customerDataFilters.FilterOperatorInput.ariaLabel"),error:n.get("error"),validationMessage:n.get("error")?n.get("message"):null,children:Object(u.jsx)(IR.a,{allowCreate:!0,arrowRenderer:()=>Object(u.jsx)("div",{className:"Select-arrow",style:{opacity:0}}),className:eC()(e,t),multi:!0,noResultsText:Object(u.jsx)(jn.a,{message:"customerDataFilters.FilterOperatorMultiStringInput.resultsText"}),onBlur:s,onChange:e=>r(Object(rR.a)(Object(b.List)(e.target.value))),placeholder:Object(u.jsx)(jn.a,{message:"customerDataFilters.FilterOperatorMultiStringInput.placeholder"}),promptTextCreator:e=>Object(_o.a)("customerDataFilters.FilterOperatorMultiStringInput.promptText",{value:e}),value:o&&o.toArray()||[]})})};tC.propTypes={className:XN.a.string,"data-selenium-test":XN.a.string.isRequired,error:ZN.isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,value:Object($N.listOf)(XN.a.string)};var nC=tC,rC=n("FU4R"),aC=n("hI6f");const oC=e=>Oy()(e)?""+e:"",sC=e=>{const{className:t,currencyCode:n,error:r,numberDisplayHint:a,onChange:o,onBlur:s,showCurrencySymbol:i,value:c}=e,p=Object(l.a)(e,["className","currencyCode","error","numberDisplayHint","onChange","onBlur","showCurrencySymbol","value"]),d=r.get("error"),m=r.get("message"),g=i?aC.a:TR.a,b=a===rC.e?oC:void 0;return Object(u.jsx)(eR.a,{"aria-label":h.a.text("customerDataFilters.FilterOperatorInput.ariaLabel"),error:d,validationMessage:d?m:null,children:Object(u.jsx)(g,Object.assign({},sR(p),{className:t,currency:n,formatter:b,onBlur:s,onChange:o,value:c}))})};sC.propTypes={className:XN.a.string,currencyCode:XN.a.string.isRequired,error:ZN.isRequired,numberDisplayHint:XN.a.string,onBlur:XN.a.func,onChange:XN.a.func.isRequired,showCurrencySymbol:XN.a.bool.isRequired,value:XN.a.number};var iC=n("LZPL"),cC=n.n(iC);const lC="LocalSettings:CustomerDataFilters:";function uC(e){Object(Uf.a)(Wf()(e)&&e.length>1,"expected `key` to be a non-empty string but got `%s`",e);return lC+e}function pC(e,t){try{const n=e[uC(t)];return void 0===n?n:JSON.parse(n)}catch(e){cC.a.isProd()||console.error("Error: getFrom:",e);return}}function dC(e,t,n){try{e[uC(t)]=JSON.stringify(n);return n}catch(e){cC.a.isProd()||console.error("Error: setFrom:",e);return}}var mC=n("U4kd"),gC=n("BPM/"),bC=n("Tqy5");const OC=e=>{const t=e.referencedObject.get("remoteList").some(e=>!0===e.get("active")),n=gC.a.toOption(e);Object(mC.a)(e.referencedObject)&&(n.text=h.a.text("customerDataFilters.FilterOperatorOwnerInput.salesforceUser",{name:n.text}));return Object.assign({},n,{help:t?e.description:h.a.text("customerDataFilters.FilterOperatorOwnerInput.inactiveOwner",{email:e.description})})},fC=(e,t,n)=>n?b.List.isList(t)?t:Object(b.List)():b.List.isList(e)&&b.List.isList(t)?t.concat(e):vR()(e)&&b.List.isList(t)?t:e||Object(b.List)();class EC extends p.PureComponent{constructor(e){super(e);this.handleDeactivatedUsersChange=({target:{checked:e}})=>{dC(window.localStorage,"showInactiveOwners",""+e);this.setState({isOpen:!0,showInactiveOwners:e})};this.onOpenChange=e=>{this.setState({isOpen:e.target.value});!1===e.target.value&&this.props.onBlur&&this.props.onBlur()};this.onChange=e=>{this.props.onChange(e,this.state.isOpen)};this.state={isOpen:!1,showInactiveOwners:"true"===pC(window.localStorage,"showInactiveOwners")}}render(){const e=this.props,{error:t,options:n,resolver:r,specialOptions:a}=e,o=Object(l.a)(e,["error","options","resolver","specialOptions","onChange","onBlur"]),{isOpen:s,showInactiveOwners:i}=this.state,c=t.get("error"),d=t.get("message");return Object(u.jsx)(eR.a,{error:c,style:{width:"100%"},validationMessage:c?d:null,children:Object(p.createElement)(NR.a,Object.assign({},o,{dropdownFooter:Object(u.jsx)(bC.a,{checked:i,onChange:this.handleDeactivatedUsersChange,children:Object(u.jsx)(jn.a,{message:"customerDataFilters.FilterOperatorOwnerInput.showInactiveOwners"})}),ignoreAccents:!1,key:i?"all":"active",menuWidth:"auto",onChange:this.onChange,onOpenChange:this.onOpenChange,open:s,optionFormatter:OC,options:fC(n,a,r),requestOptions:{includeInactive:i},resolver:r}))})}}EC.propTypes={error:ZN.isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,options:Object($N.listOf)(Object($N.recordOf)({label:XN.a.string.isRequired,value:XN.a.string.isRequired})),resolver:RR.a,specialOptions:Object($N.listOf)(Object($N.recordOf)({label:XN.a.string.isRequired,value:XN.a.string.isRequired}))};var yC=n("6ZcH");class TC extends p.Component{constructor(...e){super(...e);this.handleRenderedValueChange=({target:{value:e}})=>{const{onChange:t}=this.props;t(Object(rR.a)(e/100))}}render(){const e=this.props,{className:t,error:n,value:r,onBlur:a}=e,o=Object(l.a)(e,["className","error","value","onBlur"]),s=n.get("error"),i=n.get("message"),c=r?100*r:r;return Object(u.jsx)(eR.a,{"aria-label":h.a.text("customerDataFilters.FilterOperatorInput.ariaLabel"),error:s,validationMessage:s?i:null,children:Object(u.jsx)(yC.a,{position:"end",text:"%",children:Object(u.jsx)(TR.a,Object.assign({},sR(o),{className:t,onBlur:a,onChange:this.handleRenderedValueChange,value:c}))})})}}TC.propTypes={className:XN.a.string,error:ZN.isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,value:XN.a.number};var IC=n("Ag4l"),hC=n("1bYP"),jC=n("nkcb"),AC=n("66eB");const SC=e=>new Promise((t,n)=>{const r=Object(jC.d)({loading:AC.a,error(t){n(t.reason);Object(hC.unwatch)(e,r)},resolved(n){t(n);Object(hC.unwatch)(e,r)}});Object(hC.watch)(e,r);r(Object(hC.deref)(e))}),_C=(e,t,n)=>n?b.List.isList(t)?t:Object(b.List)():b.List.isList(e)&&b.List.isList(t)?t.concat(e):vR()(e)&&b.List.isList(t)?t:e||Object(b.List)();class NC extends p.Component{constructor(e){super(e);this.onOpenChange=e=>{this.setState({isOpen:e.target.value});!1===e.target.value&&this.props.onBlur&&this.props.onBlur()};this.onChange=e=>{this.props.onChange(e,this.state.isOpen)};this.loadTeams=this.loadTeams.bind(this);this.state={isLoading:!0,teams:Object(b.List)(),isOpen:!1}}componentDidMount(){const{resolver:e}=this.props;this.loadTeams(e)}loadTeams(e){if(!e||!e.all)return;SC(e.all()).then(e=>{this.setState({isLoading:!1,teams:e.toList()})})}render(){const e=this.props,{buttonUse:t,"data-selenium-test":n,options:r,resolver:a,specialOptions:o,error:s}=e,i=Object(l.a)(e,["buttonUse","data-selenium-test","options","resolver","specialOptions","error","onChange","onBlur"]),{isLoading:c,teams:p}=this.state;return Object(u.jsx)("div",{"data-selenium-test":n,children:Object(u.jsx)(IC.a,Object.assign({buttonUse:t,customOptions:_C(r,o,a),isLoading:c,onChange:this.onChange,onOpenChange:this.onOpenChange,showPlaceholder:!0,showTags:!0,teams:p,uiFormControlProps:{error:s.get("error"),validationMessage:s.get("error")?s.get("message"):null}},i))})}}NC.propTypes={buttonUse:XN.a.string,className:XN.a.string,"data-selenium-test":XN.a.string,error:ZN.isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,options:JN.a.listOf(XN.a.instanceOf(QN.a)),resolver:RR.a,specialOptions:JN.a.listOf(XN.a.instanceOf(QN.a)),value:JN.a.listOf(XN.a.string)};NC.defaultProps={buttonUse:"form"};var RC=n("V4AE");const CC=e=>{const{className:t,"data-selenium-test":n,error:r,onChange:a,onBlur:o,value:s}=e,i=r.get("error"),c=r.get("message");return Object(u.jsx)(eR.a,{"aria-label":h.a.text("customerDataFilters.FilterOperatorInput.ariaLabel"),error:i,validationMessage:i?c:null,children:Object(u.jsx)(RC.a,{autoFocus:!0,className:t,"data-selenium-test":n,onBlur:o,onChange:a,value:s})})};CC.propTypes={className:XN.a.string,"data-selenium-test":XN.a.string,error:ZN.isRequired,onBlur:XN.a.func,onChange:XN.a.func.isRequired,value:XN.a.string};const vC="object_coordinates";var LC=n("Oc1M"),DC=n.n(LC);const MC=e=>ZS(e)?b.OrderedSet.of(UI,kI,xI,wI,FI):b.OrderedSet.of(ay,PI,MI,Ry,eI),PC=new Map([[gE,(e,t)=>{switch(e){case JO.ENUMERATION:return b.OrderedSet.of(_y,XT,_T,tI);case JO.NUMBER:return b.OrderedSet.of(ay,KT,NT,RT,yy,Ty,_T,tI);case JO.STRING:return b.OrderedSet.of(sy,QT,eE,WT,gI,ry,_T,tI);case JO.DATE_TIME:return MC(t).concat(b.OrderedSet.of(hy,vT));default:return}}],[tE,(e,t)=>{switch(e){case JO.DATE:case JO.DATE_TIME:return b.OrderedSet.of(NT,yy,Ry,eI,Sy,MT);case JO.ENUMERATION:return b.OrderedSet.of(sy,_T);case JO.STRING:return b.OrderedSet.of(sy,eE,gI,ry,_T);default:return}}],[pE,(e,t)=>{switch(e){case JO.BOOLEAN:return b.OrderedSet.of(ay,KT,_T,tI);case JO.DATE:case JO.DATE_TIME:return MC(t).concat(b.OrderedSet.of(hy,vT,_T,tI));case JO.ENUMERATION:return b.OrderedSet.of(_y,XT,_T,tI);case JO.NUMBER:return b.OrderedSet.of(ay,KT,NT,RT,yy,Ty,_T,tI);case JO.STRING:return b.OrderedSet.of(sy,QT,eE,WT,gI,ry,_T,tI);default:return}}],[yE,(e,t)=>{switch(e){case JO.BOOLEAN:return b.OrderedSet.of(ay,KT,_T,tI);case JO.DATE:case JO.DATE_TIME:return MC(t).concat(b.OrderedSet.of(hy,vT,_T,tI));case JO.ENUMERATION:return b.OrderedSet.of(_y,XT,_T,tI);case JO.NUMBER:return b.OrderedSet.of(ay,KT,NT,RT,yy,Ty,_T,tI);case JO.STRING:return b.OrderedSet.of(sy,QT,eE,WT,gI,ry,_T,tI);case vC:return b.OrderedSet.of(sy,QT,_T,tI);default:return}}]]),UC=(e,t)=>{switch(e){case JO.BOOLEAN:return b.OrderedSet.of(ay,KT,_T,tI,dy,YT,fI,nI,bI,OI);case JO.DATE:case JO.DATE_TIME:return MC(t).concat(b.OrderedSet.of(hy,vT,_T,tI,Kf,$f,fI,nI,bI,OI));case JO.ENUMERATION:return b.OrderedSet.of(_y,XT,_T,tI,gy,GT,oy,qT,Xf,HT,LI,DI,uy,FT,fI,nI,bI,OI);case JO.NUMBER:return b.OrderedSet.of(ay,KT,NT,RT,yy,Ty,_T,tI,dy,YT,fI,nI,bI,OI);case JO.STRING:return b.OrderedSet.of(sy,QT,eE,WT,gI,ry,_T,tI,my,BT,ly,wT,fI,nI,bI,OI);case aE:return b.OrderedSet.of(vE,LE,ME,DE);case uE:return b.OrderedSet.of(EI,TI,yI,II);case OE:return b.OrderedSet.of(PT,UT);case fE:return b.OrderedSet.of(Ny,ZT);case dE:return b.OrderedSet.of(sI,lI,oI,cI,iI,uI);case mE:return b.OrderedSet.of($T,zT);case lE:return b.OrderedSet.of(fy,Ey);case cE:return b.OrderedSet.of(iy,cy);case iE:return b.OrderedSet.of(ey,ty,ZE);case sE:return b.OrderedSet.of(BE,GE,VE,HE,KE,QE,XE,YE,WE,qE,$E,JE,zE);case bE:return b.OrderedSet.of(jI,NI,AI,RI,SI,CI,_I,vI);default:return}},kC=b.OrderedSet.of(pI,dI),xC=e=>{if(KS(e)||qS(e))return yE;const t=US(e);return t||e};DC()((e,t,n)=>{Object(Uf.a)("function"==typeof n,`Expected ${n} to be a function`);const r=xC(t),a=US(e)||e;if(r===rE&&e===_E)return kC;const o=PC.get(r);return o?o(e,n):UC(e,n)||UC(a,n)});n("BMZA");var wC=n("9L5R"),FC=n("/7Op"),YC=n("TsUQ"),BC=n("DIPK"),GC=n("aOr5");var VC=(e=>Object(YC.a)(Object.assign({cacheKey:BC.c,createFetchByIds:e=>Object(GC.c)(e)(HN.q),createFetchSearchPage:e=>Object(GC.a)(e)(HN.q),fetchByIds:Object(GC.g)(HN.q),fetchSearchPage:Object(GC.e)(HN.q)},e)))(),HC=n("BUmr"),WC=n("Zoa6");var KC=(e=>Object(YC.a)(Object.assign({cacheKey:BC.m,createFetchByIds:e=>Object(GC.c)(e)(HN.t),createFetchSearchPage:e=>Object(GC.a)(e)(HN.t),fetchByIds:Object(GC.g)(HN.t),fetchSearchPage:Object(GC.e)(HN.t)},e)))(),qC=n("Ddfg"),QC=n("7Y4s"),$C=e=>e.reduce((e,t)=>e.set(String(t.id),Object(gC.a)({id:String(t.id),label:t.title,referencedObject:t})),Object(b.Map)());const JC="activities/v2/filters",zC=({httpClient:e})=>()=>e.get(JC).then($C),XC=zC({httpClient:Kc.a});var ZC=(e=>Object(QC.a)(Object.assign({cacheKey:BC.t,createFetchData:zC,fetchData:XC},e)))(),ev=n("WwZd"),tv=n("bQHN"),nv=n.n(tv);const rv=50,av="blogs/v3/blog-posts",ov="blogs/v3/blog-authors",sv="blog-settings/v1/blogs",iv="blogs/v3/tags",cv={limit:rv,offset:0,order:"name",property:["absolute_url","id","name"]},lv={limit:rv,offset:0,order:"fullName",property:["displayName","email","id","language"]},uv={limit:rv,offset:0,order:"name",property:["id","name","language"]},pv=((({httpClient:e})=>{})({httpClient:Kc.a}),({httpClient:e})=>(t={offset:0,query:""})=>{const n=nv()("offset",t),r=nv()("query",t);return e.get(sv,{query:Object.assign({},cv,{offset:n,name__icontains:r})}).then(b.fromJS).then(e=>{const t=Object(ev.a)({getId:nv()("id"),getLabel:nv()("name")})(e.get("objects"));return Object(b.Map)({count:t.length,offset:n+t.length,hasMore:rv+n<e.get("total"),results:t,total:e.get("total")})})}),dv=pv({httpClient:Kc.a}),mv=({httpClient:e})=>t=>e.get(sv,{query:Object.assign({},cv,{id__in:t})}).then(b.fromJS).then(e=>Object(ev.a)({getId:nv()("id"),getLabel:nv()("name")})(e.get("objects"))),gv=mv({httpClient:Kc.a}),bv=({httpClient:e})=>(t={offset:0,query:""})=>{const n=nv()("offset",t),r=nv()("query",t);return e.get(ov,{query:Object.assign({},lv,{offset:n,name__icontains:r})}).then(b.fromJS).then(e=>{const t=Object(ev.a)({getId:nv()("id"),getLabel:nv()("displayName"),getDescription:nv()("email")})(e.get("objects"));return Object(b.Map)({count:t.length,offset:n+t.length,hasMore:rv+n<e.get("total"),results:t,total:e.get("total")})})},Ov=bv({httpClient:Kc.a}),fv=({httpClient:e})=>t=>e.get(ov,{query:Object.assign({},lv,{id__in:t})}).then(b.fromJS).then(e=>Object(ev.a)({getId:nv()("id"),getLabel:nv()("displayName"),getDescription:nv()("email")})(e.get("objects"))),Ev=fv({httpClient:Kc.a}),yv=({httpClient:e})=>(t={offset:0,query:""})=>{const{offset:n,query:r}=t.toJS();return e.get(iv,{query:Object.assign({},uv,{offset:n,name__icontains:r})}).then(b.fromJS).then(e=>{const t=Object(ev.a)({getId:nv()("id"),getLabel:nv()("name")})(e.get("objects"));return Object(b.Map)({count:t.length,offset:n+t.length,hasMore:rv+n<e.get("total"),results:t,total:e.get("total")})})},Tv=yv({httpClient:Kc.a}),Iv=({httpClient:e})=>t=>e.get(iv,{query:Object.assign({},uv,{limit:t.length,id__in:t})}).then(b.fromJS).then(e=>Object(ev.a)({getId:nv()("id"),getLabel:nv()("name")})(e.get("objects"))),hv=Iv({httpClient:Kc.a});var jv=(e=>Object(YC.a)(Object.assign({cacheKey:BC.w,createFetchSearchPage:bv,fetchSearchPage:Ov,createFetchByIds:fv,fetchByIds:Ev},e)))();var Av=(e=>Object(YC.a)(Object.assign({cacheKey:BC.v,createFetchSearchPage:pv,fetchSearchPage:dv,createFetchByIds:mv,fetchByIds:gv},e)))();var Sv=(e=>Object(YC.a)(Object.assign({cacheKey:BC.x,createFetchSearchPage:yv,fetchSearchPage:Tv,createFetchByIds:Iv,fetchByIds:hv},e)))(),_v=n("dZTF"),Nv=n("lfzW"),Rv=n("5rAZ"),Cv=n("911S"),vv=n("iZt3"),Lv=n.n(vv);const Dv=Object(Cv.a)("hs_chatflow_name"),Mv=e=>!!e.properties.hs_deleted_at,Pv=e=>new gC.a({id:String(e.objectId),label:Dv(e),referencedObject:Object(b.fromJS)(e),archived:Mv(e)});var Uv=e=>Lv()(nv()("id"),Object(b.List)(Object.values(e)).map(Pv));const kv=({httpClient:e})=>t=>e.post("crm-objects/v1/objects/chatflow/batch-read?properties=hs_chatflow_name&properties=hs_deleted_at",{data:{ids:t}}).then(Uv),xv=kv({httpClient:Kc.a});var wv=n("DF/D");const Fv={},Yv={},Bv={getters:{getLabel:Dv,getArchived:Mv}};var Gv=(e=>Object(YC.a)(Object.assign({cacheKey:BC.C,createFetchByIds:kv,fetchByIds:xv,createFetchSearchPage:e=>Object(wv.b)(e)(HN.F,{searchOptions:Fv,searchQueryParams:Yv,formatterOptions:Bv}),fetchSearchPage:Object(wv.c)(HN.F,{searchOptions:Fv,searchQueryParams:Yv,formatterOptions:Bv})},e)))();const Vv=e=>Object(ev.a)({getId:nv()("id"),getLabel:nv()("name")},e.views),Hv=({httpClient:e})=>t=>()=>e.get("sales/v2/settings/views/"+t).then(Vv),Wv=Hv({httpClient:Kc.a});var Kv=(e=>Object(QC.a)(Object.assign({cacheKey:BC.E,createFetchData:e=>Hv(e)("companies"),fetchData:Wv("companies")},e)))(),qv=n("uPyI"),Qv=n("Cprn"),$v=n("55pL"),Jv=n("Sola"),zv=n("qC5i");var Xv=(e=>Object(QC.a)(Object.assign({cacheKey:BC.I,createFetchData:e=>Hv(e)("contacts"),fetchData:Wv("contacts")},e)))(),Zv=n("DT9N");const eL="hs_content_id",tL="hs_name";var nL=(e=>Object(YC.a)(Object.assign({cacheKey:BC.M,createFetchByIds:e=>Object(Zv.a)(e)(HN.P,eL,tL),createFetchSearchPage:e=>Object(Zv.b)(e)(HN.P,eL,tL),fetchByIds:Object(Zv.c)(HN.P,eL,tL),fetchSearchPage:Object(Zv.d)(HN.P,eL,tL)},e)))();const rL=Object(Cv.a)("hs_inbox_name"),aL=e=>!!e.properties.hs_deleted_at,oL=e=>new gC.a({id:String(e.objectId),label:rL(e),referencedObject:Object(b.fromJS)(e),archived:aL(e)});var sL=e=>Lv()(nv()("id"),Object(b.List)(Object.values(e)).map(oL));const iL=({httpClient:e})=>t=>e.post("crm-objects/v1/objects/conversation_inbox/batch-read?properties=hs_inbox_name&properties=hs_deleted_at",{data:{ids:t}}).then(sL),cL=iL({httpClient:Kc.a}),lL={},uL={},pL={getters:{getLabel:rL,getArchived:aL}};var dL=(e=>Object(YC.a)(Object.assign({cacheKey:BC.N,createFetchByIds:iL,fetchByIds:cL,createFetchSearchPage:e=>Object(wv.b)(e)(HN.Q,{searchOptions:lL,searchQueryParams:uL,formatterOptions:pL}),fetchSearchPage:Object(wv.c)(HN.Q,{searchOptions:lL,searchQueryParams:uL,formatterOptions:pL})},e)))(),mL=n("88JM"),gL=n("PFSs"),bL=n("GPm2"),OL=n("egPf");var fL=(e=>Object(QC.a)(Object.assign({cacheKey:BC.U,createFetchData:e=>Hv(e)("deals"),fetchData:Wv("deals")},e)))();const EL="/cosemail/v1/emails",yL=Object(ev.a)({getId:nv()("id"),getLabel:nv()("name")}),TL=Object(ev.a)({getId:nv()("contentId"),getLabel:nv()("name")}),IL=({httpClient:e})=>t=>{const n=t&&t.length,r={id__in:t.join(","),property:["id","name"],limit:n};return e.get(EL,{query:r}).then(nv()("objects")).then(yL)},hL=IL({httpClient:Kc.a}),jL=({httpClient:e})=>t=>e.get(EL+"/search",{query:{limit:nv()("count",t)||100,offset:nv()("offset",t)||0,q:nv()("query",t)||""}}).then(e=>{const{hasMore:t,results:n=[],offset:r}=e;return Object(b.Map)({count:n.length,hasMore:t,offset:r,results:TL(Object(b.fromJS)(e.results))})}),AL=jL({httpClient:Kc.a});var SL=(e=>Object(YC.a)(Object.assign({cacheKey:BC.Z,createFetchByIds:IL,fetchByIds:hL,createFetchSearchPage:jL,fetchSearchPage:AL},e)))(),_L=n("4OPe"),NL=n("V0Wc");var RL=(e=>Object(YC.a)(Object.assign({cacheKey:BC.db,createFetchByIds:e=>Object(NL.a)(e)(HN.gb),createFetchSearchPage:e=>Object(NL.b)(e)(HN.gb),fetchByIds:Object(NL.c)(HN.gb),fetchSearchPage:Object(NL.d)(HN.gb)},e)))(),CL=n("0pPx");const vL={NPS:"NPS",CES:"CES",CSAT:"CSAT",CUSTOM:"CUSTOM",KNOWLEDGE:"KNOWLEDGE"},LL={NPS:"hasNpsSurvey",CES:"hasCesSurvey",CSAT:"hasCsatSurvey",CUSTOM:"hasCustomSurvey"},DL=(e,t)=>new gC.a({id:e,label:t,referencedObject:Object(b.fromJS)({type:t})});var ML=e=>{const t=DL(vL.NPS,vL.NPS),n=DL(vL.CES,vL.CES),r=DL(vL.CSAT,vL.CSAT),a=DL(vL.CUSTOM,vL.CUSTOM),o=DL(vL.KNOWLEDGE,vL.KNOWLEDGE);return b.List.of(t,n,r,a,o).filter(t=>t.get("id")===vL.KNOWLEDGE||e[LL[t.get("id")]])};const PL=({httpClient:e})=>()=>e.get("feedback/v1/survey-config").then(ML),UL=PL({httpClient:Kc.a});var kL=(e=>Object(QC.a)(Object.assign({cacheKey:BC.hb,createFetchData:PL,fetchData:UL},e)))();const xL=e=>new gC.a({id:String(e.submissionId),label:e.responseContent,description:String(e.value),referencedObject:Object(b.fromJS)(e)});var wL=e=>Object(b.List)(e).map(xL);const FL="feedback/v1/submissions/",YL=()=>()=>{throw new Error("Not implemented.")},BL=YL({httpClient:Kc.a}),GL=({hasMore:e,offset:t,total:n,results:r})=>Object(b.Map)({hasMore:e,offset:t+r.length,count:n,results:wL(r)}),VL=(e,t)=>e.post(FL+"all",{data:t}).then(GL),HL=(e,t)=>e.post(FL,{data:t}).then(GL),WL=({httpClient:e})=>t=>t.has("surveyId")&&t.has("surveyType")?HL(e,t):VL(e,t),KL=WL({httpClient:Kc.a});var qL=(e=>Object(YC.a)(Object.assign({cacheKey:BC.gb,createFetchByIds:YL,createFetchSearchPage:WL,fetchByIds:BL,fetchSearchPage:KL},e)))(),QL=n("9HDH"),$L=n("dT2B"),JL=n("BFlO"),zL=n("58nB"),XL=n("YDlN"),ZL=n("fCFA"),eD=n("HQZa"),tD=n("Wkmn"),nD=n("NkM1"),rD=n("Ojza"),aD=n("L8LW"),oD=n("08Ee"),sD=n.n(oD);const iD="line-items/v1/line-items/batch",cD=sD()((e,t)=>t.map(t=>({portalId:Qt.a.get(),objectId:t,requestOptions:{properties:e}}))),lD={[HN.Bb]:{url:iD,adapter:{mapIds:cD(["name"]),mapResponse:Object(ev.a)({getId:nv()("objectId"),getLabel:DA()(["properties","name","value"])})}}},uD=({httpClient:e})=>sD()((t,n)=>{const{url:r,adapter:a}=lD[t];return e.get(r,{query:{id:n,includeAllValues:!0}}).then(e=>Object(b.Map)(e).valueSeq().toArray()).then(a.mapResponse)}),pD=uD({httpClient:Kc.a});var dD=(e=>Object(YC.a)(Object.assign({cacheKey:BC.xb,createFetchByIds:e=>uD(e)(HN.Bb),createFetchSearchPage:e=>Object(NL.b)(e)(HN.Bb),fetchByIds:pD(HN.Bb),fetchSearchPage:Object(NL.d)(HN.Bb)},e)))(),mD=n("iNN+"),gD=n("cvZm"),bD=n("fmEX"),OD=n("Or4J"),fD=n("2bWj"),ED=n("K3IO"),yD=n("5e1t"),TD=n("Pey5");const ID=({httpClient:e})=>t=>{const n="inbounddbproducts/v1/products/batch";return e.get(n,{query:{id:t,allPropertiesFetchMode:"latest_version"}}).then(e=>{const n=t.map(t=>new gC.a({id:String(t),label:e[t]&&e[t].properties.name.value||String(t),referencedObject:Object(b.fromJS)(e[t])}));return Object(b.List)(n)})},hD=ID({httpClient:Kc.a});var jD=(e=>Object(YC.a)(Object.assign({cacheKey:BC.Hb,createFetchByIds:ID,createFetchSearchPage:e=>Object(NL.b)(e)(HN.Nb),fetchByIds:hD,fetchSearchPage:Object(NL.d)(HN.Nb),maxBatchSize:100},e)))(),AD=n("tuQ7"),SD=n("CcSB");const _D=e=>Object(gC.a)({id:String(e.id),label:String(e.stepOrder)});var ND=e=>Lv()(nv()("id"),Object(b.List)(e).map(_D));const RD=()=>e=>Promise.resolve(ND(e.map(e=>+e).map(e=>({id:e,stepOrder:e+1})))),CD=RD(),vD=()=>e=>{const{count:t,offset:n}=e.toJS();return Promise.resolve(ND(Array.from(new Array(t),(e,t)=>t+n).map(e=>({id:e,stepOrder:e+1}))))},LD=vD();var DD=(e=>Object(YC.a)(Object.assign({cacheKey:BC.Ob,createFetchSearchPage:vD,createFetchByIds:RD,fetchByIds:CD,fetchSearchPage:LD},e)))();const MD=e=>e.objects.reduce((e,t)=>e.set(String(t.id),Object(gC.a)({id:String(t.id),label:t.domain,referencedObject:t})),Object(b.Map)()),PD=e=>e.objects.reduce((e,t)=>e.set(t.domain,Object(gC.a)({id:t.domain,label:t.domain,referencedObject:t})),Object(b.Map)()),UD="cos-domains/v1/domains",kD=({httpClient:e})=>e.get(UD,{query:{skipdnscheck:!0,limit:1e3}}),xD=({httpClient:e})=>()=>kD({httpClient:e}).then(PD),wD=({httpClient:e})=>()=>kD({httpClient:e}).then(MD),FD=xD({httpClient:Kc.a}),YD=wD({httpClient:Kc.a});var BD=(e=>Object(QC.a)(Object.assign({cacheKey:BC.Sb,createFetchData:wD,fetchData:YD},e)))();var GD=(e=>Object(QC.a)(Object.assign({cacheKey:BC.Rb,createFetchData:xD,fetchData:FD},e)))(),VD=n("8oui");const HD="hs_template_id",WD="hs_template_name";var KD=(e=>Object(YC.a)(Object.assign({cacheKey:BC.Zb,createFetchByIds:e=>Object(Zv.a)(e)(HN.hc,HD,WD),createFetchSearchPage:e=>Object(Zv.b)(e)(HN.hc,HD,WD),fetchByIds:Object(Zv.c)(HN.hc,HD,WD),fetchSearchPage:Object(Zv.d)(HN.hc,HD,WD)},e)))(),qD=n("XDOU"),QD=n("zg2S"),$D=n("1KLx"),JD=n("J9iE"),zD=n("6evb"),XD=n("Qgfq"),ZD=n("6gCf");const eM={"0-54":{formatterOptions:{getters:{getLabel:DA()(["properties","hs_event_name","value"])}}},"0-91":{formatterOptions:{getters:{getLabel:DA()(["properties","hs_name","value"])}}}},tM=e=>{const t=eM[e]||{};return Object(ZD.a)(e,t)},nM="BATCHEDFORM",rM={[HN.p]:FC.a,[HN.q]:VC,[HN.r]:WC.a,[HN.s]:HC.a,[HN.t]:KC,[HN.a]:qC.a,[HN.w]:ZC,[HN.z]:jv,[HN.A]:Sv,[HN.B]:_v.a,[HN.y]:Av,[HN.D]:Nv.a,[HN.E]:Rv.a,[HN.F]:Gv,[HN.G]:Kv,[HN.I]:qv.a,[HN.H]:Qv.a,[HN.M]:$v.a,[HN.N]:Jv.a,[HN.J]:zv.a,[HN.K]:Xv,[HN.P]:nL,[HN.Q]:dL,[HN.R]:mL.a,[HN.S]:gL.a,[HN.Y]:yD.b,[HN.X]:ED.a,[HN.Z]:bL.a,[HN.V]:OL.b,[HN.W]:fL,[HN.bb]:SL,[HN.hb]:_L.a,[HN.gb]:RL,[HN.ib]:CL.a,[HN.kb]:kL,[HN.jb]:qL,[HN.lb]:QL.a,[nM]:QL.a,[HN.ob]:JL.a,[HN.pb]:zL.a,[HN.qb]:XL.a,[HN.rb]:ZL.a,[HN.sb]:eD.a,[HN.tb]:tD.a,[HN.wb]:nD.a,[HN.vb]:rD.a,[HN.Cb]:aD.a,[HN.Bb]:dD,[HN.Ib]:mD.a,[HN.Jb]:gD.a,[HN.Hb]:bD.a,[HN.Lb]:OD.a,[HN.Mb]:fD.a,[HN.Pb]:TD.a,[HN.Nb]:jD,[HN.Ub]:AD.a,[HN.Vb]:SD.a,[HN.Wb]:DD,[HN.ac]:BD,[HN.Zb]:GD,[HN.gc]:$L.a,[HN.hc]:KD,[HN.jc]:qD.b,[HN.kc]:QD.a,[HN.lc]:JD.b,[HN.ic]:$D.a,[HN.mc]:zD.a,[HN.rc]:XD.a,[HN.fc]:VD.a,[HN.Db]:tM("0-54"),[HN.pc]:tM("0-91")};var aM=n("pHik");const oM=Object(b.fromJS)({[zc.m]:{hs_object_id:HN.J,hubspot_owner_id:HN.Lb,hubspot_team_id:HN.gc,"formSubmissions.formId":HN.lb,hs_persona:HN.Mb,salesforcecampaignids:HN.Ub,"_inbounddbio.importid_":HN.qb},[zc.l]:{hs_object_id:HN.H,hubspot_owner_id:HN.Lb,hubspot_team_id:HN.gc,hs_parent_company_id:HN.H,"_inbounddbio.importid_":HN.ob,hs_analytics_first_touch_converting_campaign:HN.E,hs_analytics_last_touch_converting_campaign:HN.E},[zc.o]:{hubspot_owner_id:HN.Lb,hs_object_id:HN.V,hubspot_team_id:HN.gc,pipeline:HN.X,dealstage:HN.Y,deal_currency_code:HN.Ib,"_inbounddbio.importid_":HN.sb},[zc.q]:{hubspot_owner_id:HN.Lb,hubspot_team_id:HN.gc,hs_created_by:HN.mc,hs_modified_by:HN.mc,hs_activity_type:HN.a,hs_call_disposition:HN.D,hs_meeting_outcome:HN.Hb,hs_queue_membership_ids:HN.fc},[zc.A]:{hs_queue_membership_ids:HN.fc},[zc.f]:{hs_blog_author_id:HN.z},[zc.g]:{hs_created_by:HN.mc,hs_call_disposition:HN.D},[zc.B]:{hs_ticket_id:HN.ic,hs_pipeline:HN.jc,hs_pipeline_stage:HN.lc},[zc.s]:{hs_product_id:HN.Nb,hs_object_id:HN.Bb,hs_line_item_currency_code:HN.Ib},[zc.n]:{hubspot_owner_id:HN.Lb,hs_inbox_object_id:HN.Q},[zc.t]:{hs_campaign_name:HN.E},[zc.i]:{hs_object_id:HN.E,hs_owner:HN.Lb},[zc.J]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.I]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.D]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.C]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.P]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.O]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.N]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_unenrolled_by:HN.mc},[zc.M]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_unenrolled_by:HN.mc},[zc.L]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.K]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.F]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.E]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.H]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.G]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.T]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb},[zc.S]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.V]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.U]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.R]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.Q]:{hs_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb},[zc.z]:{hs_sequence_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_template_id:HN.hc},[zc.y]:{hs_sequence_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_template_id:HN.hc},[zc.v]:{hs_sequence_enrolled_by:HN.mc,hs_user_id:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_template_id:HN.hc},[zc.u]:{hs_sequence_enrolled_by:HN.mc,hs_user_id:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_template_id:HN.hc},[zc.k]:{hs_sequence_enrolled_by:HN.mc,hs_user_id:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_template_id:HN.hc},[zc.j]:{hs_sequence_enrolled_by:HN.mc,hs_user_id:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_template_id:HN.hc},[zc.x]:{hs_sequence_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_template_id:HN.hc},[zc.w]:{hs_sequence_enrolled_by:HN.mc,hs_sequence_id:HN.Vb,hs_sequence_step_order:HN.Wb,hs_template_id:HN.hc},[zc.e]:{hs_ad_campaign_id:HN.r},[zc.d]:{hs_ad_campaign_id:HN.r}}),sM=Object(b.fromJS)({[zc.n]:{hs_conversation_channel:"hs_conversation_channel"},[zc.o]:{hs_tag_ids:"hs_tag_ids"},[zc.B]:{hs_tag_ids:"hs_tag_ids"},[zc.w]:{hs_user_id:"hs_user_id"},[zc.x]:{hs_user_id:"hs_user_id"}}),iM=Object(b.fromJS)({hs_updated_by_user_id:HN.mc,hs_created_by_user_id:HN.mc,hubspot_owner_id:HN.Lb,hubspot_team_id:HN.gc,hs_all_assigned_business_unit_ids:HN.B,hs_content_id:HN.P,hs_email_meta_content_id:HN.bb,hs_form_id:HN.lb,hs_marketing_event:HN.Db,hs_placement_asset_id:HN.S,hs_web_interactive_coordinates:HN.pc}),cM=oM.map(e=>e.map(e=>rM[e])),lM=iM.map(e=>rM[e]),uM=(e,t)=>{const{name:n,metaDefinition:{externalOptionsReferenceType:r}={}}=t;return sM.hasIn([e,n])&&r&&r},pM=(e,t)=>{const{objectTypeId:n}=e,{name:r,metaDefinition:{referencedObjectType:a,externalOptionsReferenceType:o}={}}=t;return rM[a]||rM[o]||cM.getIn([n,r])||lM.get(r)},dM=(e,t)=>{const{objectTypeId:n}=e,r=uM(n,t);return r&&Object(aM.a)(r,n)};n("2RhA"),n("M3id");var mM=Object($N.recordOf)({field:_R.isRequired});function gM(e){return e.reduce((e,t)=>e.merge({[t.get("id")]:t}).merge(gM(t.get("childTeams"))),Object(b.Map)())}class bM extends p.PureComponent{constructor(){super();this.handleReferenceChange=e=>{if(Object(jC.c)(e)){const{value:t}=this.props;e=e.map(e=>e.get("referencedObject"));this.setState({reference:gM(e).get(String(t))})}};this.state={reference:null};this.referenceAtom=null}componentDidMount(){const{getFamilyValueResolver:e,operator:t}=this.props,n=e(t);if(n&&n.all){this.referenceAtom=n.all();Object(hC.watch)(this.referenceAtom,this.handleReferenceChange);this.handleReferenceChange(Object(hC.deref)(this.referenceAtom))}}componentWillUnmount(){this.referenceAtom&&Object(hC.unwatch)(this.referenceAtom,this.handleReferenceChange)}render(){const{value:e,specialOptions:t}=this.props,{reference:n}=this.state,r=t&&t.find(({value:t})=>t===e)||{},a=r.label||r.text||nv()("name",n)||nv()("id",n)||e;return Object(u.jsx)("span",{children:a})}}bM.propTypes={getFamilyValueResolver:XN.a.func.isRequired,operator:mM.isRequired,specialOptions:Object($N.listOf)(XN.a.instanceOf(QN.a).isRequired),value:XN.a.oneOfType([XN.a.element,XN.a.node,XN.a.string]).isRequired};var OM=n("bw30");const fM=e=>[OM.b.HUBSPOT_OBJECT,OM.b.HUBSPOT_EVENT].includes(e),EM=e=>{const{dataSourceType:t}=e;return fM(t)},yM=(Object(b.fromJS)({"0-4":{hs_attachment_ids:nC},"4-665536":{hs_email_campaign_id:nC},"4-666439":{hs_email_campaign_id:nC},"4-666288":{hs_email_campaign_id:nC},"4-666440":{hs_email_campaign_id:nC},"4-665538":{hs_email_campaign_id:nC},"4-665836":{hs_email_campaign_id:nC},"4-667638":{hs_email_campaign_id:nC},"4-666289":{hs_email_campaign_id:nC},"4-699901":{hs_web_interactive_coordinates:$R},"4-1555805":{hs_web_interactive_coordinates:$R},"4-689780":{hs_web_interactive_coordinates:$R},"4-1555804":{hs_web_interactive_coordinates:$R}}),A.CONTACTS,A.COMPANIES,A.DEALS,A.ENGAGEMENTS,A.TICKETS,A.LINE_ITEMS,A.CONVERSATIONS,Object(b.fromJS)({[zc.n]:{hs_conversation_channel:"hs_conversation_channel"}}),Object(b.Map)(wC.a).map(e=>e.filterFamily));yM.flip();const TM=()=>!1,IM="SNOWFLAKE";const hM=e=>!!e&&(![eh,Oh].includes(e.getIn(["filter","operation","operator"]))||e.getIn(["filter","operation","lowerBoundTimestamp"])<=e.getIn(["filter","operation","upperBoundTimestamp"])),jM=e=>{if(!e)return!1;const t=GN(e.filter.toJS(),()=>e.field,IM,TM);return o[t.name].isValid(t)},AM=(e,t)=>e.every(e=>e.filters.every(e=>t(e))),SM=cb("filters",[ib("filter-groups-valid",tb.HARD,nb.INCOMPLETE,e=>AM(e,e=>jM(e)&&hM(e)),e=>e.filtering.groups)]);var _M=n("iCNX"),NM=n("P2ER");const RM=Cn.e.QUARTER,CM=e=>!!e.dateComparisonFilter&&e.dateComparisonFilter.filters.size>0,vM=e=>{if(CM(e))return e.dateComparisonFilter.filters.get(0).field},LM=e=>!!CM(e)&&e.dateComparisonFilter.filters.get(0).filter.getIn(["operation","useFiscalYear"],void 0),DM=e=>{if(CM(e))return e.dateComparisonFilter.filters.get(0).filter.getIn(["operation","timeUnit"])},MM=e=>{const{visual:t}=e,n=CM(e);if(!t)return!1;if(fc(t.type)&&n){if(t.type===Fa.GAUGE)return!0;const n=t.getIn(["encodings",Ba.GROUP,"column"]),r=e.getIn(["columns",n]),a=vM(e),o=DM(e);if(r)return!r.field.equals(a)||r.field.equals(a)&&r.getIn(["transform","arguments","0"])!==o}return!1},PM=(e,t)=>e.getIn(["encodings",t,"column"])||li(),UM=(e,t,n)=>e.field.equals(t)?e.update("transform",e=>e&&e.type===Cn.r.DATE_PART?e:Object(Cn.q)({type:Cn.r.DATE_PART,arguments:Object(b.List)([n])})):e,kM=(e,t,n)=>{const{visual:r}=e;if(!r)return e;const a=PM(r,t),o=vM(e);if(!o)return e;const s=LM(e),i=UM(e.getIn(["columns",a])||pi(o).set("alias",a),o,RM).update("useFiscalYear",e=>null!=s?s:e),c=Ul(e,i);return e.update("columns",e=>e.set(a,i)).updateIn(["visual","encodings"],e=>ic({encodings:e,channelName:t,column:i,expressionField:c,snowflakeProperty:Wm(n,i.field)}))},xM=(e,t,n)=>{const{visual:r}=e;if(!r)return;const a=PM(r,t),o=LM(e),s=e.getIn(["columns",a])||pi(n),i=DM(e),c=s.set("field",n).set("alias",a).update("useFiscalYear",e=>null!=o?o:e);return i?UM(c,n,i):c},wM=(e,t,n)=>{const r=vM(e);if(!r)return e;const a=xM(e,t,r);if(!a)return e;const{alias:o}=a,s=e.hasIn(["columns",o])&&!e.getIn(["columns",o,"field"]).equals(r)&&e.getIn(["columns",o]),i=Ul(e,a);return e.update("columns",e=>e.set(o,a)).updateIn(["visual","encodings"],e=>ic({encodings:e,channelName:t,column:a,expressionField:i,snowflakeProperty:n})).update("stagedColumns",e=>s?e.push(s):e).update("stagedEncodings",e=>s?e.push(Object(Cn.h)({column:s.alias})):e)},FM=(e,t)=>{const n=vM(e),{visual:r}=e;if(!r||!n)return e;const a=r.getIn(["encodings",t,"column"]);if(!a)return e;const{columns:o}=e;if(!o.has(a))return e;const s=o.get(a);if(!s.field.equals(n))return e;let i=s;t!==Ba.GROUP&&s.transform&&s.transform.type||(i=UM(i,n,RM));const c=LM(e);s.useFiscalYear!==c&&null!=c&&(i=i.set("useFiscalYear",c));return e.setIn(["columns",a],i)},YM=(e,t)=>{const{visual:n}=e;if(!n)return e;const r=n.type,a=Ec(r);if(r===Fa.TEXT||r===Fa.GAUGE)return kM(e,a,t);{const n=vM(e);if(!n)return e;const o=xM(e,a,n);if(!o)return e;const s=Wm(t,o.field),i=wM(e,Ba.COLOR,s),c=r===Fa.HORIZONTAL_BAR?Ba.Y:Ba.X;return kM(i,c,t)}},BM=(e,{meta:t})=>{if(CM(e)){const n=e.visual;if(!n)return e;const r=n.type,a=Ec(r);if(r===Fa.TEXT||r===Fa.GAUGE)return FM(e,a);{const n=r===Fa.HORIZONTAL_BAR?Ba.Y:Ba.X,o=vM(e);if(!o)return e;const s=xM(e,a,o);if(!s)return e;const i=Wm(t,s.field),c=FM(e,n);return wM(c,Ba.COLOR,i)}}return e},GM=(e,{meta:t})=>{const{visual:n}=e;if(!n)return e;const r=n.hasIn(["encodings",Ba.COMPARE,"column"]),a=MM(e);if(r&&!a){const t=n.getIn(["encodings",Ba.COMPARE,"column"]);return t?e.updateIn(["visual","encodings"],e=>rc(e,Ba.COMPARE)).update("columns",e=>e.remove(t)):e}if(fc(n.type)&&a){const n=vM(e);if(!n)return e;const r=Wm(t,n),a=e.updateIn(["visual","options"],e=>e.set("showPercentChangeComparison",!0));return wM(a,Ba.COMPARE,r)}return e},VM={[Cn.f.DAY]:"day",[Cn.f.WEEK]:"isoWeek",[Cn.f.MONTH]:"month",[Cn.f.QUARTER]:"quarter",[Cn.f.YEAR]:"year"};var HM=n("E5x+");const WM=(e,t,n,r,a)=>{const o=r?t.takeUntil(e=>e===r).concat(r):Object(b.List)(),s=a?n.takeUntil(e=>e===a).concat(a):Object(b.List)(),i=o.concat(s);return e.set("alias",Object(HM.e)(e.alias,r,a)).set("fixedMeasure",!0).set("fixed",Object(b.List)(i))},KM=e=>{const{columns:t,visual:{encodings:{rows:n,columns:r,values:a},options:{showColumnSubtotals:o,showRowSubtotals:s}={}}}=e;if(!r||!n||!a)return e;if(a.isEmpty())return e;const i=n.map(({column:e})=>e),c=r.map(({column:e})=>e),l=a.map(({column:e})=>e),u=i.concat(c),p=s?Object(b.List)([void 0,...i]):Object(b.List)([void 0,...i.takeLast(1)]),d=o?Object(b.List)([void 0,...c]):Object(b.List)([void 0,...c.takeLast(1)]),m=p.flatMap(e=>d.flatMap(n=>l.map(r=>{const a=t.get(r);return WM(a,i,c,e,n)}))).filterNot(e=>(e.fixed||Object(b.List)()).equals(u)).toMap().mapKeys((e,t)=>t.alias),g=t.merge(m);return e.set("columns",g)},qM=(e,t=Object(b.List)())=>{const n=t.map(e=>e.alias);return e.set("alias",Object(HM.d)(e.alias,n)).set("fixedMeasure",!0).set("fixed",n)},QM=e=>qM(e),$M=e=>{const{columns:t,visual:{encodings:{x:n,y:r,color:a}}}=e;if(!r)return;const o=t.get(r.column);if(!n&&a)return QM(o);if(n&&a){const e=t.get(n.column);return qM(o,b.List.of(e))}},JM=e=>{const t=$M(e);if(!t)return e;const n=Object(b.Map)({[t.alias]:t}),r=e.columns.merge(n);return e.set("columns",r)},zM=e=>{const{columns:t,visual:{encodings:{y:n,x:r,color:a}}}=e;if(!r)return;const o=t.get(r.column);if(!n&&a)return QM(o);if(n&&a){const e=t.get(n.column);return qM(o,b.List.of(e))}},XM=e=>{const t=zM(e);if(!t)return e;const n=Object(b.Map)({[t.alias]:t}),r=e.columns.merge(n);return e.set("columns",r)},ZM=e=>e.set("alias",Object(HM.d)(e.alias,[])).set("fixedMeasure",!0).set("fixed",Object(b.List)([])),eP=e=>{const{columns:t,visual:{encodings:{color:n,values:r},options:{showTotals:a}={}}}=e;if(!a)return e;if(!n||!r)return e;if(r.isEmpty())return e;const o=r.map(({column:e})=>e),s=t.get(o.first()),i=ZM(s),c=Object(b.Map)({[i.alias]:i}),l=t.merge(c);return e.set("columns",l)},tP="total_",nP="subtotal_",rP="-",aP=e=>`${tP}${e}`,oP=e=>e.alias.startsWith(tP),sP=(e,t)=>`${nP}${e}${rP}${t}`,iP=e=>e.update("alias",e=>aP(e)).set("fixedMeasure",!0).set("fixed",Object(b.List)()),cP=e=>{const{columns:t}=e,n=t.toList().flatMap(e=>e.role===Cn.p.DIMENSION?b.List.of(e):b.List.of(e,iP(e))).toMap().mapKeys((e,t)=>t.alias);return e.set("columns",n)},lP=e=>{const{columns:t,visual:{type:n,options:r={}}={}}=e;return zs(t).isEmpty()?e:n===Fa.HORIZONTAL_BAR?XM(e):n===Fa.VERTICAL_BAR||n===Fa.AREA||n===Fa.LINE?JM(e):r.showTotals?n===Fa.TABLE?cP(e):n===Fa.PIVOT_TABLE?KM(e):n===Fa.PIE||n===Fa.DONUT?eP(e):e:e},uP=()=>Object(Ll.c)({propertyFilterOperation:{defaultValue:null,includeObjectsWithNoValueSet:!1,numberOfDays:31,operator:"IS_LESS_THAN_X_DAYS_AGO",propertyType:"datetime-rolling"}}),pP="@@MAGIC_MEASURE@@",dP=(e,t)=>{const n=t=>Ni(t)&&t.field.table===e;return t.find(n)},mP=e=>{const t=e.table,n=zs(Hc(e).columns);let r=n.map(e=>e.alias).toList();!!dP(t.name,n)||t.name===Ro.a||(r=r.push(pP));return r},gP="limit_",bP=(e,t)=>`${gP}${e}_by_${t}`,OP=(e,t)=>{const n=t.alias,r=bP(e,n),a=b.List.of(e);return t.set("alias",r).set("fixedMeasure",!0).set("fixed",a)},fP=(e,t,n)=>{const{byMeasure:r,forDimension:a}=e,o=t.get(a);if(null==o)throw new Error("mapLimitToDependencyMeasure: found a limit with a `forDimension` referencing an unknown column! Skipping application of this limit!");if(o.role!==Cn.p.DIMENSION)throw new Error("mapLimitToDependencyMeasure: found a limit with a `forDimension` referencing a non-dimension column! Skipping application of this limit!");const s=r===pP?Si(n):t.get(r);if(null==s)throw new Error("mapLimitToDependencyMeasure: found a limit with a `byMeasure` referencing an unknown column! Skipping application of this limit!");if(s.role!==Cn.p.MEASURE)throw new Error("mapLimitToDependencyMeasure: found a limit with a `byMeasure` referencing a non-measure column! Skipping application of this limit!");return OP(a,s)},EP=(e,t)=>{const{table:n,columns:r}=e,a=dP(n.name,r.toList());return a?t.setIn(["limit","byMeasure"],a.alias):t},yP=(e,t)=>{const n=mP(e).first();return t.setIn(["limit","byMeasure"],n)},TP=(e,t)=>{const n=mP(e).first(),r=t.sort&&t.sort.by===n?t.sort.order:vn.c.DESCENDING;return Object(Dl.a)({direction:r===vn.c.DESCENDING?Dl.b.DESCENDING:Dl.b.ASCENDING,count:100,byMeasure:n,forDimension:t.alias,autoApplied:!0})},IP=e=>e.update("columns",e=>e.map(e=>e.delete("limit")).toMap()).set("limitsForQuery",Object(b.List)()),hP=(e,t)=>{if(t.limit)return t;const n=TP(e,t);return t.set("limit",n)},jP=e=>{const{table:t,columns:n,visual:r}=e,{encodings:a}=r,{color:o}=a;if(su(e))return IP(e);const s=n.map(t=>{if(null==t.limit)return o&&t.alias===o.column&&t.role===Cn.p.DIMENSION?hP(e,t):t;if(t.limit&&t.limit.autoApplied&&(!o||t.alias!==o.column))return t.delete("limit");if(t.role===Cn.p.MEASURE)return t.delete("limit");const r=t.limit.byMeasure;return e.table.name!==Ro.a||n.has(r)?r===pP?EP(e,t):n.has(r)?t:yP(e,t):t.delete("limit")}).toMap(),i=s.map(e=>e.limit).filter(e=>null!=e).toMap().mapKeys((e,t)=>t).toMap().map(e=>{try{if(!e)return;return fP(e,s,t)}catch(e){console.error(e);return}}).filter(e=>!!e).toMap(),c=i.reduce(xi,s),l=i.map((e,t)=>Object(Dl.c)({direction:t.direction,count:t.count,byMeasure:e.alias,forDimension:t.forDimension})).toList();return e.set("columns",c).set("limitsForQuery",l)},AP=Object(b.Map)({[Fa.AREA]:b.Set.of(Ba.X),[Fa.VERTICAL_BAR]:b.Set.of(Ba.X),[Fa.HORIZONTAL_BAR]:b.Set.of(Ba.Y),[Fa.COMBO]:b.Set.of(Ba.X),[Fa.LINE]:b.Set.of(Ba.X)}),SP=(e,t)=>{const n=AP.get(e);return n&&n.has(t)},_P=e=>(t,n)=>{const{visual:{encodings:r,type:a}}=e;return uc(a).reduce((e,n)=>{const{name:a}=n,o=r.get(a);return o?Xi(n)?t(e,o,n):o.reduce((e,r)=>t(e,r,n),e):e},n)},NP=e=>{const t=e.visual.type,n=(e,n)=>{if(e.role===Cn.p.MEASURE)return ni(e);const r=SP(t,n);return e.role===Cn.p.DIMENSION&&Us(e.field)&&r?ni(e):e.set("includeUndefinedBuckets",!0).set("undefinedBucket",Cn.s)};return e.update("columns",t=>_P(e)((e,t,r)=>{const{column:a}=t;return e.update(a,e=>n(e,r.name))},t)).update("stagedColumns",e=>e.map(ni))},RP=e=>{const{visual:t}=e,{type:n,encodings:r}=t;if(n===Fa.COMBO&&r.y2){const t=Vc(e).column,n=r.x?b.List.of(wc(e).column.alias):Object(b.List)(),a=t.role===Cn.p.MEASURE?t.set("fixedMeasure",!0).set("fixed",n):t.set("fixedMeasure",!1).set("fixed",Object(b.List)());return e.update("columns",e=>e.set(t.alias,a))}return e},CP="generatedMeasure_",vP=e=>`${CP}${e}`,LP=Object(b.Set)([Fa.TABLE,Fa.SCATTER]),DP=e=>{const{table:t,columns:n,visual:{type:r}={}}=e;if(!Ai(t.type))return e;const a=!zs(n).isEmpty();if(LP.includes(r)||a)return e;const o=Si(t);if(!o)return e;const s=vP(o.alias),i=o.set("alias",s),c=n.set(s,i);return e.set("columns",c)},MP=e=>{const{table:t}=e;return Object(Go.b)(t)?e.update("eventDateInterval",e=>e||uP()):e.delete("eventDateInterval")},PP=e=>{const t=e.getIn(["visual","encodings","sizing"]),n=e.getIn(["visual","options","showBubbleLegend"]),r=e.getIn(["visual","options","legendPosition"]),a=Object(b.List)([Dn.d.LEFT,Dn.d.RIGHT]);return t&&n&&!a.includes(r)?e.setIn(["visual","options","legendPosition"],Dn.d.LEFT):e},UP=e=>e.expressions.filter(e=>e.hidden).reduce((e,t)=>{const{columns:n,stagedColumns:r,filtering:a}=e;if(!!n.filter(e=>rg(e.field,t)).size)return e;if(!!r.filter(e=>rg(e.field,t)).size)return e;if(ku(a,ng(t)))return e;const o=(e,t)=>e.alias===t.alias;return e.update("expressions",e=>e.filterNot(e=>o(e,t)))},e),kP=RP,xP=(e,t)=>{const n=$m(e.expressions),r=e=>{const t=n.getIn([e.name,"type"]);return jm(t)===e.type},a=e=>e.set("type",jm(n.getIn([e.name,"type"]))),o=e=>fu(e)&&!r(e.field),s=e=>e.update("groups",e=>e.map(e=>e.update("filters",e=>e.map(e=>{if(o(e)){const t=e.set("field",ng(n.get(e.field.name)));if(["IS_KNOWN","IS_UNKNOWN"].includes(e.filter.get("operation").get("operator")))return t}return e})))),i=e=>e.groups.reduce((e,t)=>t.filters.reduce((e,t)=>o(t)?e.add(t.field.name):e,e),Object(b.Set)()).reduce((e,t)=>{const r=ng(n.get(t)),a=wu(e,()=>!1,o);return Ru(a,r)},e),c=(e,a)=>{if(!Ls(a.field)||r(a.field))return e;const o=n.get(a.field.name),s=nc(e.visual.encodings).find(e=>e.column===a.alias);if(!s)return e.update("columns",e=>e.delete(a.alias));const i=Sc(ng(o),bc(e.visual,s).name,e.visual.type).set("alias",a.alias),{gates:c}=t,l=c.includes("AdvancedBuilder:ExpandedColumnLimits")?sO:oO;return vU(e.setIn(["columns",i.alias],i),t,l)?e.setIn(["columns",i.alias],i):e.update("columns",e=>e.delete(a.alias)).update("visual",e=>gc(e,a)).update("stagedColumns",e=>e.push(i)).update("stagedEncodings",e=>e.push(Object(Cn.h)({column:i.alias})))};return e.update("filtering",e=>e.update(s).update(i)).update(e=>{const t=e.stagedColumns.filter(e=>Ls(e.field)&&!r(e.field)).map(e=>e.alias);return e.update("stagedColumns",e=>e.map(e=>t.includes(e.alias)?e.set("field",a(e.field)):e)).update("stagedEncodings",e=>e.map(e=>t.includes(e.column)?Object(Cn.h)({column:e.column}):e))}).update(e=>e.columns.reduce(c,e))},wP=(e,t)=>[GM,BM,kP,Gl,lP,(e,{meta:t})=>Fg(e,t),jP,PP,DP,NP,MP,(e,{userInfo:t})=>xP(e,t),UP,Hc].reduceRight((e,n)=>n(e,t),e),FP="0",YP=(e,t)=>{const n=Object(Y.d)(e);return t.subtract(n,"months")},BP=(e,t)=>YP(e,t).endOf("month"),GP=(e,t)=>YP(e,t).startOf("month"),VP="datePart_expression_",HP=e=>`${VP}${e.alias}`,WP=e=>e.includes(VP),KP=e=>{const t=e.field,n=Li(e),r=e.get("useFiscalYear")&&[Cn.e.QUARTER,Cn.e.YEAR].includes(n)?`ADJUST_FISCAL_YEAR([${t.table}.${t.name}])`:`[${t.table}.${t.name}]`;return zo(`DATEPART(${n},${r})`).update("arguments",t=>t.get(1).type===$o.d.FUNCTION_CALL?t.update(1,t=>t.update("arguments",t=>t.update(0,t=>t.set("propertyType",e.field.type)))):t.update(1,t=>t.set("propertyType",e.field.type)))},qP=(e,t,n,r,a,o)=>{const s=Ri(e),i=Ci(e),c=e.field,l=c.type,u=c.name;if(null==r||r===Cn.s){const e={filterType:"PROPERTY",operation:{propertyType:"alltypes",operator:"IS_UNKNOWN"},property:u};return Object(Ll.f)({id:FP,field:c,filter:e})}const p=l===Cn.m.DATETIME||l===Cn.m.DATE;if(a&&p&&s){const t=vi(e),n=VM[t];if(null==n)throw new Error(`Unable to convert DATE_TRUNC type \`${t}\` to a moment unit!`);let a=h.a.moment.utc(r,"YYYY-MM-DD").endOf(n);Fi(e)&&(a=BP(o,a));const s={filterType:"PROPERTY",operation:{defaultValue:null,propertyType:"datetime",operator:"IS_BEFORE_DATE",timestamp:a.valueOf()+1},property:u};return Object(Ll.f)({id:FP,field:c,filter:s})}if(a&&p&&i){const a={filterType:"PROPERTY",operation:{propertyType:"number",operator:"IS_LESS_THAN_OR_EQUAL_TO",value:Number(r),includeObjectsWithNoValueSet:!1,defaultValue:null},property:c.name},o=KP(e),{type:s}=Zm(o,t.expressions,n),i={name:HP(e),type:jm(s),source:Cn.l.EXPRESSION};return Object(Ll.f)({id:FP,field:i,filter:a})}if(p&&i){const a={filterType:"PROPERTY",operation:{propertyType:"number",operator:"IS_EQUAL_TO",value:Number(r),includeObjectsWithNoValueSet:!1,defaultValue:null},property:c.name},o=KP(e),{type:s}=Zm(o,t.expressions,n),i={name:HP(e),type:jm(s),source:Cn.l.EXPRESSION};return Object(Ll.f)({id:FP,field:i,filter:a})}if(p&&s){const t=vi(e),n=VM[t];if(null==n)throw new Error(`Unable to convert DATE_TRUNC type \`${t}\` to a moment unit!`);let a=h.a.moment.utc(r,"YYYY-MM-DD").startOf(n),s=h.a.moment.utc(r,"YYYY-MM-DD").endOf(n);if(Fi(e)){a=GP(o,a);s=BP(o,s)}const i={filterType:"PROPERTY",operation:{defaultValue:null,propertyType:"datetime-ranged",operator:"IS_BETWEEN",lowerBoundTimestamp:a.valueOf(),upperBoundTimestamp:s.valueOf()},property:u};return Object(Ll.f)({id:FP,field:c,filter:i})}if(p){const e=Number(r),t={filterType:"PROPERTY",operation:{defaultValue:null,propertyType:"datetime",operator:"IS_EQUAL_TO",timestamp:isNaN(e)?h.a.moment.utc(r,"YYYY-MM-DD").valueOf():e},property:u};return Object(Ll.f)({id:FP,field:c,filter:t})}if(l===Cn.m.STRING){const e={filterType:"PROPERTY",operation:{defaultValue:null,propertyType:"multistring",operator:"IS_EQUAL_TO",values:[r]},property:u};return Object(Ll.f)({id:FP,field:c,filter:e})}if(l===Cn.m.NUMBER){const e={filterType:"PROPERTY",operation:{defaultValue:null,propertyType:"number",operator:"IS_EQUAL_TO",value:r},property:u};return Object(Ll.f)({id:FP,field:c,filter:e})}const d={filterType:"PROPERTY",operation:{defaultValue:null,propertyType:"enumeration",operator:"IS_ANY_OF",values:[r]},property:u};return Object(Ll.f)({id:FP,field:c,filter:d})},QP=e=>{if(e.condition===Ll.a.CUSTOM)return e;const t=Tu(e);return e.set("logic",t).set("condition",Ll.a.CUSTOM)},$P=(e,t)=>{const n=e.logic,r=""===n,a=(()=>{if(r)return t;try{const n=yu(e);return mu(bu(n,t))}catch(e){console.error(e);return n}})();return e.set("logic",a)},JP=Object(Ll.i)({condition:Ll.a.AND,groups:[],logic:void 0,stagedFilters:[]}),zP=(e=JP,t,n)=>{let r=e;r=QP(r);if(!t.isEmpty()){const n=String(e.groups.count()+1),a=Object(Ll.j)({id:n,condition:Ll.a.AND,filters:t.toList()});r=Du(r,a);r=$P(r,n)}if(!n.isEmpty()){const e=String(r.groups.count()+1),t=Object(Ll.j)({id:e,condition:Ll.a.OR,filters:n});r=Du(r,t);r=$P(r,e)}return r},XP=(e,t)=>{const n=e.visual;if(n.type===Fa.LINE||n.type===Fa.AREA){if(!n.options.accumulate)return;const t=wc(e);return t&&Hi(t)}if(n.type!==Fa.COMBO);else{if(!n.options.y1Accumulate&&!n.options.y2Accumulate)return;const r=wc(e),a=r&&Hi(r);if(n.options.y1Accumulate){const n=Gc(e),r=n&&Hi(n);return r&&t.has(r)?a:void 0}if(n.options.y2Accumulate){const n=Vc(e),r=n&&Hi(n);return r&&t.has(r)?a:void 0}}},ZP=(e,t,n,r)=>{const a=n.columns.filter(e=>e.role===Cn.p.DIMENSION).filter(t=>e.has(t.alias)).flip().map(t=>e.get(t)),o=XP(n,e);return a.map((e,a)=>qP(a,n,t,e,o===a.alias,r))},eU=(e,t,n,r)=>{const a=ZP(e,t,n,r);return zP(n.filtering,a,CM(n)?n.dateComparisonFilter.filters:Object(b.List)())},tU=(e,t)=>{const n=Object(Go.h)(e.tables,t.table).map(t=>_i(t,e.properties.getIn([t.table,t.property]))).map(pi);return t.update("stagedColumns",e=>e.concat(n.toList()))},nU=(e,t)=>{const n=e.columns.toList().filter(e=>{const t=Ci(e),n=e.field.type;return(n===Cn.m.DATETIME||n===Cn.m.DATE)&&t}).map(n=>{const r=KP(n),{field:a}=n,{type:o}=Zm(r,e.expressions,t),{tables:s,properties:i,datasetDefinition:c}=t,l=i&&i.getIn([a.table,a.name]),u=s&&s.get(a.table),p=a.table===Ro.a&&c&&c.getIn(["fields",a.name]),d=Mi(n,l,u,p,e.expressions);return Object(Cn.j)({alias:HP(n),label:d,expression:r,input:ss(r),type:o,derived:!0,hidden:!1,valid:!0})});return e.expressions.concat(n)},rU=(e,t)=>{if(!e.visual.type===Fa.TABLE)return e;return e.visual.encodings[Ba.COLUMNS].skip(xl).reduce((e,n,r)=>tx(e,{deps:t,channelName:Ba.COLUMNS,index:r+xl}),e)},aU=(e,t,n,r)=>{const{meta:a}=t,o=eU(e,a,n,r),s=nU(n,a),i=$m(s);let c=tu(n,a);c=tU(a,c);c=NP(Zl(c,a));c=c.update("columns",e=>e.map(e=>Ls(e.field)?e.set("name",i.get(e.field.name).label):e));c=c.set("filtering",o);c=Fg(c,a);c=c.set("expressions",s);c=rU(c,t);return c},oU=(e,t,n)=>{const{row:r,field:a,levelOfDetail:o}=e,s=e=>{const{alias:n,role:s}=e;return s===Cn.p.DIMENSION?o&&!o.includes(n)?null:Object(NM.g)(t,n,r.get(n)):s===Cn.p.MEASURE&&n===a?Object(NM.d)(t,n):void 0};return n.columns.toList().sort(e=>e.role===Cn.p.DIMENSION?-1:1).map(s).filter(e=>null!=e).join(", ")},sU=(e,t,n)=>{if(Ls(e)){const r=$m(n),a=e.name;if(!r.has(a))return!1;const o=r.get(a),{violations:s}=tg(o,n,t);return!s||0===s.size}return!0},iU=ib("no-expression-functions-access",tb.HARD,nb.UNSUPPORTED,(e,t,n)=>{if(0===n.length)return!0;const r="reporting-datasets-access";if(!n.includes(r)){const n=e.expressions;return!n.find(r=>{if(Qm(e,r)&&!WP(r.alias)){const{violations:e}=tg(r,n,t,!0);return e.size>0}return!1})}return!0},[e=>e,(e,t)=>t,(e,t,n)=>{if(!n)return[];const{user:{scopes:r}}=Object(_M.a)(n);return r}]),cU=(e,t,n)=>e.every(e=>sU(e.field,n,t)),lU=ib("column-expressions-are-valid",tb.HARD,nb.UNSUPPORTED,cU,[e=>e.columns,e=>e.expressions,(e,t)=>t]),uU=(e,t,n)=>e.every(e=>e.filters.every(e=>sU(e.field,n,t))),pU=ib("filter-expressions-valid",tb.HARD,nb.UNSUPPORTED,uU,[e=>e.filtering.groups,e=>e.expressions,(e,t)=>t]),dU=ib("filter-and-columns-expressions-valid",tb.HARD,nb.UNSUPPORTED,(e,t,n,r)=>{const a=cU(t,n,r),o=uU(e,n,r);return!(!a&&!o)},[e=>e.filtering.groups,e=>e.columns,e=>e.expressions,(e,t)=>t]),mU=e=>t=>e(t.columns),gU=ib("everyAggregateExpressionColumnIsDelegate",tb.HARD,nb.UNSUPPORTED,(e,t)=>e.every(e=>{const{field:n}=e;if(Ls(n)){if(t.get(n.name).context===Fu.b.AGGREGATE)return e.aggregation===Cn.b.DELEGATE}return!0}),[e=>e.columns,e=>$m(e.expressions)]),bU=ib("everyDimensionIsDiscrete",tb.HARD,nb.UNSUPPORTED,e=>e.every(e=>e.get("domain")===Cn.g.DISCRETE),mU(Js)),OU=ib("everyMeasureIsContinuous",tb.HARD,nb.UNSUPPORTED,e=>e.every(e=>e.get("domain")===Cn.g.CONTINUOUS),mU(zs)),fU=ib("noDimensionHasAnAggregation",tb.HARD,nb.ILL_FORMED,e=>e.every(e=>void 0===e.get("aggregation")),mU(Js)),EU=ib("everyMeasureHasAnAggregation",tb.HARD,nb.ILL_FORMED,e=>e.every(e=>void 0!==e.get("aggregation")),mU(zs)),yU=ib("encodingsAreColumns",tb.HARD,nb.ILL_FORMED,e=>{const t=e.columns.toList(),n=Yl(e),r=t.map(Vs);return nc(n).map(Vi).every(e=>r.includes(e))}),TU=ib("sortsAreColumns",tb.HARD,nb.ILL_FORMED,e=>{const t=e.columns,n=e.sorts,r=t.map(e=>e.alias);return n.map(e=>e.column).every(e=>r.includes(e))}),IU=ib("eventReportsHaveEventDateInterval",tb.HARD,nb.ILL_FORMED,e=>!Object(Go.b)(e.table)||!!e.eventDateInterval),hU=ib("withinTableLimit",tb.HARD,nb.UNSUPPORTED,pO,e=>e.table),jU=ib("withinEventLimit",tb.HARD,nb.UNSUPPORTED,dO,e=>e.table),AU=ib("withinColumnLimit",tb.HARD,nb.UNSUPPORTED,e=>!au(e),e=>e),SU=ib("withinColumnLimit",tb.HARD,nb.UNSUPPORTED,e=>!ou(e),e=>e),_U=cb("relationalReport",[gU,bU,OU,fU,EU,yU,TU,IU,hU,jU,AU,oO,EO,mO,VO,LO,MO,_O,FO,PO,NO,BO,YO,xO,QO,$O,SM],(e,t)=>t.get("type")!==Ml||e.validate(t)),NU=cb("relationalReport",[gU,bU,OU,fU,EU,yU,TU,IU,hU,jU,SU,sO,EO,mO,VO,LO,MO,_O,FO,PO,NO,BO,YO,wO,QO,$O,SM],(e,t)=>t.get("type")!==Ml||e.validate(t)),RU=cb("relationalReportMeta",[dU,lU,pU,iU],(e,t,n)=>t.get("type")!==Ml||e.validate(t,n)),CU=e=>{const t=e&&e.gates;return t&&t.includes("AdvancedBuilder:ExpandedColumnLimits")?NU:_U},vU=(e,t,n)=>(n||CU(t)).validate(e),LU=(e,t,n)=>CU(n).validate(e)&&RU.validate(e,t,n),DU=(e,t)=>CU(t).listViolated(e).find(e=>e.get("producing")===nb.INCOMPLETE),MU=(e,t,n)=>{const r=e=>e.get("producing")===nb.INCOMPLETE;return CU(n).listViolated(e).find(r)||RU.listViolated(e,t,n).find(r)},PU=(e,t,n)=>{const r=e=>e.get("producing")===nb.UNSUPPORTED;return CU(n).listViolated(e).find(r)||RU.listViolated(e,t,n).find(r)},{X:UU,X_MULTI:kU,Y:xU,Y_MULTI:wU,COLOR:FU,DETAIL:YU,SIZING:BU,VALUES:GU,GROUP:VU,ROWS:HU,COLUMNS:WU,Y_1:KU,Y_2:qU,BREAKDOWN:QU}=Ba,$U=(e,t,n,r)=>{const a=jc(r,e);return So?t.filter(e=>n.get(e.column).role===a):t},JU=(e,t)=>t.keySeq().reduce((n,r)=>n.set(r,e.get(r)||t.get(r)),t),zU=(e,t)=>(n,r)=>{const[a,o]=n,s=Ji(r);if(0===o.size)return[a.set(r,mc(s)),Object(b.List)()];if(Xi(s)){const n=$U(r,o,e,t).first();return n?[a.set(r,n),o.filterNot(e=>e.column===n.column)]:[a,o]}return[a.set(r,$U(r,o,e,t)),Object(b.List)()]},XU=(e,t,n,r,a,o)=>{const s=Ji(e),i=Ji(t),c=n.get(e),l=tc(n,e);return s.type===i.type?r.set(t,c):Xi(s)?r.set(t,l):r.set(t,$U(t,l,a,o).first())},ZU=(e,t,n,r,a)=>void 0===e?JU(t,n):e.reduce((e,{to:n,from:o})=>{if(Array.isArray(n)&&Array.isArray(o)){console.error('Error swapping visuals: "to" and "from" are both arrays.',{to:n,from:o});return e}if(Array.isArray(n)){const s=zU(r,a),[i]=n.reduce(s,[e,tc(t,o)]);return i}if(Array.isArray(o)){const s=Object(b.List)(o).flatMap(e=>tc(t,e));return Xi(Ji(n))?e.set(n,$U(n,s,r,a).first()):e.set(n,s)}return XU(o,n,t,e,r,a)},n),ek=[{from:[UU,kU],to:wU},{from:xU,to:UU},{from:FU,to:FU}],tk=[{from:[xU,wU],to:kU},{from:UU,to:xU},{from:FU,to:FU}],nk=[{from:UU,to:YU},{from:[xU,wU],to:xU},{from:FU,to:FU}],rk=[{from:xU,to:YU},{from:[UU,kU],to:UU},{from:FU,to:FU}],ak=[{from:FU,to:VU},{from:GU,to:GU}],ok=[{from:VU,to:FU},{from:GU,to:GU}],sk=[{from:FU,to:FU},{from:[xU,wU],to:GU}],ik=[{from:FU,to:FU},{from:[UU,kU],to:GU}],ck=[{from:FU,to:UU},{from:GU,to:wU}],lk=[{from:VU,to:FU},{from:GU,to:wU}],uk=[{from:VU,to:FU},{from:GU,to:kU}],pk=[{from:FU,to:xU},{from:GU,to:UU}],dk=[{from:[xU,wU],to:GU},{from:FU,to:VU}],mk=[{from:[UU,kU],to:GU},{from:FU,to:VU}],gk=[{from:[UU,kU,xU,wU,FU,YU,BU,VU,HU,WU,GU,KU,qU,QU],to:WU}],bk=Object(b.Map)({[Fa.VERTICAL_BAR]:void 0,[Fa.HORIZONTAL_BAR]:tk,[Fa.LINE]:void 0,[Fa.AREA]:void 0,[Fa.SCATTER]:nk,[Fa.TABLE]:gk,[Fa.PIE]:sk,[Fa.DONUT]:sk,[Fa.TEXT]:dk}),Ok=Object(b.Map)({[Fa.VERTICAL_BAR]:ek,[Fa.HORIZONTAL_BAR]:void 0,[Fa.LINE]:ek,[Fa.AREA]:ek,[Fa.SCATTER]:rk,[Fa.TABLE]:gk,[Fa.PIE]:ik,[Fa.DONUT]:ik,[Fa.TEXT]:mk}),fk=bk,Ek=bk,yk=[{from:xU,to:[wU,xU]},{from:YU,to:UU},{from:FU,to:FU}],Tk=[{from:UU,to:[kU,UU]},{from:YU,to:xU},{from:FU,to:FU}],Ik=[{from:xU,to:KU},{from:UU,to:qU},{from:YU,to:UU},{from:FU,to:QU}],hk=Object(b.Map)({[Fa.VERTICAL_BAR]:yk,[Fa.HORIZONTAL_BAR]:Tk,[Fa.LINE]:yk,[Fa.AREA]:yk,[Fa.SCATTER]:void 0,[Fa.COMBO]:Ik,[Fa.TABLE]:gk}),jk=Object(b.Map)({[Fa.PIE]:void 0,[Fa.DONUT]:void 0,[Fa.TEXT]:ak,[Fa.TABLE]:gk,[Fa.VERTICAL_BAR]:ck,[Fa.LINE]:ck,[Fa.AREA]:ck,[Fa.HORIZONTAL_BAR]:pk}),Ak=[{from:HU,to:UU},{from:WU,to:FU},{from:GU,to:wU}],Sk=[{from:HU,to:xU},{from:WU,to:FU},{from:GU,to:kU}],_k=Object(b.Map)({[Fa.PIE]:void 0,[Fa.DONUT]:void 0,[Fa.TEXT]:void 0,[Fa.TABLE]:gk,[Fa.VERTICAL_BAR]:Ak,[Fa.LINE]:Ak,[Fa.AREA]:Ak,[Fa.HORIZONTAL_BAR]:Sk}),Nk=jk,Rk=Object(b.Map)({[Fa.PIE]:ok,[Fa.DONUT]:ok,[Fa.TEXT]:void 0,[Fa.TABLE]:gk,[Fa.VERTICAL_BAR]:lk,[Fa.LINE]:lk,[Fa.HORIZONTAL_BAR]:uk}),Ck=[{from:UU,to:UU},{from:KU,to:wU},{from:QU,to:FU}],vk=[{from:UU,to:xU},{from:KU,to:kU},{from:QU,to:FU}],Lk=[{from:UU,to:HU},{from:QU,to:WU},{from:[KU,qU],to:GU}],Dk=[{from:UU,to:YU},{from:KU,to:xU},{from:qU,to:UU},{from:QU,to:FU}],Mk=Object(b.Map)({[Fa.VERTICAL_BAR]:Ck,[Fa.HORIZONTAL_BAR]:vk,[Fa.LINE]:Ck,[Fa.AREA]:Ck,[Fa.SCATTER]:Dk,[Fa.COMBO]:void 0,[Fa.TABLE]:gk,[Fa.PIVOT_TABLE]:Lk}),Pk=Object(b.Map)({[Fa.VERTICAL_BAR]:bk,[Fa.HORIZONTAL_BAR]:Ok,[Fa.LINE]:fk,[Fa.AREA]:Ek,[Fa.SCATTER]:hk,[Fa.PIE]:jk,[Fa.DONUT]:Nk,[Fa.TEXT]:Rk,[Fa.COMBO]:Mk,[Fa.PIVOT_TABLE]:_k}),Uk=e=>[Fa.VERTICAL_BAR,Fa.HORIZONTAL_BAR,Fa.LINE,Fa.AREA,Fa.SCATTER].includes(e),kk=e=>[Fa.PIE,Fa.DONUT].includes(e),xk=e=>Uk(e)||kk(e),wk=(e,t,n,r)=>{const a=e===Fa.COMBO?n.y1Color:n.color;return a?t===Fa.COMBO?r.set("y1Color",a):xk(t)?r.set("color",a):r:r},Fk=(e,t,n,r)=>Uk(e)&&Uk(t)&&![e,t].includes(Fa.SCATTER)?e===Fa.HORIZONTAL_BAR?r.set("yAxisLabel",n.get("xAxisLabel")):t===Fa.HORIZONTAL_BAR?r.set("xAxisLabel",n.get("yAxisLabel")):r.set("yAxisLabel",n.get("yAxisLabel")):r,Yk=(e,t)=>t===Fa.TABLE||(!(!Uk(e)||!Uk(t))||(!(!kk(e)&&e!==Fa.TEXT||!kk(t)&&t!==Fa.TEXT)||(e===Fa.COMBO&&t===Fa.PIVOT_TABLE||!!(Uk(e)&&(kk(t)||t===Fa.TEXT)||Uk(t)&&(kk(e)||e===Fa.TEXT))))),Bk=(e,{column:t,channelName:n,encodingOptions:r})=>{const a=Ul(e,t);return e.update("columns",e=>e.set(t.alias,t)).updateIn(["visual","encodings"],e=>ic({encodings:e,channelName:n,column:t,expressionField:a,encodingOptions:r}))},Gk=(e,t)=>vU(e,t,oO),Vk=(e,t,n,r)=>{const a=n.get("encodings"),o=uc(n.get("type")),s=(e,t,n)=>{const r=ec(a,t.name,n);return e&&r&&r.column===e.alias?r:void 0},i=(e,t)=>{if(e)return t.columns&&t.columns.length?t.columns.map(e=>e.column).indexOf(e.alias):t.rows&&t.rows.length?t.rows.map(e=>e.column).indexOf(e.alias):t.get("values")&&t.get("values").length?t.get("values").map(e=>e.column).indexOf(e.alias):void 0},c=(e,n,c)=>{const l=n.find(t=>Gk(Bk(e,{column:t,channelName:c}),r)),u=i(l,a),p=o.map(e=>s(l,e,u)).toList().find(e=>!!e),d=p&&p.options||Cn.t;if(n.size>2){if(c===Ba.BREAKDOWN){const t=n.find(e=>e.role===Cn.p.DIMENSION&&Kg.includes(e.field.type));if(t){const a=Bk(e,{column:t,channelName:c,encodingOptions:d});if(t&&Gk(a,r))return[a,n.delete(t.alias)]}}if(c===Ba.X&&t===Fa.VERTICAL_BAR||c===Ba.Y&&t===Fa.HORIZONTAL_BAR||t===Fa.LINE||t===Fa.AREA){const t=n.find(e=>e.role===Cn.p.DIMENSION&&Wg.includes(e.field.type));if(t){const a=Bk(e,{column:t,channelName:c,encodingOptions:d});if(Gk(a,r))return[a,n.delete(t.alias)]}}}return l?[Bk(e,{column:l,channelName:c,encodingOptions:d}),n.delete(l.alias)]:[e,n]},l=(e,t,n)=>t.reduce(([e,t],c)=>{const l=i(c,a),u=o.map(e=>s(c,e,l)).toList().find(e=>!!e),p=u&&u.options||Cn.t,d=Bk(e,{column:c,channelName:n,encodingOptions:p});return Gk(d,r)?[d,t.delete(c.alias)]:[e,t]},[e,t]),u=(e,t,n)=>{const r=t.find(e=>e.role===Cn.p.DIMENSION),i=t.find(e=>e.role===Cn.p.MEASURE);if(n===Ba.COLOR&&r){const a=r,i=o.map(e=>s(a,e)).toList().find(e=>!!e),c=i&&i.options||Cn.t;return[Bk(e,{column:a,channelName:n,encodingOptions:c}),t.delete(a.alias)]}if(n===Ba.VALUES&&i){const r=i,c=r&&a.get("values")?a.get("values").map(e=>e.column).indexOf(r.alias):void 0,l=o.map(e=>s(r,e,c)).toList().find(e=>!!e),u=l&&l.options||Cn.t;return[Bk(e,{column:r,channelName:n,encodingOptions:u}),t.delete(r.alias)]}return[e,t]},p=uc(t).keySeq().filter(e=>e!==Ba.COMPARE),[d]=p.reduce(([e,n],a)=>kk(t)?u(e,n,a):Xi(Ji(a))?c(e,n,a,r):l(e,n,a,r),[Hl(t),e]);return d.visual.encodings},Hk=(e,t,n,r)=>{const a=e.type;t===Fa.MAGIC_WAND&&(t=zg(e.type,n));return a&&t?a===t?e:Ic(t).update("encodings",o=>Yk(a,t)?ZU(Pk.getIn([a,t]),e.get("encodings"),o,n,t):Vk(n,t,e,r)).update("options",n=>wk(e.type,t,e.options,n)).update("options",n=>Fk(e.type,t,e.options,n)):Ic(t)};var Wk=n("jsKR");const Kk=e=>(...t)=>{const n=e(...t),[r,{deps:a}]=t;return wP(n,a)},qk=()=>Vl(),Qk=(Kk((e=qk(),{tableDescription:t})=>{e.table.name===Ro.a&&t.name!==Ro.a&&(e=qk());const n=ru(e,Object(Go.c)(e.table),Object(Go.c)(t)),r=Object(Go.j)(t);return Object(Go.j)(e.table).filterNot(e=>r.some(t=>t.name===e.name)).reduce((e,t)=>nu(e,t),n).set("table",t)}),(e,t,n,r)=>{const a=Fl(e),o=t.field;if(Ni(t))return t;if(t.aggregation===Cn.b.DELEGATE)return t;const s=jc(a,n,o);return s&&t.role!==s?s===Cn.p.MEASURE?t.update(e=>yi(e,r)).update(e=>oi(e)):t.update(e=>ai(e)).update(e=>xs(e,di(e.field))):t}),$k=(e,t,n)=>{const r=t.field.table;if(!(Fl(e)===Fa.TABLE&&n&&n.metaDefinition.showCurrencySymbol&&n.metaDefinition.currencyPropertyName))return e;const a=wi(t.alias),o=pi({table:r,type:Wk.b.STRING,name:n.metaDefinition.currencyPropertyName}).set("alias",a);return e.update("columns",e=>e.set(a,o))},Jk=(Kk((e,{encoding:t,toChannel:n,toIndex:r})=>{const a=e.stagedColumns.find(({alias:e})=>t.column===e);if(!a)throw new Error("Expected to find a staged column for this encoding",t);const o=e.visual.encodings.update(n,e=>Xi(Ji(n))?t:void 0===r?(e||Object(b.List)()).push(t):(e||Object(b.List)()).insert(r,t));return e.update("stagedEncodings",e=>e.filterNot(({column:e})=>e===t.column)).update("stagedColumns",e=>e.filterNot(({alias:e})=>e===t.column)).setIn(["visual","encodings"],o).setIn(["columns",t.column],Qk(e,a,n))}),Kk((e,{encoding:t,toChannel:n,toIndex:r})=>{const a=e.visual.encodings,o=bc(e.visual,t),s=o.name,i=tc(a,o.name).indexOf(t),c=rc(a,s,i).update(n,e=>Xi(Ji(n))?t:void 0===r?(e||Object(b.List)()).push(t):(e||Object(b.List)()).insert(s===n&&r>i?r-1:r,t));return e.setIn(["visual","encodings"],c).setIn(["columns",t.column],Qk(e,e.columns.get(t.column),n))}),(e,{column:t,channelName:n,toIndex:r,snowflakeProperty:a,hasValidCurrencyProperty:o,encodingOptions:s,deps:i})=>{const{meta:c}=i,{preferred:l}=Sg(e,t.delete("sort"),c),u=t.set("sort",l),p=e.update("columns",t=>t.set(u.alias,Qk(e,u,n,a))).update("stagedColumns",e=>e.filterNot(e=>e.equals(t))).update("stagedEncodings",e=>e.filterNot(e=>e.column===t.alias)).updateIn(["visual","encodings"],o=>{const i=Oc(e.stagedEncodings,t);if(i)return sc({encodings:o,channelName:n,toIndex:r,encoding:i});const c=Ul(e,t);return ic({encodings:o,channelName:n,column:t,expressionField:c,snowflakeProperty:a,toIndex:r,encodingOptions:s})}).update("filtering",n=>{const{field:r}=t,{name:a,source:o}=r;if(o===Cn.l.EXPRESSION){const t=$m(e.expressions).get(a);if(!t){console.error("Expected to find expression with given `field.name`: "+a);return n}return t.context===Fu.b.AGGREGATE?n:Ru(n,r)}return t.field.table===Ro.a?Nu(n,t.field):_u(n,t.field)});return o?$k(p,u,a):p}),zk=e=>e.expressions.toMap().mapKeys((e,t)=>t.alias),Xk=(e,{field:t,channelName:n,toIndex:r,hasValidCurrencyProperty:a,deps:o})=>{const s=zk(e).get(t.name),i=e.visual.type,c=og(s,n,i,e.expressions);return Jk(e,{column:c,channelName:n,toIndex:r,snowflakeProperty:void 0,hasValidCurrencyProperty:a,deps:o})},Zk=(Kk(Xk),Kk((...e)=>Jk(...e))),ex=(Kk((e,{encoding:t,index:n,deps:r})=>{const{meta:a,userInfo:o}=r,s=e.stagedColumns.find(({alias:e})=>t.column===e);if(!s)throw new Error("Expected to find a staged column for this encoding",t);const i=Wm(a,s.field),c=Nc(o.gates,a,s.field),l=s,u="columns",p=n,d=e.getIn(["visual","type"]),m=e.get("columns").size>0?Hk(e.get("visual"),Fa.TABLE,Hc(e).columns,o):e.get("visual"),g=e.set("visual",m).update("columns",t=>t.set(l.alias,Qk(e,l,u))).update("stagedColumns",e=>e.filterNot(e=>e.equals(l))).update("stagedEncodings",e=>e.filterNot(e=>e.equals(t))).updateIn(["visual","encodings"],e=>sc({encodings:e,channelName:u,toIndex:p,encoding:t})).update("filtering",e=>l.field.table===Ro.a?Nu(e,l.field):_u(e,l.field)),b=c?$k(g,l,i):g;return Jg(Hc(b).columns).includes(d)?b.set("visual",Hk(b.get("visual"),d,Hc(b).columns,o)):b}),Kk((e,{column:t,channelName:n,toIndex:r,snowflakeProperty:a,hasValidCurrencyProperty:o,deps:s})=>{const{userInfo:i}=s,c=e.getIn(["visual","type"]),l=e.get("columns").size>0?Hk(e.get("visual"),Fa.TABLE,Hc(e).columns,i):e.get("visual"),u=e.set("visual",l).update("columns",r=>r.set(t.alias,Qk(e,t,n))).update("stagedColumns",e=>e.filterNot(e=>e.equals(t))).updateIn(["visual","encodings"],o=>{const s=Oc(e.stagedEncodings,t);if(s)return sc({encodings:o,channelName:n,toIndex:r,encoding:s});const i=Ul(e,t);return ic({encodings:o,channelName:n,column:t,expressionField:i,toIndex:r,snowflakeProperty:a})}).update("filtering",e=>t.field.source===Cn.l.EXPRESSION?Ru(e,t.field):t.field.table===Ro.a?Nu(e,t.field):_u(e,t.field)),p=o?$k(u,t,a):u;return Jg(Hc(p).columns).includes(c)?p.set("visual",Hk(p.get("visual"),c,Hc(p).columns,i)):p}),(e,{field:t,toIndex:n})=>{let r,a;if(Ls(t)){a=$m(e.expressions).get(t.name);if(!a){console.error("Expected to find expression with given `field.name`: "+t.name);return e}r=og(a,void 0,Fa.TABLE,e.expressions)}else r=gi(t);const o=ac(r,a);return e.update("stagedColumns",e=>void 0===n?e.push(r):e.insert(n,r)).update("stagedEncodings",e=>void 0===n?e.push(o):e.insert(n,o))}),tx=(Kk((e,{encoding:t,toIndex:n})=>{const{column:r}=t,a=e.getIn(["columns",r]);return e.update("columns",e=>e.delete(r)).update("visual",e=>gc(e,a)).update("stagedColumns",e=>void 0===n?e.push(a):e.insert(n,a)).update("stagedEncodings",e=>void 0===n?e.push(t):e.insert(n,t))}),Kk((e,{channelName:t,index:n})=>e.updateIn(["visual","encodings"],e=>rc(e,t,n)))),nx=(Kk((e,{channelName:t,index:n,deps:r})=>{const{userInfo:a}=r,o=e.getIn(["visual","type"]),s=Hk(e.get("visual"),Fa.TABLE,Hc(e).columns,a);e=e.set("visual",s).updateIn(["visual","encodings"],e=>rc(e,t,n));return Jg(Hc(e).columns).includes(o)?e.set("visual",Hk(e.get("visual"),o,Hc(e).columns,a)):e}),Kk((e,{index:t})=>{const n=e.update("stagedEncodings",e=>e.delete(t)),r=n.stagedEncodings.map(e=>e.column).toSet();return n.update("stagedColumns",e=>e.filter(e=>r.has(e.alias)))}),Kk((e,{sorts:t})=>e.set("sorts",t))),rx=(Kk((e,{encoding:t,channelName:n,toIndex:r})=>e.updateIn(["visual","encodings"],e=>oc({encodings:e,channelName:n,encoding:t,toIndex:r}))),Kk((e,{encoding:t,toIndex:n})=>{const r=e.getIn(["visual","type"])===Fa.TABLE?"columns":e.getIn(["visual","encodings"]).findKey(e=>e&&e.column.alias===t.column.alias);return e.updateIn(["visual","encodings"],e=>oc({encodings:e,channelName:r,encoding:t,toIndex:n}))}),Kk((e,{alias:t,column:n,deps:r,isReplace:a})=>{let o=n;if(a){if(e.getIn(["columns",t,"field","name"])===n.getIn(["field","name"])&&e.getIn(["columns",t,"field","table"])===n.getIn(["field","table"])){const r=e.getIn(["columns",t,"sort"]);o=n.set("sort",r)}else{const{preferred:t}=Sg(e,n.delete("sort"),r.meta);o=n.set("sort",t)}}return e.update("columns",e=>e.set(t,o)).update(e=>{if(e.visual.type===Fa.TABLE&&!e.sorts.isEmpty()){const a=e.sorts.get(0);if(a.column===t&&n.role===Cn.p.MEASURE&&a.sortType===vn.d.DISPLAY_ORDER)return nx(e,{sorts:Object(b.List)([a.set("sortType",vn.d.VALUE)]),deps:r})}return e})}),Kk((e,{filtering:t})=>e.set("filtering",t)),(e,t)=>{const n=e.columns,r=nc(e.visual.encodings),a=dc(t.visual).map(e=>t.columns.get(e)),o=(e,t)=>e.alias===t.alias,s=n.filterNot(e=>a.some(t=>o(e,t))||t.stagedColumns.some(t=>o(e,t))).toList();return t.update("stagedEncodings",e=>{const t=r.filterNot(e=>a.some(t=>t.alias===e.column));return e.concat(t)}).update("stagedColumns",e=>e.concat(s))}),ax=(Kk((e,{type:t,deps:n})=>{const{userInfo:r}=n,a=Hc(e,t),o=a.columns,s=Hk(e.visual,Fa.TABLE,o,r),i=Hk(s,t,o,r);return rx(a,e.set("visual",i))}),Kk((e,{type:t,deps:n})=>{const{userInfo:r}=n,a=Hc(e,t),o=a.columns,s=Hk(e.visual,t,o,r);return rx(a,e.set("visual",s)).update("dateComparisonFilter",e=>_c(t)?e:void 0)}),Kk((e,{options:t})=>e.setIn(["visual","options"],t)),Kk((e,{dateComparisonFilter:t,deps:n})=>{const{meta:r}=n;if(!t||!_c(e.visual.type))return e;const a=t.getIn(["filters",0,"field"]);return e.set("dateComparisonFilter",t).update("filtering",e=>xu(e,a)).update(e=>YM(e,r))}),Kk(e=>e.remove("dateComparisonFilter")),Kk((e,{alias:t})=>{const n=$m(e.expressions).get(t),r=e=>rg(e,n),a=e=>e.filter(e=>r(e.field));return e.update("expressions",e=>e.filter(e=>e.alias!==t)).update("filtering",e=>xu(e,ng(n))).update(e=>a(e.stagedColumns).reduce((e,t)=>e.update("stagedColumns",e=>e.filter(e=>t.alias!==e.alias)).update("stagedEncodings",e=>e.filter(e=>e.column!==t.alias)),e)).update(e=>a(e.columns.toList()).reduce((e,t)=>e.update("columns",e=>e.delete(t.alias)).update("visual",e=>gc(e,t)),e))}),(e,{expressionField:t})=>e.update("expressions",e=>e.find(e=>e.alias===t.alias)?e:e.push(t))),ox=(Kk((e,{expressionField:t,channelName:n,index:r,deps:a})=>{const o=ax(e,{expressionField:t}),s=ng(t);return Xk(o,{field:s,channelName:n,toIndex:r,hasValidCurrencyProperty:!1,deps:a})}),Kk((e,{expressionField:t})=>{const n=ax(e,{expressionField:t}),r=ng(t);return ex(n,{id:Cs(r),field:r,snowflakeProperty:void 0})}),Kk(ax),Kk((e,{expressionField:t,deps:n})=>{const{meta:r}=n,a=e.expressions.findIndex(e=>e.alias===t.alias);if(-1===a)return e;const o=e.expressions.get(a).label!==t.label,{field:s}=tg(t,e.expressions,r);return e.update("expressions",e=>{if(o){const t=e.get(a).label,n=e.set(a,s),r=$m(n);return n.map(({alias:e})=>{const n=r.get(e),a=ps(ds(n.expression,r),r),o=vm(n.input,t,s.label);return n.set("expression",a).set("input",o)})}return e.set(a,s)})}),e=>{const t=e.visual.type,n=(e,n)=>{if(e.role===Cn.p.MEASURE)return e.set("fillDateInRaaS",!1);const r=SP(t,n);return e.role===Cn.p.DIMENSION&&Us(e.field)&&r?e.set("fillDateInRaaS",!0):e.set("fillDateInRaaS",!1)};return e.update("columns",t=>_P(e)((e,t,r)=>{const{column:a}=t;return e.update(a,e=>n(e,r.name))},t))}),sx=(e,t)=>{const n=e=>{const n=null==Gs(e),r=Vs(e)===t;return n&&!r?yi(e):e};return e.update("columns",e=>e.map(n))},ix=(e,t)=>e.updateIn(["visual","encodings","columns"],e=>e.sort(e=>e.column===t?-1:0)),cx=(e,t)=>{if(null==e.visual.encodings.get(Ba.COLUMNS))return e;return Object(Go.j)(e.table).map(e=>Si(e)).filter(e=>!!e).reduce((e,n)=>Zk(e,{column:n,channelName:Ba.COLUMNS,deps:t}),e)},lx=(e,t,n)=>{const{meta:r}=n;let a=e;a=sx(a,t);a=ix(a,t);a=cx(a,n);a=Fg(a,r);return wP(a,n)};var ux=n("Jraf"),px=n("DqRu"),dx=n("vuW9"),mx=n("P8at"),gx=n("rpKw");const bx=e=>Object(qe.h)(e),Ox=()=>Object(wt.a)("reporting-validation/v1/validation/config/export").then(_M.a),fx=e=>Ox().then(t=>{const n=Object(x.d)(e.get("config"));return t.includes(n)}),Ex=(e,t)=>{const n={reportId:e.get("id"),exportFormat:t.format,exportName:t.title,config:e.get("config"),dataColumns:e.getIn(["displayParams","dataColumns"],[])};return Object(wt.b)("reporting/v2/dataset/export",{data:n}).then(_M.a).catch(e=>{console.error(e);throw e})};var yx=n("Dh54"),Tx=e=>Object(yx.a)()(e),Ix=n("FQVk"),hx=n("ESYv");const jx="engagement.details",Ax="engagement.type",Sx=e=>e.getIn(["config","crossObject","reportId"]),_x=e=>Object(ve.g)(e.getIn(["config","dataType"]))?e.getIn(["config","objectTypeId"]):e.getIn(["config","dataType"]),Nx=e=>_x(e)===A.CROSS_OBJECT,Rx=(e,t,n)=>n.getIn([e,t,"scripted"],!1),Cx=e=>!Object(ve.g)(e.getIn(["config","dataType"]))&&!Nx(e)&&(e.getIn(["config","configType"])===f.a||e.getIn(["config","configType"])===f.f)&&e.getIn(["config","metrics"]).size>0&&e.getIn(["config","dimensions"]).size>0,vx=e=>{const t=e.getIn(["config","filters","custom"],Object(b.List)()).filter(e=>e.get("property")===Ax||"hs_engagement_type"===e.get("property"));return 0===t.size?Object(b.List)(Object.values(Ix.b)).flatMap(e=>e).push(jx):t.reduce((e,t)=>t.get("operator")===R.f?e.intersect(t.get("values")):t.get("operator")===R.k?e.subtract(t.get("values")):t.get("operator")===R.j?Object(b.Set)():e,Object(b.Set)(Object.keys(Ix.b))).flatMap(e=>Ix.b[e]).toList().push(jx)},Lx=e=>{if(Object(ve.g)(e.getIn(["config","dataType"])))return Object(ve.f)(e.getIn(["config","objectTypeId"])).then(({defaultProperties:e})=>e);const t=Nx(e)?e.getIn(["config","crossObject","dataTypes"]):b.List.of(_x(e));return Promise.resolve(t.reduce((t,n)=>{const r=wC.a[n].defaultExportProperties||[];return t.concat(Nx(e)?r.map(e=>Object(P.d)(n,e)):r)},Object(b.List)()))},Dx=(e,t,n=!1)=>{const r=e.get("config"),a=r.get("dimensions")||Object(b.List)(),o=(r.get("metrics")||Object(b.List)()).map(e=>e.get("property")),s=e.getIn(["displayParams","dataColumns"])||Object(b.List)();return Lx(e).then(r=>Object(b.OrderedSet)([...r,...n?o:[],...s,...a,...o]).filter(n=>!!n&&"count"!==n&&!Object(P.c)(n)&&!Rx(_x(e),n,t)).flatMap(t=>t===jx?vx(e):Object(b.List)([t])).map(t=>Nx(e)?Object(P.a)(t):{dataType:_x(e),propertyName:t}).map(({dataType:e,propertyName:t})=>({dataType:e,propertyName:Object(Ix.d)(t,e)})).toJS())},Mx=(e,t,n)=>Dx(e,t,n).then(e=>e.map(({dataType:e,propertyName:t})=>({objectTypeId:Object(ve.g)(e)?e:wC.a[e].objectType,propertyName:t}))),Px=(e,t)=>{const n=_x(e),r=e.get("config").update("dimensions",e=>e.filter(e=>!Rx(n,e,t))).update("metrics",e=>e.filter(e=>!Rx(n,e.get("property"),t)));return 0===r.get("dimensions").size?Promise.resolve(null):Object(hx.a)(r,t).then(e=>e.get("data")||null)},Ux="inbounddb-io/exports",kx=e=>{const t=e.getIn(["config","dataType"]);if(He.a.has(t)){const n=He.a.get(t);return e.setIn(["config","dataType"],A.ENGAGEMENT).updateIn(["config","filters","custom"],e=>e.push(Object(k.a)({property:"engagement.type",operator:"IN",values:[n]})))}return e},xx=e=>{const t=e.getIn(["config","dataType"]),n=e.getIn(["config","configType"]);return"DEALS"!==t||"FUNNEL"!==n&&"PIPELINE"!==n?e:e.updateIn(["config","filters","custom"],t=>t.push({property:"pipeline",operator:"EQ",value:e.getIn(["config","pipeline","id"])}))},wx=(e,t,n,r,a)=>{const o=Nx(e)?"REPORT":"VIEW",s={exportName:a.title||h.a.text("reporting-data.export.defaultExportName"),exportType:o};s.objectPropertyNames=r;if(Nx(e)){s.reportId=Sx(e);s.contactsSearch={sorts:e.getIn(["config","sort"],Object(b.List)()).toJS()}}else{s.type="crm-view";s.contactsSearch={properties:n.map(({propertyName:e})=>e),filterGroups:Tx(e.get("config")),sorts:e.getIn(["config","sort"],Object(b.List)()).toJS(),count:5,offset:0}}return Cx(e)?Px(e,t).then(e=>{s.summaryContactsSearch=e;return s}):s},Fx=(e,t={})=>Promise.all([Object(d.a)(e.get("config")),Object(Ye.a)(_x(e))]).then(([n,r])=>{const a=xx(e.set("config",n));return Promise.all([a,r,Dx(a,r),Mx(a,r,t.orderPropertiesByMetrics)])}).then(([e,n,r,a])=>wx(e,n,r,a,t)),Yx=e=>{const{report:t,userInfo:n,callback:r,format:a,email:o,payload:s}=e,i=n&&n.get("userId")||null,c=Qt.a.get(),l=Object.assign({format:a,userId:i,email:o,portalId:c},s);return Kc.a.post(Ux,{data:l}).then(()=>r(t,l))},Bx=e=>{const t=kx(e.report);return Fx(t,e).then(n=>Yx(Object.assign({},e,{report:t,payload:n})))},Gx=e=>{const{report:t,email:n,format:r,title:a}=e;return fx(t).then(o=>o?Ex(t,{email:n,format:r,title:a}):Bx(e)).catch(t=>{if(t.status&&![409,403].includes(t.status))return Bx(e);throw t})},Vx={allInternalIds:"ALL_CAMPAIGN_IDS",associatedWorkflows:"WORKFLOW_NAMES",bounce:"BOUNCE",bounceratio:"BOUNCE_RATIO",campaign:"CAMPAIGN_NAME",click:"CLICK",reply:"REPLY",clickratio:"CLICK_RATIO",replyratio:"REPLY_RATIO",clickthroughratio:"CLICK_THROUGH_RATIO",contactslost:"CONTACTS_LOST",contactslostratio:"CONTACTS_LOST_RATIO",createdDate:"CREATED",delivered:"DELIVERED",deliveredratio:"DELIVERED_RATIO",emailName:"EMAIL_NAME",fromAddress:"REPLY_TO",fromName:"FROM_NAME",hardbounced:"HARD_BOUNCED",hardbounceratio:"HARD_BOUNCE_RATIO",internalHubSpotId:"PRIMARY_EMAIL_CAMPAIGN_ID",lastEvent:"CAMPAIGN_LAST_TOUCH",notsent:"NOT_SENT",notsentratio:"NOT_SENT_RATIO",open:"OPEN",openratio:"OPEN_RATIO",publishDate:"PUBLISH_DATE",sent:"SENT",softbounced:"SOFT_BOUNCED",softbounceratio:"SOFT_BOUNCE_RATIO",spamreport:"SPAM_REPORT",spamreportratio:"SPAM_REPORT_RATIO",state:"STATE",subject:"SUBJECT",subscriptionName:"SUBSCRIPTION_NAME",suppressed:"SUPPRESSED",unsubscribed:"UNSUBSCRIBED",unsubscribedratio:"UNSUBSCRIBED_RATIO",updatedDate:"UPDATED"},Hx="cosemail/v1/export/dashboard";function Wx(e,{email:t,format:n}){const r=e.get("metrics").map(e=>e.get("property")),a=Object(D.a)(e.getIn(["filters","dateRange","value"]).toJS(),"x"),o=Object(_t.a)(e,"emailType")||Object(b.Map)(),s=Object(_t.a)(e,"businessUnitId")||Object(b.Map)(),i=Object(_t.a)(e,"campaignId")||Object(b.Map)(),c=Object(_t.a)(e,"teamId")||Object(b.Map)();return{campaign:i.get("value"),exportColumns:r.insert(0,"emailName").map(e=>Vx[e]).filter(e=>void 0!==e),email:t,format:n,exportAdvancedStats:!1,portalId:Qt.a.get(),type:"emails",simpleStateType:o.get("value")||null,businessUnitId:s.get("value")||null,includeExportPeriod:!0,startTimestamp:a.startDate,endTimestamp:a.endDate,state__in:[],subcategory__in:[],subcategory__nin:[],team_perms__in:c.get("value")}}const Kx=(e,t)=>{const n=e.get("config");return wt.b(Hx,{data:Wx(n,t)})};var qx=n("+xsV"),Qx=n("trO3");const $x=(e,t)=>{const n=["d1","d2"],r="d"+e.getIn(["filters","custom"],Object(b.List)()).filter(e=>n.includes(e.get("property"))).count();return t[r]?r:null},Jx=(e,t)=>{const{dimensions:n=[]}=t,r=n.includes("people"),a=Object(Qx.b)(t);return r?`${e.url}/export-people/${a}`:e.url+"/export"};const zx=(e,t)=>{const n=Object(_M.a)(e.get("config")),{dataType:r,dimensions:a}=n,o=a.includes("people");return Object(m.a)(r).then(r=>{const a=r.getUnifiedSpecForConfig(n),s=qx.a(a,n),i=Jx(a,n);let c=e.getIn(["config","metrics"]).map(e=>e.get("property")).concat(e.getIn(["displayParams","dataColumns"],Object(b.List)())).filter(e=>!a.calculated||!a.calculated[e]).map(e=>a.metadata&&Object(oe.a)(a.metadata,e)?"metadata-"+e:e).toOrderedSet().toList();const l=$x(e.get("config"),a);!o&&Object(oe.a)(a,l)&&a[l].metadata&&(c=c.unshift("metadata-"+a[l].metadata));const u=Object.assign({},Object(_M.a)(t),{allColumns:0===c.size?void 0:c,exportTitle:t.title});return wt.b(i,{query:s,data:u}).then(_M.a)})};var Xx=n("eY2p");const Zx="sales-reporting/export",ew={WATERFALL:"waterfall",CHANGE_HISTORY_DEAL_LIST:"deal-change-history",DEAL_PUSH_ANALYSIS:"push-analysis",PIPELINE_SNAPSHOTS:"historical-snapshots",SALES_QUOTA:"attainment"},tw=[{path:"reports-dashboard",app:"DashboardUI"},{path:"reports-list",app:"reports-list"},{path:"sales-reports",app:"sales-analytics-ui"},{path:"reporting",app:"IA"}],nw=()=>{},rw=(e,t)=>Object(Xx.a)().then(({portal:{portal_id:n},user:{email:r,user_id:a}})=>{const{format:o,title:s="",drilldownColumns:i=[],transformPayload:c}=t,l=window.location.pathname.substring(1).split("/"),u=tw.find(({path:e})=>l.includes(e)),p=e.has("id")?`${window.location.origin}/reports-list/${n}/${e.get("id")}`:null,d=e.updateIn(["config","filters","dateRange","value"],Object(b.Map)(),e=>Object(b.Map)(Object(D.a)(e.toJS())));if("COMPLETED_ACTIVITIES"===e.getIn(["displayParams","customWidget","type"]))return Fx(d,t).then(e=>{const n=d.getIn(["config","configType"])!==f.e&&c?Object(b.fromJS)(e).update("contactsSearch",c).update("summaryContactsSearch",c).toJS():e;return Yx(Object.assign({},t,{userInfo:Object(b.Map)({userId:a}),callback:nw,report:d,payload:n}))});const m={portalId:n,userId:a,email:r,type:ew[d.getIn(["displayParams","customWidget","type"])],format:o,exportName:s,referrerUrl:window.location.href,app:u?u.app:l[0],report:d,drilldownColumns:i,reportUrl:p};return Kc.a.post(Zx,{data:m})}),aw=2e3,ow=2e3,sw={UNKNOWN:"UNKNOWN",RUNNING:"RUNNING",SUCCESS:"SUCCESS",FAILED:"FAILED",CANCELLED:"CANCELLED",TIMEOUT:"TIMEOUT"},iw={CRM_SEARCH:"CRM_SEARCH",SNOWFLAKE:"SNOWFLAKE"},cw={UNDETERMINED:"UNDETERMINED",UNMIGRATED:"UNMIGRATED",VALIDATING:"VALIDATING",MIGRATED:"MIGRATED"},lw=Ln.i({limit:Ln.g().optional(),offset:Ln.g().optional(),fetchFromCache:Ln.b().optional(),updateCache:Ln.b().optional(),reportIdForBustingCache:Ln.g().optional(),isDrilldownRequest:Ln.b().optional()},"ReportOptions"),uw=Ln.i({reportId:Ln.k().optional(),reportDefinition:Pl,reportOptions:lw},"ReportWithOptions"),pw=sw,dw=Ln.i({status:Ln.l(pw,"AsyncQueryStatus").optional(),dataset:NM.a.optional(),id:Ln.k().optional()},"AsyncQueryResponse");class mw extends Error{}class gw extends Error{}class bw extends Error{}class Ow extends mw{}class fw extends mw{}class Ew extends mw{}const yw={XLS:"xls",XLSX:"xlsx",CSV:"csv"},Tw=Ln.i({dataReport:uw,summaryReport:uw.optional(),exportFormat:Ln.l(yw,"ExportTypes"),exportName:Ln.k().optional()},"ExportRequest"),Iw=(e,t)=>{const{table:n}=e;return Object(Go.j)(n).map(e=>{const{name:t}=e,n=Object(Go.l)(e)?Os:bs;return Object(Cn.k)({name:n,type:Cn.m.NUMBER,table:t})}).map(pi).reduce((e,n)=>Zk(e,{column:n,channelName:Ba.COLUMNS,deps:t}),e)},hw=e=>e.map(e=>e.set("undefinedBucket",h.a.text("reporting-snowflake.export.undefined-bucket-label"))),jw=e=>e.map(e=>e.delete("transform")),Aw=(e,t)=>{let n=Xl(e,t.meta);e.table.name!==Ro.a&&(n=Iw(n,t));n=NP(n);n=n.update("columns",hw);n=n.update("columns",jw);return n},Sw=(e,t)=>{if(DU(e,t))return;let n=Wl(e);n=n.update("columns",hw);return n},_w=(e,t,n)=>{const{format:r,title:a}=n,o=lw({fetchFromCache:!1,updateCache:!0}),{meta:s,userInfo:i}=t,c=tu(e,s),l=Aw(c,t),u=Sw(c,i),p=uw({reportDefinition:l,reportOptions:o}),d=u&&uw({reportDefinition:u,reportOptions:o});return Tw({dataReport:p,summaryReport:d,exportFormat:r,exportName:a})},Nw=Ln.i({meta:Co.i,userInfo:Ln.a()},"ReportDeps"),Rw=e=>Promise.all([Hm(e),Object(Xx.a)()]).then(([e,t])=>Nw({meta:e,userInfo:t})),Cw=e=>Object(wt.b)("sql-reporting/v1/export",{data:e}).then(_M.a),vw=(e,t)=>{const n=e.get("reportDefinition");switch(n.type){case Ml:return Rw(n).then(e=>_w(n,e,t)).then(e=>Cw(e)).catch(e=>{console.error(e);throw e});default:return Promise.resolve(!1)}},Lw=(e,t)=>{const{format:n,title:r}=t,a={fetchFromCache:!1,updateCache:!0},o=Object.assign({},e.journeyQuery);delete o.measure;return{exportFormat:n,exportName:r,journeyReportWithOptions:{journeyQuery:o,reportOptions:a},reportId:e.id}},Dw=e=>Object(wt.b)("reporting/v1/journey/export",{data:e}).then(_M.a),Mw=(e,t)=>{const n=Lw(e.toJS(),t);return Dw(n).catch(e=>{console.error(e);throw e})};var Pw=n("96fz"),Uw=n("5hFj");const kw=["NEW","AMOUNT_INCREASED","CLOSE_DATE_PULLED","STAGE_MOVED_FORWARD","FORECAST_MOVED_FORWARD","AMOUNT_DECREASED","CLOSE_DATE_PUSHED","STAGE_MOVED_BACKWARD","FORECAST_MOVED_BACKWARD","NO_CHANGE"];var xw=n("JCIg"),ww=Object(xw.a)({ACTIVITY_FEED:null,MARKETING_PERFORMANCE:null,SALES_PERFORMANCE:null,DEAL_FORECAST:null,CONTACTS_OVERVIEW:null,PERSONA:null,WATERFALL:null,CHANGE_HISTORY_DEAL_LIST:null,DEAL_PUSH_ANALYSIS:null,PIPELINE_SNAPSHOTS:null,SALES_QUOTA:null,COMPLETED_ACTIVITIES:null,TASKS_STREAM:null,ENGAGEMENT_STREAM:null});const Fw="USD",Yw=()=>h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.deletedDealStageLabel"),Bw=()=>h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.missingCategoryLabel"),Gw=()=>h.a.text("reporting-ui-components.customWidgets.pipelineSnapshots.properties.deal_activity"),Vw=[ww.WATERFALL,ww.CHANGE_HISTORY_DEAL_LIST,ww.DEAL_PUSH_ANALYSIS,ww.PIPELINE_SNAPSHOTS,ww.SALES_QUOTA,ww.COMPLETED_ACTIVITIES],Hw="YYYY-MM-DD",Ww={DAY:"l",WEEK:"l",MONTH:"short-m-y",QUARTER:"short-q-y",YEAR:"YYYY"},Kw={START:"START",CREATED:"CREATED",PULLED:"PULLED",INCREASED:"INCREASED",DECREASED:"DECREASED",PUSHED:"PUSHED",LOST:"LOST",WON:"WON",END:"END"},qw=e=>{const t=e.getIn(["displayParams","customWidget","type"]);return t&&Vw.includes(t)},Qw=e=>e.get("options").filter(e=>"create"!==e.get("value")).toJS().reduce((e,{value:t,label:n,displayOrder:r})=>Object.assign({},e,{[t]:{label:n,displayOrder:r}}),{"@@DELETED_DEALSTAGE@@":{label:Yw(),displayOrder:-1},"@@MISSING@@":Object(b.Map)({label:Bw()}),deal_activity:{label:Gw()}}),$w=e=>e.reduce((e,{pipelineId:t,label:n})=>Object.assign({},e,{[t]:{label:n}}),{}),Jw=e=>e.get("options",Object(b.List)()).reduce((e,t)=>e.set(t.get("value"),Object(b.Map)({label:t.get("label"),displayOrder:t.get("displayOrder")})),Object(b.Map)()).merge({"@@MISSING@@":Object(b.Map)({label:Bw()}),deal_activity:Object(b.Map)({label:Gw()})}),zw=DC()(()=>Object(Pw.a)().then(({homeCurrency:{currencyCode:e=Fw}})=>e)),Xw=()=>({ADVANCE:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.propertyChange.advance")},REGRESS:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.propertyChange.regress")},PUSH:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.propertyChange.push")},PULL:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.propertyChange.pull")},REMOVED:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.propertyChange.removed")},NEW:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.propertyChange.new")}}),Zw=()=>Object(b.fromJS)({NOT_PUSHED:{value:"NOT_PUSHED",label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.options.label.dealsNotPushed")},PUSHED:{value:"PUSHED",label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.options.label.dealsPushed")}}),eF=e=>e.get("breakdowns",Object(b.List)()).reduce((e,t)=>{const n=t.get("snapshotDate");return e.has(n)?e:e.set(n,Object(b.Map)({label:h.a.moment(t.get("effectiveSnapshotDate"),Hw).format(Ww.DAY)}))},Object(b.Map)()),tF=e=>{const t=e.getIn(["config","filters","dateRange","value","startDate"]),n=e.getIn(["config","filters","dateRange","value","endDate"]);return Object.keys(Kw).reduce((e,r,a)=>Object.assign({},e,{[r]:{name:r,label:h.a.text("reporting-ui-components.customWidgets.waterfall.dealBreakdown."+r,r===Kw.START?{date:Object(Uw.b)(t,"l")}:r===Kw.END?{date:Object(Uw.b)(n,"l")}:{}),displayOrder:a}}),{})},nF=()=>kw.reduce((e,t,n)=>e.set(t,Object(b.Map)({name:t,label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.deal_change_type."+t),displayOrder:n})),Object(b.Map)()),rF=(e,t)=>{const{date:n,key:r,label:a,color:o,dashStyle:s,width:i}=e.toJS();let c=n||r,l=a;if("today"===c){c=h.a.moment.portalTz();l=h.a.text("display.dateline.today")}else c=h.a.moment.portalTz(c);let u=null;t.forEach((e,n)=>{const r=t[n-1],a=h.a.moment.portalTz(e.get("key"));if(r){const t=h.a.moment.portalTz(r.get("key"));if(c.isBetween(t,a,"day","[)")){u=r;return}if(c.isSame(a,"day")){u=e;return}}else if(c.isSame(a,"day")){u=e;return}});const p=t.indexOf(u),d=o||Pn.EERIE;return{id:"includeDateLine",color:d,dashStyle:s||"Dash",width:i||1,label:{text:l,style:{color:d}},value:p,zIndex:1}},aF=e=>e.getIn(["displayParams","customWidget","options","intraperiod"]),oF=e=>e.getIn(["config","configType"])===f.f,sF=e=>e.getIn(["config","configType"])===f.e,iF=e=>e.get("chartType")===X.l,cF=e=>e.getIn(["config","metrics"]).map(e=>e.get("property")).find(e=>"count"!==e),lF=e=>e.getIn(["config","dimensions",0]),uF=e=>e.getIn(["config","dimensions",1]),pF=e=>e.getIn(["displayParams","customWidget","type"]),dF=e=>"SALES_QUOTA"===pF(e)&&"dealstage"===uF(e),mF=e=>{const t=pF(e);return"DEAL_PUSH_ANALYSIS"===t||"CHANGE_HISTORY_DEAL_LIST"===t},gF=e=>{const t=pF(e);return"CHANGE_HISTORY_DEAL_LIST"===t||"WATERFALL"===t},bF=Object(b.Map)({key:"today",dashStyle:"line",width:2}),OF=(e,t)=>e.map(e=>e.get(t)).toOrderedSet().toJS().map(e=>Object(b.Map)({key:e})),fF=(e,t)=>({x:{bottom:{rules:{plotLines:[rF(bF,OF(e,t))]}}}}),EF=e=>e.getIn(["config","filters","dateRange","value","startDate"]),yF=e=>Object(d.b)(e),TF=e=>e.updateIn(["config","metrics"],e=>e?e.map(e=>e.delete("metricTypes")):e),IF=e=>e.getIn(["config","filters","dateRange","property"]),hF=(e,t,n,r)=>e.reduce((e,a)=>{const o=a.get(t);return e.set(o,a.get(r)).set(o+"_SUM",a.get(n))},Object(b.Map)()),jF=e=>h.a.text("reporting-ui-components.customWidgets.salesAnalytics.countAndAmount",e),AF={NEW:Pn.CHART_GREEN,AMOUNT_INCREASED:Pn.CHART_GREEN,CLOSE_DATE_PULLED:Pn.CHART_GREEN,STAGE_MOVED_FORWARD:Pn.CHART_GREEN,FORECAST_MOVED_FORWARD:Pn.CHART_GREEN,AMOUNT_DECREASED:Pn.CHART_RED,CLOSE_DATE_PUSHED:Pn.CHART_RED,STAGE_MOVED_BACKWARD:Pn.CHART_RED,FORECAST_MOVED_BACKWARD:Pn.CHART_RED,NO_CHANGE:Pn.BATTLESHIP},SF=Object(b.fromJS)({chartType:"WATERFALL",config:{configType:f.a,dataType:A.DEALS,dimensions:["dealBreakdown"],metrics:[{property:"amount_in_home_currency",metricTypes:[E.SUM]}],filters:{dateRange:{property:"closedate",value:{}}}},displayParams:{customWidget:{type:"WATERFALL",options:{x:"dealBreakdown",y:"SUM|amount_in_home_currency"},isDrilledReport:!0}}}),_F=e=>oF(e)&&1===e.getIn(["config","dimensions"]).size,NF=e=>{const t=e.getIn(["config","filters","dateRange","property"]),n=!e.getIn(["config","filters","custom"],Object(b.List)()).filter(e=>e.get("property")===t).isEmpty(),r=e.getIn(["displayParams","salesAnalytics","context","secondaryDateRange"]),a=r&&Object(D.a)(r.toJS()),o=e.getIn(["config","filters","dateRange","value"]).toJS(),{startDate:s,endDate:i}=a||o;return n&&!a?e:e.updateIn(["config","filters","custom"],(e=Object(b.List)())=>e.filter(e=>e.get("property")!==t).concat(Object(b.fromJS)([{property:t,operator:R.c,value:s,dateTimeFormat:"DATE"},{property:t,operator:R.g,value:i,dateTimeFormat:"DATE"}])))},RF=e=>{const t=e.updateIn(["config","filters","dateRange","value"],(e=Object(b.Map)({rangeType:"LAST_MONTH"}))=>Object(b.Map)(Object(D.a)(e.toJS())));return gF(e)?NF(t):t},CF=e=>({reportId:e.get("id"),href:!e.get("id")&&window.location.href}),vF="dealBreakdown",LF="SUM|amount_in_home_currency",DF=[vF,LF,"count","netPipelineImpact"],MF={[Kw.PULLED]:["initialCloseDate","finalCloseDate","createdate"],[Kw.INCREASED]:["initialAmountInHomeCurrency","finalAmountInHomeCurrency","amountInHomeCurrencyChange","createdate"],[Kw.DECREASED]:["initialAmountInHomeCurrency","finalAmountInHomeCurrency","amountInHomeCurrencyChange","createdate"],[Kw.PUSHED]:["initialCloseDate","finalCloseDate","createdate"],[Kw.LOST]:["finalPipelineStage","closedLostReason","createdate"],[Kw.WON]:["finalPipelineStage","closedWonReason","createdate"]},PF=Qt.a.get(),UF=[...z.a[A.DEALS],"hubspot_owner_id","hubspot_team_id"],kF=["dealname","closedate","snapshot_period_closedate","initialCloseDate","finalCloseDate","mostRecentPushInitialCloseDate","mostRecentPushFinalCloseDate","dealstage","snapshot_period_dealstage","finalPipelineStage","pipeline","amount_in_home_currency","snapshot_period_amount_in_home_currency","initialAmountInHomeCurrency","finalAmountInHomeCurrency","amountInHomeCurrencyChange","hs_manual_forecast_category","hs_analytics_source","closedWonReason","closedLostReason","numberOfPushes","createdate","hubspot_owner_id","hubspot_team_id"],xF=({row:e})=>{window.open(`/contacts/${PF}/deal/${e.get("objectId")}/`,"_blank")},wF=(e,t)=>{const n=e.getIn(["config","filters","custom"]).find(e=>e.get("property")===t);return n&&n.get("value")},FF={SALES_QUOTA:e=>{const t=lF(e);return t?[t]:[]},PIPELINE_SNAPSHOTS:()=>["snapshot_period_closedate","snapshot_period_dealstage","snapshot_period_amount_in_home_currency","createdate"],DEAL_PUSH_ANALYSIS:e=>{const t=lF(e),n=uF(e);return"PUSHED"===wF(e,n)?[t,"numberOfPushes","mostRecentPushInitialCloseDate","mostRecentPushFinalCloseDate"]:[t]},WATERFALL:e=>{const t=lF(e),n=wF(e,t);return(MF[n]||[]).concat(["createdate"])},CHANGE_HISTORY_DEAL_LIST:()=>["hs_manual_forecast_category"]},YF={DEAL_PUSH_ANALYSIS:["amount_in_home_currency"],WATERFALL:["hubspot_owner_id"]},BF=e=>{if(!sF(e))return[];const t=pF(e),n=FF[t]?FF[t](e):[],r=YF[t]||[];return Object(b.OrderedSet)(kF).intersect(Object(b.OrderedSet)([...UF,...n])).subtract(Object(b.OrderedSet)(r)).toArray()},GF=e=>BF(e).map(e=>Object.assign({dataset:"primary",field:e},"dealname"===e?{onClick:xF}:{}));var VF=n("kqwf"),HF=n("lf24"),WF=n("eRX5"),KF=n("vWJb"),qF=n("gDmL"),QF=n("U1JS"),$F=n("VQUG"),JF=n("yIhL"),zF=n("L44f");const XF=25,ZF=10,eY=[ZF,20,30,40,50,60,70,80,90,100],tY=e=>h.a.text("reporting-ui-components.table.rowsPerPage",{number:e}),nY=()=>eY.map(e=>({text:tY(e),value:String(e)}));var rY=({page:e,pageCount:t,itemsPerPage:n,onPageChange:r,onPerPageChange:a,isMobile:o})=>{if(1===t&&!a)return null;const s=Object(u.jsx)(JF.a,{"data-test-id":"ui-paginator",className:"no-drag",onPageChange:({target:{value:e}})=>r(e),page:e,pageCount:t,maxVisiblePageButtons:zF.a,showFirstLastButtons:!1}),i="reporting-paginator m-y-2"+(o?" mobile-reporting-paginator":""),c=n===XF?tY(XF):String(n);return a&&[XF,...eY].find(e=>e===parseInt(n,ZF))?Object(u.jsxs)($F.a,{className:i,align:"center",justify:"center",wrap:"nowrap",children:[s,Object(u.jsx)(IR.a,{buttonUse:"link",menuWidth:250,onChange:a,options:nY(),value:c,searchable:!1})]}):Object(u.jsx)("div",{className:i,children:s})},aY=n("HZJg"),oY=n("0x0+");const sY="ERROR OCCURRED, NO MESSAGE PROVIDED",iY={REPORT_UI:"REPORT_UI",REPORT_VISUALIZATION:"REPORT_VISUALIZATION"},cY=({report:e,visualizationStatus:t,timeToResolveInMilliseconds:n,error:r})=>Object.assign({reportId:e.get("id")},Object(qe.d)(e)?{journeyQuery:e.get("journeyQuery").toJS()}:{configQuery:{config:e.get("config").toJS(),configVisualization:{chartType:e.get("chartType"),displayParams:e.get("displayParams",Object(b.Map)()).map(oY.b).toJS()}},visualizationStatus:t},{errorMessage:r&&(r.message||sY),timeToResolveInMilliseconds:n});class lY{constructor(e,t){this.report=e;Object(qe.d)(e)||(this.visualizationStatus=t?iY.REPORT_VISUALIZATION:iY.REPORT_UI);this.perf=new aY.a;this.perf.markStart()}executeInBackground(e){return e().catch(()=>{})}logSuccess(){return this.executeInBackground(()=>Object(wt.b)("reporting-usage/v1/ingestion/report",{data:cY({report:this.report,visualizationStatus:this.visualizationStatus,timeToResolveInMilliseconds:this.perf.markEnd()})}))}logError(e){return this.executeInBackground(()=>Object(wt.b)("reporting-usage/v1/ingestion/report",{data:cY({report:this.report,visualizationStatus:this.visualizationStatus,error:e,timeToResolveInMilliseconds:this.perf.markEnd()})}))}}var uY=n("ZS+/"),pY=n("5qWo"),dY=n("rg85");const mY=e=>e.default?e.default:e,gY=()=>Promise.resolve().then(n.bind(null,"veyg")).then(mY),bY=(e,t=[])=>{try{if(t.includes("RAAS:EnableReportingVisualizations")||e.get("v2")||Object(ve.g)(e.getIn(["config","dataType"])))return!0;const n=e.get("chartType"),r=e.get("displayParams")||Object(b.Map)();return n!==X.l||!r.get("pivot")}catch(e){return!0}};var OY=n("QQ8p"),fY=n("WvXS"),EY=n("CPAr"),yY=n("Dl53");const TY=e=>Object(u.jsx)("div",{className:"report-status-loading reporting-visualization-report",children:Object(u.jsx)(yY.a,Object.assign({},e))});TY.propTypes={"data-test-id":XN.a.string};var IY=TY;const hY={UNINITIALIZED:"UNINITIALIZED",STARTED:"STARTED",SUCCEEDED:"SUCCEEDED",FAILED:"FAILED"},jY=({deferred:e=!1,fetcher:t,requestArgs:n,resultFormatter:r})=>{const[a,o]=Object(p.useState)(()=>({status:hY.UNINITIALIZED}));Object(p.useEffect)(()=>{let a=!1;if(e)return()=>{a=!0};o(e=>Object.assign({},e,{status:hY.STARTED}));t(n).then(e=>{if(!a){const t=r?r(e):e;o(e=>Object.assign({},e,{data:t,status:hY.SUCCEEDED}))}}).catch(e=>{a||o(t=>Object.assign({},t,{error:e,status:hY.FAILED}))});return()=>{a=!0}},[r,o,t,e,n]);return a};function AY(e){return e.status===hY.UNINITIALIZED}function SY(e){return e.status===hY.STARTED}function _Y(e){return e.status===hY.FAILED}function NY(e){return e.status===hY.SUCCEEDED}function RY(e){return AY(e)||SY(e)}const CY="FiscalYearFetcherSucceeded",vY="FiscalYearFetcherFailed",LY=Object(p.createContext)(void 0),DY=()=>{const e=Qt.a.get();return wt.a(`hubs2/v1/settings/hub/${e}/setting/hubspot:fiscalyear`)},MY=e=>e.get("value"),PY=({fiscalYearMonthName:e,children:t})=>{const n=Object(p.useMemo)(()=>new yn.a,[]),r=jY({fetcher:DY,resultFormatter:MY,deferred:void 0!==e}),a=Object(p.useMemo)(()=>{if(_Y(r)){n.sendPageAction(vY);return w.a}if(NY(r)){n.sendPageAction(CY);return r.data}return e},[r,e,n]);return a?Object(u.jsx)(LY.Provider,{value:a,children:t}):Object(u.jsx)(IY,{"data-test-id":"fiscal-year-provider-loading"})};PY.displayName="FiscalYearProvider";PY.propTypes={children:XN.a.node.isRequired};var UY=PY;const kY=e=>function(t){const n=Object(p.useContext)(LY),r=t&&t.fiscalYearMonthName||n;return Object(u.jsx)(PY,{fiscalYearMonthName:r,children:Object(u.jsx)(e,Object.assign({},t))})};var xY=n("G2Ba"),wY=n("TtLx"),FY=n("JsU1"),YY=n("otYv"),BY=n("Qb0q"),GY=n("1KCo"),VY=n("XJEL"),HY=n("e9qj"),WY=n("ierA"),KY=n("DmHp"),qY=n("L1ux"),QY=n("+sJw");const $Y=(e,t)=>{const n=t.getIn(["displayParams","xAxis"],Object(b.Map)()),r=t.getIn(["displayParams","yAxis"],Object(b.Map)());return e.update("style",(e=Object(Mn.o)({}))=>e.update("x",(e=Object(b.Map)())=>e.update("bottom",(e=Object(b.Map)())=>e.update("title",e=>n.getIn(["title","enabled"],!0)?n.getIn(["title","text"])||e:"").set("min",n.getIn(["bounds","min"])).set("max",n.getIn(["bounds","max"])))).update("y",(e=Object(b.Map)())=>e.update("left",(e=Object(b.Map)())=>e.update("title",e=>r.getIn(["title","enabled"],!0)?r.getIn(["title","text"])||e:"").set("min",r.getIn(["bounds","min"])).set("max",r.getIn(["bounds","max"])))))};var JY=n("2Om6");const zY={ORANGE:"orange",YELLOW:"yellow",GREEN:"green",AQUA:"aqua",BLUE:"blue",PURPLE:"purple",PINK:"pink",DARK_ORANGE:"dark orange",DARK_AQUA:"dark aqua",DARK_PURPLE:"dark purple",DARK_YELLOW:"dark yellow",DARK_PINK:"dark pink",DARK_BLUE:"dark blue",DARK_GREEN:"dark green"},XY=Object(b.Map)({[zY.ORANGE]:"#fea58e",[zY.YELLOW]:"#f5c78e",[zY.GREEN]:"#a4d398",[zY.AQUA]:"#51d3d9",[zY.BLUE]:"#81c1fd",[zY.PURPLE]:"#bda9ea",[zY.PINK]:"#ea90b1",[zY.DARK_ORANGE]:"#c3705c",[zY.DARK_AQUA]:"#009ca2",[zY.DARK_PURPLE]:"#8775b2",[zY.DARK_YELLOW]:"#bb915b",[zY.DARK_PINK]:"#b05c7d",[zY.DARK_BLUE]:"#468cc4",[zY.DARK_GREEN]:"#6b9a5b"}),ZY={SOURCES:"sources",FEEDBACK:"feedback",COMPANY_SOURCES:"company-sources"},eB=Object(b.Map)({[ZY.SOURCES]:Object(b.Map)({organic:XY.get(zY.GREEN),referrals:XY.get(zY.YELLOW),social:XY.get(zY.AQUA),email:XY.get(zY.ORANGE),paid:XY.get(zY.PINK),"paid-social":XY.get(zY.DARK_PINK),direct:XY.get(zY.BLUE),other:XY.get(zY.DARK_ORANGE),offline:XY.get(zY.PURPLE)}),[ZY.FEEDBACK]:Object(b.Map)({promoters:XY.get(zY.GREEN),passives:XY.get(zY.ORANGE),detractors:"#ea90b1",PROMOTER:XY.get(zY.GREEN),PASSIVE:XY.get(zY.ORANGE),DETRACTOR:"#ea90b1",promotersCount:XY.get(zY.GREEN),passivesCount:XY.get(zY.ORANGE),detractorsCount:"#ea90b1"}),[ZY.COMPANY_SOURCES]:Object(b.Map)({ORGANIC_SEARCH:XY.get(zY.GREEN),PAID_SEARCH:XY.get(zY.PINK),EMAIL_MARKETING:XY.get(zY.ORANGE),SOCIAL_MEDIA:XY.get(zY.AQUA),REFERRALS:XY.get(zY.YELLOW),OTHER_CAMPAIGNS:XY.get(zY.DARK_ORANGE),DIRECT_TRAFFIC:XY.get(zY.BLUE),PAID_SOCIAL:XY.get(zY.DARK_PINK),OFFLINE:XY.get(zY.PURPLE)})}),tB={MULTI:"multi",ORANGES:"oranges",AQUAS:"aquas",PURPLES:"purples",YELLOWS:"yellows",PINKS:"pinks",BLUES:"blues",GREENS:"greens",FUNNEL:"funnel",PATTERNS:"patterns"},nB=Object(b.OrderedMap)({[tB.MULTI]:Object(b.List)([XY.get(zY.ORANGE),XY.get(zY.AQUA),XY.get(zY.PURPLE),XY.get(zY.YELLOW),XY.get(zY.PINK),XY.get(zY.BLUE),XY.get(zY.GREEN),XY.get(zY.DARK_ORANGE),XY.get(zY.DARK_AQUA),XY.get(zY.DARK_PURPLE),XY.get(zY.DARK_YELLOW),XY.get(zY.DARK_PINK),XY.get(zY.DARK_BLUE),XY.get(zY.DARK_GREEN)]),[tB.ORANGES]:Object(b.List)(["#fffbe6","#ffdec9","#ffc2ac","#ffa490","#e78f7b","#cf7a67","#b86554","#a75645","#904233"]),[tB.AQUAS]:Object(b.List)(["#a7ffff","#7efbff","#64e4ea","#49cdd3","#29b7bd","#00a1a7","#008a90","#00747a","#066469"]),[tB.PURPLES]:Object(b.List)(["#fdf2ff","#f6e1ff","#ddc8ff","#c6b1f2","#af9cdc","#9a87c5","#8472af","#6f5f9a","#5b4b85"]),[tB.YELLOWS]:Object(b.List)(["#fff1da","#ffe5bb","#ffdca3","#ffd28a","#fec76f","#f5b44b","#eca531","#df9419","#cb8007"]),[tB.PINKS]:Object(b.List)(["#ffe4ff","#ffcdee","#ffb7d8","#fca1c2","#e48bac","#cd7696","#b66182","#9f4d6e","#8f3e5f"]),[tB.BLUES]:Object(b.List)(["#c7ffff","#b0eeff","#99d7ff","#81c1fd","#6aabe6","#5296cf","#3981b9","#186da3","#005a8e"]),[tB.GREENS]:Object(b.List)(["#dbffc7","#c4f6b1","#aedf9b","#98c886","#83b271","#6e9d5d","#59884a","#457337","#315f24"]),[tB.FUNNEL]:Object(b.List)(["#9784c2","#aa85c0","#bc85bd","#cc87b8","#da89b2","#e68cab","#ef91a4","#f7969c","#fb9d95","#fea58e"]),[tB.PATTERNS]:Object(b.Map)({colorsTheme:tB.MULTI,patterns:Object(b.List)(["M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9","M 0 0 L 5 10 L 10 0","M 3 3 L 8 3 L 8 8 L 3 8 Z","M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11","M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0"]),dashStylePatterns:Object(b.List)(["Solid","ShortDash","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"])})}),rB=/^(\d+)__(.*)__([A-Z][A-Z_]+)$/;var aB=e=>{if(rB.test(e)){const[,t,n,r]=rB.exec(e);return{column:t,property:n,metricType:r}}return null};const oB={GRADIENT:"gradient",ORDERED:"ordered"},sB=oB.GRADIENT,iB=Object(b.Map)({[tB.MULTI]:oB.ORDERED,[tB.FUNNEL]:oB.ORDERED}),cB=tB.MULTI;function lB(e,t){return Object(b.Map)(t.map((t,n)=>[t,e.get(n%e.size)]).toJS())}function uB(e,t){const n=[];for(let r=0;r<e;r++)n.unshift(-2*(r+1)+t);return Object(b.List)(n)}function pB(e,t){const n=[];for(let r=0;r<e;r++)n.push(2*(r+1)+t);return Object(b.List)(n)}function dB(e,t){Object(JY.a)(e.size>0,"there must be at least one color to pick from");if(t.size>(e.size+1)/2)return Object(b.Map)(t.map((t,n)=>[t,e.get(n%e.size)]).toJS());{const n=Math.ceil(e.size/2-1);let r=Object(b.List)();if(t.size%2==0){const e=(t.size-2)/2;r=uB(e,n-1).concat([n-1,n+1]).concat(pB(e,n+1))}else{const e=(t.size-1)/2;r=uB(e,n).concat(n).concat(pB(e,n))}return Object(b.Map)(t.map((t,n)=>[t,e.get(r.get(n))]))}}function mB(e,t){const n=nB.get(e,nB.get(cB));switch(iB.get(e,sB)){case oB.ORDERED:return lB(n,t);case oB.GRADIENT:default:return dB(n,t)}}function gB(e,t,n){const r="string"==typeof e?eB.get(e,Object(b.Map)()):e,a=n.size;let o=0,s=0;const i=n.reduce((e,t)=>{e[t]=0;return e},{});r.forEach(e=>{if(Object.prototype.hasOwnProperty.call(i,e)){const t=++i[e];if(t>o){o=t;s=1}else t===o&&s++}});let c=0;return Object(b.OrderedMap)(t.map(e=>{const t=aB(e);if(r.has(e))return[e,r.get(e)];if(t&&r.has(t.property))return[e,r.get(t.property)];{for(;s>0&&s<a&&i[n.get(c%n.size)]===o;)c++;const t=n.get(c%n.size),r=++i[t];if(r>o){o=r;s=1}else r===o&&s++;return[e,t]}}).toJS())}function bB(e,t){if(e.get("custom")){const n=e.get("theme")||cB,r=nB.get(n);return gB(e.get("custom"),t,r)}return mB(e.get("theme")||cB,t)}function OB(e,t){return Object(b.Map)(t.map((t,n)=>[t,e.get(n%e.size)]).toJS())}var fB=n("9/vt");const EB=e=>e.map(e=>String(e)),yB=(e,t)=>{let n=t.getIn(["displayParams","colors"],Object(b.Map)({}));const r=t.getIn(["config","dataType"])===A.UNIFIED_EVENTS,a=t.getIn(["config","configType"]),o=t.getIn(["config","dimensions"])||Object(b.List)(),s=t.getIn(["config","metrics"]).flatMap(e=>r?Object(b.List)([e.get("property")]):e.get("metricTypes").map(t=>Object(OY.d)({property:e.get("property"),type:t}))),i=t.getIn(["config","metrics"]).toMap().mapKeys((e,t)=>t.get("property")).map(e=>e.get("metricTypes")),c=n.get("theme")!==tB.MULTI?nB.get(n.get("theme"),Object(b.List)()).reverse():nB.get(tB.MULTI);void 0!==c.get("colorsTheme")&&(n=n.set("theme",c.get("colorsTheme")));e=e.update("style",(e=Object(Mn.o)({}))=>e.set("colors",c));if(n.get("custom")&&1===o.count())return e.update("layers",e=>e.map(e=>{if("compare"===e.get("dataset"))return e;if(1===s.count()&&a!==f.f)return e.set("color",Object(Mn.e)({field:e.getIn(["x","field"]),defined:n.get("custom")}));const t=Object(OY.b)(e.getIn(["y","field"])).property;return e.set("color",Object(Mn.e)({default:n.getIn(["custom",t])}))}));const l=e.getIn(["layers",0,"color","field"]),u=l?EB(Object(fB.b)(e.getIn(["data","primary"]),l)):s,p=bB(l?n:n.update("custom",e=>e?e.reduce((e,t,n)=>e.merge(i.get(n,Object(b.List)()).toMap().mapKeys((e,t)=>Object(OY.d)({property:n,type:t})).map(()=>t)),Object(b.Map)()):e),u),d=c.get("patterns")?OB(c.get("patterns"),u):void 0,m=c.get("dashStylePatterns")?OB(c.get("dashStylePatterns"),u):void 0;return e.update("style",(e=Object(Mn.o)({}))=>e.set("colors",c)).update("layers",e=>e.map(e=>e.update("color",(e=Object(Mn.e)({}))=>Object(Mn.e)(Object.assign({},e.toJS(),{defined:e.get("default")?e.get("defined"):p,definedPatterns:d,definedDashStyles:m})))))},TB=(e,t)=>{let n=t.getIn(["displayParams","colors"],Object(b.Map)({}));const r=t.getIn(["config","dataType"])===A.UNIFIED_EVENTS,a=t.getIn(["config","metrics"]).flatMap(e=>r?Object(b.List)([e.get("property")]):e.get("metricTypes").map(t=>Object(OY.d)({property:e.get("property"),type:t}))),o=t.getIn(["config","metrics"]).toMap().mapKeys((e,t)=>t.get("property")).map(e=>e.get("metricTypes")),s=n.get("theme")!==tB.MULTI?nB.get(n.get("theme"),Object(b.List)()).reverse():nB.get(tB.MULTI);void 0!==s.get("colorsTheme")&&(n=n.set("theme",s.get("colorsTheme")));const i=(e=e.update("style",(e=Object(Mn.o)({}))=>e.set("colors",s))).getIn(["layer","color","field"]),c=i?bB(n,EB(Object(fB.b)(e.getIn(["data","primary"]),i))):bB(n.update("custom",e=>e?e.reduce((e,t,n)=>e.merge(o.get(n,Object(b.List)()).toMap().mapKeys((e,t)=>Object(OY.d)({property:n,type:t})).map(()=>t)),Object(b.Map)()):e),a),l=s.get("patterns")?OB(s.get("patterns"),EB(Object(fB.b)(e.getIn(["data","primary"]),i))):void 0;return e.set("layer",e.get("layer").update("color",(e=Object(Mn.e)({}))=>e.get("default")?e:e.set("defined",c)).update("color",(e=Object(Mn.e)({}))=>e.set("definedPatterns",l)))},IB=e=>{const t=e.get("data").filter((e,t)=>t.includes(xY.a)).map((e,t)=>Object(Mn.i)({dataset:t,mark:{dashStyle:"ShortDash"},x:{type:Mn.c.category,field:"date",blend:"bottom"},y:{type:Mn.c.linear,field:"value",blend:"left"},color:{default:Pn.BATTLESHIP}}));return e.update("layers",e=>t.toList().concat(e))},hB=(e,t)=>{const n=t.get("chartType"),r=t.getIn(["displayParams","hideDataLabels"]),a=t.getIn(["displayParams","stacked"]);return[X.b,X.c,X.d].includes(n)?e.setIn(["style","dataLabels"],!a&&!r).setIn(["style","stackLabels"],a&&!r):void 0===r?n===X.i||n===X.a?e.setIn(["style","dataLabels"],!1):e:e.setIn(["style","dataLabels"],!r)},jB=(e,t)=>e.setIn(["style","showLegend"],!t.getIn(["displayParams","hideLegend"])),AB=(e,t)=>t.getIn(["displayParams","hideMarkers"])?e.update("layers",(e=Object(b.List)())=>e.map(e=>e.update("mark",(e=Object(Mn.j)({}))=>e.update("marker",(e=Object(b.Map)())=>e.set("enabled",!1))))):e;var SB=n("guEt");const _B=(e={})=>e.toJS?e:Object(b.fromJS)(e),NB=(e,t)=>{const n=t.getIn(["displayParams","includeDateLine"],Object(b.Map)());if(!n.has("key")&&!n.has("date"))return e;const r=e.get("layers").find(e=>"compare"!==e.get("dataset"));if(!r)return e;const a=Object(SB.a)(r.set("dataset",e.getIn(["data",r.get("dataset")])),"x").toJS().map(e=>Object(b.Map)(e)),o=_B(rF(n,a));return e.update("style",(e=Object(Mn.o)({}))=>e.setIn(["x","bottom","rules","plotLines"],Object(b.List)([o])))},RB=(e,t)=>{const n=t.getIn(["displayParams","legendPosition"]),r=t.getIn(["displayParams","legendWidth"]);n&&(e=e.setIn(["style","legendPosition"],n));r&&(e=e.setIn(["style","legendWidth"],r));return e},CB=(e,t)=>t.getIn(["displayParams","onlyLegend"],!1)?e.setIn(["style","bottomLegend"],!0).setIn(["style","height"],600):e,vB=(e,t,n,r)=>r||1!==n||"static"!==t.get("type")||e.getIn(["color","field"])?2===n&&"ranked"===t.get("type")&&e.getIn(["color","field"])?e.setIn(["color","order"],Object(Rn.d)({field:e.getIn(["y","field"]),direction:"asc"===t.get("direction")?Rn.c.ascending:Rn.c.descending})):2===n&&"static"===t.get("type")&&e.getIn(["color","field"])?e.setIn(["color","order"],Object(Rn.d)({field:e.getIn(["y","field"]),defined:t.get("values",Object(b.List)())})):e:e.setIn(["x","order"],Object(Rn.d)({field:e.getIn(["y","field"]),defined:t.get("values",Object(b.List)()),direction:Rn.c.descending})),LB=(e,t)=>{const n=(t.getIn(["config","dimensions"])||Object(b.List)()).count(),r=t.getIn(["config","configType"])===f.f,a=t.getIn(["displayParams","seriesOrder"],Object(b.Map)());return e.update("layers",(e=Object(b.List)())=>e.map(e=>e.update(e=>vB(e,a,n,r))))},DB=(e,t)=>{const n=t.get("chartType"),r=t.getIn(["displayParams","showTotals"]);return[X.j,X.g].includes(n)?e.setIn(["style","showTotals"],r):e},MB=(e,t)=>t.getIn(["displayParams","stacked"])?e.update("layers",(e=Object(b.List)())=>e.map(e=>"compare"===e.get("dataset")?e:e.update("mark",(e=Object(Mn.j)({}))=>e.set("stacking",!0).set("stack","DEFAULT_STACK")))):e,PB=(e,t)=>{const n=t.getIn(["displayParams","tooltipDisabled"]);return n?e.setIn(["style","tooltipDisabled"],n):e},UB=(e,t)=>e.update(e=>hB(e,t)).update(e=>AB(e,t)).update(e=>jB(e,t)).update(e=>yB(e,t)).update(e=>$Y(e,t)).update(e=>LB(e,t)).update(e=>NB(e,t)).update(e=>MB(e,t)).update(e=>CB(e,t)).update(e=>RB(e,t)).update(e=>IB(e,t)).update(e=>PB(e,t)),kB=(e,t)=>e.update(e=>TB(e,t)).update(e=>hB(e,t)).update(e=>RB(e,t)).update(e=>DB(e,t)).update(e=>PB(e,t)),xB=Object(b.Map)({[A.ATTRIBUTION_TOUCH_POINTS]:"objectId",[A.COMPANIES]:"company-id",[A.CONTACTS]:"vid",[A.CONTACT_CREATE_ATTRIBUTION]:"objectId",[A.DEALS]:"dealId",[A.LINE_ITEMS]:"objectId"}),wB={ASC:"ascending",DESC:"descending"},FB=(e,t=Object(b.List)(),n,r,a)=>{const o=r.getIn(["primary","data","paginationSize"]),s=e.getIn(["config","limit"]),i=o&&s&&Math.ceil(o/s),c=e.getIn(["config","configType"])===f.e;[fY.c].includes(e.getIn(["config","configType"]))&&[A.CONTACTS,A.DEALS].includes(e.getIn(["config","dataType"]))&&1===n.count()&&(n=n.concat([GY.b,GY.a]));const l=e.getIn(["displayParams","toggleSeries"]),u={};if(l){const n=e.getIn(["displayParams","toggleAllSeries"]),r=e.getIn(["displayParams","seriesToggleDisabled"]),a=e.getIn(["displayParams","checked"]),o=e.getIn(["displayParams","colors","custom"])||Object(b.Map)();u.toggleSeriesParams={toggleSeriesHandler:l,toggleAllSeriesHandler:n,seriesToggleDisabled:r,checkedSeries:a,colors:o,dimension:t.first()}}const p=t.map(e=>({dataset:"primary",field:e})).concat(n.map(t=>{const n=Object(OY.b)(t).property,r=c?n:t,a=e.hasIn(["displayParams","columns",t])?t:n,o=e.getIn(["displayParams","columns",a,"tooltipI18nKey"]),s=(e.getIn(["config","sort"])||Object(b.List)()).find(e=>e.get("property")===n,null,Object(b.Map)()).get("order"),i=e.getIn(["displayParams","columns",a,"onSort"])||e.getIn(["displayParams","onSort"]);return Object.assign({dataset:"primary",field:r,direction:wB[s]||s,onSort:i,tooltipI18nKey:o,useRawDataLabel:"hs_object_id"===r&&e.getIn(["config","dataType"])!==A.CRM_OBJECT},e.getIn(["displayParams","columns",a,"showAsBarChart"],!1)?{showAsBarChart:!0,showAsBarChartOptions:e.getIn(["displayParams","columns",n,"showAsBarChartOptions"],Object(b.Map)())}:{})})).filter(t=>!e.getIn(["displayParams","columns",Object(OY.b)(t.field).property,"hideColumn"])).map(t=>{const{field:n}=t,a=Object(OY.b)(n).property,o=e.getIn(["displayParams","columns",a,"onClick"]);t.onClick=o?t=>{const n=t.valueLabels||t.column&&t.column.get("valueLabels")||t.cell&&t.cell.get("valueLabels"),r=e.getIn(["config","dimensions",0]),s=(t.row||t.cell.row).get(r),i=Object(NM.g)(t.dataset,r,s),c={metricKey:a,metricLabel:n.get(0),seriesKey:s,seriesLabel:i,category:{key:s,label:i},report:e};o(Object.assign({},t,{},c))}:null;t.renderCell=e.getIn(["displayParams","columns",a,"render"]);t.renderCell||(t.customRendererKey=Object(KY.b)({report:e,column:t,dataMap:r}));return t}).update(0,t=>{if(e.getIn(["displayParams","onRowClick"])&&!t.onClick){const n=e.getIn(["displayParams","onRowClick"]);t.onClick=({value:e,valueLabels:t})=>{n({key:e,label:t.first()})}}return t});if(!c&&t.size>1)return Object(HY.a)({data:r,columns:p,pages:i,pivot:{dataset:"primary",field:t.get(1),groupby:Object(b.List)([t.get(0)]),value:n.get(0)},showTotalsColumn:e.getIn(["displayParams","showTotalsColumn"]),showTotals:e.getIn(["displayParams","showTotals"])});a&&(r=r.update(e=>e.map(e=>e.updateIn(["data","data"],e=>e.map(e=>e.delete(FY.a))))));return Object(qY.g)(Object.assign({data:{primary:r.getIn(["primary","data"]).update(t=>{const n=t.get("data").size,r=t.get("paginationSize"),a=e.getIn(["config","limit"]);if(n<r||!a)return t;const o=e.getIn(["config","offset"],0);return t.update("data",e=>e.skip(o).take(a))}),summary:r.getIn(["summary","data"])},columns:p,pages:i,footer:"summary",showTotals:e.getIn(["displayParams","showTotals"]),style:{isMobile:a}},u))},YB=(e,t,n)=>2===t.count()?b.List.of({dataset:e,x:{type:Mn.c.category,field:t.first(),blend:"bottom"},y:{type:Mn.c.linear,field:n.first(),blend:"left"},color:{field:t.get(1)}}):n.map(n=>({dataset:e,x:{type:Mn.c.category,field:t.first(),blend:"bottom"},y:{type:Mn.c.linear,field:n,blend:"left"}})),BB=(e,t,n,r)=>{const a=1===n.count()?{color:{default:YY.c}}:{};return n.map(n=>Object.assign({dataset:e,mark:{type:r===X.i?X.a:r},x:{type:Mn.c.category,field:t.first(),blend:"bottom"},y:{type:Mn.c.linear,field:n,blend:"left"}},a))},GB=(e,t,n)=>n.map(n=>({dataset:e,mark:{type:"line"},x:{type:Mn.c.category,field:t.first(),blend:"bottom"},y:{type:Mn.c.linear,field:n},color:{default:YY.g}})),VB=(e,t,n,r)=>{const a=r.getIn(["primary","data"])||Object(NM.a)({}),o=r.getIn(["compare","data"]),s=1===t.count()?"vertical":"horizontal",i=t.first(),c=e.getIn(["displayParams","columns"])||Object(b.Map)(),l=c.filter(e=>e.get("hideColumn")),u=n.filter(e=>!l.has(Object(OY.b)(e).property)),p=c.reduce((e,t,n)=>t.has("tooltipI18nKey")?e.push(Object(b.fromJS)({column:n,options:{tooltipI18nKey:t.get("tooltipI18nKey")}})):e,Object(b.List)());return Object(BY.c)({data:{primary:a,compare:o},layer:{dataset:"primary",compare:o?"compare":void 0,fields:u,direction:s,group:i,valueFormattingOptions:p}})},HB=(e,t,n,r,a)=>{const o=e.get("chartType"),s=r.getIn(["primary","data"])||Object(NM.a)({}),i=!e.getIn(["config","dimensions"]).isEmpty(),c=e.getIn(["config","frequency"],void 0),l=e.getIn(["config","filters","dateRange","property"]),u=e.getIn(["displayParams","dataColumns"],Object(b.List)()).includes(l)&&l;return kB(Object(WY.f)({data:{primary:s},layer:{dataset:"primary",angle:{field:i?n.first():h.a.text("property.count.label")},color:{field:t.first()},style:{innerSize:o===X.g?"35%":"0%"}},isGrouped:i,style:{isMobile:a,dateResolution:c,dateColumnAlias:u}}),e)},WB=(e,t,n,r)=>{let a=r.get("properties");const o=n.get("properties"),s=Object(j.a)(e),i=n=>1===t.count()?s(e.getIn(["config","compare"])):s(e.getIn(["config","compare"]),n);t.forEach(e=>{a=a.update(e,t=>{if(t)return t.set("label",i(t.get("label",e)));const n=o.get(e);return n.set("references",Object(b.Map)()).set("label",i(n.get("label",e)))})});return r.set("properties",a)},KB=(e,t,n)=>{if(!n)return!1;const r=t.get("endDate"),a=r&&h.a.moment.portalTz(r),o=e.last().get(n),s=o&&h.a.moment.portalTz(o);return a&&s&&a.isBefore(s)},qB=(e,t,n,r,a)=>{const o=n.get("data"),s=r.get("data"),i=o[o.size?"size":"length"]-s[s.size?"size":"length"],c=e.getIn(["config","configType"])===f.f&&e.getIn(["config","dimensions",0]);let l=s;if(i>=0){const n=o.slice(0,i).map(e=>e.map((e,n)=>t.includes(n)||c===n?null:e)),r=e.getIn(["config","filters","dateRange","value"],Object(b.Map)({})),s=Object(Y.e)(e.get("config")),u=Object(b.fromJS)(Object(D.a)(r.toJS(),null,e.getIn("config","dataType"),s,a));l=r.get("rangeType")===S.b.IS_AFTER_DATE&&KB(o,u,c)?l.concat(n):n.concat(l)}return WB(e,t,n,r.set("data",l))},QB=(e,t,n,r,a,o=w.a)=>{const s=r.getIn(["primary","data"])||Object(NM.a)({}),i=r.getIn(["compare","data"]),c=i?qB(e,n,s,i,o):i,l=t.count(),u=e.get("chartType");if(u===X.d){const o=r.getIn(["summary","data"]),i=YB("primary",t,n.take(1)),c=GB(2===l?"summary":"primary",t,n.shift());return UB(Object(Mn.p)({type:"XY",data:{primary:s,summary:o},layers:i.concat(c),style:{type:Mn.k.bar,dataLabels:!0,isMobile:a}}),e)}const p=s?YB("primary",t,n):Object(b.List)(),d=c&&l<2?BB("compare",t,n,u):Object(b.List)(),m=!c&&1===t.count()&&n.count()>1?{y:{left:{title:""}}}:{},g=r.filter((e,t)=>t.includes(xY.a)).merge({primary:s,compare:c}),O=e.getIn(["config","processors"],Object(b.List)()).includes(C.a),f=e.getIn(["displayParams","showDelta"]),E=n.get(0),y=f&&c?Object(QY.d)(c.get("data"),E,O):void 0,T=f?Object(QY.d)(s.get("data"),E,O):void 0,I=e.getIn(["config","frequency"]);let h=UB(Object(Mn.p)({type:"XY",data:g,layers:d.concat(p),style:Object.assign({isMobile:a,delta:f?{initial:y,final:T}:void 0,type:((u===X.c?Mn.k.bar:u)||Mn.k.bar).toLowerCase()},m,{dateResolution:I})}),e);u===X.b&&(h=Object(QY.j)(h));return h},$B=(e,t,n,r)=>{const a=r.getIn(["primary","data"])||Object(NM.a)({}),o=e.get("chartType");if((e.getIn(["config","processors"])||Object(b.List)()).includes(C.f))return Object(VY.a)({type:fY.c,data:{primary:a},dataset:"primary",filterProperty:wY.a,valueProperty:wY.b,horizontalFunnel:o===X.c});const[s,i]=e.getIn(["config","metrics"]).skip(1).map(e=>`${e.get("metricTypes").first()}|${e.get("property")}`).toArray();return Object(VY.a)({type:fY.c,data:{primary:a},dataset:"primary",filterProperty:t.first(),valueProperty:n.first(),horizontalFunnel:o===X.c,primaryChevronProperty:s,secondaryChevronProperty:i})},JB=(e=Object(b.Map)(),t,n=!1,r=w.a)=>{const a=e.getIn(["config","configType"]),o=e.get("chartType");let s=e.getIn(["config","dimensions"],Object(b.List)());const i=e.getIn(["config","metrics"]).flatMap(t=>{if(e.getIn(["config","dataType"])===A.UNIFIED_EVENTS)return Object(b.List)([t.get("property")]);const n=t.get("metricTypes");return n.isEmpty()?Object(b.List)([Object(OY.d)({property:t.get("property"),SUM:E.SUM})]):n.map(e=>Object(OY.d)({property:t.get("property"),type:e}))})||Object(b.List)();if(o===X.l){if(a===f.e){const n=e.getIn(["displayParams","hideKeyColumn"],!1),r=t.getIn(["primary","data","searchDimension"])||xB.get(e.getIn(["config","dataType"],"hs_object_id"));s=n||!r?Object(b.List)():Object(b.List)([r])}return FB(e,s,i,t,n)}return o===X.f?VB(e,s,i,t):o===X.j||o===X.g?HB(e,s,i,t,n):o===fY.c||o===X.c&&(a===f.b||a===f.c)?$B(e,s,i,t):QB(e,s,i,t,n,r)},zB="RA:UpgradedConfig",XB="RaaS:UseBEForMultiConfigResolve",ZB=(e,t)=>t.getIn(["config","configType"])!==f.e&&t.getIn(["config","metrics"]).some(t=>t.get("property")===e),eG=({report:e,clickEvent:t})=>{const n=t.field||t.column&&t.column.get("field")||t.cell&&t.cell.get("field"),r=e.get("displayParams")||Object(b.Map)();return r.getIn(["columns",Object(OY.b)(n).property,"onDrilldown"])||r.get("onChartClick")||r.get("onClick")},tG={[fY.c]:e=>{if(e.layer&&e.point){const{layer:t,point:n}=e,r=t.getIn(["x","field"]),a=t.getIn(["color","field"]),o=t.getIn(["y","field"]),{property:s,type:i}=Object(OY.b)(o);return{dim:r,seriesDim:a,metric:o,property:s,type:i,row:n.get("row")}}const{visualization:t,segment:n,row:r}=e,{property:a,type:o}=Object(OY.b)(t.get("valueProperty"));return{dim:t.get("filterProperty"),seriesDim:n,metric:t.get("valueProperty"),property:a,type:o,row:r}},[fY.j]:({layer:e,point:t})=>{const n=e.getIn(["x","field"]),r=e.getIn(["color","field"]),a=e.getIn(["y","field"]),{property:o,type:s}=Object(OY.b)(a);return{dim:n,seriesDim:r,metric:a,property:o,type:s,row:t.get("row"),datasetKey:e.getIn(["dataset","key"])}},[fY.g]:({layer:e,point:t})=>{const n=e.getIn(["color","field"]),r=e.getIn(["color","field"]),a=e.getIn(["angle","field"]),{property:o,type:s}=Object(OY.b)(a);return{dim:n,seriesDim:r,metric:a,property:o,type:s,row:t.get("sliceRow")}},[fY.b]:({cell:e,layer:t})=>{const n=t.get("group"),r=e.get("field"),{property:a,type:o}=Object(OY.b)(r);return{dim:n,metric:r,property:a,type:o,row:e.get("row")}},[fY.h]:(e,t)=>{const{row:n,field:r}=e,[...a]=n.keys(),o=t.getIn(["config","dimensions",0])||a.find(e=>!e.includes(OY.a)),{property:s,type:i}=Object(OY.b)(r);return{dim:o,metric:r,property:s,type:i,row:n}},[fY.e]:({row:e,field:t,pivot:n})=>{const r=t,a=n.getIn(["groupby",0]),o=n.get("field"),{property:s,type:i}=Object(OY.b)(r);return{dim:a,metric:a,property:s,seriesDim:o,type:i,row:e}}},nG=(e,t,n)=>{const r=eG({report:e,clickEvent:n});if(!r)return;const a=tG[t];if(!a){console.warn(`Unable to translate click event to drilldown for ${t} `);return}const{dataset:o}=n,{dim:s,seriesDim:i,metric:c,property:l,type:u,row:p,datasetKey:d}=a(n,e),m=t===fY.e?Object(NM.g)(o,i,p.get(i)):Object(NM.d)(o,c),g=s?`${m} / ${Object(NM.g)(o,s,p.get(s))}`:""+m;r(Object(b.List)([...s?[p.get(s)]:[],...i?[p.get(i)]:[],l,u]),{name:g,datasetKey:d})},rG=(e,t,n,r=w.a)=>{const a=JB(e,t,n,r),o=a.get("type");if(o===fY.j)return a.set("events",{onPointClick:e.getIn(["displayParams","allowDrilldown"],!0)?t=>nG(e,fY.j,t):void 0});if(o===fY.g)return a.set("events",{onPointClick:t=>nG(e,fY.g,t)});if(o===fY.c)return a.set("events",{onPointClick:t=>nG(e,fY.c,t)});if([fY.b,fY.h,fY.e].includes(o)){const t=t=>{const n=String(t.column&&t.column.get("field")||t.cell&&t.cell.get("field"));return n&&(ZB(Object(OY.b)(n).property,e)||"PIVOT"===o)&&eG({report:e,clickEvent:t})?(n={})=>nG(e,o,Object.assign({},t,{},n)):null};return o===fY.b?a.set("events",{getOnPointClick:t,getHeader:e.getIn(["displayParams","render","header"]),getBody:e.getIn(["displayParams","render","body"])}):a.set("events",{getOnPointClick:t})}return a},aG=({report:e,data:t,paginationRenderer:n,visualizationDebug:r,determineVisualization:a=rG,isMobile:o=!1,gates:s=[],forceUseAdditionalConfigs:i=!1})=>{const c=Object(p.useContext)(LY),l=Object(p.useMemo)(()=>{const n=a(e,t,o,c);if(e.has("visualization")&&(i||s.includes(zB))){const r=e.getIn(["visualization","type"]);return(0,EY.a[r].record)(Object(b.Map)(n).merge(e.get("visualization"))).set("data",t.map(e=>Object(NM.a)(e.get("data"))))}return n},[e,t,a,o,s,i,c]),d=e.getIn(["displayParams","rhumbConfig"],Object(b.Map)()).get("renderSuccessMarker");return Object(u.jsxs)("div",{className:"report-status-loaded reporting-visualization-report",style:{maxHeight:"100%",overflow:"auto"},children:[Object(u.jsx)(EY.b,{visualization:l,debug:r,gates:s}),!e.getIn(["displayParams","hidePagination"])&&n&&n(),d&&d()]})};aG.propTypes={report:XN.a.object,data:XN.a.object,paginationRenderer:XN.a.func,determineVisualization:XN.a.func,gates:XN.a.array,isMobile:XN.a.bool,forceUseAdditionalConfigs:XN.a.bool,visualizationDebug:XN.a.object};var oG=aG,sG=n("g7r6"),iG=n("GwuO");var cG=({error:e,isMobile:t})=>Object(u.jsx)("div",{className:"report-status-error reporting-visualization-report",children:Object(u.jsx)(iG.a,{type:Object(sG.a)(e),error:e,isMobile:t})}),lG=n("LqZr"),uG=n("x1f2");var pG=({isMobile:e})=>Object(u.jsx)("div",{className:"report-status-loaded reporting-visualization-report",children:Object(u.jsxs)($F.a,{direction:"column",align:"center",justify:"center",children:[Object(u.jsx)(uG.a,{style:{textAlign:"center"},children:Object(u.jsx)(lG.a,{name:"empty-state-charts",width:e?"60%":"100%",className:"empty-state-illustration "+(e?"m-bottom-0":"m-bottom-8"),"data-test-id":"report-no-data"})}),Object(u.jsx)(uG.a,{className:"text-center",children:h.a.text("error-messages.empty.message")})]})});const dG=Object(On.createMetricsFactory)("reporting-ui-components",{library:"reporting-ui-components"}),mG="snowflake-report-pagination-usage",gG="ue-report-pagination-usage",bG="crm-report-pagination-usage",OG="other-report-pagination-usage",fG=3e4,EG="paginated-report-rows-viewed",yG="report-export-count",TG="report-export-failure-count",IG="inline-date-range-label-interaction",hG="inline-date-range-label-rendered",jG="inline-comparison-label-interaction",AG="inline-comparison-label-rendered",SG="report-rendered-no-data",_G={STANDARD:"standard",CUSTOM:"custom"},NG=({report:e,reportLoading:t,configuredReport:n,reportData:r,reportHasData:a,reportError:o,disableEmptyStates:s,paginationRenderer:i,noDataRenderer:c,errorRenderer:l,visualizationDebug:d,determineVisualization:m,gates:g,isMobile:O,forceUseAdditionalConfigs:f,visualize:E,refreshReportData:y})=>{if(t)return Object(u.jsx)(IY,{});const T=e.getIn(["displayParams","rhumbConfig"],Object(b.Map)()),I=T.get("renderSuccessMarker"),h=T.get("renderErrorMarker");if(o)return l?l(o,e):Object(u.jsxs)(p.Fragment,{children:[Object(u.jsx)(cG,{error:o,isMobile:O}),h&&h()]});if(!s&&!a){dG.counter(SG,{type:c?_G.CUSTOM:_G.STANDARD}).increment();return c?c():Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(pG,{isMobile:O}),I&&I()]})}return E?E(e,r,O,y):Object(u.jsx)(oG,{report:n,data:r,paginationRenderer:i,visualizationDebug:d,determineVisualization:m,gates:g,isMobile:O,forceUseAdditionalConfigs:f})};NG.propTypes={report:XN.a.object.isRequired,reportLoading:XN.a.bool.isRequired,configuredReport:XN.a.object,refreshReportData:XN.a.func,reportData:XN.a.object,reportHasData:XN.a.bool,reportError:XN.a.object,disableEmptyStates:XN.a.bool,paginationRenderer:XN.a.func,noDataRenderer:XN.a.func,errorRenderer:XN.a.func,determineVisualization:XN.a.func,gates:XN.a.array,isMobile:XN.a.bool,forceUseAdditionalConfigs:XN.a.bool,visualizationDebug:XN.a.object,visualize:XN.a.func};var RG=Object(p.memo)(NG);const CG=Object(p.createContext)({gates:[],portal:{},user:{}}),vG=({report:e,runtimeOptions:t={},disableEmptyStates:n,paginationRenderer:r,noDataRenderer:a,errorRenderer:o,onReportResolve:s,onError:i,setIsRendered:c,visualizationDebug:l,resolve:d,determineVisualization:m,isMobile:O,forceUseAdditionalConfigs:f=!1,visualize:E,refreshReportData:y})=>{const T=Object(p.useRef)(),[I,h]=Object(p.useState)({}),[j,A]=Object(p.useState)({}),{report:S}=I,_=Object(p.useRef)(),{gates:N}=Object(p.useContext)(CG),R=Object(p.useContext)(LY);Object(p.useEffect)(()=>{if(S&&Object(uY.a)(S,e))return;h({report:e,reportLoading:!0});_.current=_.current||new lY(e,bY(e,N));T.current=T.current?T.current+1:1;const n=T.current;(d?Promise.all([Promise.resolve(e),d(e)]):Promise.all([Object(dY.a)(e),gY().then(({resolve:n})=>n(e,Object.assign({},t,{v2Datasets:!0,useAdditionalConfigs:f||N.includes(zB),useRaaSAPIToResolveMultiConfig:N.includes(XB),fiscalYearMonthName:R})))])).then(([r,a])=>{r=(Object(g.a)(e)||t.useBackendResolve)&&a.hasIn(["primary","config"])?r.set("config",a.getIn(["primary","config"])):r;if(n===T.current){const t=a.get("hasData")||!a.getIn(["primary","data","data"],Object(b.List)()).isEmpty(),n={report:e,reportLoading:!1,configuredReport:r,reportData:a,reportHasData:t};h(n);A(n);_.current.logSuccess();_.current=void 0;s&&s({configured:r,data:a,hasData:t})}}).catch(t=>{if(n===T.current){const n={report:e,reportLoading:!1,reportError:t};h(n);A(n);_.current.logError(t);_.current=void 0;i&&i(t)}}).then(()=>{"function"==typeof c&&c()}).catch(e=>{setTimeout(()=>{throw e})})},[e,S,t,i,s,c,d,N,f,R]);if(!S)return null;const{reportLoading:C}=I,{report:v,reportLoading:L}=j;if(v&&C&&!L){const{reportLoading:e,configuredReport:t,reportData:s,reportHasData:i,reportError:c}=j;return Object(u.jsxs)(p.Fragment,{children:[Object(u.jsx)(RG,{report:v,reportLoading:e,configuredReport:t,reportData:s,reportHasData:i,reportError:c,disableEmptyStates:n,paginationRenderer:r,noDataRenderer:a,errorRenderer:o,visualizationDebug:l,determineVisualization:m,gates:N,isMobile:O,forceUseAdditionalConfigs:f,visualize:E,refreshReportData:y}),Object(u.jsx)(pY.a,{contextual:!0})]})}const{reportLoading:D,configuredReport:M,reportData:P,reportHasData:U,reportError:k}=I;return Object(u.jsx)(RG,{report:S,reportLoading:D,configuredReport:M,reportData:P,reportHasData:U,reportError:k,disableEmptyStates:n,paginationRenderer:r,noDataRenderer:a,errorRenderer:o,visualizationDebug:l,determineVisualization:m,gates:N,isMobile:O,forceUseAdditionalConfigs:f,visualize:E,refreshReportData:y})};vG.propTypes={report:XN.a.object,runtimeOptions:XN.a.object,disableEmptyStates:XN.a.bool,paginationRenderer:XN.a.func,noDataRenderer:XN.a.func,errorRenderer:XN.a.func,onReportResolve:XN.a.func,onError:XN.a.func,setIsRendered:XN.a.func,refreshReportData:XN.a.func,resolve:XN.a.func,determineVisualization:XN.a.func,isMobile:XN.a.bool,forceUseAdditionalConfigs:XN.a.bool,visualizationDebug:XN.a.object,visualize:XN.a.func};var LG=vG;const DG=e=>{let{report:t}=e,n=Object(l.a)(e,["report"]);const r=Object(p.useRef)(t),[a,o]=Object(p.useState)(t);Object(p.useEffect)(()=>{const e=r.current;r.current=t;e.equals(t)||o(t)},[t]);const s=Object(p.useCallback)(({report:e})=>{o(e)},[]);return Object(u.jsx)(LG,Object.assign({report:a,refreshReportData:s},n))};DG.propTypes={report:XN.a.object};var MG=DG;const PG=(e,t,n)=>{const[r,a]=Object(p.useState)(!1),o=Object(p.useRef)(!1),s=Object(p.useRef)(void 0);Object(p.useEffect)(()=>{const i=()=>e.has("reportDefinition"),c=()=>i()?e.getIn(["reportDefinition","visual","type"]):e.getIn(["chartType"]),l=()=>{const t=e.getIn(["config","dataType"]);if(i())return mG;if(t===A.UNIFIED_EVENTS)return gG;{const e=ve.a.get(t);return Object(ve.g)(e||t)?bG:OG}},u=()=>{if(c()===X.l){const e=l(),r=t.current*n.current;r&&r>1&&dG.timer(EG,{"report-type":e}).update(r)}o.current=!0};if(!r){a(!0);s.current=setTimeout(u,fG)}return()=>{o.current||u();clearTimeout(s.current)}},[])};var UG=n("Kkl9"),kG=n("IATA");function xG(e,t,n){const r=Object(kG.a)(e).map(e=>e.setIn(t,n));return e.setIn(["config",...t],n).set("reportConfigs",r)}const wG=(e,t)=>xG(e,["limit"],t),FG=(e,t)=>xG(e,["offset"],t),YG=5,BG=e=>e.getIn(["displayParams","rowsPerPage","onChange"]),GG=e=>e&&e.getIn(["config","offset"])||0,VG=e=>{let{report:t,onReportResolve:n,isMobile:r}=e,a=Object(l.a)(e,["report","onReportResolve","isMobile"]);const o=Object(p.useRef)(),[s,i]=Object(p.useState)(()=>GG(t)),[c,d]=Object(p.useState)(),m=Object(p.useRef)(1),g=Object(p.useRef)(t.getIn(["config","limit"]));Object(p.useEffect)(()=>{const e=o.current;o.current=t;const n=t.get("config"),r=e&&e.get("config");if(!r||!r.equals(n)||e.get("chartType")!==t.get("chartType")){i(GG(t));d()}},[t]);PG(t,m,g);const b=Object(p.useMemo)(()=>{const e=Object(UG.b)(t)||YG;e!==g.current&&(g.current=e);if("TABLE"!==t.get("chartType")||void 0===c)return;const n=Math.floor(s/e)+1,a=Object(QF.a)(c,e),o=BG(t),l=t=>{i(e*(t-1));t>m.current&&(m.current=t)};return()=>Object(u.jsx)(rY,{page:n,pageCount:a,itemsPerPage:e,onPageChange:l,onPerPageChange:o,isMobile:r})},[t,s,c,r]),O=Object(p.useCallback)(e=>{const{data:t}=e,r=t.getIn(["primary","data","paginationSize"]);r&&d(r);n&&n(e)},[n]),f=Object(p.useMemo)(()=>{const e=Object(UG.b)(t);if(Object(qe.e)(t)){const n=wG(t,e);return FG(n,s)}return t.setIn(["config","offset"],s).setIn(["config","limit"],e)},[t,s]);return Object(u.jsx)(MG,Object.assign({report:f,paginationRenderer:b,onReportResolve:O,isMobile:r},a))};VG.propTypes={report:XN.a.object,runtimeOptions:XN.a.object,disableEmptyStates:XN.a.bool,errorRenderer:XN.a.func,noDataRenderer:XN.a.func,onReportResolve:XN.a.func,onError:XN.a.func,setIsRendered:XN.a.func,resolve:XN.a.func,determineVisualization:XN.a.func,isMobile:XN.a.bool,visualizationDebug:XN.a.object};var HG=VG;const WG=({report:e,runtimeOptions:t,disableEmptyStates:n,errorRenderer:r,noDataRenderer:a,onReportResolve:o,onError:s,setIsRendered:i,visualizationDebug:c,height:l,resolve:p,determineVisualization:d,isMobile:m,forceUseAdditionalConfigs:g,visualize:b})=>Object(u.jsx)(HG,{report:e.get("chartType")===X.l?Object(QF.b)(e,l):e,runtimeOptions:t,disableEmptyStates:n,errorRenderer:r,noDataRenderer:a,onReportResolve:o,onError:s,setIsRendered:i,visualizationDebug:c,resolve:p,determineVisualization:d,isMobile:m,forceUseAdditionalConfigs:g,visualize:b});WG.propTypes={report:XN.a.object,runtimeOptions:XN.a.object,disableEmptyStates:XN.a.bool,errorRenderer:XN.a.func,noDataRenderer:XN.a.func,onReportResolve:XN.a.func,onError:XN.a.func,setIsRendered:XN.a.func,height:XN.a.number,resolve:XN.a.func,determineVisualization:XN.a.func,isMobile:XN.a.bool,visualizationDebug:XN.a.object,forceUseAdditionalConfigs:XN.a.bool,visualize:XN.a.func};var KG=WG;const qG=10;var QG=e=>{let{resolveReport:t,setRecordCount:n,getVisualization:r,onDrilldown:a,report:o}=e,s=Object(l.a)(e,["resolveReport","setRecordCount","getVisualization","onDrilldown","report"]);return Object(u.jsx)(KG,Object.assign({report:RF(o)},s,{resolve:e=>t(iF(e)?e.setIn(["config","limit"],qG):e).then(e=>{n&&n(e.getIn(["primary","data","paginationSize"]));return e}),determineVisualization:r&&((e,t)=>r(e,t,{onDrilldown:a}))}))};const $G={CALL:{property:"call.status",operator:R.i,value:"IN_PROGRESS"},EMAIL:{property:"engagement.timestamp",operator:R.e},TASK:{property:"task.completionDate",operator:R.e},NOTE:{property:"engagement.timestamp",operator:R.e},CONVERSATION_SESSION:{property:"conversationSession.sessionClosedAt",operator:R.e},MEETING:{property:"meeting.meetingOutcome",operator:R.b,value:"COMPLETED"}},JG=Object(b.Set)(["CALL","MEETING","TASK","EMAIL","NOTE","CONVERSATION_SESSION"]),zG=e=>"engagement.type"!==e.get("property")&&"hs_engagement_type"!==e.get("property")?e:JG.intersect(e.get("values").toSet()).size,XG=e=>e.map(e=>"engagement.type"!==e.get("property")&&"hs_engagement_type"!==e.get("property")?e:e.update("values",e=>e.map(e=>"CONVERSATION"===e?"CONVERSATION_SESSION":e))),ZG=e=>{const t=XG(e.getIn([0,"filters"])).filter(zG);return Object(b.List)(Object.keys($G)).map(e=>Object(b.Map)({filters:t.push(Object(b.Map)({property:"engagement.type",operator:"EQ",value:e})).push(Object(b.Map)($G[e]))}))},eV=e=>e.update("filterGroups",ZG).set("objectTypeId",A.ENGAGEMENT),tV=e=>yF(e).then(e=>Object(HF.getProperties)().then(t=>{const n=Object(b.Map)({[A.ENGAGEMENT]:t}),r=e.get("config").set("processors",Object(b.List)()),a=eV(Object(WF.a)(r,n));return wt.b("/crm-search/report/beta",{data:a}).then(e=>{const t=Object(KF.a)(n)(r,e);return Object(VF.b)({dataConfig:r,dataset:t,response:e})}).then(e=>{const t=Object(qF.a)(r,e,n);return Object(b.Map)({primary:Object(b.Map)({config:r,data:t})})})}));var nV=e=>{const{report:t,isMobile:n}=e;let r;n||(r=t.setIn(["displayParams","onClick"],(...e)=>En(t.deleteIn(["displayParams","customWidget"]),...e).then(t=>{const[n]=e,r=n.find(e=>$G[e]);return t.updateIn(["config","filters","custom"],e=>e.push(Object(b.Map)($G[r]))).updateIn(["config","filters","custom"],e=>XG(e))}).then(t.getIn(["displayParams","onDrilldown"]))));return Object(u.jsx)(QG,Object.assign({},e,{report:n?t:r,resolveReport:tV}))};var rV=n("Nbqo"),aV=n("PBgN"),oV=n("dUhI");const sV={TO:"to",FROM:"from",STAGE:"stage",COUNT:"count",STEP_TOTAL:"toStepTotal",NEXT_STEP_CONVERSION:"nextStepConversion",AVERAGE_TIME_TO_STEP:"averageTimeFromStep",CONTAINS_ANONYMOUS_VISITORS:"possiblyContainsAnonymousVisitors"},iV="stageName",cV="hs_object_id",lV="filtered_entities",uV=e=>({name:"objectid",table:e,source:"TABLE",type:v.g}),pV=e=>{const t={alias:cV,domain:"DISCRETE",field:uV(e.to),role:"MEASURE"};return e.from&&e.from!==lV?Object.assign({},t,{fromField:uV(e.from)}):t},dV=e=>!!e.journeyQuery.measure&&e.journeyQuery.measure.alias===cV;function mV(e){return!!e.journeyQuery}function gV(e){return b.Map.isMap(e)&&mV(e.toJS())}function bV(e){return dV(e)}function OV(e){return e.getIn(["config","dataType"])!==A.EMAIL}function fV(e){return!!e.get("reportDefinition")}function EV(e){return Object(U.a)(e.getIn(["config","dataType"]))}function yV(e){if("people"===e.getIn(["config","dimensions",0])){const t=e.getIn(["config","filters","custom"]),n=t&&t.find(e=>"peopleType"===e.get("property"));return n&&Object.values(aV).includes(n.get("value"))}return!0}function TV(e){const t=e.getIn(["config","dataType"]);return gx[t]||Object(ve.g)(t)}function IV(e){return e.hasIn(["displayParams","customWidget","type"])&&"DATA_LAYER"!==e.getIn(["displayParams","customWidget","type"])}function hV(e){const t=Object(rV.a)(e);return[A.UNIFIED_ADS_ACCOUNTS,A.UNIFIED_ADS_CAMPAIGNS,A.UNIFIED_ADS_NETWORKS,A.UNIFIED_FEEDBACK_TRENDS,A.UNIFIED_FEEDBACK_WEB,A.UNIFIED_FEEDBACK_EMAIL,A.SEQUENCE_SENDER_SCORE,A.SOCIAL_CHANNELS,oV.ANALYTICS_BEHAVIORAL_EVENTS,A.ANALYTICS_BOTS_CHATS,A.ANALYTICS_BOTS_MODULES,gx.SOCIAL_POSTS].includes(t)}function jV(e,t){return!TV(e)&&!fV(e)||t.user&&t.user.scopes&&t.user.scopes.includes("crm-export")}function AV(e){return"reporting-ui-components.export.disabled."+e}const SV=AV("support"),_V=AV("access"),NV="";function RV(e){return Object(Xx.a)().then(t=>{const n=jV(e,t);return qw(e)&&n?NV:IV(e)||hV(e)?SV:n?TV(e)?NV:EV(e)?yV(e)?NV:SV:e.getIn(["config","dataType"])===A.EMAIL||fV(e)||gV(e)||bx(e)?NV:SV:_V})}function CV(e){return RV(e).then(e=>e!==SV)}function vV(e,t){const n=new yn.a;n.addReportAttributes(e);n.addAttributes(t);n.sendPageAction("ReportingDataExport");if(fV(e)){const n=e.update("reportDefinition",e=>Pl(e));return vw(n,t)}return EV(e)?zx(e,t):qw(e)?rw(e,Object.assign({},t,{drilldownColumns:BF(e),transformPayload:eV})):TV(e)?Object(Xx.a)().then(n=>Gx(Object.assign({callback:()=>{}},t,{report:e,userInfo:Object(b.Map)({userId:n.user.user_id})}))):e.getIn(["config","dataType"])===A.EMAIL?Kx(e,t):gV(e)?Mw(e,t):bx(e)?Ex(e,t):Promise.resolve(!1)}const LV=e=>bx(e);var DV=n("WRZ8"),MV=n("RmcN"),PV=n("VZQq"),UV=n("TBQS"),kV=n("KAGS"),xV=n("adgy"),wV=n("WALJ");const FV="ReportExport",YV="ReportExportError",BV="ReportExportErrorDetails",GV=new yn.a;function VV(e=Object(b.Map)({})){return()=>{dG.counter(yG).increment();GV.addReportAttributes(e);GV.sendPageAction(FV);DV.a.addAlert({message:h.a.text("reporting-ui-components.export.outcome.success"),sticky:!0,type:"success","data-selenium-test":"export-success-alert","data-test-id":"export-success-alert"})}}function HV(e=Object(b.Map)({})){return function(t,n){dG.counter(TG).increment();const r=(r,a)=>{r.addAttributes({failureReason:t,reportErrorPhase:YV,responseCode:n.status,response:n.response});GV.addReportAttributes(e);r.sendPageAction(a)};r(GV,FV);const a=[403,409];if(!a.includes(n.status)){const t=new yn.a(100);t.addReportAttributes(e);r(t,BV)}const o=a.includes(n.status)?h.a.text("reporting-ui-components.export.outcome."+n.status):h.a.text("reporting-ui-components.export.outcome.error");DV.a.addAlert({message:o,sticky:!0,type:"danger"})}}const WV=Object(xV.a)(UV.a,wV.a.EMAIL),KV=Object(xV.a)(kV.a,wV.a.FORMAT);function qV(e){let{onReject:t,isTitleEditable:n=!0,title:r}=e,a=Object(l.a)(e,["onReject","isTitleEditable","title"]);const o=({value:e,onChange:t})=>Object(u.jsx)(eR.a,{label:h.a.text("reporting-data.export.fields.name"),children:Object(u.jsx)(RC.a,{"data-selenium-test":"export-name-input","data-test-id":"export-name-input",placeholder:h.a.text("reporting-data.export.defaultExportName"),onChange:({target:e={}})=>t(e.value),value:e||r})}),s=Object(xV.a)(o,"title",r);return Object(u.jsx)(PV.a,Object.assign({onClose:()=>t(),formFields:[...n?[s]:[],KV,WV]},a))}function QV(e){let{doExport:t,userEmail:n,report:r}=e,a=Object(l.a)(e,["doExport","userEmail","report"]);return Object(MV.a)(qV)(Object.assign({client:{export:t},onSuccess:VV(r),onFailure:HV(r),userEmail:n},a))}var $V=QV;const JV=({userInfo:e,children:t})=>{const n=e&&e.gates&&e.gates.length>0,[r,a]=Object(p.useState)(n?e:void 0),[o,s]=Object(p.useState)(void 0);Object(p.useEffect)(()=>{n||Object(Xx.a)().then(e=>{a(e)}).catch(e=>{s(e)})},[n]);return void 0!==o?Object(u.jsx)(cG,{error:o}):void 0===r?Object(u.jsx)(IY,{}):Object(u.jsx)(CG.Provider,{value:r,children:t})};JV.displayName="UserInfoProvider";JV.propTypes={children:XN.a.node.isRequired};const zV=e=>function(t){const n=Object(p.useContext)(CG),r=t&&t.userInfo;return Object(u.jsx)(JV,{userInfo:r||n,children:Object(u.jsx)(e,Object.assign({},t))})},XV=()=>Object(u.jsx)(ux.a,{use:"inline",type:"warning",children:h.a.text("reporting-ui-components.export.snowflakeWarning")});function ZV(e){let{disabledReason:t,DisabledMessage:n,report:r,trackClick:a,userEmail:o,tooltipUse:s}=e,i=Object(l.a)(e,["disabledReason","DisabledMessage","report","trackClick","userEmail","isTitleEditable","tooltipUse"]);const c=fV(r)?Object(u.jsx)(XV,{}):null,p=r.get("name");function d(){a();$V(Object.assign({doExport:e=>vV(r,e),userEmail:o,topBodyContents:c,title:p,report:r},i)).catch(e=>{console.error(e)})}const m=Boolean(t||n),g=Object(u.jsx)(px.a,Object.assign({},i,{disabled:m,onClick:d}));if(m){const e=t&&h.a.text(t),r=n&&Object(u.jsx)(n,{});return Object(u.jsx)(dx.a,{title:e||r,use:s,children:g})}return g}ZV.propTypes={disabledReason:XN.a.string,DisabledMessage:XN.a.elementType,report:XN.a.instanceOf(b.Map),trackClick:XN.a.func,userEmail:XN.a.string.isRequired,tooltipUse:XN.a.string};ZV.defaultProps={trackClick:()=>{},tooltipUse:"default"};var eH=zV(e=>{let{disabledReason:t="",report:n}=e,r=Object(l.a)(e,["disabledReason","report"]);const[a,o]=Object(p.useState)(!1),[s,i]=Object(p.useState)(t),{user:{email:c}}=Object(p.useContext)(CG);Object(p.useEffect)(()=>{CV(n).then(e=>{if(e){i("");RV(n).then(e=>{e&&i(e)})}o(e)})},[n,a,t]);if(!a||!c)return null;const d=LV(n);return Object(u.jsxs)(ZV,Object.assign({disabledReason:s,report:n,userEmail:c,isTitleEditable:OV(n)},r,{children:[Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.action"}),d?Object(u.jsx)(mx.a,{use:"beta",children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.beta"})}):null]}))}),tH=n("7ETf"),nH=n.n(tH),rH=n("xnR0");class aH extends p.Component{constructor(...e){super(...e);this.state={hasError:!1,error:void 0};this.componentDidUpdate=e=>{e.report!==this.props.report&&this.setState({hasError:!1,error:void 0})};this.componentDidCatch=e=>{const{report:t,onError:n}=this.props;if(t){const n=new yn.a;n.addReportAttributes(t);n.logError(e,"component")}n&&n(e)};this.render=()=>{const{ErrorComponent:e,children:t}=this.props,{hasError:n,error:r}=this.state;if(n){const t=e||rH.a;return Object(u.jsx)(t,{error:r,type:Object(sG.a)(r)})}return t}}}aH.propTypes={report:XN.a.any,children:XN.a.node,onError:XN.a.func,ErrorComponent:XN.a.elementType};aH.defaultProps={children:null,onError:nH.a};aH.getDerivedStateFromError=e=>({hasError:!0,error:e});var oH=e=>t=>Object(u.jsx)(aH,Object.assign({},t,{children:Object(u.jsx)(e,Object.assign({},t))})),sH=n("qS8i"),iH=n("BiPx"),cH=n("6A2w"),lH=n("iJaT"),uH=n("CE3l"),pH=n("xUVM"),dH=n("wJDW"),mH=n("u30b"),gH=n("3qbZ");const bH=["displayParams","customWidget","type"],OH=(e,t)=>e.getIn(bH)===t,fH=(e,t)=>t.includes(e.getIn(bH));var EH=n("dzoN");const yH=1e3,TH=e=>{const t=yH*Math.floor((e.offset||0)/yH);return e.set("limit",yH).set("offset",t)},IH=e=>Fl(e)===Fa.TABLE?10:yH,hH=(e,t)=>lw({limit:IH(e),offset:0,fetchFromCache:null!=t}),jH=e=>hH(e).set("isDrilldownRequest",!0),AH=(e,t,n)=>Object(p.useMemo)(()=>{const r=hH(n,t);return e?lw(e).mergeWith((e,t)=>void 0===e?t:e,r):r},[e,n,t]),SH=(e,t,n)=>{const[r,a]=Object(p.useState)(e),o=AH(e,t,n),s=Object(EH.a)(e);Object(p.useEffect)(()=>{O.a.is(e,s)||a(o)},[e,s,o]);const i=Object(EH.a)(n);Object(p.useEffect)(()=>{n!==i&&a(o)},[n,i,o]);return[r,a]},_H="YYYYMMDD";var NH=(e,t=!1,n=w.a)=>{const{startDate:r,endDate:a}=Object(D.a)(e,_H,void 0,t,n),o=h.a.moment(r,_H),s=h.a.moment(a,_H).diff(o,"DAY");return s>90?F.MONTH:s>30?F.WEEK:F.DAY};function RH(e,t,n,r=Object(b.List)()){const a=e.setIn(["config","dimensions"],Object(b.fromJS)([t])).setIn(["config","metrics"],r).setIn(["config","sort"],r&&!r.isEmpty()?Object(b.fromJS)([{property:r.first().get("property"),order:y.b}]):void 0).deleteIn(["displayParams","hideKeyColumn"]);return n.get("type")===v.d||n.get("type")===v.e?a.update("config",e=>Object(T.a)(e.set("configType",f.f).toJS())).setIn(["config","frequency"],NH(e.getIn(["config","filters","dateRange"]))):a.setIn(["config","configType"],f.a)}var CH=n("AaW/"),vH=n("oQ2E"),LH=n("frTi"),DH=n("++X+");const MH=e=>{const t=["enumeration","string","buckets","bool","date","datetime"];return!e.get("hidden")&&t.includes(e.get("type"))&&!e.get("blocklistedForGrouping")};function PH({dimension:e,dimensionOptions:t,objectText:n,recordCount:r,canGroupData:a,canUngroupData:o,onChange:s,drilldownEventCallback:i,report:c}){const[l,d]=Object(p.useState)(!1);Object(p.useEffect)(()=>{null===e&&d(!1)},[e]);const m=()=>{i(hn.h);d(!0)},g=({target:{value:e}})=>{i(hn.g,{property:e});s(e)},b=()=>{i(e?hn.f:hn.a);s(null);d(!1)};return c&&c.getIn(["config","dataType"])===A.UNIFIED_EVENTS?Object(u.jsx)(DH.a,{selected:e,onSelectedChange:g,use:"enclosed",className:"m-y-2 m-right-2",children:t&&t.map(e=>Object(u.jsx)(LH.a,{tabId:e.value,title:e.text},e.value))}):Object(u.jsx)("div",{className:"m-y-2",children:e||l?Object(u.jsxs)($F.a,{align:"stretch",children:[r?Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.groupedBy",options:{objectName:n,recordCount:h.a.formatNumber(r)}}):Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.groupBy"}),Object(u.jsx)(IR.a,{buttonUse:"link",className:"m-x-3",clearable:o,menuWidth:300,onChange:g,options:t,placeholder:h.a.text("reporting-ui-components.drilldownViewer.selectADimension"),value:e}),o&&Object(u.jsx)(xa.a,{onClick:b,children:e?Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.ungroupData"}):Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.cancelGrouping"})})]}):Object(u.jsxs)(p.Fragment,{children:[r&&Object(u.jsxs)("span",{className:"m-right-3",children:[Object(u.jsx)(CH.a,{value:r})," ",n]}),a&&Object(u.jsx)(xa.a,{onClick:m,children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.groupData"})})]})})}function UH({reportDefinition:e,dimension:t,setDimension:n,drilldownEventCallback:r,recordCount:a}){const[o,s]=Object(p.useState)();Object(p.useEffect)(()=>{let t=!1;const n=e.columns.filter(e=>ws(e)===Cn.p.DIMENSION);Hm(e).then(r=>{if(t)return;const a=t=>{const{table:n,name:a}=Ys(t),o=r.tables.get(n),s=r.properties.getIn([n,a]),i=r.datasetDefinition&&r.datasetDefinition.fields.get(a);return Mi(t,s,o,i,e.expressions)},o=e=>{const t=e.table,n=r.tables.get(t);return Object(Go.i)(t,n)},i=n.map(e=>[e,Ys(e)]).map(([e,t])=>[a(e),o(t),e]).map(([e,t,n])=>({text:e,help:t,value:Vs(n)})).toArray();s(i)}).catch(e=>{t||console.error(e)});return()=>{t=!0}},[e]);const i=h.a.text("reporting-ui-components.drilldownViewer.rowLabel",{count:a});return Object(u.jsx)(PH,{dimension:t,dimensionOptions:o,onChange:n,drilldownEventCallback:r,objectText:i,recordCount:a,canGroupData:!0})}const kH=(e,t)=>e===A.CRM_OBJECT?Object(vH.b)(t)?Object(ve.d)(t):Promise.resolve(h.a.text(`reporting-data.dataTypes.crmObjects.${ve.b.get(t)}.pluralForm`)):Promise.resolve(h.a.text("reporting-data.dataTypes."+e)),xH=({dataType:e,report:t,objectTypeId:n})=>{if(e===A.UNIFIED_EVENTS)return zt(t.getIn(["config","unifiedEvent","reportType"]),t.getIn(["config","unifiedEvent","schemaVersion"])).then(e=>Object(Xt.b)(e,t));const r=t.getIn(["displayParams","hidePropertiesOnDrilldown"],Object(b.List)()),a=Object(ve.g)(e)?n:e;return Object(Ye.a)(a).then(e=>e.get(a)).then(e=>e.filter(MH)).then(e=>e.filter(e=>!r.includes(e.get("name")))).then(e=>e.map((e,t)=>({text:e.get("label"),value:t})).valueSeq().toArray())};function wH({dataType:e,objectTypeId:t,dimension:n,drilldownEventCallback:r=(()=>{}),recordCount:a,setDimension:o,canGroupData:s,report:i}){const[c,l]=Object(p.useState)(null),[d,m]=Object(p.useState)("");Object(p.useEffect)(()=>{kH(e,t).then(e=>m(e))},[e,t]);Object(p.useEffect)(()=>{xH({dataType:e,report:i,objectTypeId:t}).then(l)},[e,t,i]);return Object(u.jsx)(PH,{dimension:n,dimensionOptions:c,onChange:o,drilldownEventCallback:r,objectText:d,recordCount:a,canGroupData:s,canUngroupData:i.getIn(["config","dataType"])!==A.UNIFIED_EVENTS,report:i})}var FH=n("3eGA"),YH=n("yYAF"),BH=n("5nUE");const GH=`${Object(YH.getFullUrl)("app")}/activity-feed-embedded/${Qt.a.get()}/all?source=reporting`;function VH({disableIframes:e=!1,setIsRendered:t}){Object(p.useEffect)(()=>{"function"==typeof t&&t()},[t]);return e?Object(u.jsxs)($F.a,{justify:"center",align:"center",direction:"column",className:"m-top-3",children:[Object(u.jsx)(lG.a,{name:"empty-state-charts",height:200}),Object(u.jsx)("p",{className:"m-top-3",children:h.a.text("reporting-ui-components.customWidgets.activityFeed.emptyState.emailView")})]}):Object(u.jsx)("iframe",{src:GH,className:"activity-iframe",style:{border:0,width:"100%",flexGrow:1}})}VH.propTypes=BH.a;var HH=VH,WH=n("veyg"),KH=n("QLu5"),qH=n("9f1P"),QH=n.n(qH),$H=n("UYb3"),JH=(e=[])=>t=>e.reduceRight((e,t)=>t(e),t);const zH="YYYY-MM-DD",XH=({date:e,frequency:t})=>{const n=h.a.moment(e);switch(t){case F.DAY:return n.add(1,"days").format(zH);case F.WEEK:return n.add(1,"weeks").format(zH);case F.MONTH:return n.add(1,"months").format(zH);case F.QUARTER:return n.add(3,"months").format(zH);case F.YEAR:return n.add(1,"years").format(zH);default:return n.format(zH)}},ZH=({goalsByMonth:e})=>e.flatMap(e=>{const t=h.a.moment(e.get("date")),n=t.daysInMonth(),r=e.get("value")/n,a=e=>("00"+e).slice(-2),o=e=>h.a.moment(t.format("YYYY-MM-"+a(e))).format(zH);return Object(b.Range)(1,n+1).map(o).map(e=>Object(b.Map)({date:e,value:r}))}),eW=({goalsByMonth:e=Object(b.List)(),startDate:t,endDate:n})=>{const r=e.toMap().mapKeys((e,t)=>t.get("date")),a=[],o=h.a.moment(t);for(;!o.isAfter(n);){const e=o.format(zH),t=r.getIn([e,"value"],0);a.push(Object(b.Map)({date:e,value:t}));o.add(1,"months")}return Object(b.List)(a)},tW=({dailyGoals:e,dates:t})=>{const n=[];let r=0,a=0;const o=t=>h.a.moment(e.getIn([t,"date"])),s=t=>e.getIn([t,"value"]),i=e=>h.a.moment(t.get(e));if(e.count()>0){const c=i(a);for(;o(r).isBefore(c)&&r<e.count();)r++;for(;a<t.count()-1;){const t=i(a),c=i(a+1);let l=0;if(o(r).isBefore(c))for(;r<e.count()&&!o(r).isSame(c);){l+=s(r);r++}n.push(Object(b.Map)({date:t.format(zH),value:l}));a++}}return Object(b.List)(n)};var nW=n("1WZR");const rW=(e,t)=>Object(Xx.a)().then(n=>{const{user:{scopes:r}}=n;return Object(nW.a)(r,e,t)}).then(b.fromJS);var aW=n("YPIy"),oW=n("Fkpl"),sW=n("djRB");const iW={"sales-goal-assignment":!0,"advanced-sales-goal-assignment":!0,"basic-sales-goal-manager":!0,"advanced-sales-goal-manager":!0,"legacy-quotas-access":!0,"legacy-sales-goal-assignment":!0},cW=e=>{const{user:{scopes:t=[]}={}}=e;return t.reduce((e,t)=>e||Boolean(iW[t]),!1)},lW=e=>e.getIn(["displayParams","customSeries"],Object(b.List)()).some(e=>"datetime.quota"===e),uW=DA()(["filters","custom"]),pW=e=>"hubspot_owner_id"===e.get("property")||"engagement.ownerId"===e.get("property"),dW=e=>"hubspot_team_id"===e.get("property")||"engagement.teamId"===e.get("property"),mW=e=>(uW(e)||Object(b.List)()).find(dW),gW=e=>(uW(e)||Object(b.List)()).find(pW),bW=e=>t=>e.has(t.get("ownerId")),OW=e=>t=>t.get("remoteList").some(t=>e.has(t.get("remoteId"))),fW=(e,t,n)=>{const r=gW(e),a=mW(e),o=r&&(r.get("values")||[r.get("value")]).map(Number),s=o?Object(b.Set)(o):Object(b.Set)();let i=t.filter(e=>null!=e).toSet().union(s.map(e=>Object(b.Map)({ownerId:e,remoteList:Object(b.List)()})));null!=r&&("IN"===r.get("operator")?i=i.filter(bW(s)):"NOT_IN"===r.get("operator")&&(i=i.filterNot(bW(s))));if(null!=a){const e=a.get("values",Object(b.List)()).map(Number).map(e=>(n.find(t=>t.get("id")===e)||Object(b.Map)()).get("userIds").map(String)).flatten(1).toSet();"IN"===a.get("operator")?i=i.filter(OW(e)):"NOT_IN"===a.get("operator")&&(i=i.filterNot(OW(e)))}return i},EW=e=>Promise.all([Object(d.a)(e.get("config")),Object(oW.b)(),Object(sW.b)()]).then(([e,t,n])=>{const r=gW(e),a=mW(e);return r||a?fW(e,Object(b.fromJS)(t),Object(b.fromJS)(n)):null}),yW="count",TW=(e,t="hs_engagement_type")=>Object(k.a)({operator:R.f,property:t,values:[e]}),IW=TW("MEETING","engagement.type"),hW=TW("CALL","engagement.type"),jW=TW("MEETING"),AW=TW("CALL"),SW=Object(b.fromJS)({[aW.b]:(e,t)=>e===A.DEALS&&t.contains(yW),[aW.d]:e=>e===A.DEALS,[aW.e]:(e,t)=>e===A.TICKETS&&t.contains(yW),[aW.c]:(e,t,n)=>{const r=Object(k.a)(Object(_t.a)(n,"engagement.type")||Object(_t.a)(n,"hs_engagement_type")),a=r.equals(jW)||r.equals(IW);return t.contains(yW)&&(e===A.MEETINGS||e===A.ENGAGEMENT&&a)},[aW.a]:(e,t,n)=>{const r=Object(k.a)(Object(_t.a)(n,"engagement.type")||Object(_t.a)(n,"hs_engagement_type")),a=r.equals(AW)||r.equals(hW);return t.contains(yW)&&(e===A.CALLS||e===A.ENGAGEMENT&&a)}}),_W=e=>{const t=e.get("config"),n=t.get("dataType");if(t.get("configType")!==f.f)return null;const r=t.get("metrics").map(e=>e.get("property")).toSet();return SW.findKey(e=>e(n,r,t))},NW=({report:e,goalSeries:t,goalType:n})=>e.updateIn(["displayParams","customSeries"],(e=Object(b.List)())=>e.map(e=>"datetime.quota"===e?Object(b.Map)({type:"datetime.goal",timeUnit:"MONTH",currency:!0,name:h.a.text("customSeries.goals."+n),goalData:t}):e)),RW=({report:e,response:t,goalResponse:n})=>{const r=t.getIn([0,"dimension","buckets"],Object(b.List)()),a=e.getIn(["config","frequency"],F.MONTH),o=r.map(e=>e.get("key")).update(e=>e.push(XH({date:e.last(),frequency:a}))),s="YYYYMMDD",{config:{dataType:i,filters:{dateRange:{value:c}={}}={}}}=e.toJS(),{startDate:l,endDate:u}=Object(D.a)(c,s,i),p=h.a.moment(l,s),d=h.a.moment(u,s),m=0!==n.size?n.first().get("key"):h.a.moment(o.first()).format("YYYY-MM-01"),g=0!==n.size?n.last().get("key"):h.a.moment(o.last()).format("YYYY-MM-01"),O=n.map(e=>Object(b.Map)({date:e.get("key"),value:e.get("sum")})),f=eW({goalsByMonth:O,startDate:m,endDate:g}),E=ZH({goalsByMonth:f}).filter(e=>{const t=h.a.moment(e.get("date"),"YYYY-MM-DD");return!t.isBefore(p)&&!t.isAfter(d)});return tW({dailyGoals:E,dates:o})},CW=(e,t)=>{const n=t.getIn([0,"dimension","buckets"],Object(b.List)());if(n.isEmpty())return null;const r=n.first().get("key"),a=n.last().get("key");if(!h.a.moment(r).isValid()||!h.a.moment(a).isValid())return null;const o=e.get("frequency",F.MONTH),s=h.a.moment(r).month()+1,i=h.a.moment(r).year(),c=XH({date:a,frequency:o});return{startDate:{month:s,year:i},endDate:{month:h.a.moment(c).month()+1,year:h.a.moment(c).year()}}},vW=Object(b.Set)([A.DEALS,A.TICKETS]),LW=e=>{const t=e.get("dataType"),n=Object(_t.a)(e,"pipeline")||Object(_t.a)(e,"hs_pipeline");return vW.contains(t)&&n?{pipelinesOperator:n.get("operator"),pipelines:n.get("values")}:null},DW=(e,t,n)=>{const r=e.get("config"),a=LW(r),o=CW(r,t);return o&&n?EW(e).then(e=>e?e.map(e=>e.get("ownerId")):[]).then(e=>0!==e.length?{assignees:e,assigneesOperator:R.f}:null).then(e=>Object.assign({},a,{},e,{dateRange:o})):null},MW=(e,t)=>{if(!lW(e)||e.get("chartType")===X.l)return Promise.resolve(e);const n=_W(e);return Promise.all([DW(e,t,n),Object(Xx.a)()]).then(([r,a])=>r&&cW(a)?rW(r,n).then(r=>NW({report:e,goalSeries:RW({report:e,response:t,goalResponse:r}),goalType:n})):Promise.resolve(e))};var PW=e=>{if(e.hasIn([0,"total"]))return 0===e.getIn([0,"total","raw"]);const t=e.getIn([0,"dimension","buckets"],Object(b.List)()).reduce((e,t)=>t.has("dimension")?e.concat(t.getIn(["dimension","buckets"],Object(b.List)())):e.concat(Object(b.List)(t)),Object(b.List)()),n=e.getIn([0,"metrics"],Object(b.Map)());return e.hasIn([0,"dimension"])?t.isEmpty():n.isEmpty()};const UW=Object(b.Set)([X.f]);var kW=(e=Object(b.Map)())=>{const t=e.get("chartType");return!UW.contains(t)};const xW=dY.a;function wW(e){const{report:t,setIsRendered:n,onError:r,runId:a,disableEmptyStates:o,errorRenderer:s,noDataRenderer:i,onReportResolve:c,runtimeOptions:l,Component:d}=e,[m,g]=Object(p.useState)(null),[O,f]=Object(p.useState)(null),[E,y]=Object(p.useState)(null),[T,I]=Object(p.useState)(!1),[h,j]=Object(p.useState)(!1);Object(p.useEffect)(()=>{I(!0);return()=>I(!1)},[]);Object(p.useEffect)(()=>{const e=e=>{e&&gY().then(({resolve:n})=>{Promise.all([xW(e),n(e,l)]).then(([n,a])=>{Object(uY.a)(e,t)&&MW(n,a).then(t=>{if(T){f(a);y(null);g(t)}"function"==typeof c&&c({data:a,hasData:!PW(a,e),configured:t})}).catch(e=>{r?r({type:Object(sG.a)(e),error:e}):console.error(e);y(e||new Error("unknown error"));f(null);return Promise.reject(e)})}).catch(e=>{r?r({type:Object(sG.a)(e),error:e}):console.error(e);y(e||new Error("unknown error"));f(null)})}).catch(e=>Promise.reject(e))};f(null);y(null);e(t)},[t,r,a,T,c,l]);Object(p.useEffect)(()=>{},[O,t]);const A=()=>{if(n&&!h){n();j(!0)}},S=t.getIn(["displayParams","rhumbConfig"],Object(b.Map)()),_=S.get("renderSuccessMarker"),N=S.get("renderErrorMarker");if(null!=E)return s?s(E,t):Object(u.jsxs)("div",{className:"report-status-error",children:[Object(u.jsx)(iG.a,{type:Object(sG.a)(E),error:E}),N&&N()]});if(!O)return Object(u.jsx)("div",{className:"report-status-loading",children:Object(u.jsx)(yY.a,{})});if(!o&&PW(O,t)){A();if(i)return i();if(kW(t))return Object(u.jsxs)("div",{className:"report-status-loaded",children:[Object(u.jsx)(KH.a,{}),_&&_()]})}return Object(u.jsxs)("div",{className:"report-status-loaded",style:{maxHeight:"100%",overflow:"auto"},children:[Object(u.jsx)(d,Object.assign({},e,{data:O,report:m})),_&&_()]})}const FW=e=>e=e.getIn(["config","dimensions"])?e:e.setIn(["config","dimensions"],Object(b.List)());class YW extends p.Component{shouldComponentUpdate(e,t){return Object(uY.b)(this,e,t)}render(){const{data:e}=this.props,t=FW(this.props.report),n=Object(qF.a)(t.get("config"),e),r=Object(b.Map)({primary:Object(b.Map)({config:t.get("config"),data:n})}),a=r.getIn(["primary","data","data"]).count()>0;return Object(u.jsx)(RG,{report:t,configuredReport:t,reportData:r,reportHasData:a,reportLoading:!1})}}YW.propTypes={report:XN.a.object,data:XN.a.object,upgradeToV2:XN.a.bool};var BW=YW;const GW=JH([oH])(BW),VW=e=>Object(u.jsx)(wW,Object.assign({},e,{Component:GW})),HW=e=>{const{report:t,height:n}=e,[r,a]=Object(p.useState)(0),o=Object(p.useRef)(t);Object(p.useEffect)(()=>{const e=t.getIn(["config","dimensions"]),n=o.current.getIn(["config","dimensions"]),r=t.getIn(["config","filters"]),s=o.current.getIn(["config","filters"]),i=t.getIn(["config","sort"]),c=o.current.getIn(["config","sort"]);(e&&!e.equals(n)||r&&!r.equals(s)||i&&!i.equals(c))&&a(0);return()=>{o.current=t}},[t]);const s=t.get("chartType")===X.l?Object(QF.b)(t,n).setIn(["config","offset"],r):t;return Object(u.jsx)(VW,Object.assign({},e,{offset:r,updateOffset:a,report:s}))};function WW(e){const{disableReportingVizRender:t,report:n}=e,{gates:r}=Object(p.useContext)(CG);if(Zt(n))return Object(u.jsx)(rH.a,{type:FH.FIELD_LEVEL_PERMISSIONS});if(!n.get("chartType")){const e="[reporting-ui-components] report missing chart type";return Object(u.jsx)(rH.a,{type:FH.UNKNOWN,error:e})}return bY(n,r)&&!t?Object(u.jsx)(KG,Object.assign({},e)):Object(u.jsx)(HW,Object.assign({},e,{store:$H.a}))}WW.propTypes={report:XN.a.object,disableReportingVizRender:XN.a.bool,inBrowser:XN.a.bool};var KW=Object(p.memo)(zV(kY(WW)));var qW=n("PLqz"),QW=n("L/ZD"),$W=n("XMVY"),JW=n("dKJf"),zW=n("JWMD"),XW=n("BYYc");function ZW({dateRange:e,explicit:t}){const n=h.a.moment(e.get("startDate")),r=h.a.moment(e.get("endDate")).diff(n,"days")+1,a=t?"long":"short";return h.a.text("report.customSeries.customDays."+a,{numDays:r})}function eK({dateRange:e,explicit:t}){const n=e.get("rollingDays"),r=parseInt(n,10),a=t?"long":"short";return h.a.text("report.customSeries.customDays."+a,{numDays:r})}const tK=(e,t,n)=>{const r=t&&Object(Y.g)(n);return e?r?"long-fiscal-year":"long":r?"short-fiscal-year":"short"};function nK({dateRange:e,explicit:t,useFiscalYear:n}){const r=e.get("rangeType"),[,a]=r.split("_"),o=tK(t,n,a);switch(r){case XW.a.IS_BEFORE_DATE:case XW.a.ALL:return{value:"PRIOR_PERIOD",text:h.a.text("report.customSeries.priorPeriodComparison.lastPeriod."+o),disabled:!0};case XW.a.IS_EQUAL_TO:return{value:"PRIOR_PERIOD",text:h.a.text("report.customSeries.noComparison"),disabled:!0};case XW.a.CUSTOM:return{value:"PRIOR_PERIOD",text:ZW({dateRange:e,explicit:t}),disabled:!1};case XW.a.ROLLING:return{value:"PRIOR_PERIOD",text:eK({dateRange:e,explicit:t}),disabled:!1}}return{value:"PRIOR_PERIOD",text:h.a.text(`report.customSeries.timeUnit.${o}.${r}`),disabled:!1}}function rK({dateRange:e,explicit:t,useFiscalYear:n}){const r=e.get("rangeType"),[,a]=r.split("_"),o=tK(t,n,a),s=r===XW.a.THIS_YEAR?"lastYear":"yearBefore";return{value:"PRIOR_YEAR",text:h.a.text(`report.customSeries.priorYearComparison.${s}.${o}`),disabled:!1}}function aK({dateRange:e,explicit:t=!0,value:n,useFiscalYear:r=!1}){const a=e.get("rangeType")===XW.a.THIS_YEAR,o=e.get("rangeType")===XW.a.LAST_YEAR;return!("PRIOR_YEAR"===n)&&!a||o?nK({explicit:t,dateRange:e,useFiscalYear:r}).text:rK({explicit:t,dateRange:e,useFiscalYear:r}).text}const oK=({deltaRate:e,report:t})=>{if(null==e)return null;const n=t.getIn(["config","filters","dateRange","value"]),r=t.getIn(["config","compare"]);return e===1/0||"number"==typeof e&&isNaN(e)?Object(u.jsx)(JW.a,{className:"delta",children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.performanceWidget.noDataForCompare",options:{comparePeriod:aK({dateRange:n,value:r,explicit:!1})}})}):Object(u.jsxs)(JW.a,{className:"delta",children:[Object(u.jsx)(zW.a,{use:e>0?"increase":"decrease"}),Object(u.jsx)($W.a,{value:100*Math.abs(e),precision:2})]})};oK.propTypes={deltaRate:XN.a.number,report:QW.b.isRequired};var sK=oK,iK=n("Pvgq");const cK=QH()($F.a).withConfig({displayName:"PerformanceStage__PerformanceStageSizeContainer",componentId:"sc-1uv5ucr-0"})(["flex-grow:1;flex-basis:0;height:100%;overflow:auto;&:not(:last-child){margin-right:24px;}"]),lK=QH()($F.a).withConfig({displayName:"PerformanceStage__PerformanceStageInfoContainer",componentId:"sc-1uv5ucr-1"})(["flex-grow:0;padding-bottom:24px;h6{font-weight:600;font-size:13px;}.delta{color:",";}"],Pn.HEFFALUMP),uK=QH.a.div.withConfig({displayName:"PerformanceStage__PerformanceStageValue",componentId:"sc-1uv5ucr-2"})(["color:",";font-size:28px;padding:8px 0;"],Pn.HEFFALUMP),pK=QH.a.div.withConfig({displayName:"PerformanceStage__ConversionContainer",componentId:"sc-1uv5ucr-3"})(["padding-right:11px;.conversion-empty{visibility:hidden;}"]),dK=({report:e,conversionRate:t,count:n,deltaRate:r,title:a,sourcesPath:o})=>{const s=Object(u.jsx)(pK,{className:"conversion",children:null!=t?Object(u.jsx)(qW.a,{className:"chevron",direction:"right",children:Object(u.jsx)($W.a,{value:100*t,precision:2})}):null}),i=Object(u.jsx)($F.a,{direction:"column",align:"stretch",className:"performance-stage-chart",children:Object(u.jsx)(KW,{noDataRenderer:()=>Object(u.jsx)(KH.a,{}),report:e})});return Object(u.jsxs)(cK,{direction:"column",align:"stretch",className:"performance-stage",children:[Object(u.jsxs)(lK,{align:"center",className:"performance-stage-info-container",children:[Object(u.jsxs)($F.a,{direction:"column",className:"performance-stage-info",children:[Object(u.jsx)(iK.a,{className:"m-bottom-0",children:a}),Object(u.jsx)(uK,{className:"performance-stage-value",children:Object(u.jsx)(xa.a,{use:"unstyled",href:o,children:Object(u.jsx)(CH.a,{value:n})})}),Object(u.jsx)(sK,{deltaRate:r,report:e})]}),s]}),i]})};dK.propTypes={report:QW.b.isRequired,conversionRate:XN.a.number,count:XN.a.number.isRequired,deltaRate:XN.a.number,title:XN.a.string.isRequired,sourcesPath:XN.a.string.isRequired};var mK=dK;const gK=({children:e})=>Object(u.jsx)($F.a,{className:"report-content performance-well",direction:"row",align:"stretch",justify:"between",style:{maxHeight:"100%"},children:e});gK.propTypes={children:XN.a.node.isRequired};var bK=gK;const OK=e=>(...t)=>{for(let n=0;n<e.length;n++){const r=e[n](...t);if(null!=r)return r}return null},fK=`/analytics/${Qt.a.get()}/sources`,EK={visits:Object(b.Map)({theme:tB.ORANGES}),contacts:Object(b.Map)({theme:tB.AQUAS}),customers:Object(b.Map)({theme:tB.PURPLES})},yK=Object(b.fromJS)([{property:"visits",goal:5e3},{property:"contacts",goal:50},{property:"customers",goal:5}]),TK=Object(b.fromJS)({stacked:!1,xAxis:{title:{enabled:!1}},yAxis:{title:{enabled:!1}},hideLegend:!0,hideDataLabels:!0}),IK=(e,t)=>e.getIn(["displayParams","customWidget","options",t]),hK=e=>Object(b.fromJS)({dateRange:e.getIn(["config","filters","dateRange"]).set("property","sessionDate"),custom:IK(e,"showOfflineSources")?[]:[{property:"excludes",values:["offline"]}]}),jK=(e,t,n)=>{const r=t.getIn(["config","frequency"]),a="customers"!==e?t.getIn(["config","compare"]):void 0,o=IK(t,"goals")||yK,s=IK(t,"showGoals")?Object(b.fromJS)([{type:"datetime.goal",timeUnit:"MONTH",name:h.a.text("reporting-ui-components.customWidgets.performanceWidget.propertyGoalLabel."+e),goal:o.find(t=>t.get("property")===e).get("goal")}]):Object(b.List)(),i={configType:f.f,dataType:A.ANALYTICS_SOURCES,frequency:r,compare:a,filters:hK(t),dimensions:["sessionDate"],metrics:[{property:e,metricTypes:["SUM"]}],processors:[C.a]};return Object(b.fromJS)({chartType:"AREA",displayParams:TK.set("customSeries",s).set("colors",EK[e]).set("onChartClick",e=>n(Object(b.fromJS)(i),e)),config:i})},AK=e=>{const t=e.getIn(["config","compare"]);return Object(b.fromJS)({chartType:"LINE",displayParams:{},config:{configType:f.f,dataType:A.ANALYTICS_SOURCES,frequency:"MONTH",compare:t,filters:hK(e),sort:[],dimensions:["sessionDate"],metrics:[{property:"visits",metricTypes:["SUM"]},{property:"contacts",metricTypes:["SUM"]},{property:"customers",metricTypes:["SUM"]}]}})},SK=e=>{let t=Object(b.Map)();e.getIn(["config","metrics"]).forEach(n=>{const r=n.get("property");t=t.set(r,Object(NM.d)(e.get("data"),"SUM|"+r))});return t},_K=(e,t)=>e.getIn(["data","data"]).reduce((e,n)=>e+n.get("SUM|"+t),0),NK=e=>{let t=Object(b.Map)();e.getIn(["config","metrics"]).forEach(n=>{const r=n.get("property");t=t.set(r,_K(e,r))});return t},RK=(e,t)=>{const n=e.get("config"),r=n.get("filters"),a=n.get("frequency"),o=r.getIn(["dateRange","value"]),s=!IK(e,"showOfflineSources"),i=Object.assign({excludeOffline:s,metric:t,frequency:a},Object(D.a)(o.toJS(),"YYYYMMDD"));return`${fK}?${Object(QS.stringify)(i)}`},CK=(e,t)=>0===t?0:e/t,vK=(e,t,n)=>{const r=e.get("primary"),a=e.get("compare"),o=SK(r),s=NK(r),i=a&&NK(a),c=(e,a)=>{const c="customers"!==e&&i?s.get(e,0)/i.get(e,0)-1:null,l=e=>_K(r,e),u=null!=a?CK(l(a),l(e)):null;return{property:e,report:jK(e,t,n),conversionRate:u,count:s.get(e),deltaRate:c,title:o.get(e),sourcesPath:RK(t,e)}};return[c("visits","contacts"),c("contacts","customers"),c("customers")]},LK=({report:e,performanceReport:t,onDrilldown:n,setIsRendered:r,errorRenderer:a,noDataRenderer:o,onReportResolve:s})=>{const[i,c]=Object(p.useState)(),[l,d]=Object(p.useState)(null),[m,g]=Object(p.useState)(null),O=e.getIn(["displayParams","rhumbConfig","renderErrorMarker"]);Object(p.useEffect)(()=>{if(!i||!Object(uY.a)(e,i)){c(e);Object(WH.resolve)(Object(b.fromJS)(e),{v2Datasets:!0}).then(e=>{"function"==typeof r&&r();d(e);s&&s({data:e})}).catch(e=>{console.error(e);g(e||new Error(FH.UNKNOWN))})}},[e,i,s,r]);if(null!=m)return a?a(m,i):Object(u.jsxs)("div",{className:"report-status-error",children:[Object(u.jsx)(iG.a,{type:Object(sG.a)(m),error:m}),O&&O()]});if(!l)return Object(u.jsx)(yY.a,{});if(0===l.getIn(["primary","data","data"]).count())return o?o():Object(u.jsx)(KH.a,{});const f=vK(l,t,n);return Object(u.jsx)(bK,{children:f.map(e=>Object(u.jsx)(mK,Object.assign({},e,{performanceReport:t}),e.property))})};class DK extends p.Component{constructor(...e){super(...e);this.onDrilldownClick=(e,t)=>{const{onDrilldown:n,options:r={}}=this.props,a=t.get(e.get("dimensions").count()),o=h.a.text("reporting-ui-components.customWidgets.performanceWidget.names."+a);"function"==typeof n&&En(Object(b.fromJS)({config:e,displayParams:{}}),t,Object.assign({},r,{name:o})).then(n)}}render(){const{report:e,errorRenderer:t,setIsRendered:n,noDataRenderer:r,onReportResolve:a}=this.props;return Object(u.jsx)(LK,{report:AK(e),performanceReport:e,onDrilldown:this.onDrilldownClick,setIsRendered:n,errorRenderer:t,noDataRenderer:r,onReportResolve:a})}}DK.propTypes=Object.assign({},BH.a,{report:OK([BH.a.report,JN.a.contains({displayParams:JN.a.contains({customWidget:JN.a.contains({options:JN.a.contains({showOfflineSources:XN.a.bool,goals:JN.a.listOf(JN.a.contains({property:XN.a.string.isRequired,goal:XN.a.number.isRequired}).isRequired)})})})}).isRequired])});var MK=DK;const PK={CONTACTS_CREATED:"CONTACTS_CREATED",CONTACTS_ASSIGNED:"CONTACTS_ASSIGNED",CONTACTS_WORKED:"CONTACTS_WORKED",NEW_DEALS_CREATED:"NEW_DEALS_CREATED",DEALS_CLOSED_WON:"DEALS_CLOSED_WON"},UK=e=>e.map(e=>e.update("property",e=>"hubspot_owner_id"===e?"engagement.ownerId":"hubspot_team_id"===e?"engagement.teamId":e)),kK=e=>e.filterNot(e=>"pipeline"===e.get("property")),xK=(e,t,n,r)=>a=>a.set("chartType",X.f).update("config",a=>a.set("dataType",e).set("metrics",Object(b.fromJS)([n])).setIn(["filters","dateRange","property"],t).updateIn(["filters","custom"],Object(b.List)(),t=>{let n=r?t.push(Object(b.fromJS)(r)):t;e!==A.DEALS&&(n=kK(n));e===A.ENGAGEMENT&&(n=UK(n));return n})).set("displayParams",Object(b.Map)()),wK=xK(A.CONTACTS,"createdate",{property:"count",metricTypes:[E.SUM]}),FK=xK(A.CONTACTS,"hubspot_owner_assigneddate",{property:"count",metricTypes:[E.SUM]}),YK=xK(A.ENGAGEMENT,"engagement.timestamp",{property:"associations.contact",metricTypes:["DISTINCT_APPROX"]},{operator:"IN",property:"engagement.type",values:["CALL","MEETING","EMAIL"]}),BK=xK(A.DEALS,"createdate",{property:"count",metricTypes:[E.SUM]}),GK=xK(A.DEALS,"closedate",{property:"count",metricTypes:[E.SUM]},{property:"dealstage.probability",operator:"EQ",value:"1"}),VK=Object(b.OrderedMap)({[PK.CONTACTS_CREATED]:wK,[PK.CONTACTS_ASSIGNED]:FK,[PK.CONTACTS_WORKED]:YK,[PK.NEW_DEALS_CREATED]:BK,[PK.DEALS_CLOSED_WON]:GK}),HK=VK.reduce((e,t,n)=>e.push(Object(b.Map)({property:n})),Object(b.List)()),WK=e=>e.getIn(["displayParams","customWidget","options","values"],HK).map(e=>e.get("property"));function KK(e){const t=e.getIn(["displayParams","customWidget","options","values"],HK).map(e=>e.get("property"));return(e,n)=>t.includes(n)}const qK=e=>{const t=VK.filter(KK(e));return Promise.all(t.map(t=>Object(WH.resolve)(t(e),{batchRequests:!0,v2Datasets:!0,newrelic:null})).toArray())},QK=(e,t)=>{const n=WK(e);return Object.keys(t).reduce((e,r)=>{const a=n.get(r),o=t[r].getIn(["primary","data","data",0]).valueSeq().first(),s=t[r].get("compare"),i=s?s.getIn(["data","data",0]).valueSeq().first():void 0,c=h.a.text("reporting-ui-components.reportActions.customize.data.types."+n.get(r));return e.setIn(["primary","data",0,a],o).setIn(["primary","properties",a,"label"],c).setIn(["primary","properties",a,"type"],"number").setIn(["compare","data",0,a],i).setIn(["compare","properties",a,"label"],c)},Object(b.fromJS)({}))};function $K(e){return qK(e).then(t=>QK(e,t))}const JK=e=>e&&!e.isEmpty()?e.map(e=>e.get("property")).filter(e=>Object.keys(PK).includes(e)):Object(b.List)(Object.keys(PK)),zK=({report:e,isMobile:t,onDrilldown:n,onReportResolve:r,onError:a})=>{const[o,s]=Object(p.useState)(null);Object(p.useEffect)(()=>{$K(e).then(r=>{const a=r.get("primary")||Object(NM.a)({}),o=r.get("compare")||Object(NM.a)({});s(Object(BY.c)({type:"DATA_WELL",data:{primary:a,compare:o},layer:{dataset:"primary",compare:o?"compare":void 0,direction:"horizontal",fields:JK(e.getIn(["displayParams","customWidget","options","values"]))},events:{getOnPointClick:r=>{if(t)return null;const a=r.cell.get("field"),o=r.cell.get("label");return()=>En(VK.get(a)(e),a!==PK.CONTACTS_WORKED?Object(b.List)(["count","SUM"]):Object(b.List)(["associations.contacts","DISTINCT_APPROX"]),{name:o}).then(n)}}}))}).catch(e=>{if(!a)throw e;a(e)})},[e,t,n,a]);Object(p.useEffect)(()=>{o&&r&&r({data:o.get("data")})},[o,r]);return o?Object(u.jsx)(EY.b,{visualization:o,style:{overflowX:"auto",display:"inline"}}):Object(u.jsx)(Tn.a,{layout:"centered"})};zK.propTypes=BH.a;var XK=zK,ZK=n("g8ce"),eq=n("F1z2");const tq={BAR_HEIGHT:"75px",STAGE_AMOUNT_HEIGHT:"36px",STAGE_LABEL_HEIGHT:"24px",FLAG_LABEL_HEIGHT:"30px"},nq=QH.a.div.withConfig({displayName:"QuotaFlag__QuotaFlagContainer",componentId:"sc-1twbm4b-0"})(["position:absolute;bottom:",";height:calc( "," + "," + 2 * "," + 16px );z-index:3;pointer-events:none;display:flex;flex-direction:column;&.reversed{transform:translateX(100%);.quota-label{text-align:left;}.quota-flag-pole{border-left:2px solid ",";border-right:0;}.quota-flag{.quota-value{order:1;}svg{order:2;transform:rotate(180deg);}}}"],tq.STAGE_LABEL_HEIGHT,tq.BAR_HEIGHT,tq.STAGE_AMOUNT_HEIGHT,tq.FLAG_LABEL_HEIGHT,Pn.OBSIDIAN),rq=QH.a.div.withConfig({displayName:"QuotaFlag__QuotaFlagPole",componentId:"sc-1twbm4b-1"})(["border-right:2px solid ",";flex-grow:1;"],Pn.OBSIDIAN),aq=QH()(JW.a).withConfig({displayName:"QuotaFlag__QuotaLabel",componentId:"sc-1twbm4b-2"})(["text-transform:uppercase;text-align:right;"]),oq=QH.a.div.withConfig({displayName:"QuotaFlag__QuotaFlagImage",componentId:"sc-1twbm4b-3"})(["display:flex;align-items:stretch;height:",";svg{width:10px;polygon{fill:",";}}"],tq.FLAG_LABEL_HEIGHT,Pn.CIRRUS),sq=QH()(JW.a).withConfig({displayName:"QuotaFlag__QuotaValue",componentId:"sc-1twbm4b-4"})(["padding:0 8px;white-space:nowrap;background-color:",";font-weight:700;span{line-height:",";}"],Pn.CIRRUS,tq.FLAG_LABEL_HEIGHT),iq=({quota:e,reversed:t,style:n,currencyCode:r})=>Object(u.jsxs)(nq,{style:n,className:"quota-flag-container"+(t?" reversed":""),children:[Object(u.jsx)(aq,{className:"quota-label",children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.forecastWidget.quotaLabel",style:{lineHeight:"30px"}})}),Object(u.jsx)(rq,{className:"quota-flag-pole",children:Object(u.jsxs)(oq,{className:"quota-flag",children:[Object(u.jsxs)("svg",{viewBox:"0 0 30 90",children:[Object(u.jsx)("polygon",{points:"0,0  30,0  30,45"}),Object(u.jsx)("polygon",{points:"0,90 30,90 30,45"})]}),Object(u.jsx)(sq,{className:"quota-value",children:Object(u.jsx)(ZK.a,{value:e,precision:0,currencyCode:r})})]})})]});iq.propTypes={quota:XN.a.number.isRequired,reversed:XN.a.bool.isRequired,style:XN.a.object,currencyCode:XN.a.string.isRequired};var cq=iq;const lq=["#fea58e","#fb9d95","#f7969c","#ef91a4","#e68cab","#da89b2","#cc87b8","#bc85bd","#aa85c0","#9784c2"];var uq=n("qYEA");const pq=Object(uq.a)(({[HN.Y]:e},{stageId:t})=>({dealStage:e.byId(t)})),dq=pq(({dealStage:e,showPipelineLabel:t})=>{if(Object(jC.a)(e)){const t=e.reason;return Object(u.jsx)(rH.a,{type:Object(sG.a)(t),error:t})}if(Object(jC.b)(e))return Object(u.jsx)(Tn.a,{grow:!0});if(!Object(jC.c)(e))return null;const n=e.referencedObject.get("label"),r=e.referencedObject.getIn(["pipeline","label"]);return Object(u.jsx)("span",{children:t?Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.forecastWidget.nameWithPipeline",options:{dealStageName:n,pipelineName:r}}):n})});dq.propTypes={stageId:XN.a.string.isRequired,showPipelineLabel:XN.a.bool};const mq=Object($N.contains)({stage:XN.a.string.isRequired,percent:XN.a.number.isRequired,predictedAmount:XN.a.number.isRequired,"dealstage.probability":XN.a.number.isRequired}),gq=e=>{let t=Math.floor(10*e);10===t&&(t-=1);return lq[t]},bq=QH.a.div.withConfig({displayName:"ForecastStage__NoLabelContainer",componentId:"ufs3hk-0"})(["padding-top:",";padding-bottom:",";"],tq.STAGE_AMOUNT_HEIGHT,tq.STAGE_LABEL_HEIGHT),Oq=QH.a.div.withConfig({displayName:"ForecastStage__ForecastStageAmount",componentId:"ufs3hk-1"})(["height:",";span{margin:0 4px;position:relative;z-index:4;font-size:20px;line-height:1.5;display:inline-block;background-color:",";color:",";}"],tq.STAGE_AMOUNT_HEIGHT,Pn.OLAF,Pn.HEFFALUMP),fq=QH.a.div.withConfig({displayName:"ForecastStage__ForecastStageLabel",componentId:"ufs3hk-2"})(["position:relative;height:",";line-height:",";vertical-align:baseline;color:",";word-break:break-all;button{margin-top:8px;span{color:",";font-weight:700;text-transform:uppercase;}}.forecast-stage-percent{word-break:normal;color:",";}"],tq.STAGE_LABEL_HEIGHT,tq.STAGE_LABEL_HEIGHT,Pn.HEFFALUMP,Pn.HEFFALUMP,Pn.EERIE),Eq=pq(({stage:e,onDrilldown:t,showLabels:n,currencyCode:r,dealStage:a,isMobile:o})=>{const s=Object(u.jsx)("span",{className:"forecast-stage-percent",style:{marginLeft:"4px"},children:Object(u.jsx)($W.a,{value:100*e.get("dealstage.probability")})}),i=o?parseInt(tq.BAR_HEIGHT,10)/2:parseInt(tq.BAR_HEIGHT,10),c=QH()(px.a).withConfig({displayName:"ForecastStage__StyledBar",componentId:"ufs3hk-3"})(["border-radius:0;height:","px;min-width:5px;width:100%;&:hover{opacity:0.7;}"],i),l=Object(u.jsx)(dq,{stageId:e.get("stage")}),p=Object(u.jsx)(dq,{stageId:e.get("stage"),showPipelineLabel:!0}),d=Object(u.jsx)(ZK.a,{value:e.get("predictedAmount"),abbreviate:!0,maxSignificantDigits:3,precision:0,currencyCode:r}),m=Object(u.jsx)(ZK.a,{value:e.get("predictedAmount"),precision:0,currencyCode:r}),g=Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.forecastWidget.amountLabel"});let b=null;o||(b=a&&a.referencedObject?()=>t(a.referencedObject.get("label")):()=>{t("")});const O=Object(u.jsx)(dx.a,{headingText:Object(u.jsxs)("span",{children:[p," -",s]}),title:Object(u.jsxs)(JW.a,{children:[g," ",m]}),children:Object(u.jsx)(c,{use:"unstyled","data-test-id":e.get("stage")+"-forecast-bar",onClick:b,style:{backgroundColor:gq(e.get("dealstage.probability"))},className:"bar"})});return n?Object(u.jsxs)("div",{children:[Object(u.jsx)(Oq,{className:"forecast-stage-amount",children:d}),O,Object(u.jsxs)(fq,{className:"forecast-stage-label",children:[Object(u.jsx)(px.a,{use:"link",onClick:b,children:l}),s]})]}):Object(u.jsx)(bq,{className:"forecast-stage-no-label",children:O})});Eq.propTypes={stage:mq.isRequired,currencyCode:XN.a.string.isRequired,showLabels:XN.a.bool.isRequired,onDrilldown:XN.a.func.isRequired};const yq=e=>e.reduce((e,t)=>e+t.get("predictedAmount"),0),Tq=(e,t)=>{const n=yq(e);if(t>=n){const e=n/t;return{stagesSize:e,quotaSize:1-e,quotaPosition:1}}return{stagesSize:1,quotaSize:0,quotaPosition:t/n}},Iq=e=>100*e+"%",hq=QH.a.div.withConfig({displayName:"ForecastBar__StyledBarChart",componentId:"sc-29hbvg-0"})(["position:relative;height:calc( "," + "," + "," + 2 * "," + 16px );"],tq.BAR_HEIGHT,tq.STAGE_AMOUNT_HEIGHT,tq.STAGE_LABEL_HEIGHT,tq.FLAG_LABEL_HEIGHT),jq=QH()(uG.a).withConfig({displayName:"ForecastBar__StyledForecastStage",componentId:"sc-29hbvg-1"})(["border-radius:4px;display:flex;flex-direction:column;align-items:stretch;padding-right:2px;&:first-child{.bar{border-top-left-radius:4px;border-bottom-left-radius:4px;}}&:nth-last-of-type(2){padding-right:0;.bar{border-top-right-radius:4px;border-bottom-right-radius:4px;}}"]),Aq=QH()(uG.a).withConfig({displayName:"ForecastBar__StyledForecastQuota",componentId:"sc-29hbvg-2"})(["margin-top:",";margin-bottom:",";height:",";background-color:",";"],tq.STAGE_AMOUNT_HEIGHT,tq.STAGE_LABEL_HEIGHT,tq.BAR_HEIGHT,Pn.CIRRUS),Sq=({stages:e,quota:t,currencyCode:n,onDrilldown:r,isMobile:a})=>{const{stagesSize:o,quotaSize:s,quotaPosition:i}=Tq(e,t),c=null==t||a?null:Object(u.jsx)(cq,{style:{right:Iq(1-i)},quota:t,reversed:i<.8,currencyCode:n}),l=a?QH()($F.a).withConfig({displayName:"ForecastBar__StyledForecastBar",componentId:"sc-29hbvg-3"})(["z-index:2;position:absolute;left:0;"]):QH()($F.a).withConfig({displayName:"ForecastBar__StyledForecastBar",componentId:"sc-29hbvg-4"})(["z-index:2;position:absolute;bottom:0;left:0;"]);return Object(u.jsx)(hq,{className:"forecast-bar-chart",children:Object(u.jsxs)(l,{className:"forecast-bar",align:"stretch","data-test-id":"dealForecast-bar",children:[e.map(e=>Object(u.jsx)(jq,{className:"forecast-stage",basis:0,grow:e.get("percent")*o,children:Object(u.jsx)(Eq,{stage:e,stageId:e.get("stage"),onDrilldown:t=>r(e.get("stage"),t),currencyCode:n,showLabels:e.get("percent")*o>.1,isMobile:a})},e.get("stage"))),Object(u.jsx)(Aq,{className:"forecast-quota",basis:0,grow:s,children:c})]})})};Sq.propTypes={stages:Object($N.listOf)(mq),quota:XN.a.number,currencyCode:XN.a.string.isRequired,onDrilldown:XN.a.func.isRequired,isMobile:XN.a.bool};var _q=Sq;const Nq=e=>{const t=e.getIn(["config","filters"]).update("custom",(e=Object(b.Set)())=>Object(b.Set)(e).merge([Object(b.Map)({operator:"GT",property:"dealstage.probability",value:0})]).toList()),n=e.getIn(["config","limit"]);return Object(b.fromJS)({chartType:"TABLE",config:{configType:"AGGREGATION",dataType:"DEALS",filters:t,limit:n,sort:[{metricType:"AVG",order:"DESC",property:"dealstage.probability",type:"METRIC"}],dimensions:["dealstage"],metrics:[{property:"hs_projected_amount_in_home_currency",metricTypes:["SUM"]},{property:"dealstage.probability",metricTypes:["AVG"]}],processors:[]}})},Rq=(e,t,n)=>{const r=n.getIn(["config","filters"]).update("custom",Object(b.List)(),t=>t.push(Object(b.Map)({operator:"EQ",property:"dealstage",value:e}))),a=["dealname","amount_in_home_currency","associations.contact","closedate","hubspot_owner_id"];return Object(b.fromJS)({name:t,chartType:"TABLE",displayParams:{hideKeyColumn:!0},config:{count:5,configType:"SEARCH",dataType:"DEALS",filters:r,sort:[{metricType:"MAX",order:"DESC",property:"amount_in_home_currency",type:"METRIC"}],metrics:a.map(e=>({property:e,metricTypes:[E.COUNT]})),dimensions:[],processors:[]}})},Cq=e=>e.reduce((e,t)=>e+t.get("predictedAmount"),0),vq={"SUM|hs_projected_amount_in_home_currency":"predictedAmount","AVG|dealstage.probability":"dealstage.probability",dealstage:"stage"},Lq=e=>{const t=e.getIn(["primary","data","data"]).map(e=>e.mapKeys(e=>vq[e]||e)),n=Cq(t);return t.map(e=>e.set("percent",e.get("predictedAmount")/n))},Dq=JN.a.listOf(JN.a.contains({stage:XN.a.string.isRequired,percent:XN.a.number.isRequired,predictedAmount:XN.a.number.isRequired,"dealstage.probability":XN.a.number.isRequired})),Mq=QH.a.span.withConfig({displayName:"StackedForecast__QuotaTotalMobile",componentId:"sc-1xpflut-0"})(["float:right;font-weight:bold;"]),Pq=QH.a.span.withConfig({displayName:"StackedForecast__QuotaValueMobile",componentId:"sc-1xpflut-1"})(["float:right;font-weight:normal;"]),Uq=QH.a.div.withConfig({displayName:"StackedForecast__ScrollingDiv",componentId:"sc-1xpflut-2"})(["max-height:100%;height:100%;overflow:auto;"]),kq=({currencyCode:e,total:t,quota:n,stages:r,onDrilldown:a,isMobile:o})=>{const s=null!=n&&o?Object(u.jsxs)(Mq,{children:[h.a.text("reporting-ui-components.customWidgets.forecastWidget.quotaLabel")," ",Object(u.jsx)(Pq,{children:Object(u.jsx)(ZK.a,{value:n,precision:0,currencyCode:e})})]}):null,i=QH.a.span.withConfig({displayName:"StackedForecast__ForecastTotal",componentId:"sc-1xpflut-3"})(["font-size:24px;color:",";font-weight:",";"],Pn.SLINKY,o?600:400);return Object(u.jsxs)(Uq,{children:[Object(u.jsx)(eq.a,{className:"m-bottom-4",distance:"flush"}),Object(u.jsx)(i,{className:"forecast-total",children:Object(u.jsx)(ZK.a,{currencyCode:e,value:t,precision:0})}),s,Object(u.jsx)(_q,{quota:n,stages:r,currencyCode:e,onDrilldown:a,isMobile:o})]})};kq.propTypes={currencyCode:XN.a.string.isRequired,total:XN.a.number.isRequired,quota:XN.a.number,stages:Dq.isRequired,onDrilldown:XN.a.func.isRequired,isMobile:XN.a.bool};var xq=kq,wq=n("kV5Q");const Fq="YYYY-MM-DD",Yq=e=>{const t=e.get("config"),{startDate:n,endDate:r}=Object(D.a)(t.getIn(["filters","dateRange","value"]).toJS());return{start:n,end:r}},Bq=({start:e,end:t},n,r)=>{const a=F.MONTH;if("Invalid date"===e||"Invalid date"===t)throw new Error("Cant create quota config without valid date range");const o=h.a.moment(XH({date:t,frequency:a})).format("YYYY-MM-01"),s=h.a.moment(e).month()+1,i=h.a.moment(e).year(),c=h.a.moment(o).month()+1,l=h.a.moment(o).year(),u=n?n.map(e=>e.get("ownerId")):[],p=0!==u.length?{assignees:u,assigneesOperator:R.f}:null;return Object.assign({},r,{},p,{dateRange:{startDate:{month:s,year:i},endDate:{month:c,year:l}}})},Gq=(e,{start:t,end:n})=>{const r=e.map(e=>Object(b.Map)({date:e.get("key"),value:e.get("sum")})),a=e.first().get("key"),o=e.last().get("key"),s=eW({goalsByMonth:r,startDate:a,endDate:o}),i=ZH({goalsByMonth:s});return tW({dailyGoals:i,dates:Object(b.List)([t,h.a.moment(n).add(1,"days").format(Fq)])}).getIn([0,"value"],null)},Vq=({report:e})=>{const t="REVENUE",{start:n,end:r}=Yq(e),a=e.get("config"),o=LW(a);return EW(e).then(e=>{const a=Bq({start:n,end:r},e,o);if(a.pipelinesOperator&&![R.e,R.j,R.f,R.k].includes(a.pipelinesOperator))throw new wq.d("Invalid Pipelines Operator");return rW(a,t)}).then(e=>Gq(e,{start:n,end:r})).catch(()=>Promise.resolve(0))},Hq=e=>Object(Xx.a)().then(({user:{scopes:t=[]}={}})=>t.findIndex(t=>e.includes(t))>-1);function Wq(){return Hq(Object(b.Set)(["sales-goal-assignment","advanced-sales-goal-assignment","basic-sales-goal-manager","advanced-sales-goal-manager","legacy-quotas-access","legacy-sales-goal-assignment"]))}const Kq=({report:e,isMobile:t,noDataRenderer:n,onDrilldown:r,setIsRendered:a,onReportResolve:o,onError:s})=>{const[i,c]=Object(p.useState)(void 0),[l,d]=Object(p.useState)(null),[m,g]=Object(p.useState)({});Object(p.useEffect)(()=>{if((!i||!Object(uY.a)(e,i))&&e){c(e);Promise.all([Object(Pw.a)(),Wq(),Vq({report:e}),Object(WH.resolve)(e,{v2Datasets:!0,newrelic:null})]).then(([{homeCurrency:e},t,n,r])=>{g({homeCurrency:e,canReportOnRevenueQuotas:t,quotaTotal:n});"function"==typeof a&&a();d(r);o&&o({data:r})}).catch(e=>{if(!s)throw e;s(e)})}},[i,e,a,o,s]);const b=Object(p.useCallback)((t,n)=>{r(Rq(t,n,e))},[r,e]);if(!l||void 0===m.homeCurrency||void 0===m.canReportOnRevenueQuotas||void 0===m.quotaTotal)return Object(u.jsx)(Tn.a,{grow:!0});const O=Lq(l),f=Cq(O);if(0===f)return n?n():Object(u.jsx)(KH.a,{});const E={quota:m.canReportOnRevenueQuotas&&m.quotaTotal>0?m.quotaTotal:null,currencyCode:m.homeCurrency.currencyCode,stages:O,onDrilldown:b,total:f,isMobile:t};return Object(u.jsx)(xq,Object.assign({},E))};Kq.propTypes=BH.a;var qq=Kq;function Qq(e){let{report:t,disableSVGs:n=!1,isMobile:r}=e,a=Object(l.a)(e,["report","disableSVGs","isMobile"]);const o=Nq(t);return n?Object(u.jsx)(w6,Object.assign({report:o},a)):Object(u.jsx)(qq,Object.assign({report:o,isMobile:r},a))}const $q={TOTAL_IN_RANGE:"totalInRange",AVERAGE_IN_RANGE:"averageInRange",BEST_IN_RANGE:"bestInRange"};var Jq=n("uMkL"),zq=n("mLvQ");const Xq={[F.DAY]:"days",[F.WEEK]:"weeks",[F.MONTH]:"months",[F.QUARTER]:"quarters",[F.YEAR]:"years"},Zq=(e,t)=>{const n=h.a.moment(e);return t===F.DAY?n:n.add(1,Xq[t])};function eQ(e,t,n,r){switch(e){case $q.TOTAL_IN_RANGE:return En(n,Object(b.List)(["count","SUM"]),{name:t});case $q.AVERAGE_IN_RANGE:return Promise.resolve(n.set("name",t));case $q.BEST_IN_RANGE:return En(n,Object(b.List)([r,"count","SUM"]),{name:t});default:return null}}const tQ=(e,t,n,r,a)=>Object(u.jsx)(zq.a,{message:$q[e]===$q.BEST_IN_RANGE?"reporting-ui-components.customWidgets.contactsOverview."+n:"reporting-ui-components.customWidgets.contactsOverview."+$q[e],options:{timeUnit:h.a.text("reporting-ui-components.customWidgets.contactsOverview.timeUnit."+t),beginDate:Object(u.jsx)(Jq.a,{value:r,format:"ll",type:"portalTz"}),endDate:Object(u.jsx)(Jq.a,{value:a,format:"ll",type:"portalTz"})}}),nQ=(e,t)=>{const n=e.getIn(["primary","data","data"]),r=t.getIn(["config","frequency"]),{dataMap:a,bestFrequencyStartDate:o}=n.reduce((e,t,n)=>{const r=t.get("SUM|count");return{dataMap:e.dataMap.update($q.TOTAL_IN_RANGE,e=>e+t.get("SUM|count")).update($q.AVERAGE_IN_RANGE,()=>(e.dataMap.get($q.TOTAL_IN_RANGE)+r)/(n+1)).update($q.BEST_IN_RANGE,e=>e>r?e:r),bestFrequencyStartDate:e.dataMap.get($q.BEST_IN_RANGE)>r?e.bestFrequencyStartDate:t.get("createdate")}},{dataMap:Object(b.Map)({[$q.TOTAL_IN_RANGE]:0,[$q.AVERAGE_IN_RANGE]:0,[$q.BEST_IN_RANGE]:0}),bestFrequencyStartDate:""}),s=Zq(o,r),i=o===s?"bestInRangeSameDate":"bestInRangeDifferentDates",c=Object.keys($q).reduce((e,t)=>{const n=tQ(t,r,i,o,s);return e.setIn([$q[t],"label"],n).setIn([$q[t],"type"],"number")},Object(b.Map)());return[Object(b.fromJS)({data:[a],properties:c}),o]},rQ=Object(b.fromJS)({chartType:"TABLE",displayParams:{},config:{configType:"TIME_SERIES",dataType:"CONTACTS",filters:{dateRange:{property:"createdate",value:{rangeType:"ALL"}}},frequency:"DAY",metrics:[{property:"count",metricTypes:["SUM"]}],dimensions:["createdate"],sort:[],processors:[]}}),aQ=e=>{const t=e.getIn(["config","filters"]),n=e.getIn(["config","frequency"]);return rQ.setIn(["config","filters"],t).setIn(["config","frequency"],n)};var oQ=function({report:e,onDrilldown:t,setIsRendered:n,onReportResolve:r}){const[a,o]=Object(p.useState)(),[s,i]=Object(p.useState)(null);Object(p.useEffect)(()=>{const s=aQ(e);if(!a||!Object(uY.a)(s,a)){o(s);Object(WH.resolve)(s,{v2Datasets:!0,newrelic:null}).then(e=>{"function"==typeof n&&n();r&&r({data:e});const[a,o]=nQ(e,s)||Object(NM.a)({});i(Object(BY.c)({type:"DATA_WELL",data:{primary:a},layer:{dataset:"primary",direction:"horizontal",fields:Object.keys($q).map(e=>$q[e])},events:{getOnPointClick:e=>{const n=eQ(e.cell.get("field"),e.cell.get("label"),s,o);return()=>n.then(t)}}}))}).catch(e=>{setTimeout(()=>{throw e})})}},[e,a,t,n,r]);return s?Object(u.jsx)(EY.b,{visualization:s}):Object(u.jsx)(Tn.a,{layout:"centered"})},sQ=n("Lt3g"),iQ=n.n(sQ);var cQ=e=>t=>n=>Object(u.jsx)(t,Object.assign({},e(n))),lQ=n("PqgQ"),uQ=n("88tZ");const pQ=QH()(xa.a).withConfig({displayName:"PersonaLabel__PersonaName",componentId:"sc-5g74jm-0"})(["display:flex;align-items:center;"]),dQ=QH()(uQ.a).withConfig({displayName:"PersonaLabel__PersonaAvatar",componentId:"sc-5g74jm-1"})(["margin-right:8px;width:2rem;height:2rem;"]),mQ=e=>{const t=e.split("_")[1];return`/property-settings/${Qt.a.get()}/contact/hs_persona?id=${t}`},gQ=({persona:e,personaId:t,personaLabel:n})=>"@@MISSING@@"===t?Object(u.jsxs)(pQ,{disabled:!0,className:"persona-label",children:[Object(u.jsx)(dQ,{className:"persona-image",shape:"circle",src:"//hubspot-avatars.s3.amazonaws.com/default-80.png"}),n]}):Object(jC.c)(e)?Object(u.jsxs)(pQ,{href:mQ(t),className:"persona-label",children:[Object(u.jsx)(dQ,{className:"persona-image",shape:"circle",src:e.icon.get("src")}),e.label]}):null;gQ.propTypes={persona:lQ.b,personaId:XN.a.string.isRequired,personaLabel:XN.a.string.isRequired};var bQ=Object(uq.a)((e,{personaId:t})=>"@@MISSING@@"===t?{}:{persona:e[HN.Mb].byId(t)})(gQ);const OQ=({count:e,total:t})=>{const n=0===e?"—":Object(u.jsx)(CH.a,{value:e}),r=Object(u.jsx)($W.a,{value:e/t*100,precision:2});return Object(u.jsxs)("span",{children:[n," (",r,")"]})};OQ.propTypes={count:XN.a.number.isRequired,total:XN.a.number.isRequired};var fQ=OQ,EQ=n("6buU"),yQ=n("fqVK"),TQ=n.n(yQ);const IQ=DA()(["config","filters"]),hQ=e=>e.get("displayParams").set("showTotals",!0),jQ=DA()(["SUM|count"]),AQ=DA()(["primary","data","properties","hs_persona","references"]),SQ=e=>Object(b.fromJS)({chartType:X.l,displayParams:hQ(e),config:{configType:f.a,dataType:A.CONTACTS,filters:IQ(e),dimensions:["hs_persona"],sort:[],metrics:[{property:"count",metricTypes:["SUM"]}]}}),_Q=(e,t)=>{const n=e.getIn(["primary","data","data"]),r=n.find(e=>"@@MISSING@@"===e.get("hs_persona"));return TQ()(DA()(["count"]),[...r?[{personaLabel:AQ(e).getIn(["@@MISSING@@","label"]),personaId:"@@MISSING@@",count:jQ(r)}]:[],...t.map(({id:t,label:r})=>{const a=n.find(e=>e.get("hs_persona")===t);return{personaLabel:null!=a?AQ(e).getIn([t,"label"]):r,personaId:t,count:null!=a?jQ(a):0}})]).reverse()};var NQ=n("6sbF");const RQ=QH.a.tr.withConfig({displayName:"Persona__StyledTr",componentId:"sc-1i3mt7i-0"})(["height:50px;"]),CQ=QH.a.td.withConfig({displayName:"Persona__StyledTd",componentId:"sc-1i3mt7i-1"})(["padding:8px 0;height:50px;font-size:14px;"]),vQ=Object(uq.a)(e=>({personas:e[HN.Mb].all()})),LQ=cQ(e=>Object.assign({},e,{report:SQ(e.report)})),DQ=({personas:e,report:t,setIsRendered:n,noDataRenderer:r,onReportResolve:a,onError:o})=>{const[s,i]=Object(p.useState)(),[c,l]=Object(p.useState)(null);Object(p.useEffect)(()=>{if(!s||!Object(uY.a)(t,s)){i(t);Object(WH.resolve)(Object(b.fromJS)(t),{v2Datasets:!0}).then(e=>{"function"==typeof n&&n();l(e);a&&a({data:e})}).catch(e=>{if(!o)throw e;o(e)})}},[s,t,o,a,n]);if(Object(jC.b)(e)||!c)return Object(u.jsx)(Tn.a,{grow:!0});if(Object(jC.a)(e))throw e.reason;const d=Object(NM.d)(c.getIn(["primary","data"]),"hs_persona"),m=Object(NQ.b)(A.CONTACTS).getIn(["count","label"]),g=c.getIn(["summary","data","data",0,"SUM|count"]),O=_Q(c,e);return 0===O.length?r?r():Object(u.jsx)(KH.a,{}):Object(u.jsx)("div",{className:"persona-report",style:{overflow:"auto",maxHeight:"100%"},children:Object(u.jsxs)(EQ.a,{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)(RQ,{children:[Object(u.jsx)("th",{children:d}),Object(u.jsx)("th",{className:"text-right",children:m})]})}),Object(u.jsx)("tbody",{children:O.map(({count:e,personaId:t,personaLabel:n})=>Object(u.jsxs)(RQ,{children:[Object(u.jsx)(CQ,{children:Object(u.jsx)(bQ,{personaId:t,personaLabel:n})}),Object(u.jsx)(CQ,{className:"text-right",children:Object(u.jsx)(fQ,{count:e,total:g})})]},t))})]})})};DQ.propTypes={personas:lQ.a.isRequired,report:QW.b.isRequired,onError:XN.a.func,onReportResolve:XN.a.func,noDataRenderer:XN.a.func,setIsRendered:XN.a.func};var MQ=iQ()(LQ,vQ)(DQ),PQ=n("kEPo"),UQ=n("TTw+");const kQ={number:e=>h.a.formatNumber(e),percent:e=>h.a.formatPercentage(e,{precision:2}),currency:(e,t)=>h.a.formatCurrency(e,{currencyCode:t})},xQ=(e,t,n)=>t||0===t?e(t,n):NaN,wQ=({report:e,datasets:t,response:n})=>{const r=t.getIn(["summary","data",0]);if(r){const a=r.get("metrics_primary"),o=r.get("metrics_secondary");return zw().then(r=>{const s=mF(e)?"number":"currency",i=t.setIn(["summary","properties"],Object(b.fromJS)({metrics_primary:{type:s,format:{currencyCode:r},references:{[a]:{label:xQ(kQ[s],a,r)}}},metrics_secondary:{type:"percent",references:{[o]:{label:xQ(kQ.percent,o,r)}}}}));return{report:e,response:n,datasets:i}})}return{report:e,response:n,datasets:t}},FQ=DC()(e=>Object(PQ.getProperties)().then(t=>t.get(e)).then(e=>Qw(e))),YQ=({report:e,response:t})=>Promise.all([Object(PQ.getProperties)(),Object(UQ.a)(A.DEALS),zw(),FQ("dealstage")]).then(([n,r,a,o])=>Object(b.fromJS)({hubspot_owner_id:{label:n.getIn(["hubspot_owner_id","label"])},hubspot_team_id:{label:n.getIn(["hubspot_team_id","label"])},periodDate:{label:n.getIn(["closedate","label"]),type:"date",format:{frequency:e.getIn(["config","frequency"])}},closedInPeriodAmount:{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.closedInPeriodAmount.default"),type:"currency",format:{currencyCode:a}},quotaAmount:{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.quotaAmount.default"),type:"currency",format:{currencyCode:a}},accumulatedQuota:{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.accumulatedQuota.default"),type:"currency",format:{currencyCode:a}},forecastAmount:{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.forecastAmount.default"),type:"currency",format:{currencyCode:a}},closedInPeriodCount:{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.closedInPeriodCount.default"),type:"number"},attainmentPercentage:{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.attainmentPercentage.default"),type:"percent"},gapToQuota:{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.gapToQuota.default"),type:"currency",format:{currencyCode:a}},dealname:{label:n.getIn(["dealname","label"])},dealstage:{label:n.getIn(["dealstage","label"]),references:o},pipeline:{label:n.getIn(["pipeline","label"]),references:$w(r)},closedate:{label:n.getIn(["closedate","label"]),type:"date",format:{frequency:e.getIn(["config","frequency"])}},createdate:{label:n.getIn(["createdate","label"]),type:"date",format:{frequency:e.getIn(["config","frequency"])}},amount_in_home_currency:{label:n.getIn(["amount_in_home_currency","label"]),type:"currency",format:{currencyCode:a}},amountInHomeCurrency:{label:n.getIn(["amountInHomeCurrency","label"]),type:"currency",format:{currencyCode:a}},hs_manual_forecast_category:{label:n.getIn(["hs_manual_forecast_category","label"]),references:Jw(n.get("hs_manual_forecast_category",Object(b.Map)()))},hs_is_closed:{label:n.getIn(["hs_is_closed","label"]),type:"boolean"},"SUM|projectedAmountInHomeCurrency":{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.forecastAmount.total"),type:"currency",format:{currencyCode:a}},"SUM|hs_projected_amount_in_home_currency":{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.forecastAmount.total"),type:"currency",format:{currencyCode:a}},"SUM|count":{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.count"),type:"number"},"SUM|amount_in_home_currency":{label:n.getIn(["amount_in_home_currency","label"]),type:"currency",format:{currencyCode:a}},"SUM|amountInHomeCurrency":{label:n.getIn(["amountInHomeCurrency","label"]),type:"currency",format:{currencyCode:a}},"SUM|closedAmountInHomeCurrency":{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.closedAmountInHomeCurrency"),type:"currency",format:{currencyCode:a}},"SUM|hs_closed_amount_in_home_currency":{label:h.a.text("reporting-ui-components.customWidgets.salesQuota.properties.closedAmountInHomeCurrency"),type:"currency",format:{currencyCode:a}},hs_analytics_source:{label:n.getIn(["hs_analytics_source","label"]),references:Jw(n.get("hs_analytics_source",Object(b.Map)()))},hs_close_date_progress:{references:Xw()},hs_deal_stage_progress:{references:Xw()},hs_manual_category_progress:{references:Xw()},hs_amount_change_event:{references:Xw()},hs_amount_change_percentage:{type:"percent"},hs_created_in_period:{references:{true:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.propertyChange.created")}}},initialAmountInHomeCurrency:{type:"currency",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.initialAmountInHomeCurrency"),format:{currencyCode:a}},finalAmountInHomeCurrency:{type:"currency",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.finalAmountInHomeCurrency"),format:{currencyCode:a}},amountInHomeCurrencyChange:{type:"currency",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.amountInHomeCurrencyChange"),format:{currencyCode:a}},initialCloseDate:{type:"datetime",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.initialCloseDate")},finalCloseDate:{type:"datetime",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.finalCloseDate")},closedWonReason:{type:"string",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.closedWonReason")},closedLostReason:{type:"string",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.closedLostReason")},finalPipelineStage:{type:"enumeration",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.finalPipelineStage"),references:o},numberOfPushes:{type:"number",label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.drilldownProperties.pushCount")},mostRecentPushInitialCloseDate:{type:"datetime",label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.drilldownProperties.mostRecentPushInitialCloseDate")},mostRecentPushFinalCloseDate:{type:"datetime",label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.drilldownProperties.mostRecentPushFinalCloseDate")},mostRecentPushStageId:{type:"enumeration",label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.drilldownProperties.mostRecentPushStageId"),references:o},snapshot_period_closedate:{label:h.a.text("reporting-ui-components.customWidgets.pipelineSnapshots.properties.snapshot_period_closedate"),type:"date"},snapshot_period_dealstage:{label:h.a.text("reporting-ui-components.customWidgets.pipelineSnapshots.properties.snapshot_period_dealstage"),references:o},snapshot_period_amount_in_home_currency:{label:h.a.text("reporting-ui-components.customWidgets.pipelineSnapshots.properties.snapshot_period_amount_in_home_currency"),type:"currency",format:{currencyCode:a}},pushStatus:{label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.options.label.pushstatus"),name:"pushStatus",type:"enumeration",references:Zw()},PUSHED:{label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.options.label.dealsPushed")},NOT_PUSHED:{label:h.a.text("reporting-ui-components.customWidgets.dealPushAnalysis.options.label.dealsNotPushed")},snapshotDate:{label:h.a.text("reporting-ui-components.customWidgets.pipelineSnapshots.snapshotDate"),type:"date",references:eF(t)},breakdownMin:{type:"currency",format:{currencyCode:a}},breakdownMax:{type:"currency",format:{currencyCode:a}},dealBreakdown:{label:h.a.text("reporting-ui-components.customWidgets.waterfall.dealBreakdown.label"),references:tF(e)},count:{type:"number",label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.count")},netPipelineImpact:{label:h.a.text("reporting-ui-components.customWidgets.waterfall.properties.netPipelineImpact"),type:"currency",format:{currencyCode:a}},deal_change_type:{label:h.a.text("reporting-ui-components.customWidgets.changeHistoryDealList.deal_change_type.label"),references:nF()}}));var BQ=(e=[])=>({report:t,response:n,datasets:r})=>YQ({report:t,response:n,datasets:r}).then(a=>{const o=sF(t);return{report:t,response:n,datasets:r.map(t=>t.set("properties",a.filter((t,n)=>e.includes(n)||0===e.length).map(e=>o&&"date"===e.get("type")?e.delete("format"):e)))}}).then(e=>wQ(e)),GQ=n("Agl5");const VQ=e=>e.update("properties",t=>t.map((t,n)=>{if(!t.get("references")){const r=e.get("data").map(e=>e.get(n)).toSet().reduce((e,n)=>e.set(String(n),Object(b.Map)({label:Object(Uw.a)(n,t,t.get("format",Object(b.Map)()).toJS())})),Object(b.Map)());return t.set("references",r)}return t})),HQ=(e,t,n)=>e.update("properties",e=>e.map((e,r)=>r===n?e.set("references",t):e)),WQ=e=>{const t=e.get("data").map(e=>e.get("hubspot_owner_id")).toSet().filter(e=>null!=e),n=e.get("data").map(e=>e.get("hubspot_team_id")).toSet().filter(e=>null!=e);return Promise.all([Object(GQ.a)(n),Object(pe.a)(t)]).then(([t,n])=>{const r=t.mapKeys(String),a=HQ(e,r,"hubspot_team_id");return HQ(a,n,"hubspot_owner_id")}).then(VQ)};var KQ=({report:e,response:t,datasets:n})=>{const r=n.keySeq().toArray();return Promise.all(r.map(e=>WQ(n.get(e)))).then(n=>({report:e,response:t,datasets:n.reduce((e,t,n)=>e.set(r[n],t),Object(b.Map)())}))};const qQ=e=>!e.some(e=>e.get(vF)===Kw.START)?e.unshift(Object(b.Map)({[vF]:Kw.START,[LF]:0,count:0})):e,QQ=e=>!e.some(e=>e.get(vF)===Kw.END)?e.push(Object(b.Map)({[vF]:Kw.END,[LF]:0,count:0})):e,$Q=e=>e.getIn(["config","configType"])===f.e?wt.b("/sales-reporting/waterfall/breakdown-objects",{query:CF(e),data:{config:TF(e).get("config").delete("offset"),offset:e.getIn(["config","offset"])}}).then(t=>({report:e,response:t})):wt.b("/sales-reporting/waterfall/breakdown-amounts",{query:Object.assign({},CF(e),{includeNetPipelineImpact:!0}),data:e.get("config")}).then(t=>({report:e,response:t})),JQ=({report:e,response:t})=>{const n=t.toJS().objects.map(({object:{properties:e,objectId:t},explanation:n})=>Object.keys(e).reduce((n,r)=>Object.assign({},n,{objectId:t,[r]:e[r].value}),n)),r=Object(b.Map)({primary:Object(NM.a)({data:n,paginationSize:t.get("total")})});return{report:e,response:t,datasets:r}},zQ=({report:e,response:t})=>{const n=t.get("endToEndAmountChange"),r=t.get("endToEndAmountChangePercent"),a=t.get("breakdowns").update(qQ).update(QQ).map(t=>iF(e)||t.get("isPositiveBreakdown")||t.get("isTerminalBreakdown")?t:t.set(LF,-1*t.get(LF,0))),o=[{metrics_primary:n,metrics_secondary:r}];return{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:a}),summary:Object(NM.a)({data:o})})}};var XQ=e=>sF(e)?yF(e).then($Q).then(JQ).then(BQ(BF(e))).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e}))):yF(e).then($Q).then(zQ).then(BQ(DF)).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e}))),ZQ=n("mop1");const e$=10,t$=e=>{const t=e.getIn(["config","filters","custom"],Object(b.List)()).find(e=>"closedate"===e.get("property")&&e.get("operator")===R.a);return t?Object(b.Map)({startDate:t.get("value"),endDate:t.get("highValue")}):Object(b.Map)(Object(D.a)({rangeType:"ALL"}))},n$=e=>e.getIn(["config","filters","custom"],Object(b.List)()).filter(e=>"dealstage.probability"!==e.get("property")&&"closedate"!==e.get("property")),r$=(e,t,n)=>e.getIn(["config","dimensions"]).map(e=>Object(NM.g)(n,e,t.get(e))).join(" / "),a$=({report:e,row:t})=>{const n=IF(e);return e.getIn(["config","dimensions"]).filter(e=>e!==n).map(n=>Q(n,Object(b.Map)(),t.get(n),e.get("config")))},o$=({report:e,row:t})=>{const n=IF(e);return oF(e)?q(t.get(n),e.get("config"),{}).update("startDate",t=>aF(e)?EF(e):t).update("endDate",e=>h.a.moment(e).format("YYYY-MM-DD")):null},s$=(e,{column:t,point:n,row:r,dataset:a})=>{const o=uF(e),s=iF(e)?o?r.set(o,t.get("field")):r:n.get("row");return o&&!s.has(o)?null:{report:e,row:s,name:r$(e,s,a)}},i$={DEAL_PUSH_ANALYSIS:(e,t)=>{let{dataset:n}=t,r=Object(l.a)(t,["dataset"]);return s$(e,Object.assign({dataset:iF(e)?n.setIn(["properties","pushStatus","references"],n.get("properties")):n},r))}},c$=({report:e,keys:t,name:n})=>En(e,t).then(e=>e.setIn(["config","limit"],e$).set("name",n)),l$=({report:e,row:t,name:n})=>{const r=uF(e),a=a$({report:e,row:t}),o=o$({report:e,row:t}),s=e.set("name",n).set("chartType",X.l).setIn(["config","configType"],f.e).setIn(["config","offset"],0).setIn(["config","dimensions"],r?b.List.of(r):Object(b.List)()).updateIn(["config","filters","dateRange","value"],e=>o||e).updateIn(["config","filters","custom"],Object(b.List)(),e=>e.concat(a));return Promise.resolve(s)},u$={DEAL_PUSH_ANALYSIS:({report:e,row:t,name:n})=>{const r=lF(e),a=uF(e);return Promise.resolve(e.set("chartType",X.l).setIn(["config","configType"],f.e).set("name",n).updateIn(["config","filters","custom"],e=>e.concat(Object(b.fromJS)([{property:a,operator:R.b,value:t.get(a)},{operator:R.b,property:"groupKey",value:t.get(r)},{operator:R.b,property:"groupingDimension",value:r}]))))},PIPELINE_SNAPSHOTS:({report:e,row:t,name:n})=>{if("deal_activity"!==t.get("dealstage"))return l$({report:e,row:t,name:n});const r=n$(e),a=t$(e),o=e.getIn(["config","filters","dateRange","value"]),s=o$({report:e,row:t}),i=a.get("startDate")||o.get("startDate"),c=a.get("endDate")||o.get("endDate");return Promise.resolve(SF.set("name",n).setIn(["config","filters","dateRange","value"],s||o).updateIn(["config","filters","custom"],Object(b.List)(),e=>e.concat(r).concat(Object(b.fromJS)([{operator:"GT",property:"closedate",value:i,dateTimeFormat:"DATE"},{operator:"LT",property:"closedate",value:c,dateTimeFormat:"DATE"}]))))},WATERFALL:({report:e,row:t,name:n})=>Promise.resolve(e.set("chartType",X.l).setIn(["config","configType"],f.e).set("name",n).setIn(["config","metrics"],Object(b.fromJS)([{property:"dealname"},{property:"closedate"},{property:"dealstage"},{property:"pipeline"},{property:"amount_in_home_currency"},{property:"createdate"}])).updateIn(["config","filters","custom"],Object(b.List)(),e=>e.push(Object(b.Map)({property:"dealBreakdown",operator:R.b,value:t.get("dealBreakdown")})))),SALES_QUOTA:l$,CHANGE_HISTORY_DEAL_LIST:({report:e,row:t,name:n})=>{const r=t.get("deal_change_type");return Promise.resolve(e.set("name",n).set("chartType",X.l).setIn(["config","configType"],f.e).updateIn(["config","filters","custom"],Object(b.List)(),e=>e.push(Object(b.Map)({property:"deal_change_type",operator:R.b,value:r}))))}},p$=(e,t)=>n=>{const r=pF(e),a=(i$[r]||s$)(e,n);if(!a)return;(u$[r]||c$)(a).then(t)},d$=(e,t,{onDrilldown:n})=>{const r=t.getIn(["primary","data"],Object(NM.a)());return Object(ZQ.a)({data:{primary:r},layer:{dataset:"primary",x:{field:vF},y:{field:LF},onClick:({point:{name:t}})=>{const a=r.get("data").find(e=>e.get(vF)===t);p$(e,n)({dataset:r,point:Object(b.Map)({row:a})})}}})},m$=(e,t,{onDrilldown:n})=>{const r=t.getIn(["primary","data"],Object(NM.a)()),a=[vF,LF,"netPipelineImpact","count"].map(t=>({dataset:"primary",field:t,onClick:t!==vF?p$(e,n):null}));return Object(qY.g)({data:{primary:r},columns:a})},g$=(e,t)=>Object(qY.g)({data:{primary:t.getIn(["primary","data"],Object(NM.a)())},columns:GF(e)}),b$=(e,t,n)=>sF(e)?g$(e,t,n):iF(e)?m$(e,t,n):d$(e,t,n);var O$=e=>Object(u.jsx)(QG,Object.assign({},e,{resolveReport:XQ,getVisualization:b$})),f$=n("MLvm"),E$=n("B7Z+");function y$(e){var t=T$(e,"string");return"symbol"==typeof t?t:String(t)}function T$(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const I$=["dealstage","snapshotDate","SUM|count","SUM|amount_in_home_currency","hs_manual_forecast_category","breakdownMin","breakdownMax"],h$=(e,t)=>e.localeCompare(t),j$=(e,t)=>{const n="reporting-ui-components.customWidgets.pipelineSnapshots";return t?h.a.text(`${n}.${e}`,t):h.a.text(`${n}.${e}`)},A$=e=>h.a.moment(e,Hw).format(Ww.DAY),S$=e=>h.a.text("reporting-ui-components.customWidgets.pipelineSnapshots.properties.pipeline_summary_date",{date:A$(e)}),_$=(e,t)=>{const n=e.get("config"),r=t.get("breakdowns").map(e=>e.set("SUM|count",e.get("count")).delete("count")).toJS(),a=n.getIn(["dimensions",1]),o=Object(b.Set)(r.map(({[a]:e})=>e)),s=Object(b.Set)(r.map(({snapshotDate:e})=>e)),i=r.reduce((e,t)=>{let{[a]:n,snapshotDate:r}=t,o=Object(l.a)(t,[a,"snapshotDate"].map(y$));e[n]=e[n]||{};e[n][r]=o;return e},{});o.forEach(e=>s.forEach(t=>{i[e][t]=i[e][t]||{"SUM|amount_in_home_currency":0,"SUM|count":0,breakdownMin:null,breakdownMax:null}}));return i},N$=(e,t)=>{const n=uF(e),r=_$(e,t);return Object.keys(r).sort(h$).reduce((e,t)=>[...e,...Object.keys(r[t]).sort().map(e=>Object.assign({[n]:t,snapshotDate:e},r[t][e]))],[])},R$=(e,t)=>{const n=lF(e),r=uF(e),a="SUM|"+cF(e);return t.get("breakdowns").groupBy(e=>e.get(n)).reduce((e,t,o)=>{const s=hF(t,r,a,"count");return e.push(s.set(n,o))},Object(b.List)()).sortBy(e=>e.get("snapshotDate")).map((e,t)=>{const n=e.filter((e,t)=>t.includes("SUM")).toList().reduce((e,t)=>e+t,0),r=e.filter((e,t)=>!t.includes("SUM")&&"snapshotDate"!==t).toList().reduce((e,t)=>e+t,0),a=e.set("Total",r).set("Total_SUM",n);return t<1?a:a.set("deal_activity",S$(e.get("snapshotDate")))})},C$=(e,t)=>"Q1"===e.get("amount_in_home_currency")?` ( < ${Object(E$.h)(Object(NM.c)(t,"breakdownMax"))(e.get("breakdownMax"))})`:"Q4"===e.get("amount_in_home_currency")?` ( > ${Object(E$.h)(Object(NM.c)(t,"breakdownMin"))(e.get("breakdownMin"))})`:` (${Object(E$.h)(Object(NM.c)(t,"breakdownMin"))(e.get("breakdownMin"))} - ${Object(E$.h)(Object(NM.c)(t,"breakdownMax"))(e.get("breakdownMax"))})`,v$=(e,t)=>{const n=e.reduce((e,t)=>{e.amount+=t.get("SUM|amount_in_home_currency");e.count+=t.get("SUM|count");return e},{count:0,amount:0}),r=Object(E$.h)(Object(NM.c)(t,"SUM|count"))(n.count),a=Object(E$.h)(Object(NM.c)(t,"SUM|amount_in_home_currency"))(n.amount);return n.count&&n.amount?Object(u.jsxs)(p.Fragment,{children:[Object(u.jsx)(eq.a,{distance:"extra-small"},"hr"),Object(u.jsxs)("div",{className:"tooltip-list-container",children:[Object(u.jsxs)("div",{className:"tooltip-label",children:[Object(u.jsx)("div",{className:"series-symbol"}),Object(u.jsx)("span",{children:h.a.text("reporting-ui-components.tooltip.totals")})]}),Object(u.jsx)("div",{className:"value",children:Object(u.jsx)("span",{children:jF({count:r,amount:a})})})]},"totalsRow")]}):null},L$=(e,t)=>function(){const{series:{name:n,chart:{options:{colors:r}}},x:a}=this,o=e.getIn(["config","dimensions",1]),s=t.getIn(["properties","snapshotDate","references"]).findKey(e=>e.get("label")===a),i=t.getIn(["properties",o,"references"]).findKey(e=>e.get("label")===n),c=t.get("data").filter(e=>e.get("snapshotDate")===s),l=Object(u.jsxs)("div",{className:"custom-highcharts-tooltip",children:[Object(u.jsx)("div",{className:"tooltip-header",children:Object(NM.g)(t,"snapshotDate",s)}),Object(u.jsxs)("div",{className:"tooltip-body",children:[c.map((e,n)=>{const a=`${Object(NM.g)(t,o,e.get(o))}${"amount_in_home_currency"===o?C$(e,t):""}`,s=Object(E$.h)(Object(NM.c)(t,"SUM|count"))(e.get("SUM|count")),c=Object(E$.h)(Object(NM.c)(t,"SUM|amount_in_home_currency"))(e.get("SUM|amount_in_home_currency"));return Object(u.jsxs)("div",{className:"tooltip-list-container",children:[Object(u.jsxs)("div",{className:"tooltip-label",children:[Object(u.jsx)("div",{className:"series-symbol",style:{backgroundColor:r[n%r.length]}}),Object(u.jsxs)("span",{className:i===e.get(o)?"selected":"",children:[a,":"]})]}),Object(u.jsx)("div",{className:"value",children:Object(u.jsx)("span",{children:jF({count:s,amount:c})})})]},n)}),v$(c,t)]})]});return Object(f$.renderToString)(l)},D$=()=>Object(b.fromJS)({Q1:{label:j$("properties.deal_size.firstQuartile")},Q2:{label:j$("properties.deal_size.secondQuartile")},Q3:{label:j$("properties.deal_size.thirdQuartile")},Q4:{label:j$("properties.deal_size.fourthQuartile")}}),M$=({report:e,response:t,datasets:n})=>({report:e,response:t,datasets:n.map(e=>e.update("properties",e=>e.set("amount_in_home_currency",Object(b.Map)({label:j$("properties.amount_in_home_currency"),references:D$()}))))}),P$=e=>(t,n)=>e.getIn([t.get("dealstage"),"displayOrder"])-e.getIn([n.get("dealstage"),"displayOrder"]),U$=({report:e,response:t,datasets:n})=>{const r=uF(e);let a=n.getIn(["primary","data"],Object(b.List)());const o=n.getIn(["primary","properties","dealstage","references"]);"dealstage"!==r||iF(e)||(a=a.sort(P$(o)));return{report:e,response:t,datasets:n.setIn(["primary","data"],a)}},k$=e=>e.getIn(["config","configType"])===f.e?wt.b("sales-reporting/snapshots/objects",{query:CF(e),data:{config:e.get("config").delete("offset"),offset:e.getIn(["config","offset"])}}).then(t=>({report:e,response:t})):wt.b("sales-reporting/snapshots/counts",{query:CF(e),data:e.get("config").delete("limit").delete("offset")}).then(t=>({report:e,response:t})),x$=({report:e,response:t})=>{const n=t.get("metrics_primary"),r=t.get("metrics_secondary");return"TABLE"===e.get("chartType")?{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:R$(e,t)})})}:{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:N$(e,t)}),summary:Object(NM.a)({data:[{metrics_primary:n,metrics_secondary:r}]})})}},w$=({report:e,response:t})=>{const n=t.get("objects",Object(b.List)()).map(e=>e.get("properties").map(e=>e.get("value")).set("objectId",e.get("objectId")).set("snapshot_period_closedate",e.get("snapshot_period_closedate")).set("snapshot_period_amount_in_home_currency",e.get("snapshot_period_amount_in_home_currency")).set("snapshot_period_dealstage",e.get("snapshot_period_dealstage"))),r=Object(b.Map)({primary:Object(NM.a)({data:n,paginationSize:t.get("total")})});return{report:e,response:t,datasets:r}};var F$=e=>{const{props:t,transformFn:n,adjustReferences:r}=sF(e)?{props:BF(e),transformFn:w$,adjustReferences:e=>e}:{props:I$,transformFn:x$,adjustReferences:M$};return yF(e).then(k$).then(n).then(BQ(t)).then(KQ).then(r).then(U$).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e})))},Y$=n("zwFt"),B$=n("QvWB");const G$="-",V$=e=>Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.pipelineSnapshots.metrics.DEALS",options:{count:Number(e||0)}}),H$=(e,t)=>{const{column:n,row:r,isFooter:a}=e,o=r.get(""+n.get("field")),s=r.get(n.get("field")+"_SUM"),i=n.getIn(["dataset","properties",t,"format","currencyCode"]);return Object(u.jsxs)("td",{className:"text-right",children:[Object(u.jsx)("div",{children:a?Object(u.jsx)("b",{children:V$(o)}):Object(u.jsx)(px.a,{onClick:()=>n.get("onClick")(e),use:"link",children:V$(o)})}),Object(u.jsx)("div",{children:Object(Y$.a)(s,{currencyCode:i})})]})},W$=e=>{const{column:t,row:n}=e,r=n.get(t.get("field"));return Object(u.jsx)("td",{className:"text-right",children:r?Object(u.jsx)(px.a,{onClick:()=>t.get("onClick")(e),use:"link",children:r}):G$})},K$={Total:()=>Object(u.jsx)("td",{className:"text-left",children:Object(u.jsx)("b",{children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.pipelineSnapshots.totalLabel"})})}),deal_activity:()=>Object(u.jsx)("td",{className:"text-left",children:Object(u.jsxs)("span",{children:[Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.pipelineSnapshots.properties.pipeline_summary"}),Object(u.jsx)(dx.a,{use:"longform",placement:"bottom",maxWidth:"200px",title:h.a.text("reporting-ui-components.customWidgets.pipelineSnapshots.summaryTooltip"),children:Object(u.jsx)(B$.a,{name:"info",size:"12",color:Pn.FLINT,className:"m-left-2"})}),Object(u.jsx)(mx.a,{use:"new",className:"m-left-3",children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.customWidgets.pipelineSnapshots.new"})})]})})},q$=Object.keys(K$),Q$=(e,t)=>{const n=t.getIn(["primary","data","data"]).reduce((e,t)=>e.concat(t.keySeq().toList()),Object(b.Set)());return t.getIn(["primary","data","properties",e,"references"]).entrySeq().toList().filter(([e])=>"deal_activity"!==e&&n.has(e)).sortBy(([,e])=>e.get("displayOrder")).map(([e])=>e)},$$=(e,t,n)=>{const r=lF(e),a=uF(e),o=cF(e),s=Q$(a,t),i=e=>H$(e,"SUM|"+o),c="dealstage"===a?[{field:"deal_activity",dataset:"primary",renderCell:e=>W$(e),onClick:p$(e,n)}]:[];return s.size>0?[{field:r,dataset:"primary"},...s.map(t=>({field:t,dataset:"primary",renderCell:i,onClick:p$(e,n),align:"right"})),...c,{field:"Total",dataset:"primary",renderCell:e=>H$(Object.assign({},e,{isFooter:!0}),"SUM|"+o)}]:[]},J$="__field",z$=(e,t,n)=>e.reduce((e,r)=>r.keySeq().toArray().reduce((e,a)=>n.includes(a)?e.setIn([a,r.get(t)],r.get(a)):e,e),n.reduce((e,t)=>e.set(t,Object(b.Map)()),Object(b.OrderedMap)())).map((e,t)=>e.set(J$,t)).toList(),X$=e=>{const{label:t,column:n,dataset:r}=e,{align:a,onClick:o,renderCell:s}=n;return s?s(Object.assign({},e,{column:Object(b.Map)(Object.assign({},n,{dataset:r}))})):Object(u.jsx)("td",{className:"left"===a?"text-left":"text-right",children:o?Object(u.jsx)(px.a,{onClick:()=>o(e),use:"link",children:t}):t})},Z$=({label:e,align:t})=>Object(u.jsx)("th",{className:"left"===t?"text-left":"text-right",children:e});var eJ=({data:e,transpose:{field:t,rows:n,rowsByField:r}})=>{const a=e.get("primary"),o=z$(a.get("data"),t,n.map(({field:e})=>e)).filter(e=>e.get(J$)!==t),s=a.get("data").map(e=>e.get(t)).toSet().toList().sort(),i=n.reduce((e,t)=>Object.assign({},e,{[t.field]:t}),{}),c=e=>{const{field:n,value:o,row:s}=e,c=n===J$?Object(NM.f)(a,r,o)?Object(NM.g)(a,r,o):Object(NM.d)(a,o):Object(NM.g)(a,s.get(J$),o),l=n===J$?Object.assign({align:"left"},q$.includes(o)?{renderCell:K$[o]}:{}):i[s.get(J$)],u=a.get("data").find(e=>e.get(t)===n);return X$({dataset:a,column:l,row:u,label:c})},l=({column:e})=>Z$({label:e.get("field")===J$?Object(NM.d)(a,r)||h.a.text("reporting-ui-components.customWidgets.salesAnalytics.metric"):Object(NM.g)(a,t,e.get("field")),align:e.get("field")===J$?"left":"right"}),u=s.unshift(J$).map(e=>({dataset:"primary",field:e,renderCell:c,renderHeaderCell:l}));return Object(qY.g)({data:e.setIn(["primary","data"],o),columns:u})};const tJ=(e,t,{onDrilldown:n})=>{const r=t.getIn(["primary","data"])||Object(NM.a)({});return JB(e,t).set("events",{onPointClick:p$(e,n)}).setIn(["style","tooltipFormatter"],L$&&L$(e,r)).setIn(["layers",0,"color","order"],Object(b.Map)({direction:"ascending"}))},nJ=(e,t,{onDrilldown:n})=>{const r=$$(e,t,n);return eJ({data:t.map(e=>e.get("data")),transpose:{field:"snapshotDate",rows:r,rowsByField:e.getIn(["config","dimensions",1])}})},rJ=(e,t)=>{const n=GF(e),r=t.getIn(["primary","data"])||Object(NM.a)({});return Object(qY.g)({data:{primary:r},columns:n})},aJ=(e,t,n)=>sF(e)?rJ(e,t,n):iF(e)?nJ(e,t,n):tJ(e,t,n);var oJ=e=>Object(u.jsx)(QG,Object.assign({},e,{resolveReport:F$,getVisualization:aJ}));const sJ="SUM|count",iJ=["PUSHED","NOT_PUSHED"],cJ="PUSHED",lJ="NOT_PUSHED",uJ=e=>{const t=lF(e);return iF(e)?[t,cJ,lJ]:[t,"pushStatus",sJ]},pJ=(e,t,n)=>{const r=e.getIn(["config","dimensions"]),a=(r.size>1?iJ:sJ).map(t=>({dataset:"primary",field:t,onClick:p$(e,n)}));return[{dataset:"primary",field:r.get("0")},...a]},dJ=(e,t)=>e[cJ]===t[cJ]?t[lJ]-e[lJ]:e[cJ]<t[cJ]?1:-1,mJ=(e,t)=>0===e||0===t?0:e/t*100,gJ=({report:e,response:t})=>{const n=t.get("groups"),r=lF(e),a=n.reduce((e,t)=>e.update(t.get(r),Object(b.Map)({[r]:t.get(r)}),e=>e.set(t.get("pushStatus"),t.get(sJ))),Object(b.Map)()).toList().toJS().sort(dJ).reduce((e,{[r]:t,NOT_PUSHED:n,PUSHED:a})=>e.concat(Object(b.fromJS)([{[r]:t,pushStatus:cJ,[sJ]:a},{[r]:t,pushStatus:lJ,[sJ]:n}])),Object(b.List)()),o=t.get("allDealsCount"),s=t.get("allDealsWithPushCount"),i=mJ(s,o);return{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:a}),summary:Object(NM.a)({data:Object(b.fromJS)([{metrics_primary:s,metrics_secondary:i}])})})}},bJ=({response:e,report:t})=>{const n=e.get("groups").toJS().sort(dJ);return{report:t,response:e,datasets:Object(b.Map)({primary:Object(NM.a)({data:n,paginationSize:e.get("total")})})}},OJ=({report:e,response:t})=>{const n=t.getIn(["groups",0,"objectPage","objects"]),r=n?n.toJS().map(({object:{properties:e,objectId:t},explanation:n})=>Object.keys(e).reduce((n,r)=>Object.assign({},n,{objectId:t,[r]:e[r].value}),n)):Object(b.List)();return{datasets:Object(b.Map)({primary:Object(NM.a)({data:r,paginationSize:t.getIn(["groups",0,"objectPage","total"])})}),response:t,report:e}},fJ=({report:e,response:t})=>iF(e)?bJ({report:e,response:t}):gJ({report:e,response:t}),EJ=e=>iF(e)?wt.b("/sales-reporting/push-analysis/counts-paginated",{query:CF(e),data:{config:e.get("config").delete("offset"),offset:e.getIn(["config","offset"])}}).then(t=>({report:e,response:t})):wt.b("/sales-reporting/push-analysis/counts",{query:CF(e),data:e.get("config")}).then(t=>({report:e,response:t})),yJ=e=>wt.b("/sales-reporting/push-analysis/objects",{query:CF(e),data:{config:e.get("config").delete("offset"),offset:e.getIn(["config","offset"])}}).then(t=>({report:e,response:t}));var TJ=e=>sF(e)?yF(e).then(yJ).then(OJ).then(BQ(BF(e))).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e}))):yF(e).then(EJ).then(fJ).then(BQ(uJ(e))).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e})));const IJ=(e,t,{onDrilldown:n})=>{const r=t.getIn(["primary","data"])||Object(NM.a)({});if(iF(e)){const a=sF(e)?GF(e):pJ(e,t,n);return Object(qY.g)({data:{primary:r},columns:a})}return JB(e,t).set("events",{onPointClick:p$(e,n)}).setIn(["layers",0,"color","order"],Object(b.Map)({direction:"ascending"}))};var hJ=e=>Object(u.jsx)(QG,Object.assign({},e,{resolveReport:TJ,getVisualization:IJ}));const jJ=["deal_change_type","SUM|count","SUM|amount_in_home_currency"],AJ=["dealname","hs_created_in_period","dealstage","hs_deal_stage_progress","hs_is_closed","amount_in_home_currency","hs_amount_change_event","hs_amount_change_percentage","closedate","hs_close_date_progress","hs_manual_forecast_category","hs_manual_category_progress"],SJ={id:["objectId"],dealname:["properties","dealname","value"],dealstage:["properties","dealstage","value"],amount_in_home_currency:["properties","amount_in_home_currency","value"],closedate:["properties","closedate","value"],hs_manual_forecast_category:["properties","hs_manual_forecast_category","value"],hs_is_closed:["properties","hs_is_closed","value"]},_J=e=>wt.b("/sales-reporting/deal-history/summary",{query:CF(e),data:{config:e.get("config").delete("sort")}}).then(t=>({report:e,response:t})),NJ=({report:e,response:t})=>{const n=t.get("breakdowns").filter(e=>e.get("count",0)>0).map(e=>e.mapKeys(e=>"count"===e?"SUM|count":e)).sortBy(e=>kw.indexOf(e.get("deal_change_type"))),r=t.get("metrics_primary");return{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:n}),summary:Object(NM.a)({data:[{metrics_primary:r}]})})}},RJ=e=>wt.b("/sales-reporting/deal-history/audits",{query:CF(e),data:{config:e.get("config").set("sort",b.List.of(Object(b.Map)({property:"closedate",order:"DESC"}))),offset:e.getIn(["config","offset"])}}).then(t=>({report:e,response:t})),CJ=({report:e,response:t})=>{const n=t.get("objects").map(e=>["id",...AJ].reduce((t,n)=>t.set(n,e.getIn(SJ[n]||[n])),Object(b.Map)())).map(e=>e.update("closedate",Number).update("hs_amount_change_percentage",e=>e/100));return{report:e,datasets:Object(b.Map)({primary:Object(NM.a)({data:n,properties:{},paginationSize:t.get("total")}),summary:Object(NM.a)({data:[{metrics_primary:t.get("metrics_primary")}],properties:{metrics_primary:{type:"number"}}})}),response:t}};var vJ=e=>sF(e)?yF(e).then(RJ).then(CJ).then(BQ(AJ)).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e}))):yF(e).then(_J).then(NJ).then(BQ(jJ)).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e}))),LJ=n("tDqs");var DJ=({point:e,valueProperty:t,statusProperty:n,differenceProperty:r,dataset:a,href:o,excludedStatuses:s=[]})=>{const i=e.get(t)||"-",c=e.get(n),l=e.get(r),p=["REGRESS","REMOVED","PUSH"].includes(c)?"removed":"success";let d=null;["INCREASE","DECREASE"].includes(c)?d=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(zW.a,{use:"DECREASE"===c?"decrease":"increase"}),Object(NM.g)(a,r,l)]}):c&&!["UNCHANGED","MISSING",...s].includes(c)&&(d=Object(u.jsx)(LJ.a,{className:"p-right-0",use:p,children:Object(NM.g)(a,n,c)}));const m=o?Object(u.jsx)(xa.a,{href:o,target:"_blank",children:Object(NM.g)(a,t,i)}):Object(NM.g)(a,t,i);return Object(u.jsxs)("td",{className:N.a.includes(Object(NM.e)(a,t))?"text-right":"text-left",children:[m,Object(u.jsx)("br",{}),d]})};const MJ=Object(xw.a)({dealname:null,dealstage:null,hs_is_closed:null,amount_in_home_currency:null,closedate:null,hs_manual_forecast_category:null}),PJ={[MJ.dealname]:{statusProperty:"hs_created_in_period"},[MJ.dealstage]:{statusProperty:"hs_deal_stage_progress",excludedStatuses:["NEW"]},[MJ.hs_is_closed]:{},[MJ.amount_in_home_currency]:{statusProperty:"hs_amount_change_event",differenceProperty:"hs_amount_change_percentage"},[MJ.closedate]:{statusProperty:"hs_close_date_progress"},[MJ.hs_manual_forecast_category]:{statusProperty:"hs_manual_category_progress"}},UJ=e=>PJ[e],kJ=({dataset:e,row:t,field:n})=>{const r=UJ(n),a=()=>"dealname"===n?`/contacts/${Qt.a.get()}/deal/${t.get("id")}`:void 0;return r?Object(u.jsx)(DJ,Object.assign({},r,{point:t,valueProperty:""+n,dataset:e,href:a()})):null},xJ=(e,t)=>function(){const{point:{x:e,color:n}}=this,r=t.getIn(["data",e]),a=Object(NM.g)(t,"SUM|count",r.get("SUM|count")),o=Object(NM.g)(t,"SUM|amount_in_home_currency",r.get("SUM|amount_in_home_currency")),s=Object(NM.g)(t,"deal_change_type",r.get("deal_change_type")),i=Object(u.jsxs)("div",{className:"custom-highcharts-tooltip",children:[Object(u.jsx)("div",{className:"tooltip-header",children:s}),Object(u.jsx)("div",{className:"tooltip-body",children:Object(u.jsxs)("div",{className:"tooltip-list-container",children:[Object(u.jsxs)("div",{className:"tooltip-label",children:[Object(u.jsx)("div",{className:"series-symbol",style:{backgroundColor:n}}),Object(u.jsxs)("span",{className:"selected",children:[s,":"]})]}),Object(u.jsx)("div",{className:"value",children:jF({count:a,amount:o})})]})})]});return Object(f$.renderToString)(i)},wJ=()=>Object.keys(MJ).reduce((e,t)=>e.push(Object(qY.b)({dataset:"primary",field:t,renderCell:kJ})),Object(b.List)()),FJ=(e,t,{onDrilldown:n})=>{const r=JB(e,t),a=p$(e,n);return sF(e)?r.set("columns",wJ()):iF(e)?r.setIn(["columns",1,"onClick"],a):r.set("events",{onPointClick:a}).setIn(["layers",0,"color"],Object(Mn.e)({field:"deal_change_type",defined:Object(b.Map)(AF)})).setIn(["style","tooltipFormatter"],xJ(e,r.getIn(["data","primary"])))};var YJ=e=>Object(u.jsx)(QG,Object.assign({},e,{resolveReport:vJ,getVisualization:FJ}));const BJ=["hubspot_team_id","hubspot_owner_id","hs_manual_forecast_category","SUM|count","SUM|amountInHomeCurrency","SUM|projectedAmountInHomeCurrency","SUM|hs_projected_amount_in_home_currency","SUM|closedAmountInHomeCurrency","SUM|hs_closed_amount_in_home_currency","quotaAmount","accumulatedQuota","forecastAmount","attainmentPercentage","gapToQuota","dealstage","hs_analytics_source","closedate"],GJ=({report:e,bucketField:t,metricField:n,onDrilldown:r})=>aF(e)?[{field:t,dataset:"primary"},{field:"SUM|count",dataset:"primary",onClick:p$(e,r)},{field:"SUM|"+n,dataset:"primary"},{field:"quotaAmount",dataset:"primary"},{field:"accumulatedQuota",dataset:"primary"},{dataset:"primary",field:"attainmentPercentage"},{dataset:"primary",field:"gapToQuota"}]:[{field:t,dataset:"primary"},{field:"SUM|count",dataset:"primary",onClick:p$(e,r)},{field:"SUM|"+n,dataset:"primary"},{field:"quotaAmount",dataset:"primary"},{dataset:"primary",field:"attainmentPercentage"},{dataset:"primary",field:"gapToQuota"}],VJ=(e,t)=>e.reduce((e,n)=>e.set(n.get(t),n),Object(b.Map)()),HJ=(e,t,n,r)=>{const a=e.map(e=>e.get(r));return t.sort((e,t)=>e.get(r)===t.get(r)?e.get("displayOrder")?e.get("displayOrder")-t.get("displayOrder"):e.get("dealstage.probability")?e.get("dealstage.probability")-t.get("dealstage.probability"):t.get(n)-e.get(n):a.indexOf(e.get(r))-a.indexOf(t.get(r)))},WJ=({report:e,response:t})=>{let n=t.get("quotas");const r=lF(e),a="SUM|"+cF(e);n=oF(e)?n.sortBy(e=>e.get(r)):n.sort((e,t)=>Number(t.get(a))>Number(e.get(a))?1:-1);const o=HJ(n,t.get("breakdowns"),a,r);return{report:e,response:t.set("quotas",n).set("breakdowns",o)}},KJ=({report:e,response:t})=>{const n=lF(e),r=cF(e),a=t.get("quotas"),o=VJ(a,n),s=t.get("breakdowns").map(e=>{const t=o.getIn([e.get(n),"quotaAmount"],0),a=e.get("SUM|"+r),s=a&&t?a/t:0;return e.set("attainmentPercentage",s)});return{report:e,response:t.set("breakdowns",s).set("quotas",a)}},qJ=(e,t)=>{const n=lF(e),r=cF(e),a=t.get("quotas").filter(e=>0!==e.get("SUM|"+r)||0!==e.get("SUM|count")),o=Object(b.Set)(a.map(e=>e.get(n))),s=t.get("breakdowns").filter(e=>o.has(e.get(n)));return t.set("quotas",a).set("breakdowns",s)},QJ=e=>{const{report:t,response:n}=WJ(e);let r=n;oF(t)||iF(t)||(r=qJ(t,r));return KJ({report:t,response:r})},$J=({report:e,response:t})=>{const n=lF(e),r=uF(e),a="SUM|"+cF(e),o="SUM|count",s=t.get("quotas");if(!r)return s;const i=t.get("breakdowns").groupBy(e=>e.get(n)),c=VJ(s,n);return i.reduce((e,t,s)=>{const i=hF(t,r,a,o),l=c.getIn([s,"quotaAmount"],0);return e.push(i.set("quotaAmount",l).set(n,s))},Object(b.List)())},JJ=({report:e,response:t})=>{const n=$J({report:e,response:t});return{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:n,paginationSize:t.get("total")})})}},zJ=({report:e,response:t})=>{const n=_F(e)?t.get("quotas"):t.get("breakdowns"),r=t.get("quotas"),a=Object(b.fromJS)([{metrics_primary:t.get("metrics_primary"),metrics_secondary:t.get("metrics_secondary")}]);return{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:n}),quota:Object(NM.a)({data:r}),summary:Object(NM.a)({data:a})})}},XJ=({report:e,response:t})=>iF(e)?JJ({report:e,response:t}):zJ({report:e,response:t}),ZJ=({report:e,response:t})=>{const n=t.get("results").map(e=>e.get("properties").map(e=>e.get("value")).set("objectId",e.get("objectId")));return{report:e,response:t,datasets:Object(b.Map)({primary:Object(NM.a)({data:n,paginationSize:t.get("total")})})}},ez=e=>{const t=e.get("config");return sF(e)?wt.b("sales-reporting/attainment/objects",{query:CF(e),data:{config:t.delete("offset"),offset:t.get("offset")}}).then(t=>({report:e,response:t})):wt.b("sales-reporting/attainment/"+(oF(e)?"time-series":"total"),{query:CF(e),data:t}).then(t=>({report:e,response:t}))},tz=e=>sF(e)?yF(e).then(ez).then(ZJ).then(BQ(BF(e))).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e}))):yF(e).then(ez).then(QJ).then(XJ).then(BQ(BJ)).then(KQ).then(({datasets:e})=>e.map(e=>Object(b.Map)({data:e}))),nz=e=>{const t=lF(e);return Object(Mn.i)({dataset:"quota",mark:{type:"line",dashStyle:"ShortDash",marker:{fillColor:Pn.OLAF,lineColor:Pn.CHART_BLUE,lineWidth:2,radius:3.5,symbol:"circle"},stacking:!0},color:{default:Pn.CHART_BLUE},x:{field:t,type:"category",blend:"bottom"},y:{field:"forecastAmount",type:"linear",blend:"left"}})},rz=e=>Object(Mn.i)({dataset:"quota",mark:{type:"line",dashStyle:"ShortDash",marker:{lineColor:Pn.SLINKY,fillColor:Pn.OLAF,lineWidth:2}},color:{default:Pn.SLINKY},x:{field:e,type:"category",blend:"bottom"},y:{field:"accumulatedQuota",type:"linear",blend:"left"}}),az=({report:e,data:t})=>{const n=lF(e),r=cF(e),a=uF(e);return Object(Mn.p)({type:"XY",data:{primary:t.getIn(["primary","data"]),quota:t.getIn(["quota","data"])},layers:[Object(Mn.i)({dataset:"primary",mark:Object.assign({type:"line",dashStyle:"shortDash",marker:{enabled:!1}},dF(e)?{stacking:!0,stack:"DEFAULT_STACK"}:{}),x:{field:n,type:"category",blend:"bottom"},y:{field:"SUM|"+r,type:"linear",blend:"left"},color:{field:a,order:dF(e)?{direction:"ascending",field:"dealstage.probability"}:{direction:"descending",field:"SUM|"+r}}}),rz(n)],style:Object.assign({type:"line"},fF(t.getIn(["primary","data","data"]),"closedate"))})},oz=e=>{const t=e.getIn(["config","dimensions",0]);return oF(e)?Object(Mn.i)({dataset:"quota",mark:{type:"tick",dashStyle:"ShortDash",marker:{lineColor:Pn.SLINKY,fillColor:Pn.OLAF,lineWidth:2}},color:{default:Pn.SLINKY},x:{field:t,type:"category",blend:"bottom"},y:{field:"quotaAmount",type:"linear",blend:"left"}}):Object(Mn.i)({dataset:"quota",mark:{type:"tick",dashStyle:"shortDash",marker:{lineColor:Pn.SLINKY,lineWidth:2}},color:{default:Pn.SLINKY},x:{field:"quotaAmount",type:"linear",blend:"left"},y:{field:t,type:"category",blend:"bottom"}})},sz=e=>{const t=e.getIn(["config","dimensions",0]);return oF(e)?Object(Mn.i)({dataset:"quota",mark:{type:"scatter",marker:{fillColor:Pn.OLAF,lineColor:Pn.CHART_BLUE,lineWidth:2,radius:3.5,symbol:"circle"},stacking:!1},color:{default:Pn.CHART_BLUE},x:{field:t,type:"category",blend:"bottom"},y:{field:"forecastAmount",type:"linear",blend:"left"}}):Object(Mn.i)({dataset:"quota",mark:{type:"scatter",marker:{fillColor:Pn.OLAF,lineColor:Pn.CHART_BLUE,lineWidth:2,radius:3.5,symbol:"circle"},stacking:!1},color:{default:Pn.CHART_BLUE},x:{field:"forecastAmount",type:"linear",blend:"left"},y:{field:t,type:"category",blend:"bottom"}})},iz=(e,t,n)=>e.getIn(["properties",t,"references"]).findKey(e=>e.get("label")===n),cz=(e,t,n)=>e.get("data").filter(e=>e.get(t)===n)||[],lz=e=>Object(u.jsx)("div",{className:"tooltip-header",children:e}),uz=(e,t,n)=>{const r=e.get("properties").findKey(e=>e.get("label")===n),a=t.get(r),o=Object(NM.g)(e,r,a);return a?Object(u.jsxs)("div",{className:"tooltip-list-container",children:[Object(u.jsx)("div",{className:"tooltip-label",children:Object(u.jsxs)("span",{className:"selected",children:[n,":"]})}),Object(u.jsx)("div",{className:"value",children:Object(u.jsx)("span",{children:o})})]}):null},pz=(e,t,n,r,a,o)=>e.map((e,s)=>{const i=Object(NM.g)(t,n,e.get(n)),c=e.get("SUM|"+a,0),l=Object(NM.g)(t,"SUM|"+a,c),p=e.get("attainmentPercentage",0),d=Object(NM.g)(t,"attainmentPercentage",p);return c||p?Object(u.jsxs)("div",{className:"tooltip-list-container",children:[Object(u.jsxs)("div",{className:"tooltip-label",children:[Object(u.jsx)("div",{className:"series-symbol",style:{backgroundColor:o[i]}}),Object(u.jsxs)("span",{className:r&&r!==e.get(n)?"":"selected",children:[i,":"]})]}),Object(u.jsx)("div",{className:"value",children:Object(u.jsx)("span",{children:`${l} (${d} attainment)`})})]},s):null}),dz=(e,t,n)=>{if(!e.get("SUM|"+n))return null;const r=Object(NM.g)(t,"SUM|"+n,e.get("SUM|"+n)),a=Object(NM.g)(t,"attainmentPercentage",e.get("attainmentPercentage"));return Object(u.jsxs)(p.Fragment,{children:[Object(u.jsx)(eq.a,{distance:"extra-small"},"hr"),Object(u.jsxs)("div",{className:"tooltip-list-container",children:[Object(u.jsxs)("div",{className:"tooltip-label",children:[Object(u.jsx)("div",{className:"series-symbol"}),Object(u.jsx)("span",{children:h.a.text("reporting-ui-components.tooltip.totals")})]}),Object(u.jsx)("div",{className:"value",children:Object(u.jsx)("span",{children:`${r} (${a} attainment)`})})]},"totalsRow")]})},mz=({report:e,datasets:t})=>function(){const{series:{name:n,chart:{series:r}},x:a}=this,o=t.getIn(["primary","data"]),s=t.getIn(["quota","data"]),i=lF(e),c=uF(e),l=cF(e),p=iz(o,i,a),d=c?iz(o,c,n):null,m=cz(o,i,p),g=cz(s,i,p).get(0)||Object(b.Map)(),O=r.reduce((e,t)=>Object.assign({},e,{[t.name]:t.color}),{}),f=Object(u.jsxs)("div",{className:"custom-highcharts-tooltip",children:[lz(a),Object(u.jsxs)("div",{className:"tooltip-body",children:[d?pz(m,o,c,d,l,O):uz(s,g,n),dz(g,s,l)]})]});return Object(f$.renderToString)(f)},gz=(e,t,n)=>{const r=lF(e),a=uF(e),o=cF(e);if(!a)return{data:t,columns:GJ({report:e,onDrilldown:n,bucketField:r,metricField:o})};const s=t.updateIn(["primary","data","properties"],e=>e.merge(t.getIn(["primary","data","properties",a,"references"]))),i=Q$(a,t),c=e=>H$(e,"SUM|"+o);return{data:s,columns:[{field:r,dataset:"primary"},...i.map(t=>({field:t,dataset:"primary",renderCell:c,onClick:p$(e,n),align:"right"})),{field:"quotaAmount",dataset:"primary"}]}},bz=(e,t,{onDrilldown:n})=>{const r=p$(e,n),a=e.getIn(["config","dimensions"]).includes("hs_manual_forecast_category");return aF(e)?az({report:e,data:t}).update("layers",t=>a&&oF(e)?t.push(nz(e)):t).set("events",{onPointClick:r}).setIn(["style","tooltipFormatter"],mz&&mz({report:e,datasets:t})):JB(e,t).setIn(["data","quota"],t.getIn(["quota","data"])).update("layers",t=>t.push(oz(e)).concat(a?[sz(e)]:[])).deleteIn(["layers",0,"color","order"]).set("events",{onPointClick:r}).setIn(["style","tooltipFormatter"],mz&&mz({report:e,datasets:t})).setIn(["style","dataLabelFormat"],Dn.b.Y)},Oz=(e,t,{onDrilldown:n})=>{const{data:r,columns:a}=gz(e,t,n);return oF(e)?eJ({data:t.map(e=>e.get("data")),transpose:{field:"closedate",rows:a,rowsByField:e.getIn(["config","dimensions",1])}}):Object(qY.g)({data:{primary:r.getIn(["primary","data"])},columns:a})},fz=(e,t)=>Object(qY.g)({data:{primary:t.getIn(["primary","data"])},columns:GF(e)}),Ez=(e,t,n)=>sF(e)?fz(e,t,n):iF(e)?Oz(e,t,n):bz(e,t,n);var yz=e=>Object(u.jsx)(QG,Object.assign({},e,{resolveReport:tz,getVisualization:Ez}));const Tz=e=>()=>Promise.resolve(e);var Iz={[ww.ACTIVITY_FEED]:Tz(HH),[ww.MARKETING_PERFORMANCE]:Tz(MK),[ww.SALES_PERFORMANCE]:Tz(XK),[ww.DEAL_FORECAST]:Tz(Qq),[ww.CONTACTS_OVERVIEW]:Tz(oQ),[ww.PERSONA]:Tz(MQ),[ww.WATERFALL]:Tz(O$),[ww.CHANGE_HISTORY_DEAL_LIST]:Tz(YJ),[ww.DEAL_PUSH_ANALYSIS]:Tz(hJ),[ww.PIPELINE_SNAPSHOTS]:Tz(oJ),[ww.SALES_QUOTA]:Tz(yz),[ww.COMPLETED_ACTIVITIES]:Tz(nV),[ww.TASKS_STREAM]:()=>n.e("PlatformReport__StreamReports").then(n.bind(null,"vE4Y")).then(e=>e.default),[ww.ENGAGEMENT_STREAM]:()=>n.e("PlatformReport__StreamReports").then(n.bind(null,"Fa8P")).then(e=>e.default)},hz=n("xX1V"),jz=n("1G8E"),Az=n("CQiV");const Sz={clone:()=>Sz,getConfig:()=>({}),setProperties:()=>{},track:()=>{}};var _z=Sz;const Nz=Object(p.createContext)();var Rz=n("eWnT"),Cz=n.n(Rz);const vz=(e=_z)=>e.clone({events:Cz.a,preserveTrackerEvents:!0});var Lz=e=>{const[t,n]=Object(p.useState)(_z);Object(p.useEffect)(()=>{n(vz(e))},[e]);return t};var Dz=e=>{const t=Object(p.useContext)(Nz),n=Lz(e);return(e?n:t&&t.tracker)||_z};var Mz=Object.keys(Cz.a).reduce((e,t)=>Object.assign({},e,{[t]:t}),{});const Pz="HIDDEN_PROPERTY_USAGE_ERROR",Uz="OPTED_OUT_PORTAL_ERROR",kz="EVENT_DATE_RANGE_LIMIT_ERROR",xz="UNKNOWN_PROPERTY_USAGE_ERROR",wz="HIDDEN_OBJECT_TYPE_USAGE_ERROR",Fz="DATASET_FIELD_NOT_FOUND",Yz="ACCESS_DENIED",Bz="BAD_GATEWAY",Gz="CLIENT_ERROR",Vz="SERVER_ERROR",Hz=e=>{const{responseJSON:t={},status:n}=e||{},{subCategory:r=""}=t;return"SqlReportingServiceError.EVENT_DATE_RANGE_LIMIT_ERROR"===r?kz:"SqlReportingDatasetsServiceError.DATASET_FIELD_NOT_FOUND"===r?Fz:"SqlReportingServiceError.HIDDEN_PROPERTY_USAGE_ERROR"===r?Pz:"SqlReportingServiceError.HIDDEN_OBJECT_TYPE_USAGE_ERROR"===r?wz:"SqlReportingServiceError.UNKNOWN_PROPERTY_USAGE_ERROR"===r?xz:"SqlReportingServiceError.OPTED_OUT_PORTAL_ERROR"===r?Uz:403===n?Yz:502===n?Bz:String(n).startsWith("4")?Gz:String(n).startsWith("5")?Vz:void 0},Wz={en:"https://www.hubspot.com/snowflake-sub-processor",de:"https://www.hubspot.de/snowflake-sub-processor",es:"https://www.hubspot.es/subprocesador-snowflake",fr:"https://www.hubspot.fr/snowflake-sub-processor",ja:"https://www.hubspot.jp/snowflake-sub-processor",pt:"https://br.hubspot.com/snowflake-sub-processor"},Kz=({headerText:e,bodyText:t,sourceLabel:n})=>{const{openUpgradeModal:r}=Object(gH.a)("advanced-builder-data-source"),a=Dz();return Object(u.jsx)(jz.a,{layout:"vertical",primaryContent:Object(u.jsxs)("div",{className:"splash-message",children:[Object(u.jsx)("h4",{children:e}),Object(u.jsx)(ka.a,{message:t,options:{onClick:()=>{a.track(Mz.openUpgradeModalFromError,{actionType:"open",assetType:"report",action:"open-modal",object:"upgrade-point-modal",dataSource:n});r()}},elements:{Link:xa.a}})]})})},qz=({headerText:e,bodyText:t})=>Object(u.jsx)(jz.a,{layout:"vertical",primaryContent:Object(u.jsxs)("div",{className:"splash-message",children:[Object(u.jsx)("h4",{children:e}),Object(u.jsx)("p",{children:t})]})}),Qz=()=>Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.generic.header"),bodyText:h.a.text("reporting-snowflake.report-errors.generic.message")}),$z=()=>{const e=h.a.text("reporting-snowflake.report-errors.invalid-dataset-properties.header"),t=h.a.text("reporting-snowflake.report-errors.invalid-dataset-properties.message");return Object(u.jsx)(qz,{headerText:e,bodyText:t})},Jz=({error:e})=>{const{responseJSON:t={}}=e||{},n=(()=>{if(t.context&&t.context.propertyName&&t.context.propertyName[0]){return t.context.propertyName[0]}return null})(),r=h.a.text("reporting-snowflake.report-errors.invalid-properties.header"),a=n?h.a.text("reporting-snowflake.report-errors.invalid-properties.known-property-label-message",{propertyLabel:n}):h.a.text("reporting-snowflake.report-errors.invalid-properties.message");return Object(u.jsx)(qz,{headerText:r,bodyText:a})},zz=({error:e})=>{const{responseJSON:t={}}=e||{},n=`reporting-snowflake.source-labels.${(()=>{if(t.context&&t.context.objectTypeId&&t.context.objectTypeId[0]){const e=t.context.objectTypeId[0];return e.includes("_INBOUNDDB")?e.replace("_INBOUNDDB",""):e}return null})()}.other`,r=Object(hz.a)(n),a=r?h.a.text(n):null,o=r?h.a.text("reporting-snowflake.report-errors.invalid-objects.known-object-label.header",{sourceLabel:a}):h.a.text("reporting-snowflake.report-errors.invalid-objects.header"),s=r?"reporting-snowflake.report-errors.invalid-objects.known-object-label.message_jsx":"reporting-snowflake.report-errors.invalid-objects.message_jsx";return Object(u.jsx)(Kz,{headerText:o,bodyText:s,sourceLabel:a})};var Xz=({error:e})=>{if(e instanceof Ow)return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.generic.header"),bodyText:h.a.text("reporting-snowflake.report-errors.async-query.cancelled")});if(e instanceof fw)return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.generic.header"),bodyText:h.a.text("reporting-snowflake.report-errors.async-query.failed")});if(e instanceof Ew)return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.generic.header"),bodyText:h.a.text("reporting-snowflake.report-errors.async-query.timeout")});if(e instanceof mw)return Object(u.jsx)(Qz,{});if(e instanceof bw)return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.maximum-column-count-exceeded.header"),bodyText:h.a.text("reporting-snowflake.report-errors.maximum-column-count-exceeded.body")});if(e instanceof gw)return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.data-source-deprecated.data-not-available-header"),bodyText:h.a.text("reporting-snowflake.data-source-deprecated.sources-not-available-description")});switch(Hz(e)){case kz:return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.event-date-range-limit.header"),bodyText:h.a.text("reporting-snowflake.report-errors.event-date-range-limit.message")});case wz:return Object(u.jsx)(zz,{error:e});case xz:case Pz:return Object(u.jsx)(Jz,{error:e});case Fz:return Object(u.jsx)($z,{});case Uz:return Object(u.jsx)(jz.a,{primaryContent:Object(u.jsx)(ka.a,{message:"reporting-snowflake.opted-out.no-display_jsx",options:{href:Wz[Object(Az.a)()]||Wz.en},elements:{Link:xa.a}})});case Yz:return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.access-denied.header"),bodyText:h.a.text("reporting-snowflake.report-errors.access-denied.message")});case Bz:return Object(u.jsx)(qz,{headerText:h.a.text("reporting-snowflake.report-errors.bad-gateway.header"),bodyText:h.a.text("reporting-snowflake.report-errors.bad-gateway.message")});case Gz:case Vz:default:return Object(u.jsx)(Qz,{})}};const Zz=()=>wt.a("reporting-validation/v1/validation/config/reportdefinition").then(b.fromJS),eX=(e,t)=>t.find(t=>{const n=t.get("dataSourceTypes");return e.every(e=>n.includes(e))}),tX=(e,t,n)=>{if(eX(e,t.get("migratedDataSourceTypes")))return cw.MIGRATED;const r=eX(e,t.get("migratingDataSourceTypes"));if(r)return n.includes(r.get("gate"))?cw.MIGRATED:cw.UNMIGRATED;const a=eX(e,t.get("validatingDataSourceTypes"));return a&&Math.random()<a.get("sampleRate")?cw.VALIDATING:cw.UNMIGRATED},nX=(e,t,n,r,a,o)=>wt.b("reporting-validation/v1/validation/reportdefinition"+(a?"/synchronous":""),{data:{reportDefinition:e.toJS(),reportOptions:t.toJS(),originalDataSet:n.toJS(),comparingDataSet:r.toJS(),chartOptionsDiffKeys:o}}).catch(e=>e),rX=(e,t,n,r,a=!1)=>wt.b("reporting-validation/v1/validation/reportdefinition"+(a?"/synchronous":""),{data:{reportDefinition:e.toJS(),reportOptions:t.toJS(),originalDataSet:n.toJS(),error:{message:r.responseJSON?r.responseJSON.message:r.message,statusCode:r.status}}}).catch(e=>e);var aX=n("02LW");const oX={UNINITIALIZED:"UNINITIALIZED",PENDING:"PENDING",SUCCEEDED:"SUCCEEDED",ERRORED:"ERRORED",CANCELED:"CANCELED"},sX=e=>e===oX.SUCCEEDED||e===oX.ERRORED,iX=e=>({settled:e.map(e=>e.status).every(sX),loading:e.map(e=>e.status).some(e=>e===oX.PENDING),error:e.map(e=>e.error).find(e=>!!e)});var cX=e=>{const t=Object(p.useRef)(e);Object(p.useEffect)(()=>{t.current=e},[e]);return t};var lX=(e,{enabledFn:t=(()=>!0),onSuccess:n=AC.a}={})=>{const[r,a]=Object(p.useState)({status:oX.UNINITIALIZED,data:void 0,error:void 0}),o=r.status===oX.PENDING,s=cX(n),i=t(Object.assign({},r,{loading:o})),c=cX(i),u=Object(p.useRef)(void 0);Object(p.useEffect)(()=>{let t=!1;const n=()=>{a(e=>Object.assign({},e,{status:oX.PENDING}));e().then(e=>{if(!t){s.current(e);a({error:void 0,data:e,status:oX.SUCCEEDED})}}).catch(e=>{t||a(t=>Object.assign({},t,{error:e,status:oX.ERRORED}))})};c.current&&n();return()=>{t=!0;a(e=>{let{status:t}=e,n=Object(l.a)(e,["status"]);return Object.assign({},n,{status:t===oX.PENDING?oX.CANCELED:t})})}},[e,c,s]);if(u.current!==e&&i){u.current=e;a(e=>Object.assign({},e,{status:oX.PENDING}));return Object.assign({},r,{loading:o})}return Object.assign({},r,{loading:o})};const uX=(e,t)=>{const n=e.columns.map(e=>e.delete("name")).equals(t.columns.map(e=>e.delete("name"))),r=e.stagedColumns.equals(t.stagedColumns),a=e.table.equals(t.table),o=O.a.is(e.filtering.delete("stagedFilters"),t.filtering.delete("stagedFilters"));return n&&a&&o&&r},pX=e=>Object(p.useCallback)(Object(aX.a)(e=>e,uX),[])(Wl(e));var dX=e=>{const t=pX(e),n=Object(p.useCallback)(()=>Hm(t),[t]);return lX(n)};const mX=()=>{const[e,t]=Object(p.useState)({status:bl.UNINITIALIZED});Object(p.useEffect)(()=>{let e=!1;t(e=>Object.assign({},e,{status:bl.PENDING}));Object(Xx.a)().then(n=>{e||t({status:bl.SUCCEEDED,data:n})}).catch(n=>{e||t({status:bl.FAILED,error:n})});return()=>{e=!0}},[]);return{loading:Ol(e),data:El(e)?e.data:void 0,error:fl(e)?e.error:void 0}},gX=(e,t)=>n=>{if(es(n)||ts(n)){const r=$m(t.expressions),a=n,o=es(n)?e.datasetProperties.get(n.table).get(n.name).type:jm(r.get(n.name).type);if(o===Bu.n.number||o===Bu.n.currency_number){const e=Object($o.a)({left:a,right:Object($o.h)({})});return Object($o.f)({name:ep.IF.name,arguments:[e,Object($o.i)({value:0}),a]})}return n}return n},bX=(e,t,n)=>{const r=gX(n,t);if(rs(e.expression))return e.updateIn(["expression","expression"],e=>cs(e,r));{const t=cs(e.expression,r);return e.set("expression",t)}},OX=(e,t)=>{const n=e.expressions.map(n=>n.getIn(["editor","editorState","treatNullsAsZero"])?bX(n,e,t):n).toList();return e.set("expressions",n)},fX="AdvancedBuilder:CustomFormatting",EX=e=>e.gates.includes(fX),yX=(e,t)=>{const{reportDefinition:n}=e,{reportDefinition:r}=t,a=e.reportOptions.equals(t.reportOptions),o=n.columns.map(e=>e.delete("name")).equals(r.columns.map(e=>e.delete("name"))),s=n.table.equals(r.table),i=n.sorts.equals(r.sorts),c=O.a.is(n.filtering.delete("stagedFilters"),r.filtering.delete("stagedFilters")),l=O.a.is(e.reportDefinition.eventDateInterval,t.reportDefinition.eventDateInterval),u=O.a.is(n.get("expressions"),r.get("expressions")),p=O.a.is(e.reportDefinition.dateComparisonFilter,t.reportDefinition.dateComparisonFilter);return a&&o&&s&&i&&c&&l&&p&&u},TX=e=>{const t=e.getIn(["visual","encodings"]);let n=Object(b.List)(t.toMap().filter((e,t)=>!Zi(Ji(t))));t.toMap().filter((e,t)=>Zi(Ji(t))).map((e,t)=>e?e.map(e=>{n=n.push([t,e])}):Object(b.List)());return n},IX=(e,t,n)=>{const r={table:t.field.table,name:t.field.name};if(Ls(t.field)){const n=is(e.get("expressions").find(e=>e.alias===t.field.name).expression).get(1);r.table=n.table;r.name=n.name}return Jo(`CONVERT_CURRENCY([${r.table}.${r.name}],\n    "${n}")`)},hX=e=>{const t=e.options;if(!t)return!1;const{format:{type:n,currencyCode:r}}=t;return"currency"===n&&!!r},jX=(e,t,n)=>{const r=(e,t,n,r)=>`${Mi(e,t,n)} (${r})`;return TX(e).reduce((a,o)=>{const s=o[0],i=o[1];if(!i||!hX(i))return a;const c=e.getIn(["columns",i.column]),l=i.getIn(["options","format","currencyCode"]),u=IX(e,c,l),{type:p}=Zm(u,e.expressions,t),d={name:c.alias,type:c.field.type,source:Cn.l.EXPRESSION},m=Wm(t,c.field),g=c.role===Cn.p.MEASURE?Ti(d,m):pi(d),b=Object(Cn.j)({alias:c.alias,label:r(g,m,c.field.table,l),expression:u,hidden:!0,derived:!0,valid:!0,type:p,editor:Yu.a}),O=Zi(Ji(s))?e.getIn(["visual","encodings"]).get(s).map(e=>e.column).indexOf(c.alias):void 0,f=a.updateIn(["visual","encodings"],e=>rc(e,s,O)).update("expressions",e=>e.push(b));return Zk(f,{column:g.set("name",b.label).set("alias",b.alias),channelName:s,toIndex:O,encodingOptions:i.get("options"),deps:{meta:t,userInfo:n}})},e)},AX=e=>e!==Object(EH.a)(e),SX=(e,t,n)=>{const r=EX(n);let a=e;a=OX(e,t);a=Ug(a,t);r&&(a=jX(a,t,n));a=ox(a);return a},_X=(e,t)=>{const{reportDefinition:n}=e,{data:r,loading:a}=dX(n),{data:o,loading:s}=mX(),i=Object(p.useCallback)(Object(aX.a)(e=>e,yX),[]),c=dX(n);if(c.status!==oX.SUCCEEDED||!c.data)return;const l=e.getIn(["reportOptions","reportIdForBustingCache"]),u=t||l,d=u?e.set("reportId",u):e;if(a||!r||!o||s)return;return i(d.update("reportDefinition",e=>SX(e,r,o)).update("reportOptions",TH).update("reportDefinition",Wl))},NX="ERROR_OCCURED",RX=e=>Object(Go.j)(e.table).reduce((e,t)=>e.add(t.type),Object(b.Set)());var CX=(e,t,{forceValidation:n,backendResolve:r}={})=>{const[a,o]=Object(p.useState)(void 0),s=Object(p.useRef)(cw.UNDETERMINED);Object(p.useEffect)(()=>{a||Zz().then(o).catch(()=>{o(NX)})},[a,o]);AX(e)&&(s.current=cw.UNDETERMINED);if(r)return cw.MIGRATED;if(n||t.includes("RaaS:ValidateSFRaaSResolve"))return cw.VALIDATING;if(!a||!t)return cw.UNDETERMINED;if(a===NX)return cw.UNMIGRATED;if(s.current===cw.UNDETERMINED){const n=RX(e);s.current=tX(n,a,t)}return s.current},vX=n("+9wg");const LX=(e,t,n,r,a,o)=>!(e||t||n)&&(!!o&&(!!r||!a));function DX(e,t){const n=Object(b.fromJS)(JSON.parse(JSON.stringify(e))),r=Object(b.fromJS)(JSON.parse(JSON.stringify(t))),a=n.reduce((e,t,n)=>{const a=r.get(n);t.equals?t.equals(a)||e.push(n):t!==a&&e.push(n);return e},[]);a.length&&console.log("compareChartOptions found an error.  Keys: ",a);return a}var MX=({reportWithOptions:e,dataset:t,datasetRaaS:n,loading:r,loadingRaaS:a,error:o,errorRaaS:s,visualization:i,visualizationRaaS:c})=>{const l=AX(e),[u,d]=Object(p.useState)(!1);Object(p.useEffect)(()=>{l&&d(!1)},[l]);const m=LX(o,r,a,l,u,i);Object(p.useEffect)(()=>{if(!m)return;const r=e.get("reportDefinition"),a=e.get("reportOptions");let o=[];try{const e=i.get?i.get("type"):i.type;let t=Object(b.Map)({type:e}),n=Object(b.Map)();const r=EY.a[e];if(r.getHighchartsOptions){t=r.getHighchartsOptions(i,vX.a,Object(b.Set)());n=r.getHighchartsOptions(c,vX.a,Object(b.Set)())}else if(r.__getChartOptions){t=r.__getChartOptions(i);n=r.__getChartOptions(c)}o=DX(t,n)}catch(e){console.log(e)}s?rX(r,a,t,s):nX(r,a,t,n,!1,o);d(!0)},[m,s,e,t,n,d,i,c])};const PX=(e,t)=>{const n=Object(b.Set)(t);return e.update("data",e=>e.map(e=>e.filter((e,t)=>n.has(t))).toSet().toList()).update("properties",e=>e.filter((e,t)=>n.has(t)))},UX=(e,t)=>{const n=e.get("data").map(e=>e.toMap()),r=t.get("data").map(e=>e.toMap()),a=Object(b.Set)(r),o=n.filter(e=>!a.has(e));return Object(NM.a)({data:o})},kX="YYYY-MM-DD",xX={[Cn.f.DAY]:"days",[Cn.f.WEEK]:"weeks",[Cn.f.MONTH]:"months",[Cn.f.QUARTER]:"quarters",[Cn.f.YEAR]:"years"},wX=(e,t)=>{const n=xX[t];if(!n)throw new Error("Unsupported date truncation type: "+t);return h.a.moment(e).add(1,n).valueOf()},FX=(e,t)=>{const n=t.alias,r=e.data.map(e=>e.get(n)).filter(e=>void 0!==e).map(e=>h.a.moment(e).valueOf());if(r.isEmpty())return Object(b.List)();const a=r.min(),o=r.max(),s=vi(t),i=[];let c=a;for(;c<=o;){i.push(c);c=wX(c,s)}const l=i.map(e=>h.a.moment(e).format(kX));return Object(b.List)(l)},YX=(e,t,n)=>{const r=n.alias,a=FX(t,n).map(e=>Object(b.Map)({[r]:e}));return Object(NM.a)({data:a})},BX=(e,t,n)=>{const{visual:{type:r}={}}=e;if(r===ba||r===ia)return n;if(zs(e.columns).isEmpty())return n;const a=Cc(e),o=a&&a.column.alias;return e.columns.filter(e=>{const t=e.transform;return Us(e.field)&&null!=t&&Cn.r.DATE_TRUNC===t.type&&e.alias!==o}).reduce((t,n)=>{const r=YX(e,t,n),a=n.alias,o=PX(t,b.List.of(a)),s=UX(r,o);return t.update("data",e=>e.concat(s.data))},n)};var GX=n("q9KR");const VX=(e,t,n)=>{const r=(e.sorts||Object(b.List)()).first();if(!r||!e.visual||e.visual.type!==Fa.TABLE)return n;if(!(r&&e.columns.get(r.column)))throw new Error("Column alias not found: "+r.column);const a=Hg({alias:r.column,sort:{type:r.sortType,order:r.order}},n).update("defined",e=>e&&r.order===vn.c.DESCENDING?e.reverse():e);return Object(GX.c)(n,r.column,a)};var HX=n("k3TD");const WX=(e,t)=>{if(!EM(e))return;const{objectTypeId:n}=e,{name:r}=t;if(Object(vH.b)(n)&&r===HX.a)return e=>Object(HX.c)(n,e);const a=HX.b.getIn([n,r]);return a?e=>a(n,e):void 0},KX="link_",qX=e=>`${KX}${e}`,QX=(e,t,n)=>{if(!(t.role===Cn.p.DIMENSION))return n;if(Ls(t.field))return n;const{tables:r,properties:a}=e,{table:o,name:s}=Yi(t,e);if(o===Ro.a)return n;if(!o)return n;const i=r.get(o),c=a.getIn([o,s]),l=WX(i,c);if(!l)return n;const{alias:u}=t;return n.update("data",e=>e.map(e=>{const t=e.get(u);if(t===Cn.s)return e.set(qX(u),void 0);const n=l(t);return e.set(qX(u),n)}))},$X=(e,t,n)=>{const{columns:r}=e;return r.reduce((e,n)=>QX(t,n,e),n)},JX={EXTERNAL:"EXTERNAL",LEGACY:"LEGACY",OBJECT:"OBJECT",OPTION:"OPTION",CHECKBOX_OPTIONS:"CHECKBOX_OPTIONS",LEGACY_OPTION:"LEGACY_OPTION"},zX=Ln.l(JX,"ReferenceSource"),XX=Ln.i({id:Ln.k(),label:Ln.k(),source:zX.optional(),description:Ln.k().optional(),displayOrder:Ln.g().optional()},"Reference");var ZX=n("n+iS"),eZ=n("x3ZR");const tZ=(e,t)=>e.get("data").map(e=>e.get(t)).toOrderedSet().toList(),nZ={[Cn.f.DAY]:"l",[Cn.f.WEEK]:"l",[Cn.f.MONTH]:void 0,[Cn.f.QUARTER]:"[Q]Q YYYY",[Cn.f.YEAR]:"YYYY"},rZ={[Cn.e.DAY]:"D",[Cn.e.MONTH]:"MMM",[Cn.e.QUARTER]:"[Q]Q",[Cn.e.WEEK]:"w",[Cn.e.YEAR]:"YYYY",[Cn.e.DAYOFWEEK]:"ddd",[Cn.e.DAYOFYEAR]:"DDD",[Cn.e.HOUR]:"LT"},aZ={[Cn.e.DAY]:"date",[Cn.e.MONTH]:"month",[Cn.e.QUARTER]:"quarter",[Cn.e.WEEK]:"week",[Cn.e.YEAR]:"year",[Cn.e.DAYOFWEEK]:"day",[Cn.e.DAYOFYEAR]:"dayOfYear",[Cn.e.HOUR]:"hour"},oZ=e=>t=>{const n=Li(e)||Cn.e.DAY,r=rZ[n],a=aZ[n],o=n===Cn.e.MONTH?-1:0;if(r&&a){const e=h.a.moment()[a](t+o);return n===Cn.e.HOUR?e.minute(0).format(r):e.format(r)}return t},sZ=e=>t=>{const n=vi(e)||Cn.f.DAY,r=nZ[n],a=h.a.moment(t);return n===Cn.f.MONTH?Object(eZ.a)(a):a.format(r)},iZ=e=>{const t=Ci(e)?oZ(e):sZ(e);return e=>{if(e===Cn.s)return;const n=isNaN(Number(e))?e:Number(e);return t(n)}},cZ=e=>e=>Object(ZX.a)(e),lZ=e=>e=>Object(E$.e)(e).toString(),uZ={[Cn.o.DATETIME]:iZ,[Cn.o.DATE]:iZ,[Cn.o.HTML]:cZ,[Cn.o.DURATION]:lZ},pZ=(e,t,n)=>{const{columns:r}=e;return r.reduce((e,r,a)=>{const o=Object(NM.c)(n,a);if(Ls(r.field))return e;if(!o)return e;const{table:s,name:i}=Yi(r,t),c=t.properties.getIn([s,i]),l=ki(r,c),u=uZ[l],p=u&&u(r);if(!p)return e;const d=tZ(n,a).filter(e=>void 0!==e).toKeyedSeq().mapKeys((e,t)=>String(t)).map(p).map((e,t)=>XX({id:String(t),label:e})).toMap();return e.updateIn(["properties",a,"references"],(e=Object(b.Map)())=>d.mergeDeep(e))},n)},dZ="__GOAL__",mZ={[Fa.LINE]:Ba.X,[Fa.AREA]:Ba.X,[Fa.VERTICAL_BAR]:Ba.X,[Fa.HORIZONTAL_BAR]:Ba.Y},gZ=(e,t)=>{const n=e.data.minBy(e=>h.a.moment(e.get(t))).get(t);return h.a.moment(n)},bZ=(e,t,n)=>{const r=e.data.maxBy(e=>h.a.moment(e.get(n))).get(n);return h.a.moment(r).endOf(t)},OZ=(e,t,n)=>{switch(t){case Cn.f.DAY:return e;case Cn.f.WEEK:return e/7;case Cn.f.MONTH:return e/h.a.moment(n).daysInMonth();case Cn.f.YEAR:return e/365;default:return}},fZ=(e,t)=>{let n=Object(b.List)(),r=e;for(;r<=t;){n=n.push(h.a.moment(r).format("YYYY-MM-DD"));r=h.a.moment(r).add(1,"days")}return n},EZ=e=>{const t=e.visual&&e.visual.type in mZ?mZ[e.visual.type]:void 0;return e.getIn(["visual","encodings",t,"column"])||void 0},yZ=(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},TZ=(e,t)=>{const n=e.getIn(["visual","options","goalFrequency"])||void 0,r=e.getIn(["visual","options","goalLineValue"])||void 0;if(!r||!n)return t;const a=EZ(e);if(!a){console.error("Unable to get date column id");return t}const o=eu(a,e),s=VM[o];s||console.error(`Unable to map ${o} to a moment unit!`);const i=gZ(t,a),c=bZ(t,s,a);return fZ(i,c).map(e=>({day:e,goal:OZ(r,n,e)})).groupBy(({day:e})=>h.a.moment(e).startOf(s).format("YYYY-MM-DD")).map(e=>e.map(({goal:e})=>e).reduce((e,t=0)=>e+t,0)).map(e=>yZ(e,2))};function IZ(e){const t=EZ(e),n=e.getIn(["columns",t])||void 0;return n&&Us(n.get("field"))&&Ri(n)}function hZ(e){return e.hasIn(["visual","options","goalLineValue"])&&IZ(e)}const jZ=(e,t,n)=>{const r=e.visual,a=!!r&&null!=r.getIn(["options","goalLineValue"]),o=EZ(e);if(null==o||!a||!IZ(e)||n.data.isEmpty())return n;const s=TZ(e,n);return n.update("data",e=>e.map(e=>e.set(dZ,s.get(e.get(o)))).toList()).update("properties",e=>e.set(dZ,Object(b.Map)({label:h.a.text("reporting-snowflake.goal.label")})))},AZ=Object(On.createMetricsFactory)("reporting-snowflake",{library:"reporting-snowflake"}),SZ=";",_Z=e=>{const{type:t,metaDefinition:n={}}=e;return t===Cn.m.ENUMERATION&&"checkbox"===n.fieldType},NZ=e=>e,RZ=e=>(t,n)=>{const r=t.toMap().mapKeys((e,t)=>t).map(e=>Object(b.List)(e.split(SZ))),a=r.toSet().flatten(1),o=(e,t,n)=>{const r=t.map(e=>n.get(e));return XX({id:e,label:r.map(e=>e.label).join(", "),source:JX.CHECKBOX_OPTIONS})};return e(a,n).then(e=>r.map((t,n)=>o(n,t,e)))},CZ=e=>_Z(e)?RZ:NZ,vZ=(()=>{let e=Object(b.Map)();return t=>{e.has(t)||(e=e.set(t,Object(hC.atom)()));return e.get(t)}})(),LZ=e=>{const t=e(vZ);if(!t.byId)throw new Error("Resolver is missing ability to fetch byId.");return e=>new Promise((n,r)=>{const a=t.byId(e),o=Object(jC.d)({loading:()=>{},error:e=>{r(e.reason);Object(hC.unwatch)(a,o)},resolved:e=>{Object(jC.c)(e)?n(e):r();Object(hC.unwatch)(a,o)}});Object(hC.watch)(a,o);o(Object(hC.deref)(a))})},DZ=e=>XX({id:e,label:`Unknown (${e})`,source:JX.EXTERNAL}),MZ=(e,t,n)=>XX({id:t,label:n?`${e.label} (${t})`:e.label,source:JX.EXTERNAL,description:e.description}),PZ=["hs_email_campaign_id","hs_email_meta_content_id"],UZ=e=>{const{name:t,type:n}=e;return PZ.includes(t)||"number"===n},kZ=(e,t,n,r)=>{const a=n(e,t),o=r(e,t);if("function"!=typeof a&&!o)return;const s=UZ(t);let i;if(o)i=(e,t)=>o.api.byId(e).then(t=>MZ(t,e,s),n=>{AZ.counter("no_resolver",{type:"reference_resolver_lite"}).increment();return t(e,n)});else{const e=LZ(a);i=(t,n)=>e(t).then(e=>MZ(e,t,s)).catch(e=>{AZ.counter("no_resolver",{type:"reference_resolver"}).increment();return n(t,e)})}const c=(e,t)=>{const n=e.map(e=>i(e,t).then(t=>[e,t]));return Promise.all(n).then(e=>Object(b.Map)(e))};return(e,n=DZ)=>CZ(t)(c)(e,n)},xZ=(e,t)=>kZ(e,t,pM,dM);var wZ=n("Ozqw"),FZ=n("AFsi"),YZ=n("Mztr"),BZ=n("gWJY"),GZ=n("N/oJ"),VZ=n("5uks"),HZ=n("KqD4");const WZ={[zc.m]:FZ.a,[zc.l]:wZ.a,[zc.o]:BZ.a,[zc.q]:GZ.a,[zc.B]:HZ.a,[zc.s]:VZ.a,[zc.n]:YZ.a},KZ=Object(b.Map)(WZ).map(e=>e?e.get("references",Object(b.Map)()):Object(b.Map)()),qZ=DC()((e,t)=>{const n=new yn.a;n.addAttribute("objectTypeId",e);n.addAttribute("propertyName",t);n.sendPageAction("legacyHydrationInSnowflake")}),QZ=e=>XX({id:e,label:e,source:JX.LEGACY}),$Z=(e,t)=>{const n=KZ.getIn([e,t]);if("function"!=typeof n)return;const r=e=>(t,n)=>{const r=e.get(t);let a;if(r)a=XX({id:t,label:`${r.get("label")} (${t})`,source:JX.LEGACY});else{AZ.counter("no_resolver",{type:"legacy"}).increment();a=n(t)}return Promise.resolve(a)};qZ(e,t);return(e,t=QZ)=>{try{return n(void 0,void 0,void 0,void 0,e).then(e=>e.get("value")).then(n=>{const a=r(n),o=e.map(e=>a(e,t));return Promise.all(o).then(e=>Object(b.List)(e))}).catch(()=>{AZ.counter("no_resolver",{type:"legacy"}).increment();return Object(b.Map)({key:void 0,value:Object(b.Map)()})})}catch(e){return Promise.reject(e)}}},JZ={[zc.m]:gx.CONTACTS,[zc.l]:gx.COMPANIES,[zc.o]:gx.DEALS,[zc.q]:gx.ENGAGEMENTS,[zc.B]:gx.TICKETS,[zc.s]:gx.LINE_ITEMS,[zc.n]:gx.CONVERSATIONS},zZ=(e,t,n)=>{const r=JZ[e];return Object(M.b)(r,t).then(n=>{if(null==n||n.isEmpty())throw new Error(`No legacy property found for objectTypeId: ${e} with propertyName ${t}`,{cause:"expected"});return n.get("options")}).then(e=>{if(!e)throw new Error("No `options` found in legacy property!",{cause:"unexpected"});return e.find(e=>e.get("value")===n)}).then(e=>{if(!e)throw new Error("No `options` found in legacy property!",{cause:"unexpected"});return{label:e.get("label"),description:e.get("description")}}).catch(e=>{"unexpected"===e.cause&&console.error(e)})},XZ=e=>XX({id:e,label:e,source:JX.OPTION}),ZZ=(e,t)=>{const{label:n,description:r}=t;return e.update("label",e=>e||n).update("description",e=>e||r)},e0=(e,t)=>{const{options:n=Object(b.List)()}=e;if(n.isEmpty())return;const r=n.toMap().mapKeys((e,t)=>String(t.value)).map((e,t)=>XX({id:t,label:e.label,source:JX.PROPERTY,description:e.description,displayOrder:e.displayOrder})),a=(n,a)=>{if(!r.has(n)){AZ.counter("no_resolver",{type:"property_option"}).increment();return Promise.resolve(a(n))}const o=r.get(n);return zZ(t,e.name,n).then(e=>e?ZZ(o,e):o)},o=(e,t)=>{const n=e.map(e=>a(e,t).then(t=>[e,t]));return Promise.all(n).then(e=>Object(b.Map)(e))};return(t,n=XZ)=>CZ(e)(o)(t,n)};var t0=n("mEW6");const n0=(e,t)=>Object(b.Range)(0,e.count(),t).map(n=>e.slice(n,n+t)),r0=e=>XX({id:e,label:e,source:JX.OBJECT}),a0=(e,t)=>{const{objectTypeId:n,metaDefinition:{primaryDisplayLabelPropertyName:r,secondaryDisplayLabelPropertyNames:a}={}}=e,{name:o}=t;if(!Object(t0.d)(o,n)||null==r)return;const s=t0.b.get(n)||t0.c,i=(e,t,n)=>{if(!t){AZ.counter("no_resolver",{type:"object"}).increment();return n(e)}const o=Object(b.Seq)(t.properties||{}).map(e=>e.value).toObject(),i=s(e,r,a,o);return XX({id:e,label:i,source:JX.OBJECT})},c=(e,t)=>{const r=n0(Object(b.List)(e),200).map(e=>Kc.a.post("inbounddb-objects/v1/preview",{data:{[n]:e}}).then(r=>{const a=r[n]||{};return e.map(e=>[e,i(e,a[e],t)])}).catch(e=>{AZ.counter("no_resolver",{type:"object"}).increment();throw e}));return Promise.all(r).then(e=>Object(b.Map)(Object(b.List)(e).flatten(1)))};return(e,n=r0)=>CZ(t)(c)(e,n)},o0=(e,t)=>{const{objectTypeId:n}=e,{name:r}=t;return e0(t,n)||xZ(e,t)||$Z(n,r)||a0(e,t)},s0="0-101",i0=Ln.i({name:Ln.k(),label:Ln.k(),type:Ln.k()},"MagicMeasureProperty"),c0=e=>i0({name:e.name,label:e.name,type:e.type}),l0=(e,t)=>e.get("data").map(e=>e.get(t)).toOrderedSet().remove(void 0).remove(Cn.s).map(e=>String(e)).toList(),u0=e=>XX({id:Cn.s,label:h.a.text("reporting-snowflake.undefined-bucket-label"),displayOrder:Number.MAX_SAFE_INTEGER||9007199254740991}),p0=e=>{switch(e.type){case Cn.m.NUMBER:case Cn.m.CURRENCY_NUMBER:return Cn.c.NUMBER;case Cn.m.BOOL:return Cn.c.BOOLEAN;case Cn.m.DATE:return Cn.c.DATE;case Cn.m.DATETIME:return Cn.c.DATETIME;default:return Cn.c.STRING}},d0="account-info/v1/details",m0=()=>Kc.a.get(""+d0),g0=(e,t,n,r,a)=>{if(e.derived){const t=Object(b.Map)({[Cn.s]:u0(void 0)});return"DATE"===e.type.type?Promise.resolve(Object(b.Map)({references:t,type:"date"})):Promise.resolve(Object(b.Map)({references:t}))}const o=t.properties.getIn([e.expression.table,e.expression.name]),s=r.tables.get(o.table),i=r.properties.getIn([o.table,o.name]),c=Object(b.Map)({[Cn.s]:u0(i)}),l=p0(o),u=i.toMap().set("type",Ui(l,i)).set("references",c),p=o0(s,i);if(!p)return Promise.resolve(u);return p(l0(n,a)).then(e=>e.toMap().mapKeys((e,t)=>t.id)).then(e=>u.update("references",t=>t.merge(e))).catch(e=>{console.error(e);return u})},b0=(e,t,n,r)=>{const{tables:a,properties:o,datasetDefinition:s}=e,i=t.get("aggregation"),c=t.role===Cn.p.DIMENSION,l=t.field,{table:u,name:p}=l,d=a.get(u),m=Ni(t)?c0(l):o.getIn([u,p]),g=u===Ro.a&&s.getIn(["fields",p]),O=Mi(t,m,d,g,r.expressions),f=c?Object(b.Map)({[Cn.s]:u0(m)}):Object(b.Map)(),E=Object(b.fromJS)(Object.assign({},i&&{propertyMeta:{aggregationType:i}}));if(Ls(t.field)){const e=$m(r.expressions).get(t.field.name);return Promise.resolve(Object(b.Map)({label:O,name:e.alias,type:l.type,hidden:!1,references:f,metaDefinition:Jm(e).toJS()}))}const y=Ni(t)||m&&(!m.metaDefinition||!m.metaDefinition.currencyPropertyName)?Object(b.Map)(m).set("label",O).set("type",ki(t,m)).set("references",f).merge(E):Object(b.Map)(m).set("label",O).set("type",ki(t,m)).set("references",f).set("currencyCodeColumnName",wi(t.alias)).merge(E);if(!c)return Promise.resolve(y);if(u===Ro.a)return g0(g,s,n,e,t.alias).then(e=>e.set("label",O));const T=u!==Ro.a&&o0(d,m);if(!T){AZ.counter("no_resolver",{type:"catch-all"}).increment();return Promise.resolve(y)}return T(l0(n,t.alias)).then(e=>e.toMap().mapKeys((e,t)=>t.id)).then(e=>y.update("references",t=>t.merge(e))).catch(e=>{console.error(e);return y})},O0=(e,t,n,r)=>{const{properties:a}=e,o=n.field,{table:s,name:i}=o,c=Object(Go.f)(t,s),l=Ni(n)?c0(o):a.getIn([s,i]);return l&&!!l.metaDefinition&&l.metaDefinition.showCurrencySymbol?m0().then(e=>vl(c).then(t=>t.has(l.metaDefinition.currencyPropertyName)&&c!==s0?r:r.set("companyCurrencyCode",e.currency))).catch(e=>{console.error(e);return r}):Promise.resolve(r)},f0=(e,t,n)=>{const{columns:r,table:a}=e;try{return Promise.all(r.map((r,o)=>b0(t,r,n,e).then(e=>Ni(r)?e:O0(t,a,r,e)).then(e=>[o,e])).toList()).then(e=>Object(b.Map)(e)).then(e=>n.update("properties",t=>t.merge(e))).catch(e=>{console.error(e);return n})}catch(e){console.error(e);return Promise.resolve(n)}},E0=(e,t,n)=>new Promise((r,a)=>{if(void 0===e||void 0===t){a(void 0);return}const o=BX(n,t,e),s=e=>{const r=VX(n,t,e),a=hZ(n)?jZ(n,t,r):r;return $X(n,t,a)};f0(n,t,o).then(e=>pZ(n,t,s(e))).then(e=>{r(s(e))}).catch(a)});var y0=(e,t,n)=>{const{data:r}=mX(),a=Object(p.useCallback)(()=>E0(e,t,n),[e,t,n]);return lX(a,{enabledFn:()=>!!r})};let T0=Object(b.Map)();const I0=1e4,h0=e=>Object(oY.b)(e),j0=(e,t)=>{const n={promise:t,timestamp:(new Date).getTime()};T0=T0.set(h0(e),n)},A0=e=>{const t=h0(e);return(new Date).getTime()<=(T0.has(t)?T0.get(t).timestamp+I0:-1)},S0=e=>{const t=h0(e);T0.has(t)&&(T0=T0.delete(t))},_0=e=>T0.get(h0(e)).promise,N0=e=>Object(Go.j)(e.get("table")).map(e=>e.name),R0=e=>{const t=[];return N0(e).filter(e=>t.includes(e))},C0=e=>!R0(e).isEmpty(),v0=e=>Object(NM.a)({paginationSize:e.getIn(["queryResponse","total"]),data:e.getIn(["queryResponse","data"]),dataAge:e.get("dataAge"),queryId:e.get("queryId")}),L0=e=>{const t=e.get("queryId"),n=e.get("queryStatus"),r=e.get("queryResponse")?v0(e):void 0;return dw({id:t,status:n,dataset:r})},D0=(e,t)=>{const n=e.get("reportId")?Object.assign({},e.toJS()):Object.assign({},e.toJS(),{reportId:t});return Kc.a.post("sql-reporting/v1/report-builder/asyncQuery",{data:n}).then(b.fromJS).then(L0)},M0=(e,t)=>Kc.a.post("sql-reporting/v1/report-builder/result/"+t,{data:e.toJS()}).then(b.fromJS).then(L0),P0=(e,t)=>Kc.a.get("sql-reporting/v1/report-builder/asyncQuery/"+t,{query:e.reportOptions.toJS()}).then(b.fromJS).then(L0),U0=e=>Kc.a.delete("sql-reporting/v1/report-builder/query/"+e),k0=(e,t={})=>new Promise((n,r)=>{const{onTick:a=AC.a,reportId:o,lastQuery:{status:s,dataset:i,id:c}=dw({})}=t,l=o=>{a(o,e)||k0(e,Object.assign({},t,{lastQuery:o})).then(n,r).catch(r)};switch(s){case void 0:{const t=void 0===e.getIn(["reportOptions","fetchFromCache"])||e.getIn(["reportOptions","fetchFromCache"]);(o&&t?()=>P0(e,o):()=>D0(e,o))().then(l,r).catch(r);break}case pw.RUNNING:c&&setTimeout(()=>{M0(e,c).then(l,r).catch(r)},aw);break;case pw.SUCCESS:i&&n(i);break;case pw.FAILED:S0(e);r(new fw(`Async query ${c} failed`));break;case pw.CANCELLED:S0(e);r(new Ow(`Async query ${c} was cancelled`));break;case pw.TIMEOUT:S0(e);r(new Ew(`Async query ${c} timed out`));break;case pw.UNKNOWN:default:S0(e);r(new mw(`Async query ${c} errored with status ${s}`))}}),x0=e=>Qc()().then(t=>{const{gates:n}=t;return!n.includes("AdvancedBuilder:ExpandedColumnLimits")&&au(e.reportDefinition)||n.includes("AdvancedBuilder:ExpandedColumnLimits")&&ou(e.reportDefinition)?new bw("Report has too many columns"):C0(e.reportDefinition)?new gw("Report has deprecated data sources"):void 0}),w0=(e,t)=>x0(e).then(n=>{if(n)return Promise.reject(n);A0(e)||j0(e,k0(e,t));return _0(e)}).catch(e=>Promise.reject(e)),F0=e=>{const t=Object(p.useRef)(e);Object(p.useEffect)(()=>{t.current=e},[e]);Object(p.useEffect)(()=>()=>{if(t.current){S0(t.current);t.current=void 0}},[]);return Object(p.useCallback)((e,n)=>{const{id:r,status:a}=e;if(a!==pw.RUNNING)return!1;if(!n.equals(t.current)&&r){U0(r).catch(e=>{console.error("Error in resolve-utils, could not automatically cancel query "+r,e)});return!0}return!1},[])};var Y0=(e,{reportId:t,onSuccess:n})=>{const r=_X(e,t),a=F0(r),o=Object(p.useCallback)(()=>w0(r,{onTick:a}),[r,a]),s=AX(r);return{queryState:lX(o,{enabledFn:({data:e})=>r&&(void 0===e||s),onSuccess:n}),refetch:o,queryDefinition:r}};const B0=(e,t)=>{const{min:n,max:r}=t,a=null!=n||null!=r;return e.update("startOnTick",e=>!a&&e).set("min",n).set("max",r)},G0=(e,t)=>t?e.set("type",t):e;var V0=n("R+M3"),H0=n("MYse");const W0=Ln.i({label:Ln.k(),key:Ln.k()},"Bucket"),K0=(e,t)=>{if(void 0===e)return Object(b.OrderedMap)();const n=e.alias,r=Hg(e,t);return Object(GX.a)(t,n,r).toOrderedSet().toOrderedMap().mapKeys((e,t)=>String(t)).map(e=>Object(NM.f)(t,n,e)).map((e,t)=>W0(null==e?{key:t,label:t}:{key:e.id,label:e.label}))},q0=(e,t)=>e.toOrderedMap().map(e=>{const n=e.alias||e.get("alias");return W0({label:Object(NM.d)(t,n),key:n})}).mapKeys((e,t)=>t.key),Q0=({r:e,g:t,b:n})=>{const r=e=>{const t=e.toString(16);return`${1===t.length?"0":""}${t}`};return`#${r(e)}${r(t)}${r(n)}`},$0=e=>{const t=e.substring(1),n=[];for(let e=0;e<t.length;e+=2)n.push(t.substring(e,e+2));const[r,a,o]=n,s=e=>parseInt(e,16);return{r:s(r),g:s(a),b:s(o)}},J0=(e,t,n,r)=>a=>{const o=t-e;return n+(a-e)*(0===o?0:(r-n)/o)},z0=(e,t)=>{if(t.isEmpty())return Object(b.List)();if(e<=1)return b.List.of(t.first().value);const n=1/(e-1),r=t.sort((e,t)=>e.positionFraction-t.positionFraction),a=e=>[r.reverse().find(t=>e>=t.positionFraction),r.find(t=>e<=t.positionFraction)];let o=Object(b.List)();for(let t=0;t<e;t++){const e=t*n,[r,s]=a(e);if(void 0===r){o=o.push(s.value);continue}if(void 0===s){o=o.push(r.value);continue}const i=$0(r.value),c=$0(s.value),l=J0(r.positionFraction,s.positionFraction,i.r,c.r),u=J0(r.positionFraction,s.positionFraction,i.g,c.g),p=J0(r.positionFraction,s.positionFraction,i.b,c.b),d={r:Math.round(l(e)),g:Math.round(u(e)),b:Math.round(p(e))};o=o.push(Q0(d))}return o},X0=(e,t)=>{const n=e=>t.get(e%t.size);return e.toOrderedMap().mapEntries(([e,t])=>[t,n(e)])},Z0=(e,t)=>{const n=e.type;let r=Object(b.List)();n===xn.INTERPOLATE?r=z0(t,e.points):n!==xn.DISCRETE&&n!==xn.DISCRETE_PATTERN||(r=e.colors.map(e=>e.value));return r},e1=(e,t)=>e.map((e,n)=>t.get(n)||e),t1=(e,t,n)=>{const r=Z0(t,e.size),a=e.map(e=>e.key).toList(),o=X0(a,r);return e1(o,n)},n1=(e,t)=>{if(void 0===t)return;const n=e.map(e=>e.key).toList();return X0(n,t)},r1=(e,t)=>{const n=Di(e),r=h.a.moment.portalTz();return Fi(e)?r.startOf("month").add(Object(Y.d)(t),"months").startOf(n).format("YYYY-MM-DD"):r.startOf(n).format("YYYY-MM-DD")};function a1(e,t){if(!Ri(e))return;const n=Di(e);if(!n)return;const r={[Cn.f.DAY]:"reporting-snowflake.dateline.day",[Cn.f.WEEK]:"reporting-snowflake.dateline.week",[Cn.f.MONTH]:"reporting-snowflake.dateline.month",[Cn.f.QUARTER]:"reporting-snowflake.dateline.quarter",[Cn.f.YEAR]:"reporting-snowflake.dateline.year"},a=r1(e,t);return{id:"todayLine",dashStyle:"Dash",color:Pn.EERIE,width:1,label:{text:h.a.text(r[n]),rotation:0,style:{color:Pn.EERIE}},targetCategoryValue:a}}function o1(e,t,n,r){const a=[];t&&t.column&&a.push({type:V0.d.AGGREGATE,groupBy:[e],aggregations:[{op:H0.a.attribute,field:dZ,as:dZ}]});n&&r&&a.push(Object(V0.b)({groupBy:[],field:dZ,along:r}));return a}function s1(e,t,n,r,a,o){const s=t&&t.column.alias;return{dataset:"primary",mark:{type:"line",zIndex:10,marker:{enabled:e,zIndex:10}},x:t?{type:"category",field:s,blend:"bottom",order:Hg(t.column,n)}:void 0,y:{type:"linear",field:dZ,blend:"left",fill:!0},transform:o1(s,r,a,o),color:{default:Pn.BATTLESHIP},excludeFromLegacyTooltipTotals:!0}}const i1=(e,t,n,r,a)=>{const o=e&&Hg(e,n),s=void 0===e&&t?q0(t,n):K0(e,n),{scheme:i}=fr.get(r.paletteId)||Hn,c=t1(s,i,r.assignments);if(c.isEmpty())return;const l=n1(s,i.patterns);if(void 0===e){const e=t&&1===t.size?t.get(0).get("alias"):a&&a.column&&a.column.alias;return{default:e?c.get(e):void 0,defined:c.toJS(),definedPatterns:l&&l.toJS(),defaultPattern:e&&l?l.get(e):void 0,formattingType:Ki(a),formattingObject:Wi(a)}}return{field:e.alias,defined:c.toJS(),definedPatterns:l&&l.toJS(),order:o,formattingType:Ki(a),formattingObject:Wi(a)}},c1=(e,t,n)=>null!=e?e:t&&t.size>0?t.get(0).column.name||n&&n.properties&&n.properties.getIn([t.get(0).column.alias,"label"]):void 0,l1=(e,t)=>{if(0===e.length)return!0;return 1===e.reduce((e,n,r)=>{const a=n.column.alias,o=t.properties.get(a),s=n.options.format;return s&&s.type!==E$.a.AUTO?s.type===E$.a.CURRENCY?e.add(s.type+s.currencyCode):e.add(s.type):o?o.get("type")===E$.a.CURRENCY?e.add(o.get("type")+o.get("companyCurrencyCode")):e.add(o.get("type")):e.add(r)},Object(b.Set)()).size},u1=e=>{if(0===e.length)return Object(b.Map)();return e.reduce((e,t)=>{const n=t.column.alias,r=t.options.format;return e.set(n,r)},Object(b.Map)())},p1=(e,t,n)=>{const r=wc(e),a=Bc(e),o=Cc(e),{showDataLabels:s,showMarkers:i,stacking:c,showToday:l,yMinMax:u,yAxisType:p,color:d,goalLineValue:m,legendPosition:g,legendWidth:O,accumulate:f}=e.visual.options,E="left",y=r&&r.column.alias,T=a&&a.column.alias,I=o&&o.column.alias,h=Object(V0.a)({field:y,direction:"ascending"}),j={dataset:"primary",mark:{type:"area",stacking:c,marker:{enabled:i}},x:r?{type:"category",field:y,blend:"bottom",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"bottom"},y:a?{type:"linear",field:T,fill:!0,blend:E,formattingType:Ki(a),formattingObject:Wi(a)}:{type:"scaffold",blend:E},color:i1(e.columns.get(I),T&&b.List.of(e.columns.get(T)),t,d,o),transform:f?[Object(V0.b)({groupBy:[I],field:T,along:h})]:[]},A=m&&IZ(e)?[s1(i,r,t,o,f,h),j]:[j],S=e.columns.get(y),_=eu(y,e);return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:s,legendPosition:g,legendWidth:O,x:l&&S&&_?{bottom:{rules:{plotLines:[a1(S,n)]}}}:void 0,y:{[E]:G0(B0(Object(Mn.a)({}),u),p)},dateResolution:_},layers:A})},d1=(e,t,n)=>{const r=wc(e),a=Yc(e),o=Cc(e),{showDataLabels:s,stacking:i,showMarkers:c,showToday:l,yMinMax:u,yAxisType:p,color:d,goalLineValue:m,legendPosition:g,legendWidth:b,accumulate:O,yAxisLabel:f}=e.visual.options,E="left",y=c1(f,a,t),T=r&&Hi(r),I=o&&Hi(o),h=eu(T,e),j=Object(V0.a)({field:T,direction:"ascending"}),A=l1(a,t),S=u1(a),_=a.size>1,N=a&&a.size>0?a.map(e=>{const n=Hi(e);return{dataset:"primary",mark:{type:"area",stacking:i,marker:{enabled:c}},x:r?{type:"category",field:T,blend:"bottom",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"bottom"},y:{type:"linear",field:n,blend:E,fill:!0,formattingObjectMap:_?S:void 0,formattingType:A?Ki(e):void 0,formattingObject:A?Wi(e):void 0},color:i1(o&&o.column,a.map(e=>e.column),t,d,a.size>1?e:o),transform:O?[Object(V0.b)({groupBy:[I],field:n,along:j})]:[]}}):[{dataset:"primary",mark:{type:"area",stacking:i,marker:{enabled:c}},x:r?{type:"category",field:T,blend:"bottom",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"bottom"},y:{type:"scaffold",blend:E},color:i1(o&&o.column,void 0,t,d,o),transform:[]}],R=m&&IZ(e)?[s1(c,r,t,o,O,j),...N]:N;return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:s,legendPosition:g,legendWidth:b,showTotals:A,x:l&&r.column&&h?{bottom:{rules:{plotLines:[a1(r.column,n)]}}}:void 0,y:{[E]:G0(B0(Object(Mn.a)({}),u),p).set("title",y)},dateResolution:h},layers:R})},m1=(e,t,n,{fiscalYearMonthName:r})=>{const a=Yc(e);return a&&a.size>0?d1(e,t,r):p1(e,t,r)},g1=(e,t,n)=>{const r=e.concat(t),a=t=>e.map(e=>t.get(e)),o=e=>e.filter((e,t)=>r.includes(t)),s=e=>e.filter((e,t)=>r.includes(t));return n.update("data",e=>e.groupBy(a).toList().flatMap(e=>b.List.of(e.first())).map(s)).update("properties",o)},b1=(e,t)=>{const n=e.columns,r=n.get(t);return r&&r.fixedMeasure?r.fixed||Object(b.List)():Js(n).map(e=>e.alias)},O1={[Br.AREA]:"area",[Br.LINE]:"line",[Br.BAR]:"bar"},f1="bar",E1=e=>{const t=O1[e];if(void 0===t){console.warn(`Unrecognized mark type \`${e}\`, defaulting to \`${f1}\`!`);return f1}return t},y1=(e,t)=>e&&(t===Br.LINE||t===Br.AREA),T1=e=>{const t=wc(e);return t&&Hi(t)},I1=e=>{const t=Gc(e);return t&&Hi(t)},h1=e=>{const t=Vc(e);return t&&Hi(t)},j1=e=>{const t=Mc(e);return t&&Hi(t)},A1=(e,t)=>{const n=I1(e),r=n?g1(b1(e,n),b.List.of(n),t):t,a=h1(e);return{y1Dataset:r,y2Dataset:a?g1(b1(e,a),b.List.of(a),t):t}},S1=(e,t,n)=>{if(!e)return n;if(!e.sort||!e.sort.by)return n;const r=e.alias,a=ko(e.alias),o=t.data.groupBy(e=>e.get(r)).map(e=>e.first().get(a));return n.update("data",e=>e.map(e=>e.set(a,o.get(e.get(r)))))};function _1(e,t,n){return e===Fr.BLEND?t:n}function N1({report:e,breakdownId:t,y1Color:n,dataset:r,y1MarkType:a,stacking:o,y1ShowMarkers:s,xId:i,x:c,y1Id:l,y1AxisKey:u,y1Accumulate:p,accumulateAlong:d}){const m=e.columns.get(t),g=Gc(e),O=g.column,f=(()=>{const{scheme:e}=fr.get(n.paletteId)||Hn,a=m&&Hg(m,r),o=void 0===m&&O?q0(b.List.of(O),r):K0(m,r),s=t1(o,e,n.assignments);if(s.isEmpty())return;const i=n1(o,e.patterns);return void 0===m?{default:s.first(),defaultPattern:i&&i.first()}:{field:t,defined:s.toJS(),definedPatterns:i&&i.toJS(),order:a}})();return{dataset:"y1Dataset",mark:Object.assign({type:E1(a)},a!==Br.LINE?{stacking:o}:{},{marker:{enabled:s}}),x:i?{type:"category",field:i,blend:"bottom",order:Hg(c.column,r),formattingType:Ki(c),formattingObject:Wi(c)}:{type:"scaffold",blend:"bottom"},y:O?{type:"linear",field:l,blend:u,fill:!0,formattingType:Ki(g),formattingObject:Wi(g)}:{type:"scaffold",blend:u},color:f,transform:p?[Object(V0.b)({groupBy:[t],field:l,along:d})]:[]}}function R1({report:e,y2Color:t,dataset:n,y2MarkType:r,stacking:a,y2ShowMarkers:o,xId:s,x:i,y2Id:c,axisMode:l,y1AxisKey:u,y2AxisKey:p,y2Accumulate:d,accumulateAlong:m}){const g=Vc(e),O=g.column,f=(()=>{const{scheme:e}=fr.get(t.paletteId)||gr,r=q0(O?b.List.of(O):Object(b.List)(),n),a=t1(r,e,t.assignments),o=n1(r,e.patterns);return a.isEmpty()?{default:Pn.SLINKY}:{default:a.first(),defaultPattern:o&&o.first()}})();return{dataset:"y2Dataset",mark:Object.assign({type:E1(r)},r!==Br.LINE?{stacking:a}:{},{marker:{enabled:o,fillColor:Pn.OLAF}}),x:s?{type:"category",field:s,blend:"bottom",order:Hg(i.column,n),formattingType:Ki(i),formattingObject:Wi(i)}:{type:"scaffold",blend:"bottom"},y:O?{type:"linear",field:c,blend:_1(l,u,p),fill:!0,formattingType:Ki(g),formattingObject:Wi(g)}:{type:"scaffold",blend:_1(l,u,p)},color:f,excludeFromLegacyTooltipTotals:!0,transform:d?[Object(V0.b)({groupBy:[],field:c,along:m})]:[]}}const C1=(e,t,n,{fiscalYearMonthName:r})=>{const a=wc(e),o=Mc(e),s=T1(e),i=I1(e),c=h1(e),l=j1(e),u=A1(e,t),{y1Dataset:p,y2Dataset:d}=u,m=a?S1(a.column,t,p):p,g=o?S1(o.column,t,m):m,O=a?S1(a.column,t,d):d,{axisMode:f,y1MarkType:E,y2MarkType:y,y1MinMax:T,y2MinMax:I,y1AxisType:h,y2AxisType:j,y1ShowMarkers:A,stacking:S,y1Stacking:_,showDataLabels:N,y2ShowMarkers:R,showToday:C,y1Color:v,y2Color:L,legendPosition:D,legendWidth:M,y1Accumulate:P,y2Accumulate:U}=e.visual.options,k=void 0===S?_:S,x=[],w="y1",F="y2",Y=Object(V0.a)({field:s,direction:"ascending"});!s||i||c||x.push({dataset:"y1Dataset",mark:Object.assign({type:E1(E)},E!==Br.LINE?{stacking:k}:{},{marker:{enabled:A}}),x:{type:"category",field:s,blend:"bottom",order:Hg(a.column,t)},y:{type:"scaffold",blend:w},color:v});i&&x.push(N1({report:e,breakdownId:l,y1Color:v,dataset:t,y1MarkType:E,stacking:k,y1ShowMarkers:A,xId:s,x:a,y1Id:i,y1AxisKey:w,y1Accumulate:P,accumulateAlong:Y}));c&&x.push(R1({report:e,y2Color:L,dataset:t,y2MarkType:y,stacking:k,y2ShowMarkers:R,xId:s,x:a,y2Id:c,axisMode:f,y1AxisKey:w,y2AxisKey:F,y2Accumulate:U,accumulateAlong:Y}));let B=Object(Mn.o)();B=B.update("y",e=>e||Object(b.Map)());const G=()=>{if(f!==Fr.BLEND)return B;const e=Object(b.fromJS)(x).reduce((e,t)=>e.set(t.getIn(["y","field"]),t),Object(b.Map)()).map((e,t)=>{const n=e.get("dataset");return Object(NM.d)(u[n],t)}).join(" / ");return B.updateIn(["y",w],(t=Object(Mn.a)({}))=>t.set("title",e))};B=G();const V=()=>B.updateIn(["y",w],(e=Object(Mn.a)({}))=>B0(e,T)).updateIn(["y",F],(e=Object(Mn.a)({}))=>{const t=B0(e,I);return!1===B.getIn(["y",w,"startOnTick"])||!1===t.startOnTick?t.set("gridLineDashStyle",Mn.h.solid):t}),H=()=>B.updateIn(["y",w],e=>G0(e,h)).updateIn(["y",F],e=>G0(e,j));B=V();B=H();B=B.set("dataLabels",!k&&N);B=B.set("stackLabels",k&&N);B=B.set("legendPosition",D);B=B.set("legendWidth",M);const W=eu(s,e),K=e.columns.get(s);B=B.set("dateResolution",W);C&&K&&(y1(i,E)||y1(c,y))&&W&&(B=B.set("x",{bottom:{rules:{plotLines:[a1(K,r)]}}}));return Object(Mn.p)({type:"XY",data:{primary:t,y1Dataset:g,y2Dataset:O},layers:x,style:B})},v1=(e,t,n,r)=>{const a=e&&Hg(e,n),o=void 0===e?q0(t,n):K0(e,n),{scheme:s}=fr.get(r.paletteId)||Hn,i=t1(o,s,r.assignments);if(i.isEmpty())return;const c=n1(o,s.patterns);if(void 0===e)return{default:i.first(),defined:i.toJS(),definedPatterns:c&&c.toJS()};return{field:e.alias,defined:i.toJS(),definedPatterns:c&&c.toJS(),order:a}},L1=(e,t)=>{const{showDataLabels:n,color:r,showTotals:a,legendPosition:o,legendWidth:s}=e.visual.options,i=Cc(e),c=kc(e),l=!!i,u=l?c.first():void 0,p=l&&i.column,d=c.map(e=>e.column),m=l&&i.options,g=c.map(e=>({column:e.column.get("alias"),options:e.options})),b=p?eu(p.get("alias"),e):void 0,O=()=>{const e=d.first(),n=e&&Object(HM.d)(e.alias,[]),r=t.data.first();return r&&n&&r.get(n)};return Object(WY.f)({type:fY.g,data:{primary:t},grandTotal:O(),style:{dataLabels:n,showTotals:a,legendPosition:o,legendWidth:s,dateResolution:b,dateColumnAlias:b&&p&&p.get("alias")},isGrouped:l,layer:{dataset:"primary",color:v1(p||void 0,d,t,r),angle:l?{field:Hi(u)}:{field:""},colorFormattingOptions:m,valueFormattingOptions:g}})},D1=(e,t,n,r)=>L1(e,t,n,r).updateIn(["layer","style"],(e=Object(b.Map)())=>e.set("innerSize","35%")),M1=(e,t)=>{const{accumulate:n}=e.visual.options,r=Bc(e),a="bottom",o=Cc(e),s=r&&Hi(r),i=Object(V0.a)({field:s,direction:"ascending"});return{dataset:"primary",mark:{type:"line",zIndex:10,marker:{enabled:!0}},x:{type:"linear",field:dZ,blend:a,fill:!0},y:r?{type:"category",field:s,blend:"left",order:Hg(r.column,t)}:void 0,color:{default:Pn.BATTLESHIP},transform:o1(s,o,n,i),excludeFromLegacyTooltipTotals:!0}},P1=(e,t)=>{const n=wc(e),r=Bc(e),a=Cc(e),{showDataLabels:o,stacking:s,xMinMax:i,xAxisType:c,color:l,goalLineValue:u,legendPosition:p,legendWidth:d,accumulate:m}=e.visual.options,g="bottom",O=r&&Hi(r),f=n&&Hi(n),E=a&&Hi(a),y=eu(O,e),T=Object(V0.a)({field:O,direction:"ascending"}),I={dataset:"primary",mark:{type:"bar",stacking:s},x:n?{type:"linear",field:f,blend:g,fill:!0,formattingType:Ki(n),formattingObject:Wi(n)}:{type:"scaffold",blend:g},y:r?{type:"category",field:O,blend:"left",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"left"},color:i1(a&&a.column,n&&n.column&&b.List.of(n.column),t,l,a),transform:m?[Object(V0.b)({groupBy:[E],field:f,along:T})]:[]},h=u&&IZ(e)?[M1(e,t),I]:[I];return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:!s&&o,stackLabels:s&&o,legendPosition:p,legendWidth:d,x:{[g]:G0(B0(Object(Mn.a)({}),i),c)},dateResolution:y},layers:h})},U1=(e,t)=>{const n=Fc(e),r=Bc(e),a=Cc(e),{showDataLabels:o,stacking:s,xMinMax:i,xAxisType:c,color:l,goalLineValue:u,legendPosition:p,legendWidth:d,accumulate:m,xAxisLabel:g}=e.visual.options,b=c1(g,n,t),O="bottom",f=r&&Hi(r),E=a&&Hi(a),y=eu(f,e),T=Object(V0.a)({field:f,direction:"ascending"}),I=l1(n,t),h=u1(n),j=n.size>1,A=n&&n.size>0?n.map(e=>{const o=Hi(e);return{dataset:"primary",mark:{type:"bar",stacking:s},x:{type:"linear",field:o,blend:O,fill:!0,formattingObjectMap:j?h:void 0,formattingType:I?Ki(e):void 0,formattingObject:I?Wi(e):void 0},y:r?{type:"category",field:f,blend:"left",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"left"},color:i1(a&&a.column,n.map(e=>e.column),t,l,n.size>1?e:a),transform:m?[Object(V0.b)({groupBy:[E],field:o,along:T})]:[]}}):[{dataset:"primary",mark:{type:"bar",stacking:s},x:{type:"scaffold",blend:O},y:r?{type:"category",field:f,blend:"left",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"left"},color:i1(a&&a.column,void 0,t,l,a),transform:[]}],S=u&&IZ(e)?[M1(e,t),...A]:A;return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:!s&&o,stackLabels:s&&o,legendPosition:p,legendWidth:d,showTotals:I,x:{[O]:G0(B0(Object(Mn.a)({}),i),c).set("title",b)},dateResolution:y},layers:S})},k1=(e,t,n)=>{const r=Fc(e);return r&&r.size>0?U1(e,t):P1(e,t)},x1=(e,t,n,r,a)=>{const o=e&&Hg(e,n),s=void 0===e&&t?q0(t,n):K0(e,n),{scheme:i}=fr.get(r.paletteId)||Hn,c=t1(s,i,r.assignments);if(c.isEmpty())return;const l=n1(s,i.dashStylePatterns);if(void 0===e){const e=t&&1===t.size?t.get(0).get("alias"):a&&a.column&&a.column.alias;return{default:c.get(e),defined:c.toJS(),definedDashStyles:l&&l.toJS()}}return{field:e.alias,defined:c.toJS(),definedDashStyles:l&&l.toJS(),order:o,formattingType:Ki(a),formattingObject:Wi(a)}},w1=(e,t,n)=>{const r=wc(e),a=Bc(e),o=Cc(e),{showDataLabels:s,showMarkers:i,showToday:c,yMinMax:l,yAxisType:u,color:p,goalLineValue:d,legendPosition:m,legendWidth:g,accumulate:O}=e.visual.options,f="left",E=r&&r.column.alias,y=a&&a.column.alias,T=o&&o.column.alias,I=Object(V0.a)({field:E,direction:"ascending"}),h={dataset:"primary",mark:{type:"line",marker:{enabled:i}},x:r?{type:"category",field:E,blend:"bottom",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"bottom"},y:a?{type:"linear",field:y,blend:f,fill:!0,formattingType:Ki(a),formattingObject:Wi(a)}:{type:"scaffold",blend:f},color:x1(e.columns.get(T),a?b.List.of(e.columns.get(y)):void 0,t,p,o),transform:O?[Object(V0.b)({groupBy:[T],field:y,along:I})]:[]},j=d&&IZ(e)?[s1(i,r,t,o,O,I),h]:[h],A=eu(E,e),S=e.columns.get(E);return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:s,legendPosition:m,legendWidth:g,x:c&&A?{bottom:{rules:{plotLines:[a1(S,n)]}}}:void 0,y:{[f]:G0(B0(Object(Mn.a)({}),l),u)},dateResolution:A},layers:j})},F1=(e,t,n)=>{const r=wc(e),a=Yc(e),o=Cc(e),{showDataLabels:s,showMarkers:i,showToday:c,yMinMax:l,yAxisType:u,color:p,goalLineValue:d,legendPosition:m,legendWidth:g,accumulate:b,yAxisLabel:O}=e.visual.options,f="left",E=c1(O,a,t),y=r&&Hi(r),T=o&&Hi(o),I=eu(y,e),h=Object(V0.a)({field:y,direction:"ascending"}),j=l1(a,t),A=u1(a),S=a.size>1,_=a&&a.size>0?a.map(e=>{const n=Hi(e);return{dataset:"primary",mark:{type:"line",marker:{enabled:i}},x:r?{type:"category",field:y,blend:"bottom",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"bottom"},y:{type:"linear",field:n,blend:f,fill:!0,formattingObjectMap:S?A:void 0,formattingType:j?Ki(e):void 0,formattingObject:j?Wi(e):void 0},color:x1(o&&o.column,a.map(e=>e.column),t,p,a.size>1?e:o),transform:b?[Object(V0.b)({groupBy:[T],field:n,along:h})]:[]}}):[{dataset:"primary",mark:{type:"line",marker:{enabled:i}},x:r?{type:"category",field:y,blend:"bottom",order:Hg(r.column,t),formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:"bottom"},y:{type:"scaffold",blend:f},color:x1(o&&o.column,void 0,t,p,o),transform:[]}],N=d&&IZ(e)?[s1(i,r,t,o,b,h),..._]:_;return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:s,legendPosition:m,legendWidth:g,showTotals:j,x:c&&I?{bottom:{rules:{plotLines:[a1(r.column,n)]}}}:void 0,y:{[f]:G0(B0(Object(Mn.a)({}),l),u).set("title",E)},dateResolution:I},layers:N})},Y1=(e,t,n,{fiscalYearMonthName:r})=>{const a=Yc(e);return a&&a.size>0?F1(e,t,r):w1(e,t,r)};var B1=n("rSjK");const G1=(e,t,n)=>{const{columns:r}=e,a=Uc(e),o=Dc(e),s=kc(e),i=a.isEmpty()&&o.isEmpty(),c=e.visual.options.showTotals&&!i,l=e.visual.options.showColumnSubtotals&&a.count()>1,u=e.visual.options.showRowSubtotals&&o.count()>1,p=1===s.count(),d=c?(()=>{const e=a.isEmpty()||o.isEmpty(),t=s.map(e=>e.column.alias),n=t.map(e=>aP(e)),i=r=>{if(e)return r.isEmpty()?n:void 0;const a=r.last().column.alias;return t.map(e=>sP(a,e))},c=i(a),d=i(o),m=!r.find((e,t)=>t.startsWith(nP));return{rowTotal:p?c:void 0,columnTotal:d,grandTotal:n,showRowTotal:!!s.count()&&m&&!!c,showColumnTotal:!!s.count()&&m&&!!d,showRowSubtotals:u,showColumnSubtotals:l}})():{};return Object(B1.b)(Object.assign({type:fY.a,data:{primary:t},rows:a.map(e=>{const n=e.column,r=e.options;return{field:n.alias,order:Hg(n,t),formattingType:r.getIn(["format","type"]),formattingObject:r.get("format")}}),columns:o.map(e=>{const n=e.column,r=e.options;return{field:n.alias,order:Hg(n,t),formattingType:r.getIn(["format","type"]),formattingObject:r.get("format")}}),values:s.map(e=>({field:e.column.alias,formattingType:e.options.getIn(["format","type"]),formattingObject:e.options.get("format")}))},d))},V1=(e,t)=>{const{columns:n}=e,r=!t.data.isEmpty()&&t.data.first(),a=n.filter(e=>!oP(e)).map(e=>{if(e.role!==Cn.p.DIMENSION&&r)return r.get(aP(e.alias))});return t.set("data",b.List.of(a))},H1=(e,t)=>{if(t.data.isEmpty())return Object(b.Map)();const n=t.data.first();return e.columns.filter(({alias:e})=>n.has(qX(e))).map(({alias:e})=>qX(e))},W1=(e,t,n)=>{const{columns:r}=e,a=Dc(e),o=zs(r).isEmpty(),s=e.visual.options.showTotals&&!o,i=s&&V1(e,t),c=H1(e,t),l=e.sorts&&e.sorts.get(0),u=e=>l&&l.column===e?l.order===vn.c.ASCENDING?qY.c.ascending:qY.c.descending:void 0,p=t&&t.get("paginationSize"),d=n&&n.get("limit"),m=p&&d&&Math.ceil(p/d);return Object(qY.g)({type:fY.h,data:Object.assign({primary:t},s?{totals:i}:{}),pages:m,columns:a.map(({column:e,options:t})=>{const n=e.alias;return{dataset:"primary",field:n,direction:u(n),linkField:c.get(n),formattingType:t.getIn(["format","type"]),formattingObject:t.get("format")}}),footer:s?"totals":void 0,showTotals:s})};var K1=n("BOY1");const q1=(e,t,n)=>{if(!n)return e.data;const r=Object(GX.a)(e,t,n);return e.data.sortBy(e=>{const n=e.get(t);return r.indexOf(n)})},Q1=e=>{const t=e.getIn(["visual","options","showPercentChangeComparison"],!1),n=Pc(e);if(t&&CM(e)){const[{filter:t},{filter:r}]=e.dateComparisonFilter.filters,a=t.get("operation").get("timeUnit"),o=t.get("operation").get("operator"),s=r.get("operation").get("operator");if("YEAR"!==a&&!Us(n.column.field)){const e=h.a.moment().get(aZ[a])+([Cn.e.MONTH,Cn.e.DAYOFWEEK].includes(a)?1:0)===1;if("IN_THIS_TIME_UNIT"===o&&"IN_LAST_TIME_UNIT"===s&&e)return!0}}return!1},$1=(e,t,n,r,a,o)=>{const s=q1(t,n,o),i=s.map(e=>e.get(n)).toSet(),c=s.map(e=>e.get(a)).toSet(),l=c.max(),u=c.min(),p=s.reduce((e,t)=>{const r=t.get(n),o=t.get(a);return e.has(r)?e.update(r,e=>e.set(o,t)):e.set(r,Object(b.Map)().set(o,t))},Object(b.Map)()),d=i.reduce((e,t)=>{const o=p.hasIn([t,l])?p.get(t).get(l):{[n]:t,[a]:l,[r]:0},s=p.hasIn([t,u])?p.get(t).get(u):{[n]:t,[a]:u,[r]:0};return e.update("primary",e=>e.push(Object(b.Map)(o))).update("compare",e=>e.push(Object(b.Map)(s)))},Object(b.Map)({primary:Object(b.List)(),compare:Object(b.List)()})),m=Q1(e),g=d.get("primary"),O=d.get("compare"),f=Object(K1.a)({data:g,paginationSize:g.length,properties:t.properties}),E=Object(K1.a)({data:O,paginationSize:O.length,properties:t.properties});return{primary:m?E:f,compare:m?f:E}},J1=(e,t,n,r,a)=>{const o=q1(t,n,a);if(1===o.size)return{compare:Object(K1.a)({data:t.data.map(e=>Object(b.Map)({[n]:e.get(n),[r]:0})),properties:t.properties}),primary:t};const s=o.map((e,t)=>0===t?Object(b.Map)({[n]:e.get(n),[r]:0}):Object(b.Map)({[n]:e.get(n),[r]:o.getIn([t-1,r])}));return{compare:Object(K1.a)({data:s,properties:t.properties}),primary:t.set("data",o)}},z1=(e,t)=>{const n=e.data.get(0),r=t.reduce((e,r,a)=>e.set(r.column,0!==a&&n?n.get(t.get(a-1).column):0),Object(b.Map)());return{primary:e,compare:Object(K1.a)({data:Object(b.List)([r]),properties:e.properties})}},X1=(e,t,n,r)=>{const a=t.getIn(["group","column"]),o=t.getIn(["compare","column"]),{values:s}=t,i=t.getIn(["values",0,"column"]);return o&&i&&a?$1(e,n,a,i,o,r):i&&a?J1(e,n,a,i,r):!a&&s.length>1?z1(n,s):{primary:n}},Z1=(e,t)=>{const n=Pc(e),r=kc(e),a=n&&n.options,o=r.map(e=>({column:e.column.get("alias"),options:e.options})),s=e.getIn(["visual","options"]).get("showPercentChangeComparison",!1),i=()=>{if(!n||!n.column)return;const r=Hg(n.column,t);if(s&&CM(e)){const[{filter:t},{filter:a}]=e.dateComparisonFilter.filters,o=t.get("operation").get("timeUnit"),s=t.get("operation").get("operator"),i=a.get("operation").get("operator"),c=Li(n.column);if("YEAR"!==o&&c===o){const e=h.a.moment().get(aZ[c])+([Cn.e.MONTH,Cn.e.DAYOFWEEK].includes(o)?1:0)===1;if("IN_THIS_TIME_UNIT"===s&&"IN_LAST_TIME_UNIT"===i&&e)return r.set("direction",vn.c.DESCENDING)}}return r};return Object(BY.c)({type:fY.b,data:s?X1(e,e.getIn(["visual","encodings"]),t,i()):{primary:t},layer:{dataset:"primary",compare:"compare",direction:n?BY.d.vertical:BY.d.horizontal,group:n?Hi(n):void 0,fields:r.map(Hi),order:i(),groupFormattingOptions:a,valueFormattingOptions:o}})},e2=(e,t)=>{const n=wc(e),r=Bc(e),a=Cc(e),{showDataLabels:o,stacking:s,yMinMax:i,yAxisType:c,color:l,goalLineValue:u,legendPosition:p,legendWidth:d,accumulate:m}=e.visual.options,g="left",O=n&&Hi(n),f=r&&Hi(r),E=a&&Hi(a),y=eu(O,e),T=Object(V0.a)({field:O,direction:"ascending"}),I=()=>{const t=$M(e);return t&&t.alias},h={dataset:"primary",mark:{type:"bar",stacking:s},x:n?{type:"category",field:O,blend:"bottom",order:Hg(n.column,t),formattingType:Ki(n),formattingObject:Wi(n)}:{type:"scaffold",blend:"bottom"},y:r?{type:"linear",field:f,blend:g,fill:!0,formattingType:Ki(r),formattingObject:Wi(r)}:{type:"scaffold",blend:g},color:i1(a&&a.column,r&&r.column&&b.List.of(r.column),t,l,a),transform:m?[Object(V0.b)({groupBy:[E],field:f,along:T})]:[],axisTotal:I()},j=u&&IZ(e)?[s1(!0,n,t,a,m,T),h]:[h];return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:!s&&o,stackLabels:s&&o,legendPosition:p,legendWidth:d,y:{[g]:G0(B0(Object(Mn.a)({}),i),c)},dateResolution:y},layers:j})},t2=(e,t)=>{const n=wc(e),r=Yc(e),a=Cc(e),{showDataLabels:o,stacking:s,yMinMax:i,yAxisType:c,color:l,goalLineValue:u,legendPosition:p,legendWidth:d,accumulate:m,yAxisLabel:g}=e.visual.options,b="left",O=c1(g,r,t),f=n&&Hi(n),E=a&&Hi(a),y=eu(f,e),T=Object(V0.a)({field:f,direction:"ascending"}),I=l1(r,t),h=u1(r),j=r.size>1,A=r&&r.size>0?r.map((e,o)=>{const i=Hi(e);return{id:o,dataset:"primary",mark:{type:"bar",stacking:s},x:n?{type:"category",field:f,blend:"bottom",order:Hg(n.column,t),formattingType:Ki(n),formattingObject:Wi(n)}:{type:"scaffold",blend:"bottom"},y:{type:"linear",field:i,blend:b,fill:!0,formattingObjectMap:j?h:void 0,formattingType:I?Ki(e):void 0,formattingObject:I?Wi(e):void 0},color:i1(a&&a.column,r.map(e=>e.column),t,l,r.size>1?e:a),transform:m?[Object(V0.b)({groupBy:[E],field:i,along:T})]:[]}}):[{dataset:"primary",mark:{type:"bar",stacking:s},x:n?{type:"category",field:f,blend:"bottom",order:Hg(n.column,t),formattingType:Ki(n),formattingObject:Wi(n)}:{type:"scaffold",blend:"bottom"},y:{type:"scaffold",blend:b},color:i1(a&&a.column,void 0,t,l,a),transform:[]}],S=u&&IZ(e)?[s1(!0,n,t,a,m,T),...A]:A;return Object(Mn.p)({type:"XY",data:{primary:t},style:{dataLabels:!s&&o,stackLabels:s&&o,legendPosition:p,legendWidth:d,showTotals:I,y:{[b]:G0(B0(Object(Mn.a)({}),i),c).set("title",O)},dateResolution:y},layers:S})},n2=(e,t,n)=>{const r=Yc(e);return r&&r.size>0?t2(e,t):e2(e,t)},r2=(e,t,n,r,a)=>{const o=e&&Hg(e,n),s=void 0===e&&t?q0(b.List.of(t),n):K0(e,n),{scheme:i}=fr.get(r.paletteId)||Hn,c=t1(s,i,r.assignments);if(c.isEmpty())return;if(void 0===e)return{default:c.first()};return{field:e.alias,defined:c.toJS(),order:o,formattingType:Ki(a),formattingObject:Wi(a)}},a2=(e,t)=>{const n=wc(e),r=Bc(e),a=Cc(e),o=vc(e),s=Lc(e),{showBubbleLegend:i,showDataLabels:c,xMinMax:l,yMinMax:u,yAxisType:p,xAxisType:d,color:m,legendPosition:g,legendWidth:b,opacity:O,dataLabelFormat:f}=e.visual.options,E="left",y="bottom",T=n&&n.column.alias,I=r&&r.column.alias,h=a&&a.column.alias,j=o&&o.column.alias,A=s&&s.column.alias,S=n&&n.column.role===Cn.p.DIMENSION,_=r&&r.column.role===Cn.p.DIMENSION,N=eu(A,e)||eu(T,e)||eu(I,e),R=[{dataset:"primary",mark:{type:o?Mn.k.bubble:Mn.k.scatter,marker:{enabled:!0}},x:n?{type:S?Mn.c.category:Mn.c.linear,field:T,blend:y,order:Hg(n.column,t),fill:!1,formattingType:Ki(n),formattingObject:Wi(n)}:{type:Mn.c.scaffold,blend:y},y:r?{type:_?Mn.c.category:Mn.c.linear,field:I,blend:E,fill:!1,formattingType:Ki(r),formattingObject:Wi(r)}:{type:Mn.c.scaffold,blend:E},sizing:o?{field:j,formattingType:Ki(o),formattingObject:Wi(o)}:void 0,detail:s?{field:A,formattingType:Ki(s),formattingObject:Wi(s)}:void 0,color:r2(e.columns.get(h),e.columns.get(I),t,m,a)}],C={type:"XY",data:{primary:t},style:{showBubbleLegend:i,dataLabels:c,dataLabelFormat:f,legendPosition:g,legendWidth:b,opacity:O,x:n&&!S?{[y]:G0(B0(Object(Mn.a)({}),l),d)}:void 0,y:r&&!_?{[E]:G0(B0(Object(Mn.a)({}),u),p)}:void 0,dateResolution:N},layers:R};return Object(Mn.p)(C)};var o2=n("A+hA");const s2=(e=Object(b.List)(),t=Hn)=>{const n=Z0(t.get("scheme"),e.size);return e.reduce((e,t,r)=>{e[r]=t.get("color")||n.get(r);return e},{})},i2=(e,t={})=>{const{paletteId:n}=t,r=Er.get(n)||Hn,a=s2(e,r);return e.map((e,t)=>e.set("color",a[t]))},c2=(e,t)=>{const n=e.getIn(["visual","options"]),r=e.getIn(["visual","encodings","single_value","column"]),a=e.getIn(["visual","encodings","compare","column"]),o=i2(n.get("bands"),n.get("color"));return Object(o2.b)({type:fY.d,data:Object(b.fromJS)({primary:t}),layer:{dataset:"primary",showRangeLabels:n.get("showRangeLabels"),plot:Object(b.fromJS)({min:n.getIn(["range","min"]),max:n.getIn(["range","max"]),bands:o}),dataColumn:r,compareColumn:a},style:{legendPosition:n.get("legendPosition"),legendWidth:n.get("legendWidth")}})},l2={[Fa.AREA]:m1,[Fa.DONUT]:D1,[Fa.HORIZONTAL_BAR]:k1,[Fa.LINE]:Y1,[Fa.SCATTER]:a2,[Fa.PIE]:L1,[Fa.TABLE]:W1,[Fa.TEXT]:Z1,[Fa.VERTICAL_BAR]:n2,[Fa.COMBO]:C1,[Fa.PIVOT_TABLE]:G1,[Fa.GAUGE]:c2},u2=(e,t,n,r)=>{const a=Fl(e);return(0,l2[a])(e,t,n,r)},p2=Ln.i({row:Ln.a(),field:Ln.k().optional(),levelOfDetail:Ln.d(Ln.k()).optional()}),d2={[fY.j]:e=>p2({row:e.point.get("row"),levelOfDetail:e.levelOfDetail}),[fY.g]:e=>p2({row:e.point.get("sliceRow")}),[fY.b]:e=>p2({row:e.row,field:e.field}),[fY.h]:e=>p2({row:e.row,field:e.field}),[fY.a]:e=>p2({row:e.row,field:e.field,levelOfDetail:e.levelOfDetail})},m2=(e,t)=>!!Xs(e,t).aggregation,g2=(e,t,n)=>{const{type:r}=t,a=e.update("onPointClick",e=>{if(null==e)return e;const t=d2[r];return t?((e,t)=>n=>t(e(n)))(t,e):e}),o=a.get("onPointClick");let s;const i=a.get("onSort");switch(r){case fY.j:s=Object(Mn.g)({onPointClick:o});break;case fY.g:s=Object(WY.a)({onPointClick:o});break;case fY.b:s=Object(BY.e)({getOnPointClick:()=>o});break;case fY.h:s=Object(qY.d)({getOnPointClick:({field:e})=>m2(n,e)?o:void 0});i&&(t=t.update("columns",e=>e.map(e=>e.set("onSort",i))));break;case fY.a:s=Object(B1.f)({onClick:o});break;case fY.d:s=Object(o2.a)({onPointClick:o});break;default:s=void 0}return s?t.set("events",s):t},b2={[fY.h]:qY.f,[fY.g]:WY.e,[fY.j]:Mn.o},O2=(e,t)=>{if(!e)return t;b2[t.get("type")]&&(t=t.get("style")?t.setIn(["style","isMobile"],!0):t.set("style",b2[t.get("type")]({isMobile:!0})));return t.get("type")===fY.h?t.update("columns",e=>e.map(e=>e.delete("linkField"))):t},f2=e=>{const t=pX(e),n=Object(p.useCallback)(()=>Rw(t),[t]);return lX(n)},E2=(e,t)=>{const{limit:n,offset:r}=e,{key:a,data:o,properties:s,paginationSize:i,searchDimension:c}=t,l=r%yH;return Object(NM.a)({key:a,data:n?o.skip(l).take(n):o.skip(l),properties:s,paginationSize:i,searchDimension:c})},y2=(e,t,n,r,a)=>o=>{const s=o.row,i=oU(o,t,n),c=aU(s,r,n,a),l=Object(b.Map)({reportDefinition:c,name:i,chartType:X.e});e(l)},T2=()=>{const e=Qt.a.get();return Kc.a.get(`hubs2/v1/settings/hub/${e}/setting/hubspot:fiscalyear`)},I2=()=>{const{data:e,error:t}=lX(T2);return t?"JANUARY":e&&e.value};var h2=(e,t,n,r,a,o)=>{const s=I2(),{loading:i,data:c}=f2(t.reportDefinition);if(i)return;if(!e)return;if(!s)return;const{reportDefinition:l,reportOptions:u}=t,p=E2(u,e);let d=u2(l,p,u,{fiscalYearMonthName:s});const m=r&&s?y2(r,e,l,c,s):void 0,g=d.type===X.l?a:void 0;d=g2(Object(b.Map)({onPointClick:m,onSort:g}),d,l.columns);d=O2(o,d);return d};const j2=(e,{reportId:t,onStart:n=AC.a,onSettled:r=AC.a,onError:a=AC.a,onDrilldown:o,onSort:s,onQuerySuccess:i=AC.a,isMobile:c=!1}={})=>{const l=dX(e.reportDefinition),{queryState:u,queryDefinition:d}=Y0(e,{reportId:t,onSuccess:i}),m=y0(u.status===oX.SUCCEEDED?u.data:void 0,l.status===oX.SUCCEEDED?l.data:void 0,e.reportDefinition),{data:g}=m,b=h2(m.status===oX.SUCCEEDED?g:void 0,e,l.status===oX.SUCCEEDED?l.data:void 0,o,s,c),{loading:O,settled:f,error:E}=iX([l,u,m]),y=cX(n);Object(p.useEffect)(()=>{O&&y.current()},[O,y]);const T=cX(r);Object(p.useEffect)(()=>{f&&T.current(g,b)},[f,T,g,b]);const I=cX(a);Object(p.useEffect)(()=>{E&&I.current(E)},[f,I,E]);return{visualization:b,dataset:g,queryDefinition:d,loading:O,error:E}};var A2=n("q83f");const S2={limit:1e3,offset:0,fetchFromCache:!1,updateCache:!0},_2={limit:1e3,offset:0,forceSnowflakeQuery:!1},N2=e=>e.get("dataSet").merge({dataAge:e.getIn(["asyncQueryResponseMeta","dataAge"]),queryId:e.getIn(["asyncQueryResponseMeta","queryId"])}),R2=(e,t)=>Kc.a.post("reporting/v1/report",{data:{queryId:t,reportDefinition:e.get("reportDefinition").toJS(),reportOptions:e.has("reportOptions")?e.get("reportOptions").toJS():S2}}).then(b.fromJS),C2=(e,t)=>Kc.a.post("reporting/v1/report",{data:{queryId:t,reportDefinition:e.get("reportDefinition").toJS(),reportOptions:e.has("reportOptions")?e.get("reportOptions").toJS():S2}}).then(b.fromJS),v2=(e,t)=>Kc.a.get("reporting/v1/report/"+t,{query:e.has("reportOptions")?e.get("reportOptions").toJS():_2}).then(b.fromJS),L2=(e,t={})=>new Promise((n,r)=>{const{onTick:a=(()=>{}),queryId:o,reportId:s,lastReportingApiResponse:i=Object(b.Map)()}=t;if(i.get("reportSource")===iw.CRM_SEARCH){n(i.get("dataSet"));return}const c=i.getIn(["asyncQueryResponseMeta","queryStatus"]),l=i.getIn(["asyncQueryResponseMeta","queryId"]),u=o=>{a(o,e)||L2(e,Object.assign({},t,{lastReportingApiResponse:o})).then(n,r).catch(r)};switch(c){case void 0:{const t=void 0===e.getIn(["reportOptions","fetchFromCache"])||e.getIn(["reportOptions","fetchFromCache"]);(s&&t?()=>v2(e,s):()=>R2(e,o))().then(u,r).catch(r);break}case sw.RUNNING:setTimeout(()=>{C2(e,l).then(u,r).catch(r)},aw);break;case sw.SUCCESS:n(N2(i));break;case sw.FAILED:r(new wq.d(`Async query ${l} failed`));break;case sw.CANCELLED:r(new wq.d(`Async query ${l} was cancelled`));break;case sw.TIMEOUT:r(new wq.d(`Async query ${l} timed out`));break;case sw.UNKNOWN:default:r(new wq.d(`Async query ${l} errored with status ${c}`))}});var D2=(e,{reportId:t,onSuccess:n,queryId:r})=>{const a=_X(e,t),o=F0(a),s=Object(p.useCallback)(()=>L2(a,{queryId:r,onTick:o}),[a,o,r]),i=AX(a);return{queryState:lX(s,{enabledFn:({data:e})=>!(!a||void 0===r||void 0!==e&&!i),onSuccess:n}),refetch:s}};function M2(e,t,n){return n.get("references").map((n,r)=>{if(r===_.b)return n;return void 0!==t.getIn(["identifiers",e,r,"references","label"])?n.set("label",`${n.get("label")} (${r})`):n.set("label",` (${r})`)})}function P2(e,t,n){const r=t.field;if(!r||ts(r))return e;const a=uZ[n];if(a){const n=e.get("references"),r=a(t),o=n.map(e=>{const t=e.get("id");return t?e.set("label",r(t)):e});return e.set("references",o)}return e}const U2=({reportDefinition:e,metaData:t,dataset:n,datasetBuildOptions:r,raasResponse:a})=>{const o=n.properties.map((n,o)=>{const s=e.getIn(["columns",o]);if(!s)return n;const{tables:i,properties:c,datasetDefinition:l}=t,u=s.field,{table:p,name:d}=u;if(!p&&!e.expressions)return n;const m=i.get(p),g=Ni(s)?c0(u):c.getIn([p,d]),O=p===Ro.a&&l?l.fields.get(d):void 0,f=Mi(s,g,m,O,e.expressions),E=ki(s,g),y=g&&g.numberDisplayHint;return n.withMutations(e=>{let t=e.set("label",f).set("type",E).set("numberDisplayHint",y);const i=n.getIn(["format","companyCurrencyCode"]);i&&(t=t.set("companyCurrencyCode",i));r.isMeasure(o)&&![Cn.o.DATETIME,Cn.o.DATE,Cn.o.HTML,Cn.o.DURATION].includes(n.get("type"))&&(t=t.set("references",Object(b.Map)({})));if(!g)return t;g.options&&g.options.isEmpty()&&UZ(g)&&(xZ(m,g)||a0(m,g))&&(t=t.set("references",M2(o,a,t)));t=P2(t,s,E);return t})}).toMap();let s=$X(e,t,n).set("properties",o);s=VX(e,t,s);hZ(e)&&(s=jZ(e,t,s));return s},k2=e=>({isSearch:e.get("columns",Object(b.Map)()).every(e=>"DIMENSION"===e.get("role")),isRelational:!0,removeLastRowPercentiles:!1,hasCurrencyDimension:t=>e.get("columns",Object(b.Map)()).some((e,n)=>n===t&&"DIMENSION"===e.get("role")),isMeasure:t=>"MEASURE"===e.getIn(["columns",t,"role"]),getMeasureType:t=>"MEASURE"===e.getIn(["columns",t,"role"])?e.getIn(["columns",t,"aggregation"]):E.SUM}),x2=e=>e.update("header",e=>e.map(e=>{const t=e.get("aggregationType");return t?e.set("propertyMeta",Object(b.Map)({aggregationType:t})):e})),w2=(e,{reportId:t,onStart:n=AC.a,onSettled:r=AC.a,onError:a=AC.a,onDrilldown:o,onSort:s,onQuerySuccess:i=AC.a,isMobile:c,queryId:l}={})=>{const{reportDefinition:u}=e,d=dX(u),{queryState:m}=D2(e,{reportId:t,queryId:l,onSuccess:i}),{loading:g,settled:b,error:O}=iX([d,m]),{data:f}=m;let E=void 0;if(b&&void 0!==f){const e=Object.assign({},k2(u),{dataAge:f.get("dataAge")});E=Object(NM.a)(Object(A2.a)(x2(f),e));E=U2({reportDefinition:u,metaData:d.data,dataset:E,datasetBuildOptions:e,raasResponse:f})}const y=h2(E,e,d.data,o,s,c),T=cX(n);Object(p.useEffect)(()=>{g&&T.current()},[g,T]);const I=cX(r);Object(p.useEffect)(()=>{b&&I.current(E)},[b,I,E]);const h=cX(a);Object(p.useEffect)(()=>{O&&h.current(O)},[b,h,O]);return{visualization:y,dataset:E,loading:g,error:O}};var F2=w2,Y2=n("kAwc"),B2=n("8REs");var G2=({reportOptions:e,dataset:t,onPageChange:n,onLimitChange:r,isMobile:a})=>{const{limit:o,offset:s}=e,i=t&&t.paginationSize;if(void 0===o||void 0===i)return null;const c=Math.floor(s/o)+1,l=Object(QF.a)(i,o),p=i>10,d=({target:{value:e}})=>{const t=Number(e);n(1);r(t)};return Object(u.jsx)(rY,{page:c,pageCount:l,itemsPerPage:o,onPageChange:n,isMobile:a,onPerPageChange:p?d:null})};function V2({children:e,isXYVisual:t=!0,isMobile:n=!1,"data-test-id":r}){return t||n?Object(u.jsx)("div",{style:{height:"100%",overflow:"auto"},"data-test-id":r,children:Object(u.jsx)($F.a,{direction:"column",align:"stretch",justify:"center",style:{position:"relative",height:"100%"},children:e})}):Object(u.jsx)("div",{"data-test-id":r,style:{height:"100%",overflow:"auto"},children:e})}var H2=V2;const W2=({loadUse:e})=>{switch(e){case"refresh":return Object(u.jsx)("div",{style:{height:400},children:Object(u.jsx)(Y2.a,{contextual:!0,use:"light",layout:"centered",width:250,children:Object(u.jsx)($F.a,{direction:"column",align:"center",justify:"around",style:{minHeight:"100%"},children:Object(u.jsx)(B2.a,{children:Object(u.jsxs)($F.a,{direction:"column",align:"center",justify:"around",style:{width:"100%"},children:[Object(u.jsx)(Tn.a,{}),h.a.text("reporting-snowflake.refreshing")]})})})})});case"overlay":default:return Object(u.jsx)(Tn.a,{layout:"centered"})}},K2=e=>{if(!e)return!0;return 0===(e.data.get("primary").data||Object(b.List)()).size},q2=(e,t)=>t.columns.has(e.column),Q2=(e,t)=>Object(u.jsx)(EY.b,{visualization:e.setIn(["style","bottomLegend"],!0).setIn(["style","height"],600),debug:t}),$2=({userInfo:e,violatedCriteria:t})=>{const n=e.gates.includes("AdvancedBuilder:FunctionAccessMoreAdvancedUpgradeExperiment")?"advanced-builder-formula-access-modal-2":"advanced-builder-formula-access-modal",{openUpgradeModal:r}=Object(gH.a)(n);return Object(u.jsx)(ka.a,{message:`reporting-snowflake.violated-constraints-dashboard.${t.get("name")}_jsx`,options:{onClick:r},elements:{Link:xa.a}})},J2=({loadUse:e,reportDefinition:t,setReportOptions:n,report:r,debug:a,reportOptions:o,userInfo:s,isMobile:i,errorRenderer:c,meta:l})=>({loading:p,error:d,visualization:m,dataset:g})=>{const b=p&&Object(u.jsx)(W2,{loadUse:e}),{gates:O}=s;if(p)return Object(u.jsx)(H2,{children:b});if(!LU(t,l,s)){const e=MU(t,l,s)||PU(t,l,s),n=()=>e.get("name").includes("no-expression-functions-access")?{header:h.a.text("reporting-snowflake.violated-constraints-dashboard."+e.get("name")).header,message:Object(u.jsx)($2,{userInfo:s,violatedCriteria:e})}:h.a.text("reporting-snowflake.violated-constraints-dashboard."+e.get("name")),r=e?n():h.a.text("reporting-snowflake.report-errors.generic");return Object(u.jsxs)(H2,{children:[Object(u.jsx)(jz.a,{layout:"vertical",primaryContent:Object(u.jsxs)("div",{className:"splash-message",children:[Object(u.jsx)("h4",{children:r.header}),Object(u.jsx)("p",{children:r.message})]})}),b]})}if(d)return c?c(d,r):Object(u.jsxs)(H2,{children:[Object(u.jsx)(Xz,{error:d}),b]});if(!m)return Object(u.jsx)(H2,{children:b});if(K2(m))return Object(u.jsxs)(H2,{children:[Object(u.jsx)(KH.a,{}),b]});const f=e=>{n(t=>{const n=t.limit*(e-1);return t.set("offset",n)})},E=e=>{n(t=>t.set("limit",e))},y=t.visual.type===Fa.TABLE,T=!(y||t.visual.type===Fa.PIVOT_TABLE||t.visual.type===Fa.TEXT||t.visual.type===Fa.PIE||t.visual.type===Fa.DONUT||t.visual.type===Fa.GAUGE),I=i?{height:"100vh"}:{},j=T&&!0===r.getIn(["displayParams","onlyLegend"])?Q2(m,a):Object(u.jsx)(EY.b,{visualization:m,debug:a,gates:O,style:I});return Object(u.jsxs)(H2,{isXYVisual:T,isMobile:i,children:[j,y&&Object(u.jsx)(G2,{reportOptions:o,dataset:g,isMobile:i,onLimitChange:E,onPageChange:f}),b]})},z2=({reportWithOptions:e,resolveParameters:t,RenderedReport:n,debug:r})=>{const{visualization:a,dataset:o,queryDefinition:s,loading:i,error:c}=j2(e,t);if(r&&r.set){r.set("Dataset",o);r.set("Error",c);r.set("queryDefinition",s)}return Object(u.jsx)(n,{visualization:a,dataset:o,loading:i,error:c})},X2=({reportWithOptions:e,resolveParameters:t,RenderedReport:n,debug:r})=>{const{visualization:a,dataset:o,loading:s,error:i}=F2(e,Object.assign({},t,{queryId:null}));if(r&&r.set){r.set("Dataset (RaaS API)",o);r.set("Error (RaaS API)",i);r.set("Visualization (RaaS API)",a)}return Object(u.jsx)(n,{visualization:a,dataset:o,loading:s,error:i})},Z2=({reportWithOptions:e,resolveParameters:t,RenderedReport:n,debug:r})=>{const{visualization:a,dataset:o,loading:s,error:i}=j2(e,t),{dataset:c,error:l,loading:p,visualization:d}=F2(e,Object.assign({},t,{onStart:AC.a,onSettled:AC.a,onError:AC.a,queryId:o&&o.get("queryId")}));MX({reportWithOptions:e,loading:s,loadingRaaS:p,dataset:o,datasetRaaS:c,error:i,errorRaaS:l,visualization:a,visualizationRaaS:d});if(r&&r.set){r.set("Dataset",o);r.set("Error",i);r.set("Dataset (RaaS API)",c);r.set("Error (RaaS API)",l)}return Object(u.jsx)(n,{visualization:a,dataset:o,loading:s,error:i})},e5=({report:e,initialReportOptions:t,onResolveStart:n=AC.a,onReportResolve:r=AC.a,onDrilldown:a,onError:o=AC.a,loadUse:s="basic",debug:i,allowSort:c=!0,flushSortsOnDrilldown:l=!1,backendResolve:d=!1,forceValidation:m=!1,isMobile:g=!1,errorRenderer:O})=>{const f=e.get("reportDefinition"),E=Object(p.useMemo)(()=>Pl(f),[f]),[y,T]=Object(p.useState)(Object(b.List)()),I=y.length>0?null:e.get("id"),h=Object(p.useContext)(CG),{gates:j}=h,A=CX(E,j,{forceValidation:m,backendResolve:d}),[S,_]=SH(t,I,E),N=Object(p.useRef)(1),R=Object(p.useRef)(0);PG(e,N,R);Object(p.useEffect)(()=>{if(S){const{limit:e,offset:t}=S,n=Math.floor(t/e)+1;n>N.current&&(N.current=n);e!==R.current&&(R.current=e)}},[S]);Object(p.useEffect)(()=>{const e=y.filter(e=>q2(e,E));e.size!==y.size&&T(e)},[y,E]);const C=Object(p.useMemo)(()=>{const e=y.size>0&&!y.equals(E.sorts);return uw({reportDefinition:e?E.set("sorts",y):E,reportOptions:S})},[E,S,y]),v=dX(C.reportDefinition);i&&i.set&&i.set("Report w/ Options",C);const L=J2({loadUse:s,reportDefinition:C.reportDefinition,setReportOptions:_,report:e,debug:i,reportOptions:S,userInfo:h,isMobile:g,errorRenderer:O,meta:v.data});if(v.loading||v.error)return Object(u.jsx)(L,{loading:v.loading,error:v.error});const D={reportId:I,onStart:n,onSettled:r,onError:o,onDrilldown:a?(...e)=>{l&&T(Object(b.List)());return a(...e)}:void 0,onSort:c?e=>T(Gg(e,E,y,v.data)):void 0,isMobile:g};switch(A){case cw.UNDETERMINED:return Object(u.jsx)(L,{loading:!0});case cw.VALIDATING:return Object(u.jsx)(Z2,{reportWithOptions:C,resolveParameters:D,RenderedReport:L,debug:i});case cw.MIGRATED:return Object(u.jsx)(X2,{reportWithOptions:C,resolveParameters:D,RenderedReport:L,debug:i});case cw.UNMIGRATED:default:return Object(u.jsx)(z2,{reportWithOptions:C,resolveParameters:D,RenderedReport:L,debug:i})}};e5.propTypes={report:QW.b.isRequired,initialReportOptions:XN.a.object,onResolveStart:XN.a.func,onReportResolve:XN.a.func,onError:XN.a.func,onDrilldown:XN.a.func,loadUse:XN.a.oneOf(["basic","refresh"]),debug:XN.a.object,isMobile:XN.a.bool,allowSort:XN.a.bool,flushSortsOnDrilldown:XN.a.bool,forceValidation:XN.a.bool,backendResolve:XN.a.bool,errorRenderer:XN.a.func};var t5=e5,n5=n("XCmw");const r5="reporting/v1/journey",a5=({dataAge:e})=>Object.assign({},n5.a,{dataAge:e}),o5=e=>{const t=e.asyncQueryResponseMeta.queryId,n=e.asyncQueryResponseMeta.queryStatus,r=e.asyncQueryResponseMeta.dataAge,a=e.dataSet,o=e.summaryDataSet,s=a5({dataAge:r});return{queryId:t,queryStatus:n,dataset:a?{primary:Object(b.fromJS)(Object(A2.a)(Object(b.fromJS)(a),s)).toJS(),summary:o?Object(b.fromJS)(Object(A2.a)(Object(b.fromJS)(o),s)).toJS():void 0}:void 0}},s5=e=>Kc.a.post(r5+"/",{data:e}).then(e=>o5(e)),i5=(e,t)=>Kc.a.post(`${r5}/query/${t}`,{data:e}).then(e=>o5(e)),c5=e=>Kc.a.delete(`${r5}/query/${e}`),l5=(e,t)=>Kc.a.post(`${r5}/report/${t}`,{data:e}).then(e=>o5(e)),u5=(e,t={})=>new Promise((n,r)=>{const{onTick:a=AC.a,reportId:o,lastQuery:{queryId:s,queryStatus:i,dataset:c}={}}=t,l=o=>{a(o,e)||u5(e,Object.assign({},t,{lastQuery:o})).then(n,r).catch(r)};switch(i){case void 0:{const t=void 0===e.reportOptions.fetchFromCache||e.reportOptions.fetchFromCache;(o&&t?()=>l5(e,o):()=>s5(e))().then(l,r).catch(r);break}case sw.RUNNING:setTimeout(()=>{i5(e,s).then(l,r).catch(r)},ow);break;case sw.SUCCESS:n(c);break;case sw.FAILED:r(new fw(`Async query ${s} failed`));break;case sw.CANCELLED:r(new Ow(`Async query ${s} was cancelled`));break;case sw.TIMEOUT:r(new Ew(`Async query ${s} timed out`));break;case sw.UNKNOWN:default:r(new mw(`Async query ${s} errored with status ${i}`))}}),p5=(e,t)=>u5(e,t);function d5(e){return(t,n)=>t.length===n.length&&t.every((t,r)=>e(t,n[r]))}const m5=(e,t)=>Boolean(e.allowAnonymousVisitors)===Boolean(t.allowAnonymousVisitors)&&Boolean(e.includeDropoffs)===Boolean(t.includeDropoffs),g5=d5((e,t)=>e.type===t.type&&e.combinedAssociationTypeId===t.combinedAssociationTypeId),b5=d5((e,t)=>!(!e.definitions&&t.definitions||e.definitions&&!t.definitions)&&(e.definitions&&t.definitions?e.target===t.target&&g5(e.definitions,t.definitions):e.target===t.target)),O5=(e,t)=>!e&&!t||!(!e||!t)&&b5(e,t),f5=(e,t)=>e.name===t.name&&e.objectTypeId===t.objectTypeId&&O5(e.join,t.join),E5=(e,t)=>e.name===t.name&&e.table===t.table,y5=d5((e,t)=>E5(e.field,t.field)&&Object(b.is)(Object(b.fromJS)(e.filter),Object(b.fromJS)(t.filter))),T5=d5((e,t)=>e.condition===t.condition&&y5(e.filters,t.filters)),I5=(e,t)=>!e&&!t||!!e&&!!t&&e.condition===t.condition&&T5(e.groups,t.groups),h5=(e,t)=>f5(e.table,t.table)&&I5(e.filtering,t.filtering),j5=(e,t)=>e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo,A5=d5((e,t)=>e.name===t.name&&e.alias===t.alias&&h5(e.query,t.query)),S5=d5((e,t)=>e.orderNumber===t.orderNumber&&e.optional===t.optional&&e.name===t.name&&A5(e.steps,t.steps)),_5=(e,t)=>!e&&!t||!!e&&!!t&&e.alias===t.alias&&e.aggregation===t.aggregation&&E5(e.field,t.field),N5=(e,t)=>h5(e.objectQuery,t.objectQuery)&&S5(e.stages,t.stages)&&j5(e.eventDateInterval,t.eventDateInterval)&&_5(e.measure,t.measure)&&m5(e,t),R5=(e,t)=>e.limit===t.limit&&e.offset===t.offset,C5=(e,t)=>!!e&&!!t&&R5(e.reportOptions,t.reportOptions)&&N5(e.journeyQuery,t.journeyQuery),v5=1e3,L5=e=>Object.assign({},e,{reportOptions:Object.assign({},e.reportOptions,{limit:v5,offset:v5*Math.floor((e.reportOptions.offset||0)/v5)})}),D5=(e,{limit:t,offset:n=0})=>{const r=e.primary,a=r.data,o=n%v5;return Object.assign({},e,{primary:Object.assign({},r,{data:t?a.slice(o,o+t):a.slice(o)})})},M5=e=>{const t=Object(p.useRef)(e);Object(p.useEffect)(()=>{t.current=e},[e]);Object(p.useEffect)(()=>()=>{t.current=void 0},[]);return Object(p.useCallback)((e,n)=>{const{queryId:r,queryStatus:a}=e;if(a===sw.RUNNING&&!C5(t.current,n)){c5(r).catch(e=>{console.error("Error in useQuery, could not automatically cancel query "+r,e)});return!0}return!1},[])},P5=e=>Object(p.useMemo)(()=>Object(aX.a)(e=>e,C5),[])(L5(e));var U5=(e,t)=>{const n=P5(e),r=M5(n),{reportId:a}=t,o=Object(p.useCallback)(()=>p5(n,{reportId:a,onTick:r}),[n,a,r]),s=AX(n);return lX(o,{enabledFn:({data:e})=>!e||s})};const k5=({point:e})=>({row:e.get("row").toJS()}),x5=({row:e})=>({row:e.toJS()}),w5={[X.c]:k5,[X.h]:x5,[X.l]:x5,[X.k]:k5},F5=(e,t,n)=>{const r=n.from?h.a.text("reporting-snowflake.funnel.drilldown-name",{from:Object(K1.d)(t.primary,sV.FROM,n.from),to:Object(K1.d)(t.primary,sV.TO,n.to)}):Object(K1.d)(t.primary,sV.TO,n.to);return{journeyQuery:Object.assign({},e.journeyQuery,{measure:pV(n)}),chartType:X.l,name:r}},Y5=(e,t,n)=>n?r=>{const{row:a}=w5[e.chartType](r);if(a.to===lV)return;const o=F5(e,t,a);return n(Object(b.fromJS)(o))}:void 0,B5=({dataset:e,filterProperty:t})=>e.data.reduce((e,n)=>Object.assign({},e,{[n[t]]:n}),{}),G5=({point:e,linksDataMap:t})=>{const{id:n,options:{isNode:r,from:a,to:o},linksTo:s}=e;return(r?s.map(e=>t[e.from][n]):[t[a][o]]).filter(e=>"true"===e[sV.CONTAINS_ANONYMOUS_VISITORS]).length>0?Object(u.jsxs)("div",{style:{whiteSpace:"normal",minWidth:"250px"},children:[Object(u.jsx)("br",{}),h.a.text("reporting-snowflake.funnel.anonymous-visitors-tooltip")]}):null},V5=({dataset:e,filterProperty:t,valueProperty:n})=>{const r=B5({dataset:e,filterProperty:t});return function(){let a=null;const{category:o}=this.point,s=e.properties[t].references,i=Object.keys(s).find(e=>s[e].label===o),c=i&&r[i],l=c&&"true"===c[sV.CONTAINS_ANONYMOUS_VISITORS],p=Object(K1.c)(e,t),d=Object(K1.c)(e,n),m=c&&Object(K1.d)(e,n,c[n]);a=Object(u.jsxs)("div",{className:"custom-highcharts-tooltip",children:[Object(u.jsx)("div",{className:"tooltip-header",children:p}),Object(u.jsxs)("div",{className:"tooltip-body",children:[Object(u.jsxs)("div",{className:"tooltip-list-container",children:[Object(u.jsx)("div",{className:"tooltip-label",children:Object(u.jsxs)("b",{children:[l?d+"*":d,":"]})}),Object(u.jsx)("div",{className:"value",children:m})]},n),l?Object(u.jsxs)("div",{style:{whiteSpace:"normal",minWidth:"250px"},children:[Object(u.jsx)("br",{}),h.a.text("reporting-snowflake.funnel.anonymous-visitors-tooltip")]}):null]})]});return Object(f$.renderToString)(a)}},H5=({report:e,dataset:t,filterProperty:n,valueProperty:r})=>{if(e.journeyQuery.allowAnonymousVisitors)return V5({dataset:t,filterProperty:n,valueProperty:r})},W5=e=>({dropoff:!0,id:"not_stage"+e}),K5=e=>e.map(({nodes:e},t)=>({nodes:0===t?e:[...e,W5(t)]})),q5=({stages:e,includeDropoffs:t})=>{const n=e.map(e=>({nodes:e.steps.map(e=>({id:e.alias}))}));return t?K5(n):n},Q5=(e,t,n)=>Object(VY.a)({data:t,dataset:"primary",filterProperty:sV.TO,valueProperty:sV.COUNT,horizontalFunnel:!0,primaryChevronProperty:sV.NEXT_STEP_CONVERSION,secondaryChevronProperty:null,conversionDataInRow:!0,style:{tooltipFormatter:H5({report:e,dataset:t.primary,filterProperty:sV.TO,valueProperty:sV.COUNT})},events:{onPointClick:Y5(e,t,n)},disableZoom:!0}),$5=(e,t,n)=>Object(VY.a)({data:t,dataset:"primary",filterProperty:sV.TO,valueProperty:sV.COUNT,primaryChevronProperty:sV.NEXT_STEP_CONVERSION,secondaryChevronProperty:null,conversionDataInRow:!0,events:{onPointClick:Y5(e,t,n)}}),J5=(e,t,n)=>{const r=bV(e),a=r?[cV]:[sV.FROM,sV.TO,sV.COUNT,sV.AVERAGE_TIME_TO_STEP,sV.NEXT_STEP_CONVERSION];return Object(qY.g)({data:t,columns:a.map(a=>({field:a,dataset:"primary",onClick:a!==sV.COUNT||r?void 0:Y5(e,t,n)})),footer:"summary"})},z5=(e,t,n)=>{const r={data:t,type:X.k,dataset:"primary",layout:{columns:q5(e.journeyQuery),hideOriginNode:!0,originField:sV.FROM,destinationField:sV.TO,columnLabelField:iV,measures:{linkMeasure:sV.COUNT,destinationNodeTotal:sV.STEP_TOTAL,linkTooltipMeasures:[sV.NEXT_STEP_CONVERSION,sV.AVERAGE_TIME_TO_STEP],renderCustomTooltipInfo:G5}},events:{onPointClick:Y5(e,t,n)},options:{scale:!0}};return Object(b.fromJS)(r)},X5={[X.c]:Q5,[X.h]:$5,[X.l]:J5,[X.k]:z5};var Z5=(e,t,n)=>(0,X5[e.chartType])(e,t,n);var e3=(e,{limit:t,offset:n},r,a)=>{const o=Object(p.useCallback)(()=>new Promise((o,s)=>{r?o(Z5(e,D5(r,{limit:t,offset:n}),a)):s(void 0)}),[e,t,n,r,a]);return lX(o)};const t3=(e,t,{onDrilldown:n}={})=>{const r=Object(p.useMemo)(()=>({journeyQuery:e.journeyQuery,reportOptions:t}),[e,t]),a=Object(p.useMemo)(()=>({reportId:e.id}),[e]),o=U5(r,a),s=o.status===oX.SUCCEEDED?o.data:void 0,i=e3(e,t,s,n),c=i.status===oX.SUCCEEDED?i.data:void 0,{loading:l,settled:u,error:d}=iX([o,i]);return{visualization:c,datamap:s,settled:u,loading:l,error:d,report:e}},n3=10,r3=e=>e?n3:yH,a3=e=>!!e.toJS;var o3=(e,t)=>{const[n,r]=Object(p.useState)(r3(t)),[a,o]=Object(p.useState)(0);Object(p.useEffect)(()=>{r(r3(t))},[t]);const s=Object(p.useCallback)(e=>o(n*(e-1)),[n,o]),i=Object(p.useCallback)(e=>{r(e);o(a-a%e)},[a,r,o]);return Object(p.useMemo)(()=>{const t=a3(e)?e.toJS():e;return{reportOptions:Object.assign({},t,{limit:n,offset:a}),handlePageChange:s,handleLimitChange:i}},[e,n,a,s,i])};const s3=(e,t)=>{if(!e)return!0;if(t)return 0===e.getIn(["data","primary","data"],Object(b.List)()).length;return!e.getIn(["data","primary","data"],Object(b.List)()).some(e=>e.get(sV.COUNT)>0)};var i3=e=>{const t=Object(p.useRef)();Object(p.useEffect)(()=>{t.current=new lY(e)},[e]);return Object(p.useMemo)(()=>({logError:e=>{if(t.current){t.current.logError(e);t.current=void 0}},logSuccess:()=>{if(t.current){t.current.logSuccess();t.current=void 0}}}),[])};const c3=e=>Object(u.jsx)(H2,{children:Object(u.jsx)(rH.a,{type:Object(sG.a)(e),error:e})}),l3=(e,{isMobile:t,isDrilldown:n,reportOptions:r,handlePageChange:a,handleLimitChange:o})=>Object(u.jsxs)(H2,{isXYVisual:e.type===X.h,isMobile:t,"data-test-id":"journey-report-loaded",children:[Object(u.jsx)(EY.b,{visualization:e}),n?Object(u.jsx)(G2,{reportOptions:r,dataset:e.getIn(["data","primary"]).toJS(),isMobile:t,onLimitChange:o,onPageChange:a}):null]}),u3=e=>e?Object(u.jsx)(H2,{children:Object(u.jsx)("div",{style:{height:400},children:Object(u.jsx)(Y2.a,{contextual:!0,use:"light",children:Object(u.jsx)($F.a,{direction:"column",align:"center",justify:"around",style:{minHeight:"100%"},children:Object(u.jsx)(B2.a,{children:Object(u.jsxs)($F.a,{direction:"column",align:"center",justify:"around",style:{width:"100%"},children:[Object(u.jsx)(Tn.a,{}),h.a.text("reporting-snowflake.refreshing")]})})})})})}):Object(u.jsx)(Tn.a,{layout:"centered"}),p3=()=>Object(u.jsx)(H2,{"data-test-id":"journey-report-loaded",children:Object(u.jsx)(KH.a,{})});function d3({report:e,isMobile:t,initialReportOptions:n={},errorRenderer:r=c3,showOverlay:a,onDrilldown:o,onReportResolve:s,onError:i}){const c=Object(p.useMemo)(()=>e.toJS(),[e]),l=i3(e),u=bV(c),{reportOptions:d,handleLimitChange:m,handlePageChange:g}=o3(n,u),{visualization:O,datamap:f,settled:E,error:y,report:T}=t3(c,d,{onDrilldown:o}),I=cX(s),h=cX(i);Object(p.useEffect)(()=>{const e={resolveDatamap:f,resolveJourneyReport:T,resolveError:y,hasData:!s3(O,u)};if(E){if(y&&h.current){l.logError(e.resolveError);h.current(e.resolveError)}if(O&&I.current){l.logSuccess();I.current(Object(b.fromJS)(e))}}},[E,y,O,f,T,h,I,u,l]);return y?r(y,e):O?s3(O,u)?p3():l3(O,{isMobile:t,isDrilldown:u,reportOptions:d,handleLimitChange:m,handlePageChange:g}):u3(a)}var m3=d3;const g3=[ww.COMPLETED_ACTIVITIES,ww.SALES_PERFORMANCE,ww.ENGAGEMENT_STREAM,ww.DEAL_FORECAST,"DATA_LAYER"],b3=(e,t=null)=>(...n)=>{try{return e(...n)}catch(e){return t}},O3=b3(e=>btoa(encodeURIComponent(e))),f3=(b3(e=>decodeURIComponent(atob(e))),b3(e=>JSON.parse(e)),b3(e=>JSON.stringify(e,null,2))),E3=(b3(e=>f3(JSON.parse(e)),""),b3(e=>Function("return "+e)(),{}),e=>O3(f3(e))),y3=e=>{const t=Qt.a.get(),n=e.get("id")?{reportId:e.get("id")}:{encoded:E3(e)};return`/reporting-sandbox/${t}/build/playground?${Object(QS.stringify)(n)}`},T3={clone:()=>T3,track:()=>{}},I3="drill-into";var h3=n("n/1W"),j3=n.n(h3);var A3=e=>{const[t,n]=Object(p.useState)(T3);Object(p.useEffect)(()=>{e&&n(e.clone({events:j3.a,preserveTrackerProperties:!1})||T3)},[e]);return t};const S3=Object.keys(j3.a).reduce((e,t)=>Object.assign({},e,{[t]:t}),{});var _3=n("JYON"),N3=n("hDBk");const R3=e=>({chartType:Object(_3.c)(e),dataTypes:Object(_3.b)(e)}),C3=e=>Object.assign({},R3(e),{action:"hover-over",assetType:"report",templateKey:Object(N3.v)(e),origin:Object(_3.a)(e)}),v3={DATA_LAYER:"DATA_LAYER",ENGAGEMENT_STREAM:"ENGAGEMENT_STREAM"},L3="RaaS:CustomWidgetMigration",D3=[v3.ENGAGEMENT_STREAM],M3=(Array(),(e,t)=>D3.includes(e)&&t.gates.includes(L3)),P3=QH.a.div.withConfig({displayName:"ReportContent__SeleniumWrapper",componentId:"sc-1ka5fhv-0"})(["display:contents;overflow:auto;max-height:100%;"]),U3=1500,k3=()=>Promise.resolve(t5),x3=()=>Promise.resolve(m3),w3=(e,t,n)=>{const r=!!e.get("reportDefinition"),a=gV(e);return r?k3:a?x3:M3(t,n)?void 0:Iz[t]};function F3(e){let{report:t,options:n,isMobile:r,appUsageTracker:a,onReportResolve:o}=e,s=Object(l.a)(e,["report","options","isMobile","appUsageTracker","onReportResolve"]);const[i,c]=Object(p.useState)({}),d=t.getIn(["displayParams","customWidget","type"]),m=Object(p.useContext)(CG),g=w3(t,d,m),b=Object(p.useRef)(),O=A3(a);Object(p.useEffect)(()=>{if(!Object(oe.a)(i,d)&&g)if(d&&r&&!g3.includes(d)){c(Object.assign({},i,{[d]:()=>Object(u.jsx)(rH.a,{type:FH.MOBILE_UNSUPPORTED,isMobile:r})}));o()}else g().then(e=>c(Object.assign({},i,{[d]:e})))},[g,d,i,r,o]);const f=g?i[d]:KW;return f?Object(u.jsx)(P3,{"data-test-id":"report-loaded",className:"@@REPORTING__ENCODED_REPORT","data-encoded":y3(t),"data-report-json":E3(t),onMouseEnter:()=>{b.current=h.a.moment()},onMouseLeave:()=>{const e=h.a.moment(),n=b.current&&e.diff(b.current,"milliseconds")||0;n>=U3&&O.track(S3.hoverOver,Object.assign({},C3(t),{duration:n}))},children:Object(u.jsx)(f,Object.assign({className:"report-loaded",report:t,options:n,isMobile:r,onReportResolve:o},s))}):Object(u.jsx)(Tn.a,{grow:!0})}F3.propTypes=Object.assign({},BH.a,{appUsageTracker:XN.a.object});var Y3=oH(F3);function B3(e){const[t,n]=Object(p.useState)(null);Object(p.useEffect)(()=>{e.getIn(["config","configType"])!==f.e||qw(e)||Object(WH.resolve)(e,{v2Datasets:!0}).then(e=>{n(e.getIn(["primary","data","paginationSize"],null))})},[e]);return t}var G3=n("Tj6W"),V3=n.n(G3),H3=n("0j78");const W3=QH.a.div.withConfig({displayName:"ObjectLabel__LoadingTextSkeleton",componentId:"sc-1jdywm1-0"})(["display:inline-block;height:20px;min-width:",";background-color:",";"],({minWidth:e})=>e,Pn.KOALA),K3=({referenceType:e,object:t,id:n,showId:r})=>{if(Object(jC.a)(t)||null==t)return Object(u.jsx)(xa.a,{href:Object(H3.a)(e,n),children:n});if(Object(jC.c)(t)){const n=Object(H3.a)(e,t.id),a=r?`${t.label} (${t.id})`:t.label;return n?Object(u.jsx)(xa.a,{external:!0,href:n,children:a}):Object(u.jsx)("div",{children:a})}return Object(u.jsx)(W3,{minWidth:"100px"})},q3=Object(uq.a)((e,{referenceType:t,id:n})=>({object:e[t].byId(n)}));K3.propTypes={referenceType:XN.a.string.isRequired,id:XN.a.string.isRequired,object:XN.a.object.isRequired,showId:XN.a.bool};K3.defaultProps={showId:!1};var Q3=q3(K3),$3=n("EIJv");const J3=({row:e,referenceType:t,engagementId:n})=>{const r=e.value.y||[],a=e.value.yLabel||[],o=(e,r)=>{const a=Object(H3.a)(t,e),o=n?`${a}?engagement=${n}`:a;return Object(u.jsx)(xa.a,{href:o,external:!0,children:r})};return Object(u.jsx)($3.a,{maxWidth:350,children:Array.isArray(r)?r.map((e,t)=>{const n=t>0?", ":"",r=a[t];return Object(u.jsxs)("span",{children:[n,o(e,r)]},e)}):o(r,a)})};J3.propTypes={referenceType:XN.a.string.isRequired,row:XN.a.object,engagementId:XN.a.string};var z3=J3;const X3="hs_asset_url",Z3=({row:e})=>{const{data:t,rowData:n}=e,r=n.getIn([X3,"data","y"]),a=t.getIn(["data","yLabel"]);return Object(u.jsx)($3.a,{maxWidth:400,matchContentWidth:!0,children:r?Object(u.jsx)(xa.a,{href:r,external:!0,children:a}):a})};Z3.propTypes={row:XN.a.object};var e4=Z3;const t4=QH.a.span.withConfig({displayName:"ScriptedPropertyCell__LightText",componentId:"sc-6mr7sa-0"})(["color:#99acc2;"]);var n4=()=>Object(u.jsx)(dx.a,{placement:"left",title:Object(u.jsx)(jn.a,{message:"reporting-ui-components.scriptedPropertyCell.tooltip"}),children:Object(u.jsxs)(t4,{children:[Object(u.jsx)(jn.a,{message:"reporting-ui-components.scriptedPropertyCell.message"})," ",Object(u.jsx)(B$.a,{name:"info"})]})});const r4=Qt.a.get(),a4=e=>({seriesKey:t,key:n})=>{window.open(e(t||n),"_blank")},o4=({value:{y:e}})=>{window.open("https://"+e)},s4=DC()(e=>({render:{body:t=>Object(u.jsx)(z3,{referenceType:e,row:t})}})),i4=DC()(e=>({render:{body:t=>Object(u.jsx)(z3,{referenceType:e,row:t,engagementId:t.value.id})}})),c4=()=>({render:{body:e=>Object(u.jsx)(e4,{row:e})}}),l4={render:{body(e){const t=h.a.moment(e.value.y).portalTz(),n=e.rowData.getIn(["broadcastGuid","data","y"]),r=t.format("l LT");if(!n)return r;const a=`/social/${r4}/publishing/view/${n}?source=report-drilldown`;return Object(u.jsx)(xa.a,{href:a,external:!0,children:r})}}},u4=(e,t=!1)=>({render:{body(n){const{value:r}=n;if(String(r.id).includes("__")&&String(r.xLabel).includes("__")){const n=r.xLabel.split("__").indexOf(e),a=r.id.split("__")[n];return Object(u.jsx)(Q3,{referenceType:e,showId:t,id:a})}return Object(u.jsx)(xa.a,{href:Object(H3.a)(e,r.id),external:!0,children:t&&!r.xLabel.includes(String(r.id))?`${r.xLabel} (${r.id})`:r.xLabel})}}}),p4=V3()({[A.ATTRIBUTION_TOUCH_POINTS]:{hs_contact_id:s4(Object(H3.c)(A.CONTACTS)),hs_deal_id:s4(Object(H3.c)(A.DEALS)),hs_asset_title:c4(),hs_asset_url:{hideColumn:!0}},[A.CONTACT_CREATE_ATTRIBUTION]:{hs_contact_id:s4(Object(H3.c)(A.CONTACTS)),hs_asset_title:c4(),hs_asset_url:{hideColumn:!0}},[A.CONTACTS]:{vid:u4(Object(H3.c)(A.CONTACTS)),email:{onClick:a4(e=>`/contacts/${r4}/contact/${e}/`)},company_info_domain:{onClick:o4},hs_marketable_reason_id:{onClick:e=>{window.open(e.value.propertyMeta.url,"_blank")}}},[A.COMPANIES]:{"company-id":u4(Object(H3.c)(A.COMPANIES)),name:{onClick:a4(e=>`/contacts/${r4}/company/${e}/`)},cleaned_domain:{onClick:o4}},[A.DEALS]:{dealId:u4(Object(H3.c)(A.DEALS)),dealname:{onClick:a4(e=>`/contacts/${r4}/deal/${e}/`)},"associations.contact":s4(Object(H3.c)(A.CONTACTS))},[A.ENGAGEMENT]:{"engagement.id":u4(Object(H3.c)(A.ENGAGEMENT)),"associations.contact":i4(Object(H3.c)(A.CONTACTS)),"associations.deal":i4(Object(H3.c)(A.DEALS)),"associations.company":i4(Object(H3.c)(A.COMPANIES))},[A.ENGAGEMENTS]:{hs_unique_id:u4(Object(H3.c)(A.ENGAGEMENT))},[A.TICKETS]:{hs_ticket_id:u4(Object(H3.c)(A.TICKETS),!0),subject:u4(Object(H3.c)(A.TICKETS))},[A.LINE_ITEMS]:{objectId:u4(Object(H3.c)(A.LINE_ITEMS))},[A.SOCIAL_POSTS]:{publishedAt:l4}}),d4=(e,t)=>e.mergeWith((e,t)=>e.mergeWith((e,t)=>!e||b.Map.isMap(e)&&e.isEmpty()?t:e,t),t),m4=e=>{const t=e.getIn(["displayParams","dataColumns"])||Object(b.List)(),n=(e.getIn(["config","metrics"])||Object(b.List)()).map(e=>e.get("property"));return t.merge(n)},g4=e=>Ve(e).then(e=>e.reduce((e,t)=>e.set(t,V3()({render:{body:()=>Object(u.jsx)(n4,{})}})),Object(b.Map)())),b4=e=>Promise.all([p4.get(e)||Object(b.Map)(),g4(e)]).then(e=>d4(...e)),O4=(e,t,n)=>{const r=m4(e);return e.updateIn(["displayParams","columns"],(e=Object(b.Map)())=>d4(e,t.filter((e,t)=>r.includes(t)||n(t))))},f4=e=>{const t=e.getIn(["config","crossObject","dataTypes"]);return Promise.all(t.map(b4)).then(e=>e.map((e,n)=>{const r=t.get(n);return e.mapEntries(([e,t])=>[wC.a[r]&&e===wC.a[r].idColumn?Object(P.b)(r):Object(P.d)(r,e),t])}).reduce((e,t)=>e.merge(t),Object(b.Map)())).then(t=>O4(e,t,P.c))},E4=e=>{const t=Object(x.c)(e.get("config"));return b4(t).then(n=>O4(e,n,e=>wC.a[t]&&e===wC.a[t].idColumn))};var y4=e=>{const t=e.getIn(["config","dataType"]),n=e.getIn(["config","configType"]);return e.get("chartType")===X.l&&n===f.e?t===A.CROSS_OBJECT?f4(e):E4(e):Promise.resolve(e)},T4=n("Sn9Y");const I4=Qt.a.get(),h4={0:"site-page",1:"landing-page",2:"listing-page",3:"blog-post",4:"knowledge-article"},j4=e=>/^(http|\/)/.test(e)?e:"http://"+e;function A4({contentType:e,pageId:t}){const n=h4[e];if(!n)return null;switch(n){case"blog-post":case"site-page":case"landing-page":return`/content-detail/${I4}/${n}/${t}`;case"knowledge-article":return`/knowledge/${I4}/insights/article/${t}`}return null}function S4({htmlTitle:e,pageUrl:t}){const n=Object(QS.stringify)({title:e,url:j4(t)});return`/content-detail/${I4}/external-page/-1?${n}`}function _4({data:e,rawData:t,column:n}){if(!e||0!==n)return null;const r=e.get("key"),a=t.getIn([0,"dimension","buckets"],Object(b.List)()).find(e=>e.get("key")===r,Object(b.Map)()),o=a.getIn(["metrics","HTML_TITLE","COUNT","raw"]),s=T4.a.test(r),i=a.getIn(["metrics","URL","COUNT","raw"])||r,c=s&&o||e.get("label"),l=a.getIn(["metrics","CONTENT_TYPE_CODE","COUNT","raw"]),p=s?S4({htmlTitle:o,pageUrl:i}):A4({contentType:l,pageId:r});return p?Object(u.jsx)(xa.a,{href:p,external:!0,children:c}):null}var N4=n("GTTy"),R4=n("5zIw");const C4={LOW:"danger",FAIR:"warning",GOOD:"success",EXCELLENT:"success"};function v4({breakdown:e}){const t=e.data.getIn(["data","yLabel"]);if("UNKNOWN"===t){const t=(e.rowData.find((e,t)=>t.includes("__completionsAndUnenrolls__SUM"))||Object(b.Map)()).getIn(["data","yLabel"],0);return Object(u.jsxs)("span",{children:["—"," ",Object(u.jsx)(R4.a,{title:Object(u.jsx)(jn.a,{message:"reporting-data.properties.sequence-sender-score.senderScoreUnavailable",options:{endedSequences:t}})})]})}return Object(u.jsxs)("span",{children:[Object(u.jsx)(N4.a,{use:C4[t]}),Object(u.jsx)(jn.a,{message:"reporting-data.properties.sequence-sender-score.senderScoreValue."+t})]})}const L4=Qt.a.get(),D4=e=>({seriesKey:t,key:n})=>{const r=e(t||n)||"";return{href:"/"===r[0]?`${Object(YH.getFullUrl)("app")}${r}`:r}},M4=e=>{if(!e)return null;switch(e.get("value",e.getIn(["values",0]))){case"BLOG_POST":return"blog-post";case"LANDING_PAGE":return"landing-page";case"STANDARD_PAGE":return"site-page";default:return null}},P4=e=>t=>{const n=t.getIn(["config","filters","custom"],Object(b.List)()).find(t=>t.get("property")===e+".referrerContentType"),r=M4(n);return r?{onRowLinkClick:D4(e=>`/content-detail/${L4}/${r}/${e}/performance`)}:null},U4=e=>e.getIn(["config","filters","custom"],Object(b.List)()).count(e=>["d1","d2","d3"].includes(e.get("property"))),k4=V3()({[A.ANALYTICS_ALL_PAGES]:{breakdown:()=>({render:{body:_4}})},[A.ANALYTICS_ALL_PAGES_BY_COMPANY]:{breakdown:e=>0===U4(e)?{onRowLinkClick:({key:e})=>({href:`/contacts/${L4}/company/${Number(e)}`,external:!0})}:{render:{body:_4}}},[A.ANALYTICS_BLOG_POSTS]:{breakdown:()=>({onRowLinkClick:D4(e=>`/content-detail/${L4}/blog-post/${e}/performance`)})},[A.ANALYTICS_CAMPAIGNS]:{breakdown:e=>({onRowLinkClick:U4(e)>0?null:D4(e=>`/campaigns/${Qt.a.get()}/${e}?back=${encodeURIComponent(window.location.href)}`)}),campaignId:()=>({onRowLinkClick:D4(e=>`/campaigns/${Qt.a.get()}/${e}?back=${encodeURIComponent(window.location.href)}`)}),"deals-influenced":e=>({onRowLinkClick:D4(e=>`/contacts/${L4}/deals/${e}`)})},[A.ANALYTICS_FORMS_SOURCES]:{breakdown:e=>({onRowLinkClick:2===U4(e)&&"email"===Object(_t.a)(e.get("config"),"d1",Object(b.Map)()).get("value")?D4(e=>`/email/${L4}/campaign/${e}`):void 0})},[A.ANALYTICS_KNOWLEDGE_ARTICLES]:{breakdown:()=>({onRowLinkClick:D4(e=>`/knowledge/${L4}/insights/article/${e}/performance`)})},[A.ANALYTICS_LANDING_PAGES]:{breakdown:()=>({onRowLinkClick:D4(e=>`/content-detail/${L4}/landing-page/${e}/performance`)})},[A.ANALYTICS_PATHS]:{pageUrl:()=>({onRowLinkClick:D4(e=>/^(http|\/)/.test(e)?e:"http://"+e)})},[A.ANALYTICS_SALES_DOCUMENTS]:{breakdown:()=>({onRowLinkClick:D4(e=>`/documents/${Qt.a.get()}/summary/${e}`)}),deckId:()=>({onRowLinkClick:D4(e=>`/documents/${Qt.a.get()}/summary/${e}`)})},[A.ANALYTICS_SEQUENCE_ENROLLMENT_ACTIVITIES]:{breakdown:()=>({onRowLinkClick:D4(e=>`/sequences/${L4}/sequence/${e}`)})},[A.ANALYTICS_STANDARD_PAGES]:{breakdown:()=>({onRowLinkClick:D4(e=>`/content-detail/${L4}/site-page/${e}/performance`)})},[A.ATTRIBUTION_TOUCH_POINTS]:{hs_deal_id:()=>({onRowLinkClick:D4(e=>`/contacts/${L4}/deal/${Number(e)}`)}),hs_contact_id:()=>({onRowLinkClick:D4(e=>`/contacts/${L4}/contact/${Number(e)}`)}),hs_campaign_name:()=>({onRowLinkClick:D4(e=>`/campaigns/${L4}/${e}`)})},[A.CONTACT_CREATE_ATTRIBUTION]:{hs_contact_id:()=>({onRowLinkClick:D4(e=>`/contacts/${L4}/contact/${Number(e)}`)}),hs_campaign_guid:()=>({onRowLinkClick:D4(e=>`/campaigns/${L4}/${e}`)})},[A.CONTACTS]:{hs_marketable_reason_id:()=>({onRowLinkClick:({link:e})=>({href:e})})},[A.CONVERSION]:{"lastVisitInCloseSession.referrerAnalyticsPageId":P4("lastVisitInCloseSession"),"lastVisitInCreateSession.referrerAnalyticsPageId":P4("lastVisitInCreateSession")},[A.EMAIL]:{breakdown:()=>({onRowLinkClick:D4(e=>`/email/${L4}/details/${e}`)}),id:()=>({onRowLinkClick:D4(e=>`/email/${L4}/details/${e}`)}),emailCampaign:()=>({onRowLinkClick:D4(e=>`/campaigns/${L4}/${e}`)})},[A.SEQUENCES]:{sequenceId:()=>({onRowLinkClick:D4(e=>`/sequences/${L4}/sequence/${e}`)})},[A.TEMPLATES]:{templateId:()=>({onRowLinkClick:D4(e=>`/templates/${L4}/edit/${e}`)})},[A.SEQUENCE_SENDER_SCORE]:{breakdown:e=>{const t={render:{body:e=>{let{data:t,onClick:n}=e,r=Object(l.a)(e,["data","onClick"]);if("senderScore"===t.get("key"))return Object(u.jsx)(v4,{breakdown:Object.assign({data:t},r)});const a=t.getIn(["data","yLabel"]);return n?Object(u.jsx)(px.a,{onClick:n,use:"link",children:a}):a}}};1===U4(e)&&(t.onRowLinkClick=D4(e=>`/sequences/${L4}/sequence/${e}`));return t}}}),x4=V3()({people:e=>({onRowLinkClick:D4(e=>`/contacts/${L4}/contact/${e}`)})});var w4=e=>{const t=e.getIn(["config","dataType"]),n=e.getIn(["config","configType"]);if(e.get("chartType")===X.l&&n===f.a){const n=e.getIn(["config","dimensions"],Object(b.List)()).last();return e.update("displayParams",(r=Object(b.Map)())=>{const a=x4.get(n,()=>Object(b.Map)())(e)||Object(b.Map)(),o=k4.getIn([t,n],()=>Object(b.Map)())(e)||Object(b.Map)();return V3()(a).mergeDeep(o).mergeDeep(r)})}return e};function F4(e){return Object(Ye.a)(e).then(t=>t.get(e).filter(e=>e.get("type")===v.b&&"BUCKET_dealProgress"!==e.get("name")).map(e=>e.get("name")).toSet())}const Y4=e=>[f.a,f.f,f.b,f.c].includes(e),B4=e=>[X.l,X.f,X.b,X.a,X.i,X.c,X.g,X.j,f.b,X.d].includes(e),G4=(e,t)=>bn(e,t).then(t=>t||e.get("chartType")!==X.l),V4=(e,t)=>{const n=e.getIn(["config","configType"]),r=e.get("chartType"),a=Object(x.c)(e.get("config"));return G4(e,t).then(t=>!!(Y4(n)&&B4(r)&&t)&&F4(a).then(t=>Boolean(-1===e.getIn(["config","dimensions"],Object(b.List)()).findIndex(e=>t.includes(e)))))},H4=(e,t,n)=>mn.some(r=>r.isSupportedColumn&&r.isSupportedColumn(e,t,n)||!1);var W4=n("AYIY");const K4=["displayParams","onDrilldown"],q4=(e,t,n)=>{const r=e.getIn(K4);if([X.l,X.f].includes(e.get("chartType"))){const a=(n,a)=>En(e,n,Object.assign({},t,{},a)).then(r),o=e.getIn(["config","metrics"]).map(e=>e.get("property")).filter(t=>H4(e,t,n)).reduce((e,t)=>e.set(t,Object(b.Map)({onDrilldown:a})),Object(b.Map)());return e.updateIn(["displayParams","columns"],Object(b.Map)(),e=>e.mergeDeep(o))}return e};function Q4(e,t){if(Object(qe.e)(e)&&t.datasetKey){const n=e.getIn(["reportConfigs",t.datasetKey]);if(n)return Object(b.Map)({config:n})}return e}function $4(e,t={}){const n=Object(qe.c)(e)&&"DATA_LAYER"!==e.getIn(["displayParams","customWidget","type"],"DATA_LAYER"),r=Object(qe.a)(e)&&e.getIn(K4);if(!r||n)return W4.a.resolve(e);const a=e.getIn(["config","dataType"]);return Object(m.a)(a).then(n=>{const a=Object(g.a)(e);return(n||a)&&Object(qe.b)(e)?V4(e,n).then(n=>{if(!n)return e;const a=[X.l,X.f].includes(e.get("chartType"))?"onClick":"onChartClick";return e.setIn(["displayParams",a],(n,a)=>{const o=Q4(e,a);return En(o,n,Object.assign({},t,{},a)).then(r)})}).then(e=>q4(e,t,n)).then(e=>e.deleteIn(["displayParams","onDrilldown"])):e})}var J4=n("9Xev");const z4=["config","sort"],X4=["displayParams","onSort"],Z4="SingleObjectInlineTableSort",e7=["associations","associations.contact","associations.deal","associations.company","engagement.details","dealstage.probability","senderScore"];function t7(e,t){const n=e.getIn(["config","configType"]),r=e.getIn(["config","dimensions"])||Object(b.List)();if([f.f,f.b,f.c].includes(n))return e;if(r.equals(Object(b.List)(["people"])))return e;const a=(e.getIn(["config","metrics"])||Object(b.List)()).map(e=>e.get("property")).filter(e=>!e7.includes(e));return e.updateIn(["displayParams","columns"],Object(b.Map)(),e=>a.reduce((e,n)=>e.setIn([n,"onSort"],t),e))}const n7=e=>{const t=e.getIn(["displayParams","columns"]);return e.hasIn(X4)||t&&t.some(e=>e.has("onSort"))};function r7(e,t){const[n,r]=Object(p.useState)(void 0),[a,o]=Object(p.useState)();Object(p.useEffect)(()=>{if(!t||!NY(e))return;const n=e.data;if(Object(qe.b)(n)){const e=n.getIn(["config","sort"]);if(e&&(!a||!e.equals(a))){o(e);r(e)}}},[e,t,r,a,o]);const s=Object(p.useCallback)((t,{target:{value:n}})=>{if(!NY(e))return;const a=e.data.getIn(["config","dimensions"],Object(b.List)()),o=new yn.a;o.addReportAttributes(e.data);o.addAttributes({property:t,sortOrder:n});o.sendPageAction(Z4);r(Object(b.fromJS)([{property:t,order:"descending"===n?y.b:y.a,type:a.includes(t)?J4.a:J4.c}]))},[e]);return Object(p.useMemo)(()=>{if(!t||!NY(e))return e;const r=e.data;if(!Object(qe.b)(r))return e;if(n7(r))return e;const a=t7(r,s),o=n&&!(r.getIn(["config","sort"])||Object(b.List)()).equals(n)?a.setIn(z4,n):a;return Object.assign({},e,{data:o})},[e,t,s,n])}function a7(e,{allowDrilldown:t=!0,allowSort:n=!0,hasCustomVisualize:r=!1}={}){const[a,o]=Object(p.useState)({status:hY.UNINITIALIZED}),[s,i]=Object(p.useState)(void 0),c=r7(e,n),{gates:l}=Object(p.useContext)(CG),u=Object(p.useContext)(LY);Object(p.useEffect)(()=>{if(!NY(c))return;const{data:e}=c;if(!s||!Object(uY.a)(e,s)){(t&&!r?$4(e,{fiscalYearMonthName:u,gates:l}):Promise.resolve(e)).then(e=>bY(e,l)?e:Promise.resolve(e).then(y4).then(w4)).then(t=>{i(e);o({data:t,status:hY.SUCCEEDED})}).catch(e=>{o({error:e,status:hY.FAILED})})}},[t,u,l,r,s,c]);return a}var o7=n("b6cK"),s7=n("AuX0"),i7=n("6KwT"),c7=n("ryMD"),l7=n("1A9m");const u7="inbounddb-lists/v1/lists/type/0-1",p7="inbounddb-lists/v1/segments-ui/searchLists",d7=50,m7=(e=0,t)=>Kc.a.post(p7,{data:{count:d7,offset:e,properties:["hs_processing_type","hs_list_id","hs_object_type_id","hs_list_name"],listFilterProperties:{objectTypeId:"0-1",isUnused:!1,limitExempt:!1,processingTypes:["SNAPSHOT","MANUAL"]},includePrivate:!1,query:t}}),g7=e=>Kc.a.get(`${u7}/${e}`),b7=e=>{const t=[];e.results.map(e=>t.push({text:e.properties.hs_list_name.value,value:e.properties.hs_list_id.value}));return t},O7=(e,t)=>({titleText:h.a.text(`reporting-ui-components.export.listModal.success.${e}.title`,{list:t}),message:h.a.text("reporting-ui-components.export.listModal.success.body"),type:"success"}),f7=e=>({titleText:h.a.text(`reporting-ui-components.export.listModal.error.${e}.title`),message:h.a.text("reporting-ui-components.export.listModal.error.body"),type:"danger"}),E7=(e,t,n={offset:0})=>m7(n.offset,e).then(e=>{t(null,{options:b7(e),pagination:{hasMore:e.hasMore,length:e.total-e.offset+d7,offset:e.offset}})}),y7={NEW:"new",ADD:"add"};var T7=({listToAdd:e,onListChange:t})=>Object(u.jsx)(eR.a,{children:Object(u.jsx)(IR.a,{anchorType:"auto",loadOptions:E7,placeholder:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.listPlaceholder"}),value:e,onChange:t,clearable:!0})});var I7=({nameValidationError:e,createListName:t,onListNameChange:n})=>Object(u.jsx)(eR.a,{label:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.input-header"}),required:!0,error:e,validationMessage:e?Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.nameError"}):null,children:Object(u.jsx)(RC.a,{value:t,onChange:n,autoFocus:!0})});function h7({setModalOpen:e,onSubmit:t,journeyQuery:n}){const[r,a]=Object(p.useState)(y7.NEW),[o,s]=Object(p.useState)(!1),[i,c]=Object(p.useState)(""),[l,d]=Object(p.useState)(void 0),[m,g]=Object(p.useState)(!1),b=({target:{value:e}})=>{c(e);s(!1)},O=a=>{g(!0);t(r,n,a).then(()=>{DV.a.addAlert(O7(r,a));e(!1)}).catch(()=>{g(!1);DV.a.addAlert(f7(r))})},f=()=>{r===y7.ADD&&l&&O(l);r===y7.NEW&&g7(i).then(()=>{s(!0)}).catch(e=>{404===e.status&&O(i)})},E=({target:{value:e}})=>{d(e||void 0)};Object(p.useEffect)(()=>{r===y7.NEW&&""===i&&s(!1)},[i,r]);const y=r===y7.NEW&&""===i||r===y7.ADD&&!l;return Object(u.jsxs)(lH.a,{width:575,children:[m&&Object(u.jsx)(pY.a,{layout:"centered"}),Object(u.jsxs)(cH.a,{children:[Object(u.jsx)(iH.a,{onClick:()=>e(!1)}),Object(u.jsx)(o7.b,{className:"m-all-0",children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.header"})})]}),Object(u.jsx)(sH.a,{children:Object(u.jsx)(i7.a,{children:Object(u.jsxs)(l7.a,{name:"list-export-radios",children:[Object(u.jsx)(c7.a,{name:"createNewList",size:"small",checked:r===y7.NEW,onChange:()=>a(y7.NEW),children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.radios.new"})}),r===y7.NEW&&Object(u.jsx)(I7,{nameValidationError:o,createListName:i,onListNameChange:b}),Object(u.jsx)(c7.a,{name:"addToList",size:"small",checked:r===y7.ADD,onChange:()=>a(y7.ADD),className:"m-y-1",children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.radios.add"})}),r===y7.ADD&&Object(u.jsx)(T7,{listToAdd:l,onListChange:E})]})})}),Object(u.jsxs)(s7.a,{children:[Object(u.jsx)(px.a,{use:"primary",type:"submit",disabled:y,onClick:f,children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.submit"})}),Object(u.jsx)(px.a,{use:"secondary",onClick:()=>e(!1),children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.listModal.cancel"})})]})]})}var j7=h7;function A7({setModalOpen:e}){const t=()=>e(!0);return Object(u.jsx)(px.a,{use:"tertiary-light",size:"small",onClick:t,children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.exportListButton"})})}var S7=A7;const _7=e=>{e(v3.ENGAGEMENT_STREAM,()=>n.e("examplePlugins").then(n.bind(null,"SIY7")))},N7=({registerPlugin:e})=>{e("customReport",()=>n.e("examplePlugins").then(n.bind(null,"tHQH")));e("customData",()=>n.e("examplePlugins").then(n.bind(null,"0BHy")));e("customVisualization",()=>n.e("examplePlugins").then(n.bind(null,"2uEY")));e("customNoDataMessage",()=>n.e("examplePlugins").then(n.bind(null,"rPWB")));_7(e)};let R7=void 0;const C7=(e,t)=>{R7||(R7={});R7[e]=t},v7=e=>{R7||N7({registerPlugin:C7});return R7&&R7[e]?R7[e]():Promise.reject(new Error(`Plugin ${e} not found.`))};function L7(e,t){if(Object(qe.g)(e))return rn(e);const n=Object(qe.c)(e)&&an(e)||"";return n&&M3(n,t)?an(e):void 0}function D7(e){const t=t=>{const{report:n}=t,r=Object(p.useContext)(CG),a=Object(p.useMemo)(()=>L7(n,r),[n,r]),[o,s]=Object(p.useState)(()=>!!a),[i,c]=Object(p.useState)({});Object(p.useEffect)(()=>{a&&v7(a).then(({plugin:e})=>{c(e)}).catch(e=>{throw new Error(`Failed to load reporting plugin: ${a}. ${e.message}`,{cause:e})}).finally(()=>{s(!1)})},[n,a]);return o?Object(u.jsx)(Tn.a,{grow:!0}):Object(u.jsx)(e,Object.assign({},t,{},i))};t.displayName="ReportingPluginsProvider";return t}var M7=D7;const P7=10,U7=5,k7=()=>{},x7=DC()((e,t,n,r,a)=>{const o=e.setIn(["config","limit"],P7).setIn(["displayParams","onDrilldown"],a);return e.getIn(["config","dataType"])===A.UNIFIED_EVENTS?o.setIn(["config","dimensions",0],n):"SEARCH"===e.getIn(["config","configType"])&&n?RH(o,n,r,t.getIn(["config","metrics"])):o}),w7=(e,t)=>!fH(t,Vw)&&!OH(e,ww.DEAL_FORECAST);function F7({appUsageTracker:e,baseReport:t,report:n,drilldownEventCallback:r,onDrilldown:a,onDrilldownSave:o,onExportListClick:s,onCustomExportButtonClick:i,goToCrmLink:c,errorRenderer:l,resolve:d,visualize:m}){const[g,O]=Object(p.useState)(n.getIn(["config","dataType"])===A.UNIFIED_EVENTS?n.getIn(["config","dimensions",0]):null),f=B3(n),[E,y]=Object(p.useState)(null),[T,I]=Object(p.useState)(Object(b.Map)());Object(p.useEffect)(()=>{n.getIn(["config","dataType"])===A.UNIFIED_EVENTS?O(n.getIn(["config","dimensions",0])):O(null)},[n]);Object(p.useEffect)(()=>{let e=n.getIn(["config","dataType"]);if(e===A.CRM_OBJECT){const t=n.getIn(["config","objectTypeId"]);e=ve.c.includes(t)?t:ve.b.get(t)||t}Object(Ye.a)(e).then(t=>I(t.get(e)))},[n]);const h=a7({data:x7(n,t,g,T.find(e=>e.get("name")===g)||Object(b.Map)(),a),status:hY.SUCCEEDED});if(RY(h))return Object(u.jsx)(pH.a,{});if(_Y(h))return Object(u.jsx)(cG,{error:h.error});const{data:j}=h,S="SEARCH"===n.getIn(["config","configType"])&&Boolean(E||f),_=n.getIn(["config","dataType"])===A.UNIFIED_EVENTS;return Object(u.jsxs)(p.Fragment,{children:[Object(u.jsxs)($F.a,{className:"p-bottom-4 p-x-0","data-test-id":"drilldown-modal-opened",justify:"between",children:[S||_?Object(u.jsx)(wH,{dataType:n.getIn(["config","dataType"]),objectTypeId:n.getIn(["config","objectTypeId"]),dimension:g,drilldownEventCallback:r,recordCount:E||f,setDimension:O,canGroupData:w7(t,n),report:n}):Object(u.jsx)("div",{}),Object(u.jsxs)(uG.a,{alignSelf:"center",shrink:0,children:[s&&Object(u.jsx)(px.a,{use:"tertiary-light",size:"small",onClick:s,children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.exportListButton"})}),c&&Object(u.jsx)(px.a,{use:"tertiary-light",size:"small",href:c,external:!0,children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.goToCRMLink"})}),i?Object(u.jsx)(px.a,{use:"tertiary-light",size:"small",onClick:i,children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.export.action"})}):Object(u.jsx)(eH,{use:"tertiary-light",size:"small",report:j}),Object(u.jsx)(_n,{children:Object(u.jsx)(Nn.a,{appUsageTracker:e,"data-test-id":"drilldown-save",isDrilldown:!0,label:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.saveButton"}),onSaveSuccess:o,report:j.delete('id"'),size:"small",use:"tertiary-light"})})]})]}),Object(u.jsx)(Y3,{report:j,setRecordCount:y,drilldownEventCallback:r,onDrilldown:a,errorRenderer:l,resolve:d,visualize:m})]})}const Y7=()=>{const{openUpgradeModal:e}=Object(gH.a)("advanced-builder-drilldown-formula-access-modal");return Object(u.jsx)(dx.a,{title:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.saveDisabled.snowflakeDateComparisonDrilldown"}),children:Object(u.jsxs)(px.a,{onClick:e,use:"tertiary-light",size:"sm",children:[Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.saveButton"}),Object(u.jsx)(mH.a,{})]})})};function B7({appUsageTracker:e,report:t,drilldownEventCallback:n,onDrilldown:r,onDrilldownSave:a}){const[o,s]=Object(p.useState)(null);Object(p.useEffect)(()=>s(null),[t]);const{user:{scopes:i}}=Object(p.useContext)(CG),c=i.includes("reporting-datasets-access"),l=t.get("reportDefinition"),{data:d}=f2(l),[m,g]=Object(p.useState)(!1),O=e=>{!m&&e&&g(e.paginationSize)},f=null!=o,E=f&&d?t.update("reportDefinition",e=>lx(e,o,d)):void 0,y=f?E:t;if(!y)return Object(u.jsx)(pH.a,{});const T=Boolean(m),I=!y.getIn(["reportDefinition","filtering","groups"],Object(b.List)()).some(e=>e.get("filters",Object(b.List)()).some(e=>Ls(e.field)&&WP(e.field.name)))||c;return Object(u.jsxs)(p.Fragment,{children:[Object(u.jsxs)($F.a,{className:"p-bottom-4 p-x-0","data-test-id":"drilldown-modal-opened",children:[Object(u.jsx)(uG.a,{grow:1,children:T&&Object(u.jsx)(UH,{reportDefinition:l,dimension:o,setDimension:s,drilldownEventCallback:n,recordCount:m})}),Object(u.jsx)(uG.a,{children:Object(u.jsxs)($F.a,{justify:"end",children:[Object(u.jsx)(eH,{use:"tertiary-light",size:"small",report:y}),Object(u.jsx)(_n,{children:I?Object(u.jsx)(Nn.a,{appUsageTracker:e,"data-test-id":"drilldown-save",isDrilldown:!0,label:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.saveButton"}),onSaveSuccess:a,report:y,size:"small",use:"tertiary-light"}):Object(u.jsx)(Y7,{})})]})})]}),Object(u.jsx)(Y3,{report:y,initialReportOptions:jH(y.get("reportDefinition")),onDrilldown:r,drilldownEventCallback:n,flushSortsOnDrilldown:!0,onReportResolve:O})]})}function G7({report:e,drilldownEventCallback:t,onDrilldown:n,onExportListClick:r}){const[a,o]=Object(p.useState)(),[s,i]=Object(p.useState)(!1),c=t=>{!a&&t&&kH(A.CRM_OBJECT,e.getIn(["journeyQuery","objectQuery","table","objectTypeId"])).then(e=>o({recordCount:t.getIn(["resolveDatamap","primary","paginationSize"])||t.getIn(["resolveDatamap","primary","data"],Object(b.List)()).count(),objectText:e}))};return Object(u.jsxs)(u.Fragment,{children:[s&&Object(u.jsx)(j7,{setModalOpen:i,onSubmit:r,journeyQuery:e.get("journeyQuery")}),Object(u.jsxs)($F.a,{className:"p-bottom-4 p-x-0","data-test-id":"drilldown-modal-opened",children:[Object(u.jsx)(uG.a,{grow:1,children:a&&Object(u.jsx)("div",{className:"m-y-2",children:Object(u.jsxs)("span",{className:"m-right-3",children:[Object(u.jsx)(CH.a,{value:a.recordCount})," ",a.objectText]})})}),Object(u.jsx)(uG.a,{children:Object(u.jsxs)($F.a,{justify:"end",children:[r&&Object(u.jsx)(S7,{setModalOpen:i}),Object(u.jsx)(eH,{use:"tertiary-light",size:"small",report:e})]})})]}),Object(u.jsx)(Y3,{report:e,onDrilldown:n,drilldownEventCallback:t,flushSortsOnDrilldown:!0,onReportResolve:c})]})}const V7=M7(F7);function H7({appUsageTracker:e,baseReport:t,report:n,drilldownEventCallback:r,onDrilldown:a,onExportListClick:o,onCustomExportButtonClick:s,goToCrmLink:i,errorRenderer:c}){const l=n.has("reportDefinition"),p=gV(n),d=({dashboard:e,report:t})=>r(hn.e,{dashboard:e,report:t});return l?Object(u.jsx)(B7,{appUsageTracker:e,report:n,drilldownEventCallback:r,onDrilldown:a,onDrilldownSave:d}):p?Object(u.jsx)(G7,{report:n,drilldownEventCallback:r,onDrilldown:a,onExportListClick:o}):Object(qe.g)(n)?Object(u.jsx)(V7,{appUsageTracker:e,baseReport:t,report:n,drilldownEventCallback:r,onDrilldown:a,onDrilldownSave:d,onExportListClick:o,onCustomExportButtonClick:s,goToCrmLink:i,errorRenderer:c}):Object(u.jsx)(F7,{appUsageTracker:e,baseReport:t,report:n,drilldownEventCallback:r,onDrilldown:a,onDrilldownSave:d,onExportListClick:o,onCustomExportButtonClick:s,goToCrmLink:i,errorRenderer:c})}const W7=oH(zV(kY(H7)));function K7({appUsageTracker:e,baseReport:t,drilldownEventCallback:n=k7,report:r,onClose:a,onError:o,onExportListClick:s,onCustomExportButtonClick:i,drilldownDescription:c,goToCrmLink:l,errorRenderer:d}){const[m,g]=Object(p.useState)(Object(b.List)([r])),O=Object(p.useCallback)(e=>e<U7?t=>{n(hn.d,{level:e+1,report:t});g(e=>e.push(t))}:null,[n]),f=Object(p.useMemo)(()=>m.isEmpty()?void 0:m.last().deleteIn(["displayParams","onDrilldown"]),[m]);if(m.isEmpty())return Object(u.jsx)(pH.a,{});const E=c||Object(u.jsxs)(dH.a,{className:"m-top-0",flush:!0,children:[Object(u.jsx)("span",{children:t.get("name")||Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.defaultReportName"})}),m.pop().map((e,t)=>Object(u.jsx)(px.a,{use:"link",onClick:()=>{n(hn.b,{level:t+1});g(m.take(t+1))},children:e.get("name")},t)),!m.isEmpty()&&Object(u.jsx)("span",{children:m.last().get("name")})]});return Object(u.jsxs)(lH.a,{"data-test-id":"drilldown-modal",width:"90%",height:"tall",className:"no-drag",children:[Object(u.jsxs)(cH.a,{children:[Object(u.jsx)(iH.a,{onClick:a,"data-test-id":"drilldown-close-button"}),Object(u.jsx)(uH.a,{children:Object(u.jsx)(jn.a,{message:"reporting-ui-components.drilldownViewer.modalTitle"})})]}),Object(u.jsxs)(sH.a,{className:"p-bottom-8",children:[E,Object(u.jsx)(W7,{appUsageTracker:e,baseReport:t,report:f,drilldownLevel:m.count(),drilldownEventCallback:n,onDrilldown:O(m.count()),onError:o,onExportListClick:s,onCustomExportButtonClick:i,goToCrmLink:l,errorRenderer:d})]})]})}var q7=n("r1tY"),Q7=n("2TvS"),$7=n("YjOV"),J7=n("9BXY");const z7=e=>{const{renderContent:t,root:n,rootMargin:r,threshold:a,target:o,onIntersectionChange:s,initialIntersecting:i}=e,{IntersectionObserver:c}=window,l=Object(p.useRef)(),[d,m]=Object(p.useState)(),[g,b]=Object(p.useState)(i),O=o||Object(q7.findDOMNode)(d);0;const f=Object(p.useCallback)(()=>{l&&l.current&&l.current.disconnect()},[l]),E=Object(p.useCallback)(e=>{const{isIntersecting:t}=e[0];b(t);Object(Q7.a)(s,{entries:e,observer:l.current})},[s]);Object(p.useEffect)(()=>{const e=()=>{l.current=new c(E,{root:n,rootMargin:r,threshold:a});l.current.observe(O)};c&&O&&e();return f},[c,n,r,f,a,O,E]);return t?Object(u.jsx)($7.a,{ref:m,children:t(g)}):null};z7.propTypes={renderContent:XN.a.func,target:J7.a,root:J7.a,rootMargin:XN.a.string,threshold:XN.a.number,onIntersectionChange:XN.a.func,initialIntersecting:XN.a.bool};z7.defaultProps={initialIntersecting:!1};z7.displayName="UIIntersectionObserver";var X7=z7,Z7=n("oxA8");const e9=({dateRange:e,useFiscalYear:t=!1})=>{const n=e.get("rangeType"),r=t&&S.d[n]||n,a=e.get("rollingDays"),o=e.get("startDate"),s=e.get("endDate"),i=e.get("entireCurrentUnit"),c=e.get("date"),l={count:Number(a)?parseInt(a,10):0,start:h.a.moment.utc(o).format("l"),end:h.a.moment.utc(s).format("l"),date:h.a.moment.utc(c).format("l")};let p="DateRangePicker.readOnly."+r;if(r.includes("THIS"))p+=i?".entire":".toDate";else if(r.includes("CUSTOM_")){const[,e]=r.split("_"),t=Object(L.b)({date:h.a.moment.portalTz(c),frequency:e}),n="MONTH"===e?"MMMM":"[Q]Q";return"YEAR"===e?t.format("YYYY"):t.format(n+" YYYY")}return Object(u.jsx)(Z7.a,{message:p,options:l})};e9.propTypes={dateRange:XN.a.instanceOf(b.Map).isRequired,useFiscalYear:XN.a.bool};var t9=e9;function n9(e){function t({config:t,use:n}){return Object(u.jsx)(e,{config:t,use:n})}t.displayName="Label";t.propTypes={config:QW.a.isRequired,use:XN.a.string.isRequired};return t}const r9=sD()((e,t)=>{function n(n){let{config:r}=n,a=Object(l.a)(n,["config"]);return e(r)?Object(u.jsx)(t,Object.assign({config:r},a)):null}n.displayName="ConditionalLabel";n.propTypes={config:QW.a.isRequired};return n}),a9="InlineDateRangeLabelInteracted",o9="InlineDateRangeLabelRendered",s9="ll",i9=e=>e.getIn(["filters","dateRange","value"]),c9=(e,t,n=w.a)=>{const r=i9(e).toJS(),{startDate:a,endDate:o}=Object(D.a)(Object.assign({},r),s9,e.get("dataType"),t,n);return a===o?a:`${a} - ${o}`},l9=(e,t)=>{if(e.target.value){t.sendPageAction(a9);dG.counter(IG).increment()}},u9=e=>!!i9(e),p9=n9(({config:e,use:t})=>{const n=Object(Y.e)(e),r=Object(p.useContext)(LY),a=Object(p.useMemo)(()=>new yn.a,[]);a.addReportConfigAttributes(e);Object(p.useEffect)(()=>{a.sendPageAction(o9);dG.counter(hG).increment()},[a]);return Object(u.jsx)(dx.a,{headingText:h.a.text("reporting-ui-components.report-inline-labels.datesIncluded"),title:c9(e,n,r),placement:"bottom",onOpenChange:e=>l9(e,a),children:Object(u.jsxs)(JW.a,{use:t,children:[Object(u.jsx)("span",{className:"p-right-1","data-test-id":"inline-date-range-label",children:Object(u.jsx)(jn.a,{message:"settingLabels.dateRange.inlineLabel"})}),Object(u.jsx)(t9,{dateRange:i9(e),useFiscalYear:n})]})})}),d9=r9(u9,p9),m9={getDateRangeText:c9},g9=e=>e.getIn(["frequency"]),b9=e=>e.getIn(["configType"])===f.f,O9=e=>!!g9(e)&&b9(e),f9=n9(({config:e,use:t})=>null==e.getIn(["frequency"])?null:Object(u.jsxs)(JW.a,{use:t,children:[Object(u.jsx)("span",{className:"p-right-1","data-test-id":"inline-frequency-title",children:Object(u.jsx)(jn.a,{message:"settingLabels.frequency.inlineLabel"})}),Object(u.jsx)("span",{"data-test-id":"inline-frequency-label",children:Object(u.jsx)(jn.a,{message:"settingLabels.frequency.valueLabels."+g9(e)})})]})),E9=r9(O9,f9),y9="InlineComparisonLabelInteracted",T9="InlineComparisonLabelRendered",I9="ll",h9=e=>e.get("compare"),j9=e=>e.getIn(["filters","dateRange","value"]),A9=(e,t=w.a)=>{const{compareConfig:n}=Object(j.e)(e,t),{startDate:r,endDate:a}=n.getIn(["filters","dateRange","value"]).toJS();return r===a?""+Object(Uw.b)(r,I9):`${Object(Uw.b)(r,I9)} - ${Object(Uw.b)(a,I9)}`},S9=(e,t)=>{if(e.target.value){t.sendPageAction(y9);dG.counter(jG).increment()}},_9=e=>!!h9(e)&&!!j9(e),N9=n9(({config:e,use:t})=>{const n=Object(Y.e)(e),r=Object(p.useContext)(LY),a=Object(p.useMemo)(()=>new yn.a,[]);a.addReportConfigAttributes(e);Object(p.useEffect)(()=>{a.sendPageAction(T9);dG.counter(AG).increment()},[a]);return Object(u.jsx)(dx.a,{headingText:h.a.text("reporting-ui-components.report-inline-labels.datesIncluded"),title:A9(e,r),placement:"bottom",onOpenChange:e=>S9(e,a),children:Object(u.jsx)(JW.a,{use:t,children:Object(u.jsx)("span",{className:"p-right-1","data-test-id":"inline-comparison-label",children:Object(u.jsx)(jn.a,{message:"settingLabels.compare.inlineLabel",options:{comparePeriodLabel:aK({dateRange:j9(e),explicit:!1,value:h9(e),useFiscalYear:n})}})})})})}),R9=r9(_9,N9),C9={getComparisonRangeText:A9},v9=[s,i,c],L9=({config:e})=>[...v9].filter(({condition:t})=>t(e)).map(({render:t},n)=>Object(u.jsx)(t,{use:"help",config:e},n)),D9=({config:e,overrideTooltip:t,isMobile:n})=>{const r="display-inline-block"+(n?" p-left-4":""),a=L9({config:e});return a.length>0?Object(u.jsxs)("div",{className:r,children:[t,Object(u.jsx)("div",{className:"report-setting-hints display-inline-block",children:a})]}):null},M9={NEW:"new",ADD:"add"},P9="journey-analytics/v1/contact-list",U9=(e,t)=>Kc.a.post(P9,{data:{contactListName:t,journeyQuery:e}}),k9=(e,t)=>Kc.a.put(`${P9}/${t}`,{data:{journeyQuery:e}}),x9=(e,t,n)=>e===M9.NEW?U9(t,n):k9(t,n);var w9=n("fhwZ");const F9=[w9.a.get(gx.CONTACTS),w9.a.get(gx.COMPANIES)],Y9=e=>F9.includes(e.journeyQuery.objectQuery.table.objectTypeId),B9=e=>!!gV(e)&&Y9(e.toJS()),G9={fixCrossObjectReportId:e=>e.getIn(["config","dataType"])===A.CROSS_OBJECT?e.setIn(["config","crossObject","dashboardReportId"],e.get("id")):e.getIn(["config","dataType"])!==A.ATTRIBUTION||e.getIn(["config","attributionModel","reportId"],null)?e:e.setIn(["config","attributionModel","reportId"],e.get("id"))},V9={removeConfigNulls:e=>b.Map.isMap(e.get("config"))?e.update("config",e=>e.filter(e=>null!=e).update("filters",e=>e&&b.Map.isMap(e)?e.filter(e=>null!=e):e)):e},H9="LOCK_DOWN_REPORT",W9="UPDATE_REPORT";var K9=e=>t=>Object(Xx.a)().then(n=>e(t,Object(b.fromJS)(n)));var q9=K9((e,t)=>{const n="hubspotMarketingPerformance"===e.getIn(["config","template"]),r=t.getIn(["user","scopes"],Object(b.List)()),a=r.includes("sources-analytics"),o=r.includes("marketing-starter-product");return n&&!a&&o?e.set("deprecation",Object(b.fromJS)({isDeprecated:!0,type:H9,message:"hubspotMarketingPerformance"})):e});const Q9=e=>{const t=e.getIn(["config","dimensions"]);return e.getIn(["config","configType"])===f.f&&t&&1===t.size&&t.get(0)!==e.getIn(["config","filters","dateRange","property"])};const $9={sourcesAnalyticsAccess:q9,mismatchedProperties:K9(e=>Q9(e)?e.deleteIn(["config","compare"]).set("deprecation",Object(b.fromJS)({isDeprecated:!0,type:W9})):e)};var J9=e=>{const t=e.get("reportDefinition"),n=t.get("table"),r=t.get("stagedFields")||Object(b.List)();return r.isEmpty()?e.set("reportDefinition",t.delete("stagedFields")):Vm(Object(Ro.e)(n)).then(({properties:n})=>{const a=r.map(e=>Object(vo.a)(e)).map(e=>[n.getIn([e.table,e.property]),e]).map(([e,t])=>e?ks(e,t.table):Object(Cn.k)({name:t.property,table:t.table,type:Cn.m.string})),o=t.update("stagedColumns",e=>(e||Object(b.List)()).concat(a.map(gi))).delete("stagedFields");return e.set("reportDefinition",o)})},z9=e=>{const t=e.get("reportDefinition"),n=Object(Ro.e)(t.get("table"));return n.type===Co.b.HUBSPOT_DATASET?e:Vm(n).then(({tables:n})=>{const r=n.filter(e=>null!=e.metaDefinition).mapKeys((e,t)=>t.metaDefinition.name).map(e=>e.metaDefinition.fullyQualifiedName),a=e=>r.has(e)?r.get(e):e,o=t.update("table",e=>Object(Go.m)(e,e=>e.update("name",a))).update("columns",e=>(e||Object(b.Map)()).map(e=>e.updateIn(["field","table"],a))).update("stagedFields",e=>e?e.map(e=>e.update("table",a)):void 0).update("stagedColumns",e=>(e||Object(b.List)()).map(e=>e.updateIn(["field","table"],a))).update("filtering",e=>e?e.update("groups",e=>(e||Object(b.List)()).map(e=>e.update("filters",e=>e.map(e=>e.updateIn(["field","table"],a))))).update("stagedFilters",e=>(e||Object(b.List)()).map(e=>e.update("table",a))):void 0);return e.set("reportDefinition",o)})};const X9="association",Z9=e=>{const{field:{source:t,name:n}}=Object(Cn.d)(e);return t===Cn.l.ASSOCIATION&&n!==wo?e.setIn(["field","name"],wo):e},e6=e=>{const{field:{source:t,name:n},filter:r}=Object(Ll.f)(e);return t===Cn.l.ASSOCIATION&&(n!==wo||r.property!==wo)?e.setIn(["field","name"],wo).setIn(["filter","property"],wo):e},t6=(e,t)=>{const{type:n,table:r,property:a}=Object(Ll.g)(e),o=t.get(r),s=!(!o||!o.get(X9));return n===Ll.h.PROPERTY&&a===X9&&!s?e.set("property",wo):e};var n6=e=>{const t=e.get("reportDefinition"),n=Object(Ro.e)(t.get("table"));return Vm(n).then(({properties:n})=>{const r=t.update("columns",e=>(e||Object(b.Map)()).map(Z9)).update("stagedColumns",e=>(e||Object(b.List)()).map(Z9)).update("filtering",e=>e?e.update("groups",e=>(e||Object(b.List)()).map(e=>e.update("filters",e=>e.map(e6)))).update("stagedFilters",e=>(e||Object(b.List)()).map(e=>t6(e,n))):void 0);return e.set("reportDefinition",r)})};const r6=(e,t)=>{const n=e.get("type"),r=e.get("encodings");return e.set("encodings",uc(n).reduce((e,n)=>{const{name:a}=n,o=r.get(a);return o?Xi(n)?e.set(a,t(o,a,0)):e.set(a,o.map((e,n)=>t(e,a,n))):e},r))},a6=e=>e.get("options")&&e.get("options").format&&Cn.n.has(e.get("options").format.type),o6=e=>{const t=Pl(e);if(!t.visual)return e;const n=e=>a6(e)?e:e.set("options",Cn.t),r=r6(Ya(t.visual),e=>n(e));return e.set("visual",r)},s6=e=>{const t=e.get("stagedEncodings"),n=e.get("stagedEncodings")&&e.get("stagedEncodings").size===e.get("stagedColumns").size;if(n&&!e.get("stagedEncodings").find(e=>!a6(e)))return e;if(n){const n=t.map(e=>Object(Cn.h)({column:e.get("column"),options:Cn.t}));return e.set("stagedEncodings",n)}const r=e.get("stagedColumns").map(e=>Object(Cn.h)({column:e.get("alias"),options:Cn.t}));return e.set("stagedEncodings",r)};var i6=e=>{const t=e.get("reportDefinition"),n=o6(s6(t)),r=e.set("reportDefinition",n);return Promise.resolve(r)};const c6=e=>"closedate"===e.get("name")&&"DEAL"===e.get("table")&&"number"===e.get("type"),l6=e=>c6(e.get("field"))?e.update("field",e=>e.set("type","datetime")):e;var u6=e=>{const t=e.get("reportDefinition").update("filtering",e=>e.update("groups",e=>e.map(e=>e.update("filters",e=>e.map(e=>l6(e))))));return e.set("reportDefinition",t)};const p6="e_ad_interaction",d6=cC.a.isProd()?"4-1553675":"4-706542",m6=cC.a.isProd()?"4-439199":"4-58717",g6=e=>{if(!e.get("reportDefinition"))return!1;const t=Pl(e.get("reportDefinition"));return Object(Go.j)(t.table).some(e=>e.objectTypeId===m6)},b6=e=>{const t=Pl(e.get("reportDefinition")),n=Object(Go.j)(t.table).filter(e=>e.objectTypeId===m6).map(e=>e.name),r=e=>n.includes(e.field.table)?e.setIn(["field","table"],p6):e,a=t.update("table",e=>Object(Go.m)(e,e=>e.objectTypeId===m6?e.set("name",p6).set("objectTypeId",d6):e)).update("columns",e=>e.map(r)).update("stagedColumns",e=>e.map(r)).update("filtering",e=>e.update("groups",e=>e.map(e=>e.update("filters",e=>e.map(e=>n.includes(e.field.table)?e.setIn(["field","table"],p6):e)))).update("stagedFilters",e=>e.map(e=>n.includes(e.table)?e.set("table",p6):e)));return e.set("reportDefinition",a)};var O6={adClickedEventDeprecation:e=>Promise.resolve(g6(e)?b6(e):e)};const f6=Object(b.OrderedMap)({convertStagedFieldsIntoColumns:J9,switchToFullyQualifiedName:z9,updateAssociationLabelPropertyName:n6,backfillStagedEncodingsAndOptions:i6,fixFiltersOnDealCloseDateTreatedAsNumbers:u6,adClickedEventDeprecation:O6.adClickedEventDeprecation});var E6=e=>{if(!e.has("reportDefinition"))return Promise.resolve(e);const t=new yn.a;t.addReportAttributes(e);const n=(n,r)=>{t.addAttribute("reportId",e.get("id"));t.addAttribute("reportMigration",n);t.addAttribute("reportDefinitionPostMigration",JSON.stringify(r.get("reportDefinition")));t.sendPageAction("migrationRun")};return f6.reduce((e,t,r)=>e.then(e=>Promise.resolve(t(e)).then(t=>{e.equals(t)||n(r,t);return t})),Promise.resolve(e))};const y6=Object(b.OrderedMap)({sourcesAnalyticsAccess:$9.sourcesAnalyticsAccess,mismatchedProperties:$9.mismatchedProperties,removeConfigNulls:V9.removeConfigNulls,fixCrossObjectReportId:G9.fixCrossObjectReportId}),T6=["removeConfigNulls"];var I6=e=>{if(e.has("reportDefinition"))return E6(e);if(!e.has("config"))return Promise.resolve(e);const t=new yn.a;t.addReportAttributes(e);const n=(n,r)=>{if(!T6.includes(n)){t.addAttribute("reportId",e.get("id"));t.addAttribute("reportMigration",n);t.addAttribute("configPostMigration",JSON.stringify(r.get("config")));t.sendPageAction("migrationRun")}};return Object(Xx.a)().then(t=>y6.reduce((e,r,a)=>e.then(e=>Promise.resolve(r(e,t)).then(t=>{e.equals(t)||n(a,t);return t})),Promise.resolve(e)))};const h6="normalizeError",j6="ReportNormalizationUsed",A6=({report:e})=>I6(e),S6=({report:e})=>{const t=Object(p.useMemo)(()=>({report:e}),[e]),n=jY({fetcher:A6,requestArgs:t});return Object(p.useMemo)(()=>{const t=new yn.a;if(RY(n))return n;if(_Y(n)){t.addAttribute(h6,n.error);t.sendPageAction(j6);return Object.assign({},n,{status:hY.SUCCEEDED,data:e})}t.sendPageAction(j6);return n},[n,e])},_6="ReportMigrationUsed",N6="migrateSuccess",R6="migrateError";function C6(e){if(!e||"object"!=typeof e||Array.isArray(e))return;const t={};let n;for(n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const r=e[n];"object"!=typeof r||Array.isArray(r)?"function"==typeof r&&(t[n]=r):t[n]=C6(r)}return t}const v6=({report:e})=>Object(wt.b)("dashboard/v2/reports/migrate",{data:[e]}),L6=e=>e.first(),D6=({asyncReport:e,deferred:t=!1})=>{const n=NY(e)?e.data:void 0,r=RY(e),a=Object(p.useMemo)(()=>({report:n}),[n]),o=Object(p.useMemo)(()=>n&&(t||mV(n.toJS())),[t,n]),s=jY({fetcher:v6,requestArgs:a,deferred:o||r,resultFormatter:L6});return Object(p.useMemo)(()=>{if(r)return s;if(o&&n)return{data:n,status:hY.SUCCEEDED};if(RY(s))return s;const e=new yn.a;if(_Y(s)){e.addAttribute(R6,s.error);e.sendPageAction(_6);return s}e.addAttribute(N6,!0);e.sendPageAction(_6);const t=NY(s)?s.data:void 0,a=n&&Object(qe.a)(n)&&n.get("displayParams");if(a&&t&&Object(qe.a)(t)){return{data:t.set("displayParams",t.get("displayParams").mergeDeep(Object(b.fromJS)(C6(a.toJS())))),status:hY.SUCCEEDED}}return s},[s,n,o,r])},M6=({report:e,applyMigrateReport:t})=>{const n=S6({report:e}),r=Object(qe.f)(e)&&e.getIn(["reportDefinition","visual","type"],"")===La;return D6({asyncReport:n,deferred:!t||r})};n.d(t,"a",(function(){return w6}));const P6=()=>{};function U6(e){let{allowDrilldown:t=!0,allowSort:n=!0,appUsageTracker:r,drilldownEventCallback:a=P6,initialDrilldownKeys:o=Object(b.List)(),report:s,onReportResolve:i=P6,onError:c,options:d={},applyMigrateReport:m=!0,onExportListClick:g,onCustomExportButtonClick:O,drilldownDescription:f,goToCrmLink:E,overrideTooltip:y,useInlineLabels:T=!0,isMobile:I=!1}=e,h=Object(l.a)(e,["allowDrilldown","allowSort","appUsageTracker","drilldownEventCallback","initialDrilldownKeys","report","onReportResolve","onError","options","applyMigrateReport","onExportListClick","onCustomExportButtonClick","drilldownDescription","goToCrmLink","overrideTooltip","useInlineLabels","isMobile"]);const[j,A]=Object(p.useState)(null),[S]=Object(p.useState)(()=>{const e=new yn.a;e.addReportAttributes(s);return e}),_=A3(r),N=Object(p.useCallback)(t?e=>{_.track(S3.drillInto,Object.assign({},R3(s),{action:I3,assetType:"report"}));a(hn.d,{report:e});A(e);S.sendPageAction("PlatformReportResolverDrilldown")}:P6,[a,_,s]);Object(p.useEffect)(()=>{o&&0!==o.size&&En(s,o).then(A)},[s,o]);const R=M6({report:s,applyMigrateReport:m}),C=Object(p.useMemo)(()=>{if(NY(R)){const{data:e}=R,n=e&&e.withMutations(e=>{e.setIn(["displayParams","onDrilldown"],N).setIn(["displayParams","allowDrilldown"],t)});return Object.assign({},R,{data:n})}return R},[R]),{visualize:v}=h,L=a7(C,{allowDrilldown:t,allowSort:n,hasCustomVisualize:!!v});Object(p.useEffect)(()=>{S.addAttribute("PlatformReportResolver",!0);S.sendPageAction("PlatformReportResolve")},[S]);const D=Object(p.useCallback)(e=>{i(e);S.logSuccess("PlatformReportResolve")},[S,i]),M=Object(p.useCallback)(e=>{S.logError(e,"PlatformReportResolve","PlatformReportResolve");"function"==typeof c&&c(e)},[S,c]),P=Object(p.useCallback)(e=>{S.logError(e,"PlatformReportDrilldown","PlatformReportResolve")},[S]);if(RY(L))return Object(u.jsx)(Tn.a,{grow:!0});if(_Y(L))return Object(u.jsx)(cG,{error:L.error});const U=B9(s)?x9:g,k=L.data,x=()=>{if(Object(qe.f)(k))return null;const e=Object(qe.b)(k)&&k.get("config");if(!e)return null;const t=Object(u.jsx)(D9,{config:e,overrideTooltip:y,isMobile:I});return null!=t?Object(u.jsx)("div",{className:"report-subheader",children:t}):null};return Zt(k)?Object(u.jsx)(rH.a,{type:FH.FIELD_LEVEL_PERMISSIONS}):Object(u.jsxs)(p.Fragment,{children:[s&&Object(u.jsxs)(p.Fragment,{children:[T&&x(),Object(u.jsx)(Y3,Object.assign({},In(d),{},h,{isMobile:I,report:k,onReportResolve:D,onDrilldown:N,onError:M,allowSort:n,appUsageTracker:r}))]}),j&&Object(u.jsx)(K7,{appUsageTracker:r,baseReport:L.data,drilldownEventCallback:a,report:j.delete("id"),onClose:()=>{A(null);a(hn.c)},onError:P,onExportListClick:U,onCustomExportButtonClick:O,drilldownDescription:f,goToCrmLink:E})]})}const k6=M7(U6);function x6(e){let{lazyReportResolve:t,PlatformResolveComponent:n,report:r}=e,a=Object(l.a)(e,["lazyReportResolve","PlatformResolveComponent","report"]);const o=void 0===t||t,[s,i]=Object(p.useState)(!1),c=Object(p.useRef)(!1),[d]=Object(p.useState)(()=>{const e=new yn.a;e.addReportAttributes(r);return e});Object(p.useEffect)(()=>()=>{d.addAttributes({lazyLoadViewed:c.current,reportLazyLoaded:o,lazyLoadParameter:t});d.sendPageAction("LazyLoadReports")},[]);return o?Object(u.jsx)(X7,{renderContent:e=>e||s?Object(u.jsx)(n,Object.assign({report:r},a)):Object(u.jsx)("div",{}),onIntersectionChange:({entries:e,observer:t})=>{if(e[0].isIntersecting){t.disconnect();i(!0);c.current=!0;d.measureTiming("timeBeforeLoad")}}}):Object(u.jsx)(n,Object.assign({report:r},a))}function w6(e){let{userInfo:t,fiscalYearMonthName:n}=e,r=Object(l.a)(e,["userInfo","fiscalYearMonthName"]);const a=Object(p.useCallback)(e=>Object(u.jsx)(aH,{children:Object(u.jsx)(JV,{userInfo:t,children:Object(u.jsx)(UY,{fiscalYearMonthName:n,children:Object(u.jsx)(k6,Object.assign({},e))})})}),[]),o=Object(p.useCallback)(e=>Object(u.jsx)(x6,Object.assign({PlatformResolveComponent:a},e)),[]);return Object(u.jsx)(o,Object.assign({},r))}},I5fL:function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("G2Xo"),s=n("u9+u"),i=n("AYIY"),c=n("zors");const l={[s.CONTACTS]:1,[s.COMPANIES]:2,[s.DEALS]:3,[s.ENGAGEMENTS]:4,[s.TICKETS]:5,[s.PRODUCTS]:7,[s.LINE_ITEMS]:8,[s.CONVERSATIONS]:11,[s.QUOTAS]:16,[s.FEEDBACK_SUBMISSIONS]:19};var u=e=>e.sortBy(e=>l[e]),p=n("chpV"),d=n("V4H+");const m=(e,t)=>t.mapEntries(([t,n])=>{const r=Object(d.d)(e,t);return[r,n.set("name",r).update("label",t=>Object(o.a)("reporting-data.properties.common.namespacedProperty",{propertyLabel:t||r,dataTypeLabel:Object(o.a)("reporting-data.dataTypes."+e)}))]}),g=(e,t)=>e.map((e,n)=>m(e,t[n].get(e))).reduce((e,t)=>e.merge(t),Object(r.Map)()),b=e=>{const[t,n]=u(e);return[{name:"firstObjectId",dataType:t},{name:"secondObjectId",dataType:n},...e.map(e=>({name:Object(d.b)(e),dataType:e}))].reduce((e,{name:t,dataType:n})=>e.set(t,Object(r.Map)({name:t,label:Object(o.a)("reporting-data.dataTypes."+n),type:"number",hidden:!0})),Object(r.Map)())},O=()=>Object(r.Map)({count:Object(r.Map)({key:"count",label:a.a.text("reporting-data.properties.common.count",{object:a.a.text("reporting-data.dataTypes."+s.CROSS_OBJECT)}),type:"number"})}),f=()=>Object(r.Map)({total:Object(r.Map)({key:"total",label:a.a.text("reporting-data.properties.common.total"),type:"number"})}),E=e=>i.a.all(e.map(e=>Object(p.a)(e)).toArray()).then(t=>{const n=g(e,t).merge(b(e)).merge(O()).merge(f());return Object(r.Map)({[s.CROSS_OBJECT]:n})});t.a=Object(c.a)("default",e=>{const t=e.getIn(["crossObject","dataTypes"]);return E(t)})},IATA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));var r=n("QYOI");function a(e){return e.get("reportConfigs",Object(r.Map)())}function o(e){return a(e).merge(Object(r.Map)({primary:e.get("config")}))}},IBY6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Ktcs"),a=n("j/T8"),o=n.n(a);const s=()=>({events:o(),onError:e=>{console.log(e.message)}}),i=e=>{const t=s();return e?e.clone(Object.assign({},t)):console.error("appUsageTracker is a required prop. Please provide a UsageTracker instance.")},c=e=>{const[t,n]=Object(r.useState)();Object(r.useEffect)(()=>{const t=i(e);n(t)},[e]);return t}},Ip2w:function(e,t,n){"use strict";var r=n("QYOI"),a=n("TTw+"),o=n("u9+u"),s=n("kEPo"),i=n("kV5Q");t.a=e=>Object(a.a)(o.DEALS).then(t=>{const n=t.find(({pipelineId:t})=>t===e);if(!n)throw new i.g(e);return Object(r.fromJS)(n).get("stages").map(e=>Object(r.Map)({label:e.get("label"),value:e.get("stageId")})).unshift(Object(r.Map)(Object(s.getDealCreateStage)()))})},JB0K:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QYOI"),a=n("u9+u");const o=Object(r.Map)({[a.CALLS]:"CALL",[a.CONVERSATIONS]:"CONVERSATION_SESSION",[a.ENGAGEMENT_EMAILS]:"EMAIL",[a.MEETINGS]:"MEETING",[a.NOTES]:"NOTE",[a.TASKS]:"TASK",[a.FEEDBACK]:"FEEDBACK_SUBMISSION"})},JYON:function(e,t,n){"use strict";n.d(t,"m",(function(){return _}));n.d(t,"l",(function(){return R}));n.d(t,"f",(function(){return C}));n.d(t,"j",(function(){return L}));n.d(t,"g",(function(){return D}));n.d(t,"k",(function(){return M}));n.d(t,"h",(function(){return P}));n.d(t,"n",(function(){return U}));n.d(t,"a",(function(){return w}));n.d(t,"o",(function(){return F}));n.d(t,"i",(function(){return Y}));n.d(t,"d",(function(){return B}));n.d(t,"b",(function(){return G}));n.d(t,"c",(function(){return V}));n.d(t,"e",(function(){return W}));var r=n("/B53"),a=n.n(r),o=n("Tj6W"),s=n.n(o),i=n("Lt3g"),c=n.n(i),l=n("+30S"),u=n.n(l),p=n("00IJ"),d=n.n(p),m=n("ecfp"),g=n.n(m),b=n("TvdH"),O=n.n(b),f=(n("QYOI"),n("u9+u")),E=n("rpKw"),y=(n("U4wD"),n("fhwZ")),T=(n("9L5R"),n("3Wht"),n("prCU")),I=n("q/VH"),h=n("pewT"),j=n("hDBk"),A=n("k+EG");const S=["customer-payments-by-month","bottom-10-line-items-by-total-payment-sales","gross-revenue-split-by-payment-type","gross-payment-revenue-by-quarter","gross-payment-revenue-by-current-month","top-10-one-time-line-items-by-total-payment-sales","gross-payment-revenue-by-current-year","top-payment-sales-performers-by-current-quarter","bottom-10-line-item-total-sales-by-payment-type","top-10-recurring-line-items-by-total-payment-sales"],_=e=>Object(j.q)(e)||!1,N=e=>Object(j.k)(e)||!1,R=e=>Object(j.p)(e)===f.ATTRIBUTION_TOUCH_POINTS,C=e=>Object(j.p)(e)===f.CONTACT_CREATE_ATTRIBUTION,v=y.a.get(f.DEAL_CREATE_ATTRIBUTION),L=e=>Object(j.p)(e)===f.CRM_OBJECT&&Object(j.m)(e)===v,D=e=>N(e)&&Object(j.j)(e)===y.a.get(f.CONTACTS),M=e=>N(e)&&Object(j.j)(e)===y.a.get(f.DEALS),P=e=>Object(j.g)(e)||Object(j.d)(e)||!1,U=e=>{const t=Object(j.v)(e);return _(e)&&!P(e)&&S.includes(t)},k=e=>e.replace(/\d+/g,"*"),x=()=>{const{pathname:e}=window.location;return s()({pathname:k(e)})},w=e=>{const t=O()(["displayParams","origin","pathname"],e);return t?k(t):void 0},F=(e,t,n,r,o={})=>c()(g()(["displayParams","origin"],x()),d()("name",t),d()("description",n),d()("aiGeneratedDescription",r),u()(o),s.a,a.a)(e),Y=e=>Object(j.p)(e)!==f.ATTRIBUTION,B=e=>Object(h.c)(Object(j.w)(e)),G=e=>{if(_(e)){const t=Object(j.t)(e);return Object(T.k)(t).toArray()}const t=Object(j.p)(e),n=t===f.CRM_OBJECT&&Object(j.m)(e);return[n&&y.b.get(n)||t]},V=e=>_(e)?Object(j.u)(e):Object(j.b)(e),H=({report:e})=>{if(_(e))return Object(j.s)(e);const t=Object(j.p)(e),n=(t===f.CRM_OBJECT?Object(j.m)(e):t===f.ENGAGEMENT?I.q:y.a.get(t))||t;return n?[n]:[]},W=({report:e})=>{const t=A.a.get(E.COMMERCE_PAYMENTS);return H({report:e}).includes(t)}},JfoG:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n("QYOI"),a=n("z7F3"),o=n("AYIY"),s=n("iCNX"),i=n("Br7N"),c=n("UHjn"),l=n("npjq");const u=(e=Object(r.List)())=>Object(a.a)(e=>i.b("contacts/search/v1/search/services/tickets?properties=subject",{data:{count:e.size,filterGroups:[{filters:[{property:"hs_ticket_id",operator:"IN",values:e.toArray()}]}]}}).then(s.a),e=>e[0].results,e),p=(e,t)=>{const n=e.get("subject")||e.getIn(["properties","subject","value"]);return t?n?`${n} (${t})`:l.a.text("reporting-data.references.ticket.unknown-with-id",{id:t}):n||l.a.text("reporting-data.references.ticket.unknown")};t.a=e=>{if(e.isEmpty())return o.a.resolve(Object(r.Map)());const t=e.reduce((e,t)=>{const n=Number(t);return n?e.set(String(n),t):e},Object(r.Map)());return u(t.keySeq().toList()).then(e=>Object(r.fromJS)(e).reduce((e,n=Object(r.Map)())=>{const a=n.get("objectId");return e.set(String(a),Object(c.b)(t.get(a,a),p(n)))},Object(r.Map)()))}},JmCp:function(e,t,n){"use strict";n.d(t,"d",(function(){return c}));n.d(t,"e",(function(){return u}));n.d(t,"f",(function(){return p}));n.d(t,"c",(function(){return d}));n.d(t,"g",(function(){return g}));n.d(t,"h",(function(){return b}));n.d(t,"i",(function(){return O}));n.d(t,"b",(function(){return f}));n.d(t,"a",(function(){return E}));var r=n("npjq"),a=n("66sF"),o=n("ZUx/"),s=n("sNkl");const i=e=>Number(r.a.moment().locale("en").month(e).format("M"))-1,c=e=>{const t=i(e);return 0===t?0:12-t},l=e=>i(e)%3,u=e=>e&&(e.getIn(["filters","dateRange","useFiscalYear"])||!1),p=e=>e&&(e.get("useFiscalYearInAggregation")||!1),d=(e,t=o.a)=>e===a.QUARTER?l(t):e===a.YEAR?i(t):0,m=(e,t,n)=>e===a.YEAR?i(t)<i(n):e===a.QUARTER&&l(t)<l(n),g=e=>[a.QUARTER,a.YEAR].includes(e),b=(e,t=o.a)=>g(e)&&t!==o.c.JANUARY,O=e=>e in s.d,f=(e,t,n,r)=>{if(!t||!b(n,t))return e;const a=d(n,t);let o=e.add(a,"months").startOf("month");m(n,r,t)&&(o=o.subtract(1,n));return o},E=(e,t,n,r,a=!0)=>{if(!t||!b(n,t))return e;const o=d(n,t);let s=e.add(o,"months");m(n,r,t)&&(s=s.subtract(1,n));return a?s.endOf("month"):s}},JsU1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"d",(function(){return i}));n.d(t,"e",(function(){return l}));n.d(t,"b",(function(){return u}));n.d(t,"c",(function(){return p}));var r=n("QYOI"),a=n("u9+u"),o=n("dUhI");const s="$links",i=e=>[a.ATTRIBUTION_TOUCH_POINTS,a.CONTACT_CREATE_ATTRIBUTION,a.DEAL_CREATE_ATTRIBUTION].includes(e),c=Object(r.Map)({[a.CONTACTS]:"vid",[a.COMPANIES]:"company-id",[a.DEALS]:"dealId",[a.ENGAGEMENT]:"engagement.id",[a.ENGAGEMENTS]:"hs_unique_id",[a.TICKETS]:"hs_ticket_id",[a.LINE_ITEMS]:"objectId",[a.EMAIL]:"id"}),l=c.keySeq().toList(),u=e=>o[e]?"breakdown":c.get(e),p=(e,t)=>t&&t.has("hs_object_id")?"hs_object_id":u(e)},K3IO:function(e,t,n){"use strict";var r=n("DIPK"),a=n("bNJr"),o=n("7Y4s"),s=n("bQHN"),i=n.n(s),c=n("00IJ"),l=n.n(c),u=n("WbQG");const p=e=>l()("label",Object(u.b)(i()("label",e)),e),d=e=>l()("stages",i()("stages",e).map(p),e),m=e=>Object(o.a)(Object.assign({cacheKey:r.V,createFetchData:a.a,fetchData:a.b,selectReferences:e=>i()("pipelines",e).map(e=>l()("referencedObject",d(i()("referencedObject",e)),e))},e));t.a=m()},K7y8:function(e,t,n){"use strict";const r=e=>{try{return{}.hasOwnProperty.call(localStorage,e)}catch(t){console.warn(`storage: failed to check existence of '${e}' in localStorage`);return!1}},a=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(n){console.warn(`storage: failed to set '${t}' as '${e}' in localStorage`)}},o=e=>{try{localStorage.removeItem(e)}catch(t){console.warn(`storage: failed to remove '${e}' in localStorage`)}};var s=n("i7w0");n.d(t,"c",(function(){return l}));n.d(t,"f",(function(){return u}));n.d(t,"e",(function(){return p}));n.d(t,"a",(function(){return d}));n.d(t,"d",(function(){return m}));n.d(t,"b",(function(){return g}));s.b("overrides",{});const i=e=>"@@reporting-data:override:"+e,c=(e,t)=>{const n=Object.assign({on:()=>a(i(e),!0),off:()=>o(i(e)),get enabled(){return r(i(e))}},t?{description:t}:{});s.c("overrides",t=>Object.assign({},t,{[e]:n}));return n},l=c("development","force development mode in the platform"),u=c("unified","use unified implementation of data types if avaialble"),p=c("newrelic","enable platform level debug new relic tracking"),d=c("batchRequests","Enable batching of contacts-search requests"),m=(c("unifiedMetricFilters","Enables metric level (post-aggregation) filtering for analytics reports"),c("disableHighchartsAnimation","Disables Highcharts animations (for automated testing only)")),g=c("checkedRecordLogging","Enables logging for type issues for checked.record")},KI47:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"d",(function(){return o}));n.d(t,"e",(function(){return s}));n.d(t,"f",(function(){return i}));n.d(t,"b",(function(){return c}));const r="hs_period_start_date",a="hubspot_owner_id",o="hs_pipeline_id",s="hs_quota_type",i="hs_value",c="QUOTAS"},KNLt:function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"PRIOR_YEAR",(function(){return i}));n.d(r,"PRIOR_PERIOD",(function(){return c}));var a=n("iCNX"),o=n("XcLi"),s=n("U9YW");const i="PRIOR_YEAR",c="PRIOR_PERIOD";var l=n("u9+u"),u=n("66sF"),p=n("RoQ4"),d=n("OOsp"),m=n("y6Jc");const g=o.i({property:o.a(),order:o.a(),type:o.a(),metricType:o.a()},"Sort").defaultValue({}),b=o.d(g,"Sorts").defaultValue([]);var O=n("BDJE");const f=o.i({reportIds:o.d(o.k())},"EventFunnel");n.d(t,"a",(function(){return C}));const E=o.l(r,"Compare"),y=o.l(l,"DataType"),T=o.l(u,"Frequency"),I=o.d(o.k()).defaultValue([]),h=o.d(o.k()).defaultValue([]),j={v2:o.b().defaultValue(!1),compare:E.optional(),dataType:y.optional(),dimensions:I,filters:p.b,limit:o.a(),metrics:d.b,offset:o.a(),processors:h,sort:b,objectName:o.a(),customized:o.b().defaultValue(!1),objectTypeId:o.k().optional(),customSeries:o.a()},A=o.i(Object.assign({},j,{configType:o.k().always(s.a),crossObject:O.a.optional(),unifiedEvent:o.f().optional(),useFiscalYearInAggregation:o.b().optional()}),"Aggregation"),S=o.i(Object.assign({},j,{configType:o.k().always(s.f),crossObject:O.a.optional(),frequency:T.optional(),useFiscalYearInAggregation:o.b().optional()}),"TimeSeries"),_=o.i({v2:o.b().defaultValue(!1),configType:o.k().always(s.e),crossObject:O.a.optional(),dataType:y.optional(),dimensions:I,filters:p.b,limit:o.a(),metrics:d.b,offset:o.a(),processors:h,sort:b,customized:o.b().defaultValue(!1),objectTypeId:o.k().optional(),unifiedEvent:o.f().optional(),properties:o.d().fromJS().defaultValue([])},"Search"),N=o.i(Object.assign({},j,{eventFunnel:f.optional(),configType:o.k().always(s.c),pipeline:m.a}),"Pipeline"),R=o.i(Object.assign({},j,{eventFunnel:f.optional(),configType:o.k().always(s.b),pipeline:m.a}),"Funnel"),C=(e={})=>{(e=Object(a.a)(e)).configType||(e.configType=s.a);const{configType:t}=e;switch(t){case s.a:return A(e);case s.f:return S(e);case s.e:return _(e);case s.c:return N(e);case s.b:return R(e);default:throw new Error("No matching config implementation for "+t)}}},KPJb:function(e,t,n){"use strict";n.d(t,"c",(function(){return s}));n.d(t,"a",(function(){return i}));n.d(t,"e",(function(){return c}));n.d(t,"d",(function(){return l}));n.d(t,"b",(function(){return u}));var r=n("QYOI"),a=n("k+EG"),o=(n("e2gS"),n("Br7N"));const s=e=>{if(void 0!==e)return Object(a.g)(e.get("dataType"))?e.get("objectTypeId"):e.get("dataType")},i=e=>a.a.has(e)?a.a.get(e):e,c=e=>a.b.has(e),l=e=>e.get("objectTypeId")||i(e.get("dataType")),u=e=>o.a("properties/v4/groups/"+e,{query:{includeProperties:!0,includeFieldLevelPermission:!0}}).then(e=>e.get("results",Object(r.List)()))},Kcsf:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("QYOI"),a=n("U9YW"),o=n("g7r6"),s=n("K7y8"),i=n("HZJg"),c=n("0x0+");const l=Math.random(),u=5,p=e=>e?e.split(/\/\d/)[0]:e,d=e=>Object(c.b)(Object(c.a)(e.toJS(),"FUNCTION"),null,2),m=e=>{const t=Math.round(e.count()*Math.random());return e.keySeq().get(t)},g=e=>{const t=e=>Object(r.List)([e,...(e.get("join")||Object(r.List)()).map(e=>e.get("target")).flatMap(t)]),n=t(e.get("table")),a=e.getIn(["table","name"]),o=n.map(e=>e.get("name")).filter(e=>e!==a);return{reportDefinition:Object(c.b)(e),reportDefinitionVisualType:e.getIn(["visual","type"]),reportDefinitionTableCount:n.count(),reportDefinitionPrimaryTableName:e.getIn(["table","name"]),reportDefinitionNonPrimaryTableName:Object(c.b)(o)}},b=e=>e.get("configType")===a.f&&e.get("compare")&&(e.get("dimensions")||Object(r.List)()).size>0&&e.getIn(["dimensions",0])!==e.getIn(["filters","dateRange","property"]),O=e=>({visualization:e.get("v2"),configType:e.get("configType"),dataType:e.get("dataType"),objectTypeId:e.get("objectTypeId"),template:e.get("template"),dimensions:Object(c.b)(e.get("dimensions")),filters:Object(c.b)(e.get("filters")),metrics:Object(c.b)(e.get("metrics")),config:Object(c.b)(e),mismatchedDateComparison:Object(c.b)(b(e))}),f=(e,t)=>{const n=t?{displayParams:d(t),displayParam:m(t),customWidget:t.getIn(["customWidget","type"])}:{};return Object.assign({},n,{},O(e))},E=e=>{const t=e.get("reportDefinition"),n=t?g(t):{},r=e.get("config"),a=e.get("displayParams"),o=r?f(r,a):{};return Object.assign({reportName:e.get("name"),chartType:e.get("chartType"),reportId:e.get("id")},o,{},n)},y=e=>Object.assign({timeToResolve:e.markEnd()},e.getMarks().toJS());class T{constructor(e=l){this.sampleRate=e;this.attributes={lib:"reporting-data",debugging:!!s.e.enabled};this.perf=new i.a;this.perf.markStart()}enabled(){return 100*this.sampleRate<u}addAttribute(e,t){this.attributes[e]=t}addAttributes(e){this.attributes=Object.assign({},e,{},this.attributes)}addReportAttributes(e){try{this.addAttributes(E(e))}catch(e){console.error("Error thrown in addReportAttributes:",e)}}addReportConfigAttributes(e){try{this.addAttributes(O(e))}catch(e){console.error("Error thrown in addReportConfigAttributes:",e)}}addErrorAttributes(e){const{message:t,responseText:n,stack:r,status:a}=e;try{this.addAttributes({exception:e,reportErrorType:Object(o.a)(e),reportExceptionMessage:t||"no message",reportExceptionResponse:n,reportExceptionStack:r||Error().stack,reportExceptionStatus:a,benignError:[0,401,403,404].includes(a)})}catch(e){console.error("Error thrown in addErrorAttributes:",e)}}measureTiming(e){this.addAttributes({[e]:this.perf.markEnd()})}logError(e={},t,n){this.addErrorAttributes(e);this.addAttributes(Object.assign({},y(this.perf),{reportSuccess:!1,reportErrorPhase:t}));this.sendPageAction(n)}logHttpError(e,t,n){const{url:r}=t,{status:a,data:o,message:s,options:{method:i,appInfo:{name:c}={}}={}}=e;this.addAttributes({requestSuccess:!1,method:i,requestUrl:p(r),fullRequestUrl:r,status:a,errorResponse:o,appName:c,errorMessage:s,requestDuration:n});this.sendPageAction("ReportingHttpRequest")}logHttpSuccess(e,t){const{url:n}=e;this.addAttributes({requestSuccess:!0,requestUrl:p(n),fullRequestUrl:n,requestDuration:t});this.sendPageAction("ReportingHttpRequest")}logSuccess(e){this.addAttributes(Object.assign({},y(this.perf),{reportSuccess:!0}));this.sendPageAction(e)}sendPageAction(e="ReportingDataResolve"){window.newrelic&&window.newrelic.setCurrentRouteName&&window.newrelic.addPageAction&&(this.enabled()||s.e.enabled)&&window.newrelic.addPageAction(e,this.attributes)}}},Ke4B:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));n.d(t,"c",(function(){return i}));var r=n("QgEn"),a=n("Ktcs");const o=Object(a.createContext)(),s=({children:e})=>{const[t,n]=Object(a.useState)([]);return Object(r.jsx)(o.Provider,{value:{openDialogs:t,showDialog:({dialogType:e,dialogProps:r})=>{n(t.concat({dialogType:e,dialogProps:r}))},hideDialog:()=>{n(t.slice(0,-1))}},children:e})},i=()=>{const e=Object(a.useContext)(o);if(!e)throw new Error("Could not find context `DialogContext`. Did you forget to provide the context using `DialogProvider`?");return e}},Kkl9:function(e,t,n){"use strict";n.d(t,"b",(function(){return g}));n.d(t,"a",(function(){return b}));var r=n("L44f"),a=n("QYOI"),o=n("Kcsf"),s=n("Tfih"),i=n("U4wD");const c="ReportingDataUnifiedEventsWithoutPaginationLimit",l="ReportingDataUnifiedEventsWithPaginationLimitReducedAtRuntime",u=100,p=500,d=500,m=e=>e.get("chartType")===i.l,g=e=>{const t=e.getIn(["config","limit"]);if(Object(s.e)(e)){const n=!t,r=m(e)?u:p,a=t>r;if(n||a){const t=new o.a;t.addReportAttributes(e);n?t.sendPageAction(c):a&&t.sendPageAction(l);return r}}return t},b=e=>{if(Object(s.e)(e)){const t=g(e),n=e.getIn(["config","offset"])||0;if(m(e)){const e=Math.max(d-d%t,r.a*t);return Object(a.fromJS)({limit:e,offset:Math.floor(n/e)*e})}return Object(a.fromJS)({limit:t,offset:n})}return Object(a.fromJS)({limit:e.getIn(["config","limit"]),offset:e.getIn(["config","offset"])})}},KlKr:function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("2Om6"),s=n("sNkl"),i=n("ahZR"),c=n("3YOP");t.a=(e,t,n=!1)=>{Object(o.a)(e,"property must be defined");const l=t.get("rangeType"),u=t.get("rollingDays"),p=t.get("startDate"),d=t.get("endDate"),m=t.get("entireCurrentUnit"),g=t.get("date");switch(l){case s.b.ALL:return Object(r.fromJS)({property:e,operator:"HAS_PROPERTY"});case s.b.CUSTOM:return Object(r.fromJS)({property:e,operator:"BETWEEN",dateTimeFormat:"DATE",value:a.a.moment.portalTz(p,"YYYYMMDD").format("YYYY-MM-DD"),highValue:a.a.moment.portalTz(d,"YYYYMMDD").format("YYYY-MM-DD")});case s.b.ROLLING:return Object(r.fromJS)({property:e,operator:"ROLLING_DATE_RANGE",inclusive:!1,timeUnitCount:parseInt(u||7,10),timeUnit:"DAY"});case s.b.IS_EQUAL_TO:return Object(r.fromJS)({property:e,operator:i.b,dateTimeFormat:"DATE",value:a.a.moment.portalTz(g,"YYYYMMDD").format("YYYY-MM-DD")});case s.b.IS_BEFORE_DATE:return Object(r.fromJS)({property:e,operator:i.g,dateTimeFormat:"DATE",value:a.a.moment.portalTz(g,"YYYYMMDD").format("YYYY-MM-DD")});case s.b.IS_AFTER_DATE:return Object(r.fromJS)({property:e,operator:i.c,dateTimeFormat:"DATE",value:a.a.moment.portalTz(g,"YYYYMMDD").format("YYYY-MM-DD")})}const[b,O]=l.split("_");if("CUSTOM"===b)return Object(r.fromJS)({property:e,operator:"BETWEEN",dateTimeFormat:"DATE",value:Object(c.b)({date:a.a.moment.portalTz(g),frequency:O}).format("YYYY-MM-DD"),highValue:Object(c.a)({date:a.a.moment.portalTz(g),frequency:O}).format("YYYY-MM-DD")});const f="THIS"===b,E=f&&!m?"TIME_UNIT_TO_DATE":"ROLLING_DATE_RANGE";return Object(r.fromJS)({operator:E,inclusive:f,property:e,timeUnitCount:1,timeUnit:O,rollForward:"NEXT"===b,useFiscalYear:n})}},KqD4:function(e,t,n){"use strict";var r=n("QYOI"),a=n("ljrx"),o=n("u9+u"),s=n("WZzs"),i=n("mkAW"),c=n("l5oV"),l=n("Agl5"),u=n("sAns"),p=n("jOkw");function d(e){const t=e.getIn(["properties","hs_ticket_category","value"]);return t?Object(r.List)(t.split(";")):null}var m=n("ij+/");const g=()=>new m.a({dataType:o.TICKETS,properties:{idProperty:"hs_ticket_id",responsePaths:{hs_ticket_id:["hs_ticket_id"]},extractors:{hs_ticket_category:d,hs_ticket_id:e=>e.getIn(["properties","hs_ticket_id","value"]),subject:e=>e.getIn(["properties","subject","value"])}},search:{url:"contacts/search/v1/search/services/tickets",objectsField:"results"},hydrate:{inputs:Object(r.Set)(["hs_ticket_id","subject"]),fn:e=>`${e.subject} (${e.hs_ticket_id})`}});t.a=Object(a.b)({dataType:o.TICKETS,references:Object(r.Map)({hubspot_owner_id:Object(i.a)(c.a),hubspot_team_id:Object(i.a)(l.a),hs_pipeline:Object(i.a)(Object(u.a)(o.TICKETS)),hs_pipeline_stage:Object(i.a)(Object(p.a)(o.TICKETS))}),referenceProperties:Object(r.Map)({"associations.company":o.COMPANIES,"associations.contact":o.CONTACTS,hs_ticket_id:o.TICKETS}),hydrate:(e,t)=>Object(s.a)(o.TICKETS,e,t),getInboundSpec:g})},"L/ZD":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return c}));var r=n("VfuR"),a=n.n(r),o=n("c/Td");const s=Object(o.contains)({property:a.a.string,value:Object(o.contains)({rangeType:a.a.string.isRequired,startDate:a.a.string,endDate:a.a.string,rollingDays:a.a.number,entireCurrentUnit:a.a.bool}).isRequired}),i=Object(o.contains)({pipeline:Object(o.contains)({id:a.a.string,stages:Object(o.listOf)(a.a.string.isRequired)}),frequency:a.a.string,filters:Object(o.contains)({dateRange:s,owner:Object(o.listOf)(a.a.number),team:Object(o.listOf)(a.a.number)})}),c=Object(o.contains)({chartType:a.a.string,name:a.a.string,config:i,customConfig:o.iterable,reportDefinition:o.map})},L1ux:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"c",(function(){return c}));n.d(t,"e",(function(){return u}));n.d(t,"b",(function(){return p}));n.d(t,"f",(function(){return d}));n.d(t,"d",(function(){return m}));n.d(t,"g",(function(){return O}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS");const s={left:"left",right:"right"},i=r.l(s,"Align"),c={ascending:"ascending",descending:"descending"},l=r.l(c,"Direction"),u=r.i({dataset:r.a(),field:r.k(),value:r.a(),label:r.k().optional()},"Footer"),p=r.i({index:r.g().optional(),dataset:r.a(),field:r.k(),label:r.k().optional(),linkField:r.k().optional(),align:i.optional(),direction:l.optional(),footer:u.optional(),onClick:r.c().optional(),getOnPointClick:r.c().optional(),onSort:r.c().optional(),tooltipI18nKey:r.k().optional(),customRendererKey:r.k().optional(),renderCell:r.c().optional(),renderHeaderCell:r.c().optional(),renderFooterCell:r.c().optional(),showAsBarChart:r.b().optional(),showAsBarChartOptions:r.f().optional(),useRawDataLabel:r.b().defaultValue(!1),formattingType:r.k().optional(),formattingObject:r.a().optional()},"Column"),d=r.i({isMobile:r.b().optional()},"Style"),m=r.i({getOnPointClick:r.c().optional()},"Events"),g=r.e(p).optional(),b=r.i({toggleSeriesHandler:r.c().optional(),toggleAllSeriesHandler:r.c().optional(),seriesToggleDisabled:r.a().optional(),checkedSeries:r.d().optional(),colors:r.f().optional(),dimension:r.k().optional()},"toggleSeriesParams"),O=r.i({type:r.k().always(o.h),data:r.f(a.a),columns:g,footer:r.k().optional(),pages:r.g().optional(),style:d.optional(),events:m.optional(),showTotals:r.b().optional(),toggleSeriesParams:b.optional()},"TableVisualization")},L44f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=5},L8LW:function(e,t,n){"use strict";var r=n("DIPK"),a=n("bw/x"),o=n("7Y4s");const s=e=>Object(o.a)(Object.assign({cacheKey:r.yb,createFetchData:a.f,fetchData:a.p},e));t.a=s()},LA5X:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return l}));n.d(t,"c",(function(){return u}));var r=n("XcLi");const a={DEFAULT:"DEFAULT",CONDITIONAL:"CONDITIONAL",RELATIONAL_BUILDER:"RELATIONAL_BUILDER"},o=r.l(a,"EditorType"),s=r.i({editorType:o.always(a.DEFAULT).defaultValue(a.DEFAULT),editorState:r.i({})},"DefaultEditor"),i=r.i({conditionInput:r.k().defaultValue(""),isAdvancedExpressionValue:r.b().defaultValue(!1),valueInput:r.k().defaultValue("")}),c=r.i({editorType:o.always(a.CONDITIONAL).defaultValue(a.CONDITIONAL),editorState:r.i({conditionalBlocks:r.d(i).defaultValue([i({})]),defaultValue:r.k().defaultValue("")})},"ConditionalEditor"),l=r.i({editorType:o.always(a.RELATIONAL_BUILDER).defaultValue(a.RELATIONAL_BUILDER),editorState:r.i({treatNullsAsZero:r.b().defaultValue(!1)})}),u=r.h("editorType",{[a.DEFAULT]:s,[a.CONDITIONAL]:c,[a.RELATIONAL_BUILDER]:l},"Editor")},LHp2:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"a",(function(){return c}));var r=n("QYOI"),a=n("AYIY");const o="BUCKET_createdate_enteredCount",s="bucket:created",i=e=>Object(r.is)(e.get("dimensions"),r.List.of(o)),c=e=>a.a.resolve(i(e)?e.update("processors",e=>e.push(s)):e)},LbBa:function(e,t,n){"use strict";var r=n("QYOI");const a=e=>r.Iterable.isIterable(e)||"object"!=typeof e||null===e?e:Array.isArray(e)?Object(r.Seq)(e).map(a).toList():Object(r.Seq)(e).map(a).toOrderedMap();t.a=a},M3id:function(e,t,n){"use strict";n.d(t,"f",(function(){return r}));n.d(t,"e",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return c}));n.d(t,"g",(function(){return l}));const r=-1,a="__hs__ID",o="__hs__ME",s="__hs__MY_TEAM",i="__hs__CLOSEDWON",c="__current_time__",l="__select__top__"},MIaD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e.map(Number).filter(e=>!isNaN(e)).filter(e=>e>0)},MSlI:function(e,t,n){"use strict";var r=n("qIj6");const a=e=>e,o=(e,t=a)=>()=>e().then(e=>t(Object(r.a)(e=>e.get("name"),e.map(e=>e.get("properties")).flatten(1))));t.a=o},MYse:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("QYOI");const a=e=>e.count(),o=e=>e.reduce((e,t)=>e+t,0),s=e=>o(e)/a(e),i={count:a,sum:o,average:s,min:e=>e.min(),max:e=>e.max(),distinct:e=>e.toSet().count(),valid:e=>e.filter(e=>null!=e&&void 0!==e).count(),missing:e=>e.filter(e=>null==e||void 0===e).count(),attribute:e=>e.first()},c=Object.keys(i).reduce((e,t)=>e.set(t,t),Object(r.Map)()).toJS();function l(e,{groupby:t=[],aggregate:n}){if(0===t.length)return r.List.of(Object(r.Map)(n.map(({op:t="count",field:n,as:r})=>{const a=i[t];if(!a)throw new Error(`No aggregation function found for operator: ${t}, expected one of [${Object.keys(i)}]`);return[r||("count"===t?"count":`${t}_${n}`),a("count"===t?e:e.map(e=>e.get(n)))]})));const[a,...o]=t;return e.groupBy(e=>e.get(a)).map((e,t)=>l(e,{groupby:o,aggregate:n}).map(e=>e.set(a,t))).toList().flatten(1)}t.b=(e,{groupby:t=[],aggregate:n})=>{if(!n)throw new Error("Missing aggregations in aggregate transform");return e.update("data",e=>l(e,{groupby:t,aggregate:n}))}},Mx0d:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));const r="hubspot_owner_id",a="engagement.ownerId"},Mztr:function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("u9+u"),s=n("ljrx"),i=n("WZzs"),c=n("mkAW"),l=n("0g/9"),u=n("2LpV"),p=n("Agl5"),d=n("l5oV"),m=n("ij+/"),g=n("C53X");const b={"associations.contact":["associations","contactIds"],"associations.company":["associations","companyIds"],"engagement.id":["engagement","id"],"engagement.timestamp":["engagement","timestamp"],"engagement.createdAt":["engagement","createdAt"],"engagement.ownerId":["engagement","ownerId"],"engagement.createdBy":["engagement","createdBy"],"engagement.lastUpdated":["engagement","lastUpdated"],"engagement.modifiedBy":["engagement","modifiedBy"],"engagement.type":["engagement","type"],"engagement.teamId":["engagement","teamId"],"engagement.source":["engagement","source"],"engagement.activityType":["engagement","activityType"],"engagement.productName":["engagement","productName"],"engagement.followUpAction":["engagement","followUpAction"]},O=Object.assign({},Object(g.b)(),{},Object(g.a)(),{},Object(g.c)(),{},Object(g.e)(),{},Object(g.g)(),{},Object(g.d)(),{},Object(g.f)(),{},Object(g.h)()),f="engagement.id",E=()=>new m.a({dataType:o.CONVERSATIONS,search:{url:"contacts/search/v1/search/engagements",objectsField:"engagements"},properties:{idProperty:f,responsePaths:b,extractors:O},hydrate:{inputs:Object(r.Set)([f,"title"]),fn:e=>e?e.title||a.a.text("reporting-data.references.activity.untitled",{id:e[f]}):a.a.text("reporting-data.references.activity.unknown",{id:e[f]})}});t.a=Object(s.b)({dataType:o.CONVERSATIONS,references:Object(r.Map)({"engagement.createdBy":Object(c.a)(u.a),"engagement.modifiedBy":Object(c.a)(u.a),"engagement.teamId":Object(c.a)(p.a),"engagement.ownerId":Object(l.a)(Object(c.a)(u.a),Object(c.a)(d.a))}),referenceProperties:Object(r.Map)({"associations.company":o.COMPANIES,"associations.contact":o.CONTACTS,"engagement.id":o.ENGAGEMENT}),hydrate:(e,t)=>Object(i.a)(o.CONTACTS,e,t),getInboundSpec:E})},"N/oJ":function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("u9+u"),s=n("ljrx"),i=n("WZzs"),c=n("mkAW"),l=n("0g/9"),u=n("2LpV"),p=n("Agl5"),d=n("l5oV"),m=n("ij+/");const g="hs_unique_id",b=()=>Object(m.a)({dataType:o.ENGAGEMENTS,search:{},properties:{idProperty:g},hydrate:{inputs:Object(r.Set)([g,"title"]),fn:e=>e?e.title:a.a.text("reporting-data.references.activity.unknown",{id:e[g]})}});t.a=Object(s.b)({dataType:o.ENGAGEMENTS,references:Object(r.Map)({hubspot_owner_id:Object(l.a)(Object(c.a)(u.a),Object(c.a)(d.a)),hubspot_team_id:Object(c.a)(p.a),hs_created_by:Object(c.a)(u.a),hs_modified_by:Object(c.a)(u.a)}),referenceProperties:Object(r.Map)({"associations.company":o.COMPANIES,"associations.contact":o.CONTACTS,hs_unique_id:o.ENGAGEMENTS}),hydrate:(e,t)=>Object(i.a)(o.ENGAGEMENTS,e,t),getInboundSpec:b})},Nbqo:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("k+EG");const a=e=>Object(r.g)(e.getIn(["config","dataType"]))?e.getIn(["config","objectTypeId"]):e.getIn(["config","dataType"])},NwS3:function(e,t,n){"use strict";n.r(t);n.d(t,"getEngagementEmailPropertyGroups",(function(){return g}));n.d(t,"getPropertyGroups",(function(){return b}));n.d(t,"getProperties",(function(){return O}));var r=n("QYOI"),a=n("u9+u"),o=n("YrWE"),s=n("6Umb"),i=n("AYIY"),c=n("/SfS"),l=n("MSlI"),u=n("6sbF"),p=n("03no");const d=Object(s.a)("reporting-data.properties.engagementEmail"),m=Object(s.a)("reporting-data.groups.engagement"),g=()=>i.a.resolve(r.List.of(Object(r.fromJS)({name:"engagementEmailInfo",displayName:m("engagementEmailInfo"),displayOrder:0,hubspotDefined:!0,properties:[{name:"email.subject",label:d("subject"),type:"string"},{name:"email.text",label:d("text"),type:"string",hidden:!0},{name:"email.html",label:d("html"),type:"string",format:{type:"string",isHtml:!0},hidden:!0},{name:"email.trackerKey",label:d("trackerKey"),type:"string",hidden:!0},{name:"email.messageId",label:d("messageId"),type:"string",hidden:!0},{name:"email.threadId",label:d("threadId"),type:"string",hidden:!0},{name:"email.status",label:d("status"),type:"enumeration",options:[{displayOrder:-1,label:d("statusOptions.bounced"),value:"BOUNCED"},{displayOrder:-1,label:d("statusOptions.failed"),value:"FAILED"},{displayOrder:-1,label:d("statusOptions.scheduled"),value:"SCHEDULED"},{displayOrder:-1,label:d("statusOptions.sending"),value:"SENDING"},{displayOrder:-1,label:d("statusOptions.sent"),value:"SENT"}]},{name:"email.sentVia",label:d("sentVia"),type:"enumeration",options:[{displayOrder:-1,label:d("sentViaOptions.gmail"),value:"GMAIL"},{displayOrder:-1,label:d("sentViaOptions.office365"),value:"OFFICE365"},{displayOrder:-1,label:d("sentViaOptions.sendgrid"),value:"SENDGRID"}]},{name:"email.attachedVideoId",label:d("attachedVideoId"),type:"string"},{name:"email.attachedVideoOpened",label:d("attachedVideoOpened"),type:"bool"},{name:"email.attachedVideoWatched",label:d("attachedVideoWatched"),type:"bool"}]}))),b=()=>i.a.all([Object(p.a)(),g()]).then(([e,t])=>Object(r.List)([...e,...t])),O=()=>Object(l.a)(b,e=>e.merge(Object(u.b)(a.ENGAGEMENT_EMAILS)))().then(Object(c.a)(o.a.getInboundSpec()))},O2fa:function(e,t,n){"use strict";n.d(t,"d",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"f",(function(){return s}));n.d(t,"e",(function(){return i}));n.d(t,"b",(function(){return c}));n.d(t,"a",(function(){return l}));var r=n("XcLi");const a={TOP:"TOP",LEFT:"LEFT",BOTTOM:"BOTTOM",RIGHT:"RIGHT"},o=r.l(a,"LegendPosition"),s={PIXEL:"PIXEL",PERCENT:"PERCENT",AUTO:"AUTO"},i=r.i({value:r.g(),type:r.l(s,"LegendWidthType").defaultValue(s.PERCENT)},"LegendWidth"),c={X:"X",Y:"Y",SIZE:"SIZE",X_Y:"X_Y",X_Y_SIZE:"X_Y_SIZE"},l=r.l(c,"DataLabelFormat")},O3Wt:function(e,t,n){"use strict";var r=n("QYOI"),a=n("vZor"),o=n("kV5Q");const s=100,i=e=>e.get("aggregations",Object(r.Map)()).reduce((e,t)=>e.union(t.reduce((e,t)=>{t.get("aggregations",Object(r.Map)()).forEach(t=>{t.forEach(t=>{e=e.add(t.get("key"))})});return e},new r.Set)),new r.Set);var c=e=>{if((r.List.isList(e)?e.reduce((e,t)=>e.union(i(t)),new r.Set):i(e)).count()>s)throw new o.s};n.d(t,"a",(function(){return p}));n.d(t,"b",(function(){return d}));const l={generate:[],transform:[a.b,c]},u=(e,t)=>Promise.all(t.map(t=>t(e))),p=(e,t=l.generate)=>u(e,t),d=(e,t=l.transform)=>r.List.isList(e)?e.forEach(e=>u(e,t)):u(e,t)},O3Yl:function(e,t,n){"use strict";n.d(t,"k",(function(){return r}));n.d(t,"g",(function(){return a}));n.d(t,"d",(function(){return o}));n.d(t,"e",(function(){return s}));n.d(t,"l",(function(){return i}));n.d(t,"i",(function(){return c}));n.d(t,"j",(function(){return l}));n.d(t,"c",(function(){return u}));n.d(t,"f",(function(){return p}));n.d(t,"a",(function(){return d}));n.d(t,"b",(function(){return m}));n.d(t,"m",(function(){return g}));n.d(t,"h",(function(){return b}));const r="string",a="enumeration",o="date",s="datetime",i="timestamp",c="number",l="percent",u="currency",p="duration",d="bool",m="buckets",g="UNKNOWN",b="id"},OOsp:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));var r=n("XcLi");const a=r.i({property:r.k(),metricTypes:r.d(r.k()).defaultValue([])}),o=r.d(a,"Metrics").defaultValue([])},OZT9:function(e,t,n){"use strict";var r=n("bQHN"),a=n.n(r),o=n("mQDE"),s=n("QYOI");const i="RM:ReportDescriptions",c="RM:AIGeneratedReportDescriptions";n.d(t,"b",(function(){return l}));n.d(t,"c",(function(){return u}));n.d(t,"a",(function(){return p}));const l=e=>{const{data:t}=Object(o.a)();return(a()("gates",t)||Object(s.List)()).includes(e)},u=()=>l(i),p=()=>l(c)},Ojza:function(e,t,n){"use strict";var r=n("DIPK"),a=n("TsUQ"),o=n("UaB6");const s=e=>Object(a.a)(Object.assign({cacheKey:r.sb,createFetchByIds:o.b,createFetchSearchPage:o.c,fetchByIds:o.e,fetchSearchPage:o.f,maxBatchSize:100},e));t.a=s()},Ozqw:function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("ljrx"),s=n("u9+u"),i=n("WZzs"),c=n("mkAW"),l=n("l5oV"),u=n("Agl5"),p=n("VEo5"),d=n("ij+/");const m="companyId",g=()=>new d.a({dataType:s.COMPANIES,search:{url:"contacts/search/v1/search/companies",objectsField:"companies"},properties:{idProperty:m,responsePaths:{companyId:["company-id"]}},hydrate:{inputs:Object(r.Set)([m,"name"]),fn:(e,t)=>e?e.name?e.name:a.a.text("reporting-data.references.company.unnamed",{id:e[m]}):a.a.text("reporting-data.references.company.unknown",{id:t})}});t.a=Object(o.b)({dataType:s.COMPANIES,references:Object(r.Map)({hubspot_owner_id:Object(c.a)(l.a),hubspot_team_id:Object(c.a)(u.a),hs_parent_company_id:Object(c.a)(p.a)}),referenceProperties:Object(r.Map)({"associations.company":s.COMPANIES,"associations.contact":s.CONTACTS,companyId:s.COMPANIES}),hydrate:(e,t)=>Object(i.a)(s.COMPANIES,e,t),getInboundSpec:g})},P2ER:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"c",(function(){return i}));n.d(t,"d",(function(){return c}));n.d(t,"e",(function(){return l}));n.d(t,"f",(function(){return u}));n.d(t,"g",(function(){return p}));n.d(t,"b",(function(){return d}));n.d(t,"h",(function(){return m}));var r=n("XcLi"),a=n("QYOI");const o=r.i({key:r.k().optional(),data:r.d().fromJS().defaultValue([]),properties:r.f(r.f()).fromJS().defaultValue({}),paginationSize:r.g().optional(),searchDimension:r.k().optional(),dataAge:r.g().optional(),queryId:r.k().optional()},"Dataset"),s=(e,t,n)=>{if(a.Map.isMap(e))return e.getIn(t,n);{const r=e;return r.hasIn(t)?r.getIn(t):n}},i=(e,t)=>s(e,["properties",t]),c=(e,t)=>s(e,["properties",t,"label"])||t,l=(e,t)=>s(e,["properties",t,"type"]),u=(e,t,n)=>s(e,["properties",t,"references",String(n)]),p=(e,t,n,r=n)=>s(e,["properties",t,"references",String(n),"label"],String(r)),d=(e,t)=>s(e,["properties",t,"numberDisplayHint"]),m=(e,t,n)=>!!s(e,["properties",t,"references",String(n)])},PBgN:function(e,t,n){"use strict";n.r(t);n.d(t,"VISITS",(function(){return r}));n.d(t,"SUBMISSIONS",(function(){return a}));n.d(t,"LEADS",(function(){return o}));n.d(t,"CUSTOMERS",(function(){return s}));n.d(t,"CONTACTS",(function(){return i}));n.d(t,"LAST_TOUCH_CONTACTS",(function(){return c}));n.d(t,"SUBSCRIBERS",(function(){return l}));n.d(t,"MARKETING_QUALIFIED_LEADS",(function(){return u}));n.d(t,"SALES_QUALIFIED_LEADS",(function(){return p}));n.d(t,"OPPORTUNITIES",(function(){return d}));n.d(t,"OTHERS",(function(){return m}));n.d(t,"EVANGELISTS",(function(){return g}));n.d(t,"CONTACTS_INFLUENCED",(function(){return b}));n.d(t,"INFLUENCED_CONTACTS",(function(){return O}));const r="visits",a="submissions",o="leads",s="customers",i="contacts",c="last-touch-contacts",l="subscribers",u="marketing-qualified-leads",p="sales-qualified-leads",d="opportunities",m="others",g="evangelists",b="contacts-influenced",O="influenced-contacts"},PFSs:function(e,t,n){"use strict";var r=n("TsUQ"),a=n("DIPK"),o=n("bQHN"),s=n.n(o),i=n("g+dq"),c=n.n(i),l=n("WwZd"),u=n("BPM/"),p=n("QYOI"),d=n("iZt3"),m=n.n(d);const g=e=>new u.a({id:e.guid,label:e.name,referencedObject:Object(p.fromJS)(e)});var b=e=>{const t=m()(s()("id"),Object(p.List)(e.results).map(g));return{count:t.size,hasMore:e.hasMore,offset:e.offset,results:t}};const O=({httpClient:e})=>t=>e.get("ctas/v3/ctas").then(e=>e.results.filter(e=>t.includes(e.guid))).then(Object(l.a)({getId:s()("guid"),getLabel:s()("name")})),f=O({httpClient:c.a}),E=({httpClient:e})=>t=>{const n={name__like:t.get("query"),limit:t.get("count"),offset:t.get("offset")};return e.get("ctas/v3/ctas",{query:n}).then(b)},y=E({httpClient:c.a}),T=e=>Object(r.a)(Object.assign({cacheKey:a.Q,createFetchByIds:O,createFetchSearchPage:E,fetchByIds:f,fetchSearchPage:y},e));t.a=T()},PLqz:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("xA3K"),a=n("QgEn"),o=n("+KD7"),s=n("PQdV"),i=n("Pf7D"),c=n("VfuR"),l=n.n(c),u=n("9f1P"),p=n.n(u);const d=Object(u.css)(["width:50%;height:100%;top:0;"]),m=Object(u.css)(["width:110%;height:50%;left:-5%;"]),g={top:Object(u.css)(["",";bottom:0;transform:skew(-30deg);"],m),bottom:Object(u.css)(["",";top:0;transform:skew(30deg);"],m),left:Object(u.css)(["",";left:0;transform:skew(0deg,24deg);"],d),right:Object(u.css)(["",";right:0;transform:skew(0deg,-24deg);"],d)},b=e=>Object(u.css)(["position:absolute;background-color:currentColor;content:' ';",";"],g[e]),O=p.a.span.withConfig({displayName:"UIChevron__Outer",componentId:"sc-1u2nb6u-0"})(["align-items:center;display:inline-flex;font-size:",";color:",";min-height:",";min-width:",";padding:4px;padding-left:",";position:relative;text-align:center;justify-content:center;&::before{",";}&::after{",";}"],s.s,o.KOALA,({direction:e})=>"down"===e?"60px":s.ab,({direction:e})=>"down"===e&&"60px",({direction:e})=>"down"!==e&&"12px",({direction:e})=>b("down"===e?"left":"top"),({direction:e})=>b("down"===e?"right":"bottom")),f=p.a.span.withConfig({displayName:"UIChevron__Inner",componentId:"sc-1u2nb6u-1"})(["color:",";min-width:30px;position:relative;z-index:",";"],i.b,s.ob);function E(e){const{children:t}=e,n=Object(r.a)(e,["children"]);return Object(a.jsx)(O,Object.assign({},n,{children:Object(a.jsx)(f,{children:t})}))}E.propTypes={children:l.a.node,direction:l.a.oneOf(["right","down"])};E.defaultProps={direction:"right"};E.displayName="UIChevron"},Pey5:function(e,t,n){"use strict";var r=n("DIPK"),a=n("bw/x"),o=n("7Y4s");const s=e=>Object(o.a)(Object.assign({cacheKey:r.Ib,createFetchData:a.g,fetchData:a.q},e));t.a=s()},PqgQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n.d(t,"a",(function(){return p}));n.d(t,"c",(function(){return d}));var r=n("VfuR"),a=n("BPM/"),o=n("GR+F"),s=n("epgO"),i=n("c/Td");const c=Object(r.oneOf)([null]),l=Object(i.iterableOf)(Object(r.instanceOf)(a.a).isRequired),u=Object(r.oneOfType)([c.isRequired,Object(r.instanceOf)(o.a).isRequired,Object(r.instanceOf)(s.a).isRequired,Object(r.instanceOf)(a.a).isRequired]),p=Object(r.oneOfType)([Object(r.instanceOf)(o.a).isRequired,Object(r.instanceOf)(s.a).isRequired,l.isRequired]),d=Object(r.oneOfType)([Object(r.instanceOf)(o.a).isRequired,Object(r.instanceOf)(s.a).isRequired,Object(i.contains)({count:r.number.isRequired,hasMore:r.bool.isRequired,offset:r.number.isRequired,results:l.isRequired}).isRequired])},Pt4M:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e?String(e).replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ").replace(/&#x27;/g,"'").replace(/&#8230;/g,"…").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):""},Pzvz:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("QYOI"),a=n("BGD4");const o=Object(r.Map)({[a.SUM]:(e,t)=>e.get(a.SUM,0)+t.get(a.SUM,0),[a.MIN]:(e,t)=>Math.min(e.get(a.MIN,0),t.get(a.MIN,0)),[a.MAX]:(e,t)=>Math.max(e.get(a.MAX,0),t.get(a.MAX,0)),[a.AVG]:()=>null,[a.COUNT]:(e,t)=>e.get(a.SUM,0)+t.get(a.SUM,0),[a.PERCENTILES]:()=>null}),s=(e=Object(r.Map)(),t=Object(r.Map)())=>e.merge(t).filter((e,t)=>o.has(t)).map((n,r)=>o.get(r)(e,t)),i=(e=Object(r.Map)(),t=Object(r.Map)())=>e.merge(t).map((n,a)=>s(e.get(a,Object(r.Map)()),t.get(a,Object(r.Map)()))),c=e=>{if(!e.has("dimension"))return e;const t=e.updateIn(["dimension","buckets"],Object(r.List)(),e=>e.map(c)),n=t.getIn(["dimension","buckets"],Object(r.List)()).map(e=>e.get("metrics",Object(r.Map)()));return t.update("metrics",e=>e&&!e.isEmpty()?e:n.reduce(i,Object(r.Map)()))}},Q8yF:function(e,t,n){"use strict";n.d(t,"c",(function(){return i}));n.d(t,"a",(function(){return l}));n.d(t,"h",(function(){return m}));n.d(t,"f",(function(){return b}));n.d(t,"g",(function(){return f}));n.d(t,"e",(function(){return E}));n.d(t,"d",(function(){return S}));n.d(t,"i",(function(){return _}));n.d(t,"k",(function(){return N}));n.d(t,"j",(function(){return R}));n.d(t,"l",(function(){return C}));var r=n("XcLi"),a=n("bw30"),o=n("uE7y"),s=n("kaWj");n.d(t,"b",(function(){return a.b}));const i={PORTAL_SPECIFIC:"PORTAL_SPECIFIC"},c=r.l({BETA:"beta",NEW:"new"},"RolloutStage"),l=r.i({dataSourceType:a.a,dataSourceId:r.k(),eventsDigestType:r.k(),reportable:r.b(),reportingFirstLevelGroups:r.d(r.k()),reportingSection:r.k(),reportingBeta:r.b().optional(),inboundDbObjectType:r.a()},"DataSource"),u=r.i({id:r.g(),dataSourceId:r.k(),dataSourceType:r.k().always(a.b.HUBSPOT_OBJECT),type:r.k().always(a.b.HUBSPOT_OBJECT),metaTypeId:r.g(),objectTypeId:r.k(),name:r.k(),metaDefinition:r.a(),rolloutStage:c.optional()}),p=r.i({id:r.g(),dataSourceId:r.k(),dataSourceType:r.k().always(a.b.HUBSPOT_EVENT),type:r.k().always(a.b.HUBSPOT_EVENT),metaTypeId:r.g(),objectTypeId:r.k(),name:r.k(),metaDefinition:r.a(),rolloutStage:c.optional()}),d=r.i({dataSourceType:r.k().always(a.b.EVENTS_DIGEST),type:r.k().always(a.b.EVENTS_DIGEST),dataSourceId:r.k(),eventsDigestType:r.k(),name:r.k(),rolloutStage:c.optional()}),m=r.h("dataSourceType",{[a.b.HUBSPOT_OBJECT]:u,[a.b.HUBSPOT_EVENT]:p,[a.b.EVENTS_DIGEST]:d},"SnowflakeTable"),g=r.i({name:r.k(),section:r.k(),root:r.d(r.k()),related:r.d(r.k()),makeRelatedEventRootIfPrimary:r.b(),rolloutStage:c.optional()},"SnowflakeTableGroup"),b=r.i({value:r.k(),label:r.k().optional(),displayOrder:r.g().optional(),description:r.a()},"SnowflakeOption"),O={ERROR:"ERROR",WARNING:"WARNING"},f=r.i({name:r.k(),label:r.k(),type:r.l(s.n),groupName:r.k(),hidden:r.b().optional(),numberDisplayHint:r.k().defaultValue("formatted"),rollupPropertyObjectTypeIds:r.d().defaultValue([]),rollupProperty:r.b().defaultValue(!1),rollupPropertyErrorLevel:r.l(O,"RollupPropertyErrorLevel").optional(),canBeResolvedWithLabelExpression:r.b().defaultValue(!1),description:r.k().optional(),options:r.d(b).optional(),metaDefinition:r.a(),flpRestricted:r.b()},"SnowflakeProperty"),E={OBJECT_TO_OBJECT_ASSOCIATION:"OBJECT_TO_OBJECT_ASSOCIATION",OBJECT_TO_OBJECT_UNIQUE_PROPERTY:"OBJECT_TO_OBJECT_UNIQUE_PROPERTY",EVENT_AND_OBJECT_PRIMARY:"EVENT_AND_OBJECT_PRIMARY",EVENT_AND_OBJECT_UNIQUE_PROPERTY:"EVENT_AND_OBJECT_UNIQUE_PROPERTY",EVENT_AND_OBJECT_COORDINATE:"EVENT_AND_OBJECT_COORDINATE"},y=r.i({name:r.k(),label:r.k().optional(),hasAllAssociatedObjects:r.b()},"AssociationDefinition"),T=r.i({joinType:r.k().always(E.OBJECT_TO_OBJECT_ASSOCIATION),usedImplicitly:r.b().defaultValue(!1),source:r.k(),target:r.k(),combinedAssociationTypeId:r.k().optional(),associationDefinition:y},"ObjectToObjectAssociationJoin"),I=r.i({joinType:r.k().always(E.OBJECT_TO_OBJECT_UNIQUE_PROPERTY),source:r.k(),target:r.k(),sourceProperty:r.k(),targetProperty:r.k()},"ObjectToObjectUniquePropertyJoin"),h=r.i({joinType:r.k().always(E.EVENT_AND_OBJECT_PRIMARY),source:r.k(),target:r.k()},"EventAndObjectPrimaryJoin"),j=r.i({joinType:r.k().always(E.EVENT_AND_OBJECT_UNIQUE_PROPERTY),source:r.k(),target:r.k(),sourceProperty:r.k(),targetProperty:r.k()},"EventAndObjectUniquePropertyJoin"),A=r.i({joinType:r.k().always(E.EVENT_AND_OBJECT_COORDINATE),source:r.k(),target:r.k(),sourceProperty:r.k().optional(),targetProperty:r.k().optional()},"EventAndObjectCoordinateJoin"),S=r.h("joinType",{[E.OBJECT_TO_OBJECT_ASSOCIATION]:T,[E.OBJECT_TO_OBJECT_UNIQUE_PROPERTY]:I,[E.EVENT_AND_OBJECT_PRIMARY]:h,[E.EVENT_AND_OBJECT_UNIQUE_PROPERTY]:j,[E.EVENT_AND_OBJECT_COORDINATE]:A},"SnowflakeJoinMetadata"),_=(r.i({snowflakeTables:r.f(m),snowflakeTableGroups:r.f(g),snowflakeJoins:r.f(r.d(r.k()))},"SnowflakeSourceData"),r.i({tables:r.f(m),properties:r.f(r.f(f)),datasetProperties:r.f(r.f(o.b)),datasetDefinition:o.c.optional()},"TableAndPropertyMeta")),N={CRM:"crm",MARKETING:"marketing",SALES:"sales",SERVICE:"service",CUSTOM_OBJECTS:"custom-objects",OTHER:"other",FORMS:"forms"},R={ADS:"ads",AD_INTERACTIONS_BY_CONTACT:"ad-interactions-by-contact",AD_PERFORMANCE_METRICS:"ad-performance-metrics",BEHAVIORAL_EVENTS:"behavioural-events",BLOG:"blog",COMPANIES:"companies",CONTACTS:"contacts",CONVERSATIONS:"conversations",CTA:"ctas",CTA_VIEW:"cta-view",CALL:"call",COMMERCE_PAYMENTS:"Payments",DEALS:"deals",DEAL_SPLITS:"deal-splits",FEEDBACK:"feedback-submissions",FORMS:"forms",FORM_SUBMISSIONS:"form-submissions",LANDING_PAGES:"landing-pages",LEADS:"leads",MARKETING_EMAILS:"marketing-email",MARKETING_EMAIL_EVENTS:"marketing-email-events",MARKETING_EVENTS:"marketing-events",MEDIA:"media",MEETINGS:"meetings",LINE_ITEMS:"line-items",QUOTES:"Quotes",SALES_ACTIVITIES:"sales-activities",SALES_EMAIL:"Email",SEQUENCE:"sequence",SOCIAL_CHANNELS:"social-channels",SOCIAL_POSTS:"social-posts",SUBSCRIPTION:"Subscriptions",TICKETS:"tickets",VIDEO:"video",VIDMILE_VIDEOS:"vidmile-videos",WEBSITE_PAGES:"website-pages",WEB_ACTIVITIES:"web-activities",WORKFLOWS:"Workflow",EMAIL_EVENTS_DIGEST:"email-events-digest",INVOICES:"Invoices"},C=e=>void 0===e||void 0===e.name},QLu5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("QgEn"),a=n("npjq"),o=n("x1f2"),s=n("VQUG"),i=n("LqZr");function c(){return Object(r.jsxs)(s.a,{direction:"column",align:"center",justify:"center",children:[Object(r.jsx)(o.a,{children:Object(r.jsx)(i.a,{name:"empty-state-charts",width:"100%",className:"m-bottom-8 empty-state-illustration","data-test-id":"report-no-data"})}),Object(r.jsx)(o.a,{children:a.a.text("error-messages.empty.message")})]})}},QP1J:function(e,t,n){"use strict";n.d(t,"d",(function(){return a}));n.d(t,"g",(function(){return o}));n.d(t,"c",(function(){return s}));n.d(t,"h",(function(){return i}));n.d(t,"i",(function(){return u}));n.d(t,"j",(function(){return d}));n.d(t,"e",(function(){return m}));n.d(t,"f",(function(){return w}));n.d(t,"a",(function(){return F}));n.d(t,"b",(function(){return Y}));var r=n("XcLi");const a={NULL_LITERAL:"NULL_LITERAL",BOOLEAN_LITERAL:"BOOLEAN_LITERAL",NUMERIC_LITERAL:"NUMERIC_LITERAL",STRING_LITERAL:"STRING_LITERAL",IDENTIFIER:"IDENTIFIER",PROPERTY:"PROPERTY",FIELD:"FIELD",FUNCTION_CALL:"FUNCTION_CALL",AGGREGATION_CONTEXT:"AGGREGATION_CONTEXT",POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE",NOT:"NOT",ADD:"ADD",SUBTRACT:"SUBTRACT",MULTIPLY:"MULTIPLY",DIVIDE:"DIVIDE",MODULUS:"MODULUS",GREATER:"GREATER",GREATER_OR_EQUAL:"GREATER_OR_EQUAL",LESS:"LESS",LESS_OR_EQUAL:"LESS_OR_EQUAL",EQUAL:"EQUAL",NOT_EQUAL:"NOT_EQUAL",AND:"AND",OR:"OR"},o=(a.POSITIVE,a.NEGATIVE,a.NOT,a.ADD,a.SUBTRACT,a.MULTIPLY,a.DIVIDE,a.MODULUS,a.GREATER,a.GREATER_OR_EQUAL,a.LESS,a.LESS_OR_EQUAL,a.EQUAL,a.NOT_EQUAL,a.AND,a.OR,r.i({start:r.i({offset:r.g(),line:r.g(),column:r.g()},"Start"),end:r.i({offset:r.g(),line:r.g(),column:r.g()},"End")},"Location")),s=r.l(a,"ExpressionType"),i=r.i({type:s.always(a.NULL_LITERAL).defaultValue(a.NULL_LITERAL),value:r.a().always(null).defaultValue(null),location:o.optional()},"NullLiteral"),c=r.i({type:s.always(a.BOOLEAN_LITERAL).defaultValue(a.BOOLEAN_LITERAL),value:r.b(),location:o.optional()},"BooleanLiteral"),l=r.i({type:s.always(a.STRING_LITERAL).defaultValue(a.STRING_LITERAL),value:r.k(),location:o.optional()},"StringLiteral"),u=r.i({type:s.always(a.NUMERIC_LITERAL).defaultValue(a.NUMERIC_LITERAL),value:r.g(),location:o.optional()},"NumericLiteral"),p=r.i({type:s.always(a.IDENTIFIER).defaultValue(a.IDENTIFIER),name:r.k(),location:o.optional()},"Identifier"),d=r.i({type:s.always(a.PROPERTY).defaultValue(a.PROPERTY),table:r.k(),propertyType:r.k().optional(),name:r.k(),location:o.optional()},"Property"),m=r.i({type:s.always(a.FIELD).defaultValue(a.FIELD),name:r.k(),location:o.optional()},"Field"),g=e=>r.i({type:s.always(a.FUNCTION_CALL).defaultValue(a.FUNCTION_CALL),name:r.k(),arguments:r.d(e),location:o.optional(),identifierLocation:o.optional()},"FunctionCall"),b=e=>r.i({type:s.always(a.AGGREGATION_CONTEXT).defaultValue(a.AGGREGATION_CONTEXT),dimensions:r.d(e),expression:e,location:o.optional(),useReportDimensions:r.b().defaultValue(!1)},"AggregationContext"),O=(e,t,n,a)=>r.i({type:s.always(n).defaultValue(n),operator:r.k().always(a).defaultValue(a),argument:e,location:o.optional()},t),f=(e,t,n,a)=>r.i({type:s.always(n).defaultValue(n),operator:r.k().always(a).defaultValue(a),left:e,right:e,location:o.optional()},t),E=e=>({FunctionCall:g(e),AggregationContext:b(e),Positive:O(e,"Positive",a.POSITIVE,"+"),Negative:O(e,"Negative",a.NEGATIVE,"-"),Not:O(e,"Not",a.NOT,"!"),Add:f(e,"Add",a.ADD,"+"),Subtract:f(e,"Subtract",a.SUBTRACT,"-"),Multiply:f(e,"Multiply",a.MULTIPLY,"*"),Divide:f(e,"Divide",a.DIVIDE,"/"),Modulus:f(e,"Modulus",a.MODULUS,"%"),Greater:f(e,"Greater",a.GREATER,">"),GreaterOrEqual:f(e,"GreaterOrEqual",a.GREATER_OR_EQUAL,">="),Less:f(e,"Less",a.LESS,"<"),LessOrEqual:f(e,"LessOrEqual",a.LESS_OR_EQUAL,"<="),Equal:f(e,"Equal",a.EQUAL,"=="),NotEqual:f(e,"NotEqual",a.NOT_EQUAL,"!="),And:f(e,"And",a.AND,"&&"),Or:f(e,"Or",a.OR,"||")}),y=r.j(e=>{const t=E(e);return r.h("type",{[a.NULL_LITERAL]:i,[a.BOOLEAN_LITERAL]:c,[a.STRING_LITERAL]:l,[a.NUMERIC_LITERAL]:u,[a.IDENTIFIER]:p,[a.PROPERTY]:d,[a.FIELD]:m,[a.FUNCTION_CALL]:t.FunctionCall,[a.AGGREGATION_CONTEXT]:t.AggregationContext,[a.POSITIVE]:t.Positive,[a.NEGATIVE]:t.Negative,[a.NOT]:t.Not,[a.ADD]:t.Add,[a.SUBTRACT]:t.Subtract,[a.MULTIPLY]:t.Multiply,[a.DIVIDE]:t.Divide,[a.MODULUS]:t.Modulus,[a.GREATER]:t.Greater,[a.GREATER_OR_EQUAL]:t.GreaterOrEqual,[a.LESS]:t.Less,[a.LESS_OR_EQUAL]:t.LessOrEqual,[a.EQUAL]:t.Equal,[a.NOT_EQUAL]:t.NotEqual,[a.AND]:t.And,[a.OR]:t.Or},"Expression")}),{FunctionCall:T,AggregationContext:I,Positive:h,Negative:j,Not:A,Add:S,Subtract:_,Multiply:N,Divide:R,Modulus:C,Greater:v,GreaterOrEqual:L,Less:D,LessOrEqual:M,Equal:P,NotEqual:U,And:k,Or:x}=E(y),w=T,F=P,Y=y},QQ8p:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"b",(function(){return i}));const r="|",a="SUM",o=e=>e.includes(r),s=({property:e,type:t=a})=>[t,e].join(r),i=(e="")=>{const[t,n]=String(e).split(r).filter(e=>""!==e);return n?{property:n,type:t}:{property:t,type:a}}},Qb0q:function(e,t,n){"use strict";n.d(t,"d",(function(){return i}));n.d(t,"e",(function(){return d}));n.d(t,"c",(function(){return m}));n.d(t,"a",(function(){return g}));n.d(t,"b",(function(){return b}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS"),s=n("tc1C");const i={vertical:"vertical",horizontal:"horizontal"},c=r.l(i,"Direction"),l=r.i({column:r.k(),options:r.f()}),u=(r.f(l),r.d(l)),p=r.i({name:r.k().optional(),dataset:r.k(),direction:c,order:s.d.optional(),group:r.k().optional(),fields:r.d(r.k()),compare:r.k().optional(),groupFormattingOptions:r.a().optional(),valueFormattingOptions:u.optional()},"DatawellLayer"),d=r.i({getOnPointClick:r.c().optional(),getHeader:r.c().optional(),getBody:r.c().optional()},"Events"),m=r.i({type:r.k().always(o.b),data:r.f(a.a),layer:p,events:d.optional()},"DatawellVisualization"),g=r.i({label:r.k(),value:r.g(),valueLabel:r.k(),tooltip:r.k().optional(),row:r.f(),compare:r.g().optional(),compareValueLabel:r.k().optional(),field:r.k(),property:r.k(),layer:p.optional(),inverseDeltas:r.b(),summary:r.f()},"DatawellCell"),b=r.i({data:r.d(g),events:d.optional()},"DatawellData")},"R+M3":function(e,t,n){"use strict";n.d(t,"d",(function(){return s}));n.d(t,"a",(function(){return u}));n.d(t,"b",(function(){return p}));n.d(t,"c",(function(){return d}));var r=n("XcLi"),a=n("tc1C"),o=n("MYse");const s={AGGREGATE:"AGGREGATE",ACCUMULATE:"ACCUMULATE"},i=r.l(s,"TransformType"),c=r.i({op:r.l(o.a,"AggregateType"),field:r.k(),as:r.k().optional()},"AggregateDetail"),l=r.i({type:i.always(s.AGGREGATE).defaultValue(s.AGGREGATE),aggregations:r.d(c),groupBy:r.d(r.k()).optional()},"AggregateTransform"),u=r.i({field:r.k(),direction:a.b.optional().defaultValue(a.c.ascending)},"AccumulateAlong"),p=r.i({type:i.always(s.ACCUMULATE).defaultValue(s.ACCUMULATE),groupBy:r.d(r.k()).optional(),field:r.k(),as:r.k().optional(),along:u.optional()},"AccumulateTransform"),d=r.h("type",{[s.AGGREGATE]:l,[s.ACCUMULATE]:p},"Transform")},"R/TV":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"e",(function(){return c}));n.d(t,"b",(function(){return l}));n.d(t,"d",(function(){return u}));n.d(t,"c",(function(){return p}));var r=n("QYOI");const a={PENDING:"PENDING",SUCCEEDED:"SUCCEEDED",ERRORED:"ERRORED"},o=Object(r.Record)({request:null,status:a.PENDING,promise:null,response:null,error:null,duration:null,ttl:null,timeout:null,isRetriable:!0},"HttpRequestState"),s={ADD_REQUEST:"@@reporting/ADD_REQUEST",REMOVE_REQUEST:"@@reporting/REMOVE_REQUEST",SET_REQUEST_STATUS:"@@reporting/SET_REQUEST_STATUS"},i=Object(r.Map)(),c=(e=i,t)=>{const{type:n,data:r={}}=t;switch(n){case s.ADD_REQUEST:{const{request:t,promise:n,ttl:a=null,timeout:s}=r;return e.has(t)?e:e.set(t,new o({request:t,promise:n,ttl:a,timeout:s}))}case s.REMOVE_REQUEST:{const{request:t}=r,n=e.get(t);n&&n.timeout&&clearTimeout(n.timeout);return e.remove(t)}case s.SET_REQUEST_STATUS:{const{request:t,response:n,status:a,duration:o,error:s,timeout:i,isRetriable:c}=r;return e.has(t)?e.update(t,e=>e.set("response",n).set("status",a).set("duration",o).set("error",s).set("timeout",i).set("isRetriable",c)):e}default:return e}},l={addRequest:({request:e,promise:t,ttl:n,timeout:r})=>({type:s.ADD_REQUEST,data:{request:e,promise:t,ttl:n,timeout:r}}),removeRequest:({request:e})=>({type:s.REMOVE_REQUEST,data:{request:e}}),setRequestStatus:({request:e,response:t,status:n,duration:r,error:a,timeout:o,isRetriable:i})=>({type:s.SET_REQUEST_STATUS,data:{request:e,response:t,status:n,duration:r,error:a,timeout:o,isRetriable:i}})},u=e=>e.request,p=(e,t)=>e.request.get(t)},R69d:function(e,t,n){"use strict";var r=n("QYOI"),a=n("RoQ4");t.a=(e,t)=>e.updateIn(["filters","custom"],Object(r.List)(),e=>e.push(Object(a.a)({property:"engagement.type",operator:"IN",values:[t]})))},RoQ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));var r=n("XcLi");const a=r.i({operator:void 0,property:void 0,value:void 0,values:void 0,highValue:void 0,dateTimeFormat:void 0,timeUnit:void 0,timeUnitCount:void 0,rollForward:void 0,inclusive:void 0,propertySuffix:void 0,useFiscalYear:void 0,rollingOffset:void 0,rollingOffsetUnit:void 0},"Filter").fromJS(),o=r.i({dateRange:r.a().fromJS(),custom:r.d(a).defaultValue([])},"Filters").defaultValue({})},ShXV:function(e,t,n){"use strict";n.r(t);n.d(t,"getCallPropertyGroups",(function(){return O}));n.d(t,"getPropertyGroups",(function(){return f}));n.d(t,"getProperties",(function(){return E}));var r=n("QYOI"),a=n("6Umb"),o=n("u9+u"),s=n("wLYU"),i=n("MSlI"),c=n("03no"),l=n("y2XY"),u=n("6sbF"),p=n("YrWE"),d=n("/SfS");const m=Object(a.a)("reporting-data.properties.call"),g=Object(a.a)("reporting-data.properties.call.callStatus"),b=Object(a.a)("reporting-data.groups.engagement"),O=()=>Object(s.a)().then(e=>Object(r.List)([Object(r.Map)({name:"callInfo",displayName:b("callInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(r.List)([Object(r.Map)({name:"call.status",label:m("status"),type:"enumeration",hidden:!0,options:Object(r.fromJS)([{value:"COMPLETED",label:g("completed")},{value:"NO_ANSWER",label:g("noAnswer")},{value:"QUEUED",label:g("queued")},{value:"FAILED",label:g("failed")},{value:"CANCELED",label:g("canceled")},{value:"BUSY",label:g("busy")},{value:"CONNECTING",label:g("connecting")},{value:"CALLING_CRM_USER",label:g("callingCrmUser")},{value:"RINGING",label:g("ringing")},{value:"IN_PROGRESS",label:g("inProgress")}])}),Object(r.Map)({name:"call.durationMilliseconds",label:m("duration"),type:"duration"}),Object(r.Map)({name:"call.disposition",label:m("disposition"),type:"enumeration",options:e}),Object(r.fromJS)({name:"call.body",label:m("body"),type:"string",format:{type:"string",isHtml:!0}})])})])),f=()=>Promise.all([Object(c.a)(),O()]).then(([e,t])=>Object(r.List)([...e,...t])),E=()=>Object(i.a)(f,e=>e.merge(Object(u.b)(o.CALLS)).merge(Object(l.a)()))().then(Object(d.a)(p.a.getInboundSpec()))},Sn9Y:function(e,t,n){"use strict";var r=n("EuUD"),a=n("4k8m"),o=n("DWAB"),s=n("9mTs");var i=Object(o.a)({protocol:s.a.protocolRequired,protocolRequired:!0});const c=()=>Object(o.a)({isGlobal:!0,search:s.a.ungroupedSearch}),l=Object(r.a)({name:"Url",validator:(e,t={})=>t&&t.requireProtocol?i.test(e):a.a.test(e)});l.pick=e=>{const t=c(),n=[];let r=t.exec(e);for(;null!==r;){const a=r.index,o=a+r[0].length-1;n.push({start:a,end:o});r=t.exec(e)}return n};t.a=l},Sola:function(e,t,n){"use strict";var r=n("DIPK"),a=n("bw/x"),o=n("7Y4s");const s=e=>Object(o.a)(Object.assign({cacheKey:r.K,createFetchData:a.c,fetchData:a.m},e));t.a=s()},SxRi:function(e,t,n){"use strict";var r=n("QYOI"),a=n("WbQG"),o=n("u9+u"),s=n("fhwZ"),i=n("KPJb"),c=n("kV5Q"),l=n("AYIY"),u=n("Br7N");const p=Object(r.List)([o.ATTRIBUTION_TOUCH_POINTS,o.CONTACT_CREATE_ATTRIBUTION,o.CONTACTS,o.COMPANIES,o.DEAL_CREATE_ATTRIBUTION,o.DEALS,o.ENGAGEMENTS,o.FEEDBACK_SUBMISSIONS,o.LINE_ITEMS,o.PRODUCTS,o.QUOTAS,o.TICKETS]),d={[o.SOCIAL_POSTS]:"social-reporting/v1/report/posts/groups"},m=e=>u.a(d[e],{query:{includeProperties:!0}}),g={[o.ATTRIBUTION_TOUCH_POINTS]:"attributionProperties",[o.CONTACT_CREATE_ATTRIBUTION]:"contactCreateAttributionProperties",[o.DEAL_CREATE_ATTRIBUTION]:"dealCreateAttributionProperties"},b=(e,t)=>e.map(e=>e.update("displayName",a.b).update("properties",e=>e.map(e=>{const n=e.update("label",n=>Object(a.c)({label:n,nameSpaceLookupKey:g[t],isHubSpotDefined:e.get("hubspotDefined")}));return e.has("options")?n.update("options",n=>n.map(n=>n.update("label",n=>Object(a.c)({label:n,nameSpaceLookupKey:g[t],isHubSpotDefined:e.get("hubspotDefined")})))):n})));t.a=e=>{d.hasOwnProperty(e)&&m(e).then(t=>b(t,e));return p.includes(e)?Object(i.b)(s.a.get(e,e)).then(t=>b(t,e)):l.a.reject(new c.k(e))}},T1GP:function(e,t,n){"use strict";n.r(t);var r=n("QYOI"),a=n("u9+u"),o=n("O3Yl"),s=n("YrWE"),i=n("6Umb"),c=n("/SfS"),l=n("MSlI"),u=n("6sbF"),p=n("03no"),d=n("y2XY"),m=n("iCNX"),g=n("Br7N"),b=()=>g.a("/calendarintegration/v1/meeting-outcome").then(m.a).then(({meetingOutcomes:e})=>Object(r.List)(e.map(({name:e,label:t,displayOrder:n})=>Object(r.Map)({value:e,label:t,displayOrder:n}))));n.d(t,"getMeetingPropertyGroups",(function(){return y}));n.d(t,"getPropertyGroups",(function(){return T}));n.d(t,"getProperties",(function(){return I}));const O=Object(i.a)("reporting-data.properties.meetings.sources"),f=Object(i.a)("reporting-data.properties.meetings"),E=Object(i.a)("reporting-data.groups.engagement"),y=()=>b().then(e=>r.List.of(Object(r.Map)({name:"meetingInfo",displayName:E("meetingInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(r.List)([Object(r.Map)({name:"meeting.body",label:f("description"),type:"string"}),Object(r.Map)({name:"meeting.title",label:f("title"),type:"string"}),Object(r.Map)({name:"meeting.source",label:f("source"),type:"enumeration",options:Object(r.fromJS)([{value:"CRM_UI",label:O("crmUI")},{value:"INTEGRATION",label:O("integration")},{value:"BIDIRECTIONAL_API",label:O("bidirectionalApi")},{value:"BIDIRECTIONAL_SYNC",label:O("bidirectionalSync")},{value:"MEETINGS_EMBEDDED",label:O("meetingsEmbedded")},{value:"MEETINGS_PUBLIC",label:O("meetingsPublic")}])}),Object(r.Map)({name:"meeting.startTime",label:f("startTime"),type:"datetime"}),Object(r.Map)({name:"meeting.meetingOutcome",label:f("outcome"),type:o.g,options:e})])}))),T=()=>Promise.all([Object(p.a)(),y()]).then(([e,t])=>Object(r.List)([...e,...t])),I=()=>Object(l.a)(T,e=>e.merge(Object(u.b)(a.MEETINGS)).merge(Object(d.a)()))().then(Object(c.a)(s.a.getInboundSpec()))},T1O4:function(e,t,n){"use strict";var r=n("QYOI"),a=n("/yPC"),o=n("BXGd"),s=n("U9YW"),i=n("3eGA"),c=n("G2Ba"),l=n("kV5Q"),u=n("npjq");const p={INVALID_PROPERTY:"ConfigValidationError.INVALID_PROPERTY",DEPRECATED_PROPERTY:"ConfigValidationError.DEPRECATED_PROPERTY",TOO_MANY_METRICS_REQUESTED:"ConfigValidationError.TOO_MANY_METRICS_REQUESTED",MISSING_DIMENSIONS_AND_METRICS:"ConfigValidationError.MISSING_DIMENSIONS_AND_METRICS",TOO_MANY_FILLING_PERMUTATIONS:"ConfigValidationError.TOO_MANY_FILLING_PERMUTATIONS",TOO_MANY_DEAL_STAGES_REQUESTED:"ConfigValidationError.TOO_MANY_DEAL_STAGES_REQUESTED",INVALID_TWO_DIMENSION_METRIC:"ConfigValidationError.INVALID_TWO_DIMENSION_METRIC",FUNNEL_COUNT_PROPERTY_NOT_PRESENT:"ConfigValidationError.FUNNEL_COUNT_PROPERTY_NOT_PRESENT"},d={ATTRIBUTION_BACKFILL_IN_PROGRESS:"ReportDataError.ATTRIBUTION_BACKFILL_IN_PROGRESS",TOO_MANY_FILLING_PERMUTATIONS:"ReportDataError.TOO_MANY_FILLING_PERMUTATIONS",TOO_MUCH_DATA_TO_PROCESS:"ReportDataError.TOO_MUCH_DATA_TO_PROCESS"},m="dealstages.*_duration",g=Object(r.Map)({[p.INVALID_PROPERTY]:e=>{const t=e.get("propertyName");throw new l.h(t.toJS())},[p.DEPRECATED_PROPERTY]:e=>{const t=e.getIn(["propertyName",0]);throw new l.c(t)},[p.TOO_MANY_METRICS_REQUESTED]:()=>{throw new l.u},[p.MISSING_DIMENSIONS_AND_METRICS]:()=>{throw new l.n},[p.TOO_MANY_DEAL_STAGES_REQUESTED]:()=>{throw new l.t},[p.INVALID_TWO_DIMENSION_METRIC]:(e,t)=>{if(e.getIn(["propertyName",0])===m)throw new l.i({propertyName:u.a.text("reporting-data.properties.deals.timeInAllStages")});throw new l.d(t&&t.toString&&t.toString()?t.toString():void 0)},[p.FUNNEL_COUNT_PROPERTY_NOT_PRESENT]:e=>{const t=e.getIn(["metricName",0]);throw new l.e(t)},[d.ATTRIBUTION_BACKFILL_IN_PROGRESS]:()=>{throw new l.b},[d.TOO_MANY_FILLING_PERMUTATIONS]:()=>{throw new l.v},[d.TOO_MUCH_DATA_TO_PROCESS]:()=>{throw new l.v},[i.UNKNOWN]:(e,t)=>{throw new l.d(t&&t.toString&&t.toString()?t.toString():void 0)}}),b=(e,t,n)=>g.has(e)?g.get(e)(Object(r.fromJS)(t),n):g.get(i.UNKNOWN)(Object(r.fromJS)(t),n);var O=n("veyg"),f=n("Kcsf"),E=n("Br7N"),y=n("O3Wt"),T=n("a1V/"),I=n("q83f"),h=n("O3Yl"),j=n("rpKw"),A=n("fhwZ"),S=n("KPJb");const _=Object(r.Map)({[j.LINE_ITEMS]:7}),N=e=>e.get("aggregationType"),R=(e,t)=>[h.i,h.c].includes(t.get("type"))&&_.get(A.b.get(e)),C=(e,t)=>{const n=t.get("format",Object(r.Map)()),a=N(t),o=R(e,n);return Object(r.Map)(Object.assign({},a&&{aggregationType:a},{},o&&{customPrecision:o}))},v=(e,t)=>{const n=Object(S.c)(e);return t.update("header",e=>e.map(e=>{const t=C(n,e);return t.isEmpty()?e:e.set("propertyMeta",t)}))};var L=n("BDJE"),D=n("U4wD"),M=n("u9+u"),P=n("sNkl"),U=n("BGD4"),k=n("ahZR"),x=n("KI47"),w=n("vZor"),F=n("Kkl9"),Y=n("Tfih");const B=({report:e})=>{const t=e.getIn(["config","dataType"]);return t!==M.CRM_OBJECT&&t!==M.UNIFIED_EVENTS?{report:e.setIn(["config","objectTypeId"],A.a.get(t!==j.ENGAGEMENT?t:j.ENGAGEMENTS)).setIn(["config","dataType"],M.CRM_OBJECT)}:{report:e}},G=[P.b.CUSTOM,P.b.IS_EQUAL_TO,P.b.IS_BEFORE_DATE,P.b.IS_AFTER_DATE],V=e=>u.a.moment.portalTz(e,"YYYYMMDD",!0).isValid()?u.a.moment.portalTz(e,"YYYYMMDD").format("YYYY-MM-DD"):e,H=({report:e})=>{G.includes(e.getIn(["config","filters","dateRange","value","rangeType"]))&&(e=e.getIn(["config","filters","dateRange","value","rangeType"])===P.b.CUSTOM?e.updateIn(["config","filters","dateRange","value","startDate"],V).updateIn(["config","filters","dateRange","value","endDate"],V):e.updateIn(["config","filters","dateRange","value","date"],V));return{report:e=e.updateIn(["config","filters","custom"],Object(r.List)(),e=>e.map(e=>"DATE"!==e.get("dateTimeFormat")?e:(e=e.update("value",V)).get("operator")===k.a?e.update("highValue",V):e))}},W=Object(L.a)(null),K=({report:e})=>({report:e.get("chartType")===D.f?e.setIn(["config","limit"],w.a):e}),q=({report:e})=>{const t=e.getIn(["config","limit"]);if(Object(Y.e)(e)&&t){const t=Object(F.a)(e),n=e.setIn(["config","limit"],t.get("limit")).setIn(["config","offset"],t.get("offset"));return{report:n,externalizedData:{offset:n.getIn(["config","offset"])}}}return{report:e}},Q=({report:e})=>e.getIn(["config","configType"])===s.e?{report:e.setIn(["config","offset"],0),externalizedData:{offset:e.getIn(["config","offset"])}}:{report:e},$=e=>e.map(e=>({report:t,externalizedData:n},r)=>{const a=e({report:t,externalizedData:n},r);return{report:a.report,externalizedData:Object.assign({},a.externalizedData,{},n)}}),J=$([B,H,({report:e})=>{Object(r.is)(e.getIn(["config","crossObject"],W),W)&&(e=e.deleteIn(["config","crossObject"]));return{report:e}},({report:e})=>({report:e.getIn(["config","dataType"])!==M.UNIFIED_EVENTS?e.updateIn(["config","metrics"],e=>e.map(e=>e.update("metricTypes",e=>e&&e.count()>0?e:Object(r.List)([U.SUM])))):e}),({report:e})=>({report:e.updateIn(["config","metrics"],e=>e.map(e=>"count"===e.get("property")?e.set("metricTypes",Object(r.List)([U.SUM])):e))}),({report:e})=>({report:0===e.getIn(["config","limit"])?e.deleteIn(["config","limit"]):e}),({report:e})=>({report:e.get("chartType")!==D.l&&[s.b,s.c].includes(e.getIn(["config","configType"]))?e.deleteIn(["config","limit"]):e}),({report:e})=>({report:e.updateIn(["config","metrics"],e=>e.filter(e=>!e.get("property","").startsWith(x.b+".")))}),({report:e})=>{const t=e.getIn(["config","dimensions"]);return e.getIn(["config","configType"])!==s.e||t&&0===t.size?{report:e}:{report:e.setIn(["config","dimensions"],Object(r.List)())}}]),z=$([Q,q]),X=$([K]),Z=e=>J.reduce((e,t)=>t(e),{report:e,externalizedData:{}}),ee=(e,t)=>z.reduce((e,n)=>n(e,t),{report:e,externalizedData:{},gates:t}),te=e=>X.reduce((e,t)=>t(e),{report:e,externalizedData:{}});var ne=n("zwFt");const re="SUM|count",ae=e=>e.reduce((e,t)=>e+t.get(re),0),oe=e=>{const t=e.find(e=>e.has("primary")).get("primary"),n=ae(t.getIn(["data","data"])),a=Object(r.fromJS)({summary:{data:{data:[{[re]:n}],properties:{[re]:t.getIn(["data","properties",re]).set("references",Object(r.Map)({[String(n)]:{label:Object(ne.c)(n)}}))}}}});return[...e,a]},se=(e,t)=>{const n=e.getIn(["config","dimensions"])||Object(r.List)(),a=e.getIn(["config","configType"]),o=e.getIn(["config","limit"]),i=e.getIn(["config","offset"])||0;if(!o)return t;if(a===s.e)return t.update("data",[],e=>e.take(o));const c=t.get("data",Object(r.List)());if(n.size<=1){const n=Object(Y.e)(e)&&t.hasIn(["pagination","total"]),a=n?t.getIn(["pagination","total"]):c.size,s=Object(F.a)(e).get("limit"),l=n?i-Math.floor(i/s)*s:i;return t.set("data",c.skip(l).take(o)).set("pagination",Object(r.fromJS)({total:a,offset:Math.min(a,o+i)}))}const l=n.first(),[u,p]=c.reduce(([e,t],n)=>{const r=n.get(l),a=e.includes(r)?e:[...e,r],s=a.indexOf(r);return[a,s>=i&&s<o+i?[...t,n]:t]},[[],[]]),d=u.length;return t.set("data",Object(r.List)(p)).set("pagination",Object(r.fromJS)({total:d,offset:Math.min(d,o+i)}))};var ie=n("eY2p"),ce=n("QQ8p");n.d(t,"a",(function(){return pe}));n.d(t,"b",(function(){return ge}));const le=(e,t)=>{const n=t.get("header");return Object(o.b)(e,n,!0)},ue=e=>{const t=e.get("configType");return{isSearch:t===s.e,isRelational:!1,removeLastRowPercentiles:t===s.b||t===s.c,hasCurrencyDimension:t=>e.get("dimensions",Object(r.List)()).includes(t),isMeasure:t=>Object(ce.c)(t)||e.get("metrics",Object(r.List)()).some(e=>e.get("property")===t),getMeasureType:e=>Object(ce.b)(e).type}},pe=(e,t,n,a=[])=>{const o=e.get("config");let s=null;try{return["primary","compare"].reduce((i,c)=>{s=c;const l=t.get(c+"DataSet");if(l){const t=n?l:se(e,l);return i.set(c,Object(r.Map)({config:le(o,l),data:Object(T.a)(Object(r.fromJS)(Object(I.a)(v(o,t),ue(o),a)),o,a)}))}return i},Object(r.Map)())}catch(e){throw new l.p(s,e)}},de=(e,t,n,r)=>Object(ie.a)().then(({gates:n})=>{const a=Z(e);e=a.report;const o=ee(e,n),s={data:Object.assign({config:o.report.get("config")},o.externalizedData)},i=r?Promise.resolve(r(s)):E.b("reporting/v2/dataset",{data:Object.assign({config:o.report.get("config")},o.externalizedData)},{useLocalReportingApis:t});return Promise.resolve(i).then(e=>({datasets:e,gates:n}))}).then(({datasets:t,gates:r})=>pe(e,t,n,r)),me=e=>{const t=e.responseJSON;return t&&t.category&&t.category===i.VALIDATION_ERROR?b(t.subCategory,t.context,e):b(i.UNKNOWN,null,e)},ge=(e,{useLocalReportingApis:t,validationResolve:n,runtimeMockResolvers:o,fiscalYearMonthName:i}=O.RUNTIME_OPTIONS,l=!0)=>{const u=l&&new f.a,p=o&&o.dataset;if(u){u.addReportAttributes(e.update("config",e=>e.set("v2",!0)));u.addAttribute("datasetApiVersion","v2");u.addAttribute("raasBackendResolve",!0);n&&u.addAttribute("raasBackendValidation",!0)}const d=Object(a.d)(e.get("config")),m=[s.b,s.c].includes(e.getIn(["config","configType"])),g=(0!==(e.getIn(["config","dimensions"])||Object(r.List)()).count()||e.getIn(["config","configType"])!==s.e)&&e.getIn(["displayParams","showTotals"]);let b=Object(r.List)();if(g&&!m){const n=e.getIn(["config","dimensions"]).last(),a=e.updateIn(["config","dimensions"],e=>e.pop()).setIn(["config","configType"],s.a).updateIn(["config","sort"],e=>e.filter(e=>e.get("property","").split(".")[0]!==n));b=b.push(de(a,t,!0,p).then(e=>Object(r.fromJS)({summary:e.get("primary")})))}if(d){const t=te(e);e=t.report}b=b.push(de(e,t,!1,p));return y.a(e.get("config")).then(()=>Promise.all(b.toJS()).then(t=>{const n=Object(r.fromJS)(t).last().getIn(["primary","data"]);return Promise.all([...t,Object(c.d)(e,n,!0,i)])}).then(e=>{g&&m&&(e=oe(e));const t=Object(r.fromJS)(e).reduce((e,t)=>e.merge(t));u&&u.logSuccess();return t}).catch(e=>{u&&u.logError(e.errorBody||e,"NewReportingAPIRequestFailed");if(n)throw e;me(e.errorBody?e.errorBody:e)}))}},"TTw+":function(e,t,n){"use strict";var r=n("Br7N"),a=n("iCNX"),o=n("2Om6"),s=(e,t)=>(n,r="function")=>(...a)=>{const s="string"==typeof t?t:"function"==typeof t?t(...a,r):null;Object(o.a)(e(...a),"string"==typeof s?s:`preconditions failed for ${r} with arguments ${a}`);return n(...a)},i=n("u9+u"),c=n("Oc1M"),l=n.n(c);n.d(t,"a",(function(){return m}));const u="pipelines/v2/pipelines",p={[i.DEALS]:"DEAL",[i.TICKETS]:"TICKET"},d=Object.keys(p),m=s(e=>d.includes(e),e=>`expected one of ${d}, but got ${e}`)(l()(e=>r.a(`${u}/${p[e]}`,{query:{includeStageMetaPropertyNames:!0}}).then(a.a)))},Tfih:function(e,t,n){"use strict";n.d(t,"c",(function(){return i}));n.d(t,"d",(function(){return c}));n.d(t,"b",(function(){return u}));n.d(t,"a",(function(){return p}));n.d(t,"e",(function(){return m}));n("QYOI");var r=n("o8Kl"),a=n("U9YW");const o="object",s=e=>{const[t,n]=e.split(".");return!(n&&t===o)},i=e=>e.getIn(["config","unifiedEvent","reportType"]),c=e=>e.getIn(["config","unifiedEvent","schemaVersion"]),l=(e,t)=>{const n=t.getIn(["config","dimensions",0]);return t.getIn(["config","filters","custom"]).map(e=>e.get("property")).toSet().filter(e=>e!==n&&s(e)).reduce((e,t)=>e.children[t],e.aggregationHierarchy)},u=(e,t)=>{const n=l(e,t);return Object.keys(n.children).map(e=>({text:n.children[e].label||e,value:e}))},p=(e,t)=>{const n=l(e,t),r=t.getIn(["config","dimensions",0]);return r?n.children[r]:n},d=[a.a,a.f],m=e=>{const t=e.getIn(["config","configType"]);return Object(r.h)(e)&&d.includes(t)}},Tj69:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("YTLQ");const a="YYYYMMDD",o=(e,t)=>{const{dataType:n,filters:{dateRange:{value:o}={}}={}}=t,{startDate:s,endDate:i}=Object(r.a)(o,a,n);return{start:s,end:i}}},TtLx:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));var r=n("QYOI"),a=n("QQ8p");const o="funnelStage",s=Object(a.d)({property:"count"}),i=({dataset:e,dataConfig:t})=>t.get("dimensions",Object(r.List)()).isEmpty()?Object(r.fromJS)({total:e.get("metrics").count(),dimension:{property:o,buckets:e.get("metrics").map((e,n,a)=>{const o=t.get("metrics").findIndex(e=>e.get("property")===n),s=a.get(t.getIn(["metrics",o+1,"property"])),i=e.first(),c=s&&s.first(),l=c&&c/i;return Object(r.fromJS)({key:n,metrics:{count:e,"funnel.stepwiseConversion":{PERCENTILES:l}}})}).toList()}}):e;t.c=e=>Promise.resolve(i(e))},U1JS:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return i}));const r=5,a=15,o=1e4;function s(e,t=r){const n=Math.ceil(e/t),a=Math.floor(o/t);return Math.min(n,a)}function i(e,t){return 1===t||2===t?e.setIn(["config","limit"],1===t?r:a):e}e&&e.exports&&(e.exports.default=e.exports)}).call(this,n("OYux")(e))},U4wD:function(e,t,n){"use strict";n.d(t,"j",(function(){return r}));n.d(t,"i",(function(){return a}));n.d(t,"b",(function(){return o}));n.d(t,"h",(function(){return s}));n.d(t,"a",(function(){return i}));n.d(t,"l",(function(){return c}));n.d(t,"c",(function(){return l}));n.d(t,"f",(function(){return u}));n.d(t,"g",(function(){return p}));n.d(t,"d",(function(){return d}));n.d(t,"e",(function(){return m}));n.d(t,"k",(function(){return g}));const r="PIE",a="LINE",o="BAR",s="FUNNEL",i="AREA",c="TABLE",l="COLUMN",u="DATA_WELL",p="DONUT",d="COMBINATION",m="CUSTOM",g="SANKEY"},U9YW:function(e,t,n){"use strict";n.d(t,"e",(function(){return r}));n.d(t,"a",(function(){return a}));n.d(t,"f",(function(){return o}));n.d(t,"c",(function(){return s}));n.d(t,"b",(function(){return i}));n.d(t,"d",(function(){return c}));const r="SEARCH",a="AGGREGATION",o="TIME_SERIES",s="PIPELINE",i="FUNNEL",c="REPORT_GROUP"},UHjn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));var r=n("QYOI"),a=n("2Om6");class o extends(Object(r.Record)({value:null,label:null,url:null})){constructor({value:e,label:t=e,url:n}){Object(a.a)(null!=e,"expected valid `key` to be supplied, but got none");super({value:String(e),label:String(t),url:n})}}const s=(e,t)=>new o({value:e,label:t})},UJ2w:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Br7N"),a=n("T1O4"),o=n("QYOI"),s=n("IATA");const i="reporting/v2/multidataset";function c(e){return"primaryConfig"===e?"primary":e}const l=e=>r.b(i,{data:{config:e.get("config"),reportConfigs:e.get("reportConfigs")}}).then(t=>{const n=t.get("dataSets"),r=Object(s.b)(e);return n.map((e,t)=>{const n=r.get(c(t));return Object(a.a)(Object(o.Map)({config:n}),e,!0)}).reduce((e,t,n)=>{const r=c(n),a="primaryConfig"===n?"compare":n+"_compare";t.has("compare")&&(e=e.set(a,t.get("compare")));return e.set(r,t.get("primary"))},Object(o.Map)())}).catch(e=>{throw new Error("Resolving multiConfig dataset failed",e)})},UNYg:function(e,t,n){"use strict";var r=n("QYOI"),a=n("iCNX"),o=n("bt3G"),s=n("Br7N"),i=n("VljC"),c=n("trO3"),l=n("jpHT"),u=n("tv8C"),p=n("x1fr");const d=(e,t)=>e=>{const{dimensions:n,metrics:r=[]}=t,{total:a,hydratedDeals:o}=e,s=o.map(({dealId:e})=>e),i=o.reduce((e,t)=>Object.assign({},e,{[t.dealId]:t}),{});return{response:e,matrix:{dimensions:n,metrics:Object(u.a)(t),keys:[s],data:s.map(e=>r.map(({property:t})=>Object(l.a)(i,e)?Object(l.a)(i[e],t)?i[e][t]:Object(l.a)(i[e].metadata,t)?i[e].metadata[t]:null:null)),total:[a]}}},m=(e,t)=>({url:e.url+"/deals-influenced",parse:d(e,t),downgrade:p.a}),g=(e,t)=>e=>{const{metrics:n=[]}=t,{total:r,totals:a={}}=e;return{response:e,matrix:{dimensions:[],metrics:Object(u.a)(t),keys:[],data:n.map(({property:e})=>Object(l.a)(a,e)?a[e]:0),total:[r]}}},b=(e,t)=>({url:e.url+"/total",parse:g(e,t),downgrade:p.c}),O=(e,t)=>e=>{const{dimensions:n,metrics:r=[]}=t,{total:a,totals:o,breakdowns:s=[]}=e,i=s.map(({breakdown:e})=>e),c=s.reduce((e,t)=>Object.assign({},e,{[t.breakdown]:t}),{});return{response:e,matrix:Object.assign({dimensions:n,metrics:Object(u.a)(t),keys:[i],data:i.map(e=>r.map(({property:t})=>Object(l.a)(c,e)?Object(l.a)(c[e],t)?c[e][t]:Object(l.a)(c[e].metadata,t)?c[e].metadata[t]:null:null)),total:[a]},o?{totals:r.map(({property:e})=>Object(l.a)(o,e)?o[e]:0)}:{})}},f=(e,t)=>({url:e.url+"/total",parse:O(e,t),downgrade:p.a});var E=n("npjq"),y=n("Tj69"),T=n("sNkl"),I=n("3YOP");const h={INPUT:"YYYYMMDD",OUTPUT:"YYYY-MM-DD"},j=(e,...t)=>"function"==typeof e?e(...t):e,A=e=>(t,n)=>r=>{const a=Object.keys(r);if(0===a.length)return r;const{dataType:o,frequency:s,filters:{dateRange:{value:{rangeType:i}}}}=n,{start:c,end:u}=y.a(t,n),p=E.a.moment(...i===T.b.ALL?[a[0],h.OUTPUT]:[c,h.INPUT]),d=E.a.moment(u,h.INPUT),m={};let g=null;for(const t=Object(I.b)({date:p,frequency:s,dataType:o});t.isSameOrBefore(d,"day");t.add(1,s)){const n=t.format(h.OUTPUT),a=j(e,{date:n,previous:g,response:r});m[n]=Object(l.a)(r,n)?r[n]:a;g=m[n]}return m},S=A([]),_=(A(({previous:e})=>e||[]),(...e)=>(...t)=>n=>e.reduce((e,n)=>n(...t)(e),n));var N=n("2Om6"),R=n("66sF");const C=({frequency:e})=>{switch(e){case R.DAY:return"d";case R.WEEK:return"w";case R.MONTH:return"m";case R.QUARTER:return"q";case R.YEAR:return"y";default:Object(N.a)(!1,"expected frequency to be one of %s, but got %s",[R.DAY,R.WEEK,R.MONTH],e);return null}},v=(e,t)=>e=>{const{dimensions:n,metrics:r=[]}=t,a=Object.keys(e),o=a.reduce((t,n)=>Object.assign({},t,{[n]:e[n][0]}),{}),s={dimensions:n,metrics:Object(u.a)(t),keys:[a],data:a.map(e=>r.map(({property:t})=>Object(l.a)(o,e)&&Object(l.a)(o[e],t)?o[e][t]:0)),total:[a.length]};return{response:e,matrix:s}},L=(e,t)=>({url:`${e.url}/summarize/${C(t)}`,parse:_(S,v)(e,t),downgrade:p.a}),D=(e,t)=>e=>{const{dimensions:n,metrics:r=[]}=t,a=Object.keys(e),o=a.reduce((t,n)=>[...t,...e[n]],[]).reduce((e,{breakdown:t})=>e.includes(t)?e:[...e,t],[]),s=a.reduce((t,n)=>Object.assign({},t,{[n]:e[n].reduce((e,t)=>Object.assign({},e,{[t.breakdown]:t}),{})}),{}),i={dimensions:n,metrics:Object(u.a)(t),keys:[a,o],data:a.map(e=>o.map(t=>r.map(({property:n})=>Object(l.a)(s,e)&&Object(l.a)(s[e],t)&&Object(l.a)(s[e][t],n)?s[e][t][n]:0))),total:[a.length]};return{response:e,matrix:i}},M=(e,t)=>({url:`${e.url}/${C(t)}`,parse:_(S,D)(e,t),downgrade:p.b}),P=(e,t)=>{const{dimensions:n}=t;switch(n.length){case 0:return b(e,t);case 1:{const[r]=n;return"sessionDate"===r?L(e,t):"people"===r?c.a(e,t):"deals-influenced"===r?m(e,t):f(e,t)}case 2:return M(e,t);default:return null}};var U=n("xA3K");const k=e=>t=>t.filter(({property:t})=>0===t.indexOf(e)).map(t=>{let{property:n}=t,r=Object(U.a)(t,["property"]);return Object.assign({},r,{property:n.replace(e+".","")})}),x=k("contactFilters"),w=k("engagementFilters"),F=k("submissionFilters"),Y=k("ticketFilters");var B=n("u9+u");const G=[B.UNIFIED_FEEDBACK_WEB,B.UNIFIED_FEEDBACK_EMAIL,B.UNIFIED_FEEDBACK_TRENDS],V=(e,t,n=G)=>{const{dataType:r,filters:{custom:a=[]}={}}=t;if(n.includes(r)){return{method:"post",data:{contactFilters:x(a),engagementFilters:w(a),submissionFilters:F(a),ticketFilters:Y(a)}}}return{method:"get",data:{}}};var H=n("dPcB"),W=n("AYIY"),K=n("9kB+"),q=n("+xsV");const Q=(e={})=>Object.keys(e).reduce((t,n)=>/^metadata-/i.test(n)?t:Object.assign({},t,{[n]:e[n]}),{}),$=(e,t)=>{const{url:n}=e,r=q.a(e,t);return s.a(n+"/metadata",{query:Q(r)}).then(a.a).then(({metadata:e})=>e)},J=({people:e=[]})=>e.reduce((e,{vid:t,firstname:n,lastname:r,email:a})=>Object.assign({},e,{[t]:Object(H.a)({firstName:n,lastName:r,email:a})}),{}),z=({hydratedDeals:e=[]})=>e.reduce((e,{dealId:t,dealName:n})=>Object.assign({},e,{[t]:n}),{}),X=(e,t)=>n=>$(e,t).then(e=>Object.keys(e).reduce((t,r)=>Object.assign({},t,{[r]:e[r][n]}),{})),Z=({spec:e,config:t,data:n,primary:r,metadataProperty:a})=>{const{response:{breakdowns:o=[]}={}}=n;return"sessionDate"===r?X(e,t)(a):o.filter(e=>e.metadata&&void 0!==e.metadata[a]).reduce((e,{breakdown:t,metadata:n={}})=>Object.assign({},e,{[t]:n[a]}),{})},ee=({breakdowns:e,spec:t,config:n,ids:r,module:a})=>{const o=a.getIn(["references",e]);if(o&&"function"==typeof o){return o(t,n)(r||[])}return{}},te=({spec:e,config:t,module:n,data:r})=>{const{dimensions:[a]}=t,{response:o,matrix:{keys:s=[]}={}}=r,{dimensionality:i,drilldown:{metadata:c,breakdowns:l}={}}=K.a(e,t),u=s[i-1]||[];return e.metadata&&e.metadata[a]||1===i&&"sessionDate"===a||0===i?{}:"people"===a?J(o):"deals-influenced"===a?z(o):c?W.a.resolve(Z({spec:e,config:t,data:r,metadataProperty:c,primary:a,dimensionality:i})).then(a=>{const o=u.filter(e=>!a.hasOwnProperty(e));return o.length>0?W.a.resolve(ee({breakdowns:l,spec:e,config:t,data:r,ids:o,module:n})).then(e=>Object.assign({},a,{},e)):a}):ee({breakdowns:l,spec:e,config:t,data:r,ids:u,module:n})},ne=(e,t,n)=>r=>W.a.resolve(te({spec:e,config:t,module:n,data:r})).then(e=>Object.assign({},r,{references:e}));var re=n("6Umb"),ae=n("XP87");const oe=()=>null,se=Object(re.a)("reporting-data.properties.unified.people"),ie=({filters:{custom:e=[]}={}})=>{const t=e.find(({property:e})=>"peopleType"===e);return se(t?t.value:"default")},ce=(e,t)=>({matrix:n,references:r})=>{const{keys:a}=n,{dimensionality:o,drilldown:s}=K.a(e,t);if(!s)return n;const{dimensions:[i],dataType:c}=t,{metadata:l={},breakdowns:u={}}=s,p=e=>Object(re.a)("reporting-data.properties."+Object(ae.b)(c))(e),d="people"===i?ie(t):"deals-influenced"===i?se("deals-influenced"):e.metadata&&e.metadata[i]?p(i):"sessionDate"===i?null:s.default,m=l||u?e=>"object"==typeof u&&u[e]||r[e]:oe;return Object.assign({},n,{labels:{dimensions:[d],keys:[1===o?a[0].map(m):[],2===o?a[1].map(m):[]]}})},le=(e,t,n)=>{const r=ne(e,t,n),a=ce(e,t);return e=>r(e).then(e=>a(e))};var ue=n("kV5Q");const pe=500,de=[()=>e=>{const{breakdowns:t}=e;if(null!=t&&t.length>pe)throw new ue.v;const n=Object.keys(e);if(n.length>pe)throw new ue.v;if(n.reduce((t,n)=>(e[n]||[]).length+t,0)>pe)throw new ue.v}],me=(e,t)=>n=>{de.forEach(r=>r(e,t)(n));return W.a.resolve(n)},ge=e=>{const{searchResultsFounds:t=0}=e;return Object.assign({},e,{hasResults:t>0})},be=()=>e=>{const{breakdowns:t,totals:n}=e;return t&&n?Object.assign({},e,{breakdowns:t.map(ge),totals:ge(n)}):e},Oe=.5,fe=200,Ee=({breakdown:e})=>Number(e)+1,ye=(e,t)=>Ee(e)-Ee(t),Te=e=>{const t=2,n=Ee(e),r=("00"+n%60).slice(-t);return`${("00"+Math.floor(n/60)).slice(-t)}:${r}`},Ie=e=>{const t=Ee(e);return E.a.formatPercentage(t*Oe,{precision:2})},he=()=>e=>{const{breakdowns:t}=e;if(t){const n=t.length<fe?Te:Ie,r=t.sort(ye),a=r.map(e=>Object.assign({},e,{breakdown:n(e)})),o=r[0],s=Object.assign({},o,{breakdown:n({breakdown:-1})});return Object.assign({},e,{breakdowns:[s,...a]})}return e},je=(e={})=>{const{submissions:t=0,formViews:n=0,visibles:r=0,submissionsPerFormView:a}=e;return Object.assign({},e,{submissionsPerFormView:a<=1?a:void 0,conversionRate:t&&n?t/n:0,clickThroughRate:r&&n?r/n:0,formConversionRate:t&&r?t/r:0})},Ae=e=>Object.assign({},e,{totals:je(e.totals||{}),breakdowns:(e.breakdowns||[]).map(je)}),Se=e=>Object.keys(e).reduce((t,n)=>Object.assign({},t,{[n]:e[n].map(je)}),{}),_e=(e,t)=>e=>{const{dimensions:[n]=[]}=t;return"sessionDate"===n?Se(e):Ae(e)};var Ne=n("4Nkb");const Re=e=>e,Ce=["string","number"],ve=(e=Re,t)=>(n,r)=>{const a=e(n),o=e(r),s=t===Ne.b?1:-1;if(null==a)return 1*s;if(null==o)return-1*s;if(!Ce.includes(typeof a)&&!Ce.includes(typeof o))return 0;switch(typeof a){case"number":return((o||0)-(a||0))*s;case"string":return(o||"").localeCompare(a||"");default:return 0}},Le=(e,t)=>n=>{const{metrics:r={},metadata:a={}}=e,{sort:[{property:o,order:s}={}]=[]}=t,{breakdowns:i=[]}=n,c=Object(l.a)(r,o)?e=>e[o]:Object(l.a)(a,o)?({metadata:e={}}={})=>e[o]:null;return c?Object.assign({},n,{breakdowns:i.sort(ve(c,s))}):n},De=(e,t)=>n=>{const{dimensions:r=[],sort:[a]=[]}=t;return null==a||"sessionDate"===r[0]?n:Le(e,t)(n)},Me=(e,t)=>e=>{const{offset:n=0,limit:r=1/0}=t;return e.slice(n,n+r)},Pe=(e,t)=>n=>{const{dimensions:[r]=[],limit:a,offset:o}=t;if(!o&&!a)return n;if("sessionDate"===r){return Object.keys(n).reduce((r,a)=>Object.assign({},r,{[a]:Me(e,t)(n[a])}),{})}const{breakdowns:s}=n;return Object.assign({},n,{breakdowns:Me(e,t)(s)})},Ue=(e,t)=>n=>{const r=De(e,t);return Pe(e,t)(r(n))},ke=e=>Boolean(e)&&e.some(({score:e})=>null!=e),xe=(e,t)=>n=>{let r=!1;return A(({previous:e})=>{r=r||ke(e);return r?e:[{score:null}]})(e,t)(n)},we=(e,t)=>n=>{const{dimensions:[r]=[]}=t;return"sessionDate"===r?xe(e,t)(n):n},Fe=(e={})=>{const{visits:t=0,visitors:n=0}=e;return Object.assign({},e,{returningVisits:t-n})},Ye=e=>Object.assign({},e,{totals:Fe(e.totals||{}),breakdowns:(e.breakdowns||[]).map(Fe)}),Be=e=>Object.keys(e).reduce((t,n)=>Object.assign({},t,{[n]:e[n].map(Fe)}),{}),Ge=(e,t)=>e=>{const{dimensions:[n]=[]}=t;return"sessionDate"===n?Be(e):Ye(e)},Ve=e=>{const{breakdowns:t=[],totals:n}=e,r=t.find(({breakdown:e})=>"MOBILE"===e),a=r?r.visits/n.visits:void 0;return Object.assign({},n,{mobileSessionRate:a})},He=(e,t)=>e=>{const{dimensions:n=[]}=t;return 0===n.length?Object.assign({},e,{totals:Ve(e)}):e};var We=n("07iG");const Ke=e=>e.repliesPerCompletionsAndUnenrolls>.13?3:e.repliesPerCompletionsAndUnenrolls>.07?2:1,qe=e=>e.bouncesPerCompletionsAndUnenrolls>.07?1:e.bouncesPerCompletionsAndUnenrolls>.03?2:3,Qe=(e,t)=>{const n=Ke(e)+qe(e);return(e.completionsAndUnenrolls>100||t)&&{2:"LOW",3:"LOW",4:"FAIR",5:"GOOD",6:"EXCELLENT"}[n]||"UNKNOWN"},$e=(e,{isDrilldown:t})=>Object.assign({},e,{senderScore:Qe(e,t)}),Je=(e,t)=>e=>{let{breakdowns:n=[],totals:a={}}=e,o=Object(U.a)(e,["breakdowns","totals"]);const s=!!Object(We.a)(Object(r.fromJS)(t),"d1");return Object.assign({},o,{breakdowns:n.map(e=>$e(e,{isDrilldown:s})),totals:$e(a||{},{isDrilldown:s})})},ze={[B.ANALYTICS_CONTENT_SEARCH]:be,[B.ANALYTICS_SOURCES]:Ge,[B.ANALYTICS_VIDEOS_VIEWERSHIP]:he,[B.ANALYTICS_FORMS]:_e,[B.UNIFIED_ADS_CAMPAIGNS]:Ue,[B.UNIFIED_FEEDBACK_TRENDS]:we,[B.ANALYTICS_DEVICE_TYPES]:He,[B.SEQUENCE_SENDER_SCORE]:Je},Xe=e=>e,Ze=(e,t)=>{const{dataType:n}=t;return Object(l.a)(ze,n)?ze[n](e,t):Xe};var et=n("Pzvz");t.a=(e,t)=>{const n=Object(a.a)(e),{dataType:c}=n;return Object(o.a)(c).then(o=>{const c=o.getUnifiedSpecForConfig(n),l=q.a(c,n),u=Ze(c,n),p=me(c,n),{url:d,parse:m,downgrade:g}=P(c,n),{method:b,data:O}=V(c,n),f=le(c,n,o),E=i.a.instance({url:d,method:b,data:O,query:l});t("request",E);return s.d(E).then(e=>{t("response",e);return e}).then(a.a).then(u).then(p).then(m).then(f).then(g).then(r.fromJS).then(et.a).then(t=>({dataConfig:e,dataset:t,response:null}))})}},UYb3:function(e,t,n){"use strict";var r=n("+GKH"),a=n("Ff2B"),o=n("i7w0"),s=n("QYOI"),i=Object(s.Record)({runId:null,configs:Object(s.Map)(),resolving:Object(s.Map)()}),c=n("HmtI"),l=Object(s.Record)({config:null,configured:null,status:c.b,currentPhase:null,data:null,promise:null,debug:Object(s.Map)({exceptions:Object(s.List)(),phases:Object(s.Map)()})},"ResolveState"),u=n("ZNyp"),p=n("/yPC"),d=n("KNLt");const m=Object(a.a)(),g=e=>e.startsWith(u.j),b=e=>e.startsWith(u.k),O=e=>{const t=e=>e.map(e=>s.Map.isMap(e)?t(e):e).filter(e=>null!=e).filterNot(e=>s.List.isList(e)&&e.isEmpty()).filterNot(e=>s.Map.isMap(e)&&e.isEmpty());return t(Object(s.fromJS)(Object(d.a)(e).toJS())).update("offset",e=>e||0).delete("v2")},f=(e,t)=>e.get("configs").findKey((e,n)=>O(n).equals(O(t))),E=e=>{const t=e.get("configs").toList(),n=e=>t.indexOf(e);return e.update("configs",e=>e.map(n)).update("resolving",e=>e.mapKeys(n))};var y=(e=new i,t)=>{const{type:n,data:r={}}=t,{config:a}=r;if("SET_RUN_ID"===n)return e.set("runId",r);if(n===u.b)return new i;if(!a)return e;if(n===u.c){const t=f(e,a);if(!t)return e;const n=e.getIn(["configs",t],null);if(Object(p.d)(a)){const{config:r,compareConfig:o}=Object(p.e)(a),s=f(e,r),i=f(e,o),c=e.getIn(["configs",s],null),l=e.getIn(["configs",i],null);return E(e.deleteIn(["configs",t]).deleteIn(["configs",s]).deleteIn(["configs",i]).deleteIn(["resolving",n]).deleteIn(["resolving",c]).deleteIn(["resolving",l]))}return E(e.deleteIn(["configs",t]).deleteIn(["resolving",n]))}const o=e.getIn(["configs",a],null);if(n===u.a){if(!o){const t=e.get("configs").count();return e.setIn(["configs",a],t).setIn(["resolving",t],new l({config:a}))}return e}const s=t=>e.updateIn(["resolving",o],t);switch(n){case u.e:{const{configured:e}=r;return s(t=>t.set("configured",e))}case u.g:{const{promise:e}=r;return s(t=>t.set("promise",e))}case u.h:{const{status:e,error:t=null}=r;return s(n=>n.set("status",e).updateIn(["debug","exceptions"],e=>null!=t?e.push(t):e))}case u.f:{const{data:e}=r;return s(t=>t.set("data",e))}case u.d:{const{key:e,value:t}=r;return s(n=>n.updateIn(["debug",e],e=>"function"==typeof t?t(e):t))}}if(g(n)){const{name:e,input:t}=r;return s(n=>n.set("currentPhase",e.toUpperCase()).updateIn(["debug","phases"],n=>m?n.setIn([e,"input"],t):n))}if(b(n)){const{name:e,output:t}=r;return s(n=>n.set("currentPhase","").updateIn(["debug","phases"],n=>m?n.setIn([e,"output"],t):n))}return e},T=n("R/TV"),I=n("hZ2L"),h=Object(r.combineReducers)({resolve:y,request:T.e,userInfo:I.b});const j=Object(r.createStore)(h,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({name:"reporting-data"}));a.a&&o.b("store",j);t.a=j},UzF3:function(e,t,n){"use strict";var r=n("QYOI"),a=n("AXZb");const o="count";t.a=(e,t)=>{const n=e.get("metrics"),s=Object(r.OrderedMap)();return n.reduce((e,n)=>{const r=n.get("property");return n.get("metricTypes").reduce((e,n)=>{const s=Object(a.a)(n),i=r===o?t.get(o):t.getIn(["metrics",r,s],null);return e.setIn([r,n],isNaN(i)?0:i)},e)},s)}},V4Ay:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r=e=>({error:e}),a=(e,t=r)=>(...n)=>{try{return e(...n)}catch(e){return t(e)}}},"V4H+":function(e,t,n){"use strict";var r=n("QYOI"),a=n("u9+u"),o={[a.COMPANIES]:"company",[a.CONTACTS]:"contact",[a.DEALS]:"deal",[a.ENGAGEMENTS]:"engagement",[a.LINE_ITEMS]:"line_item",[a.PRODUCTS]:"product",[a.TICKETS]:"ticket",[a.FEEDBACK_SUBMISSIONS]:"feedback_submission"};n.d(t,"b",(function(){return i}));n.d(t,"c",(function(){return l}));n.d(t,"d",(function(){return u}));n.d(t,"a",(function(){return m}));const s=e=>o[e],i=e=>`hs_${s(e)}_object_id`,c=Object.keys(o).map(i),l=e=>c.includes(e),u=(e,t)=>{if(l(t))return t;return`${s(e)}_${t}`},p=Object(r.Map)(o).flip(),d=e=>p.find((t,n)=>e.startsWith(n)),m=e=>{if(l(e)){const t=d(e.split("hs_")[1]);return{dataType:t,namespace:s(t),propertyName:e}}const t=d(e);return t?{dataType:t,namespace:s(t),propertyName:e.slice(s(t).length+1)}:{dataType:void 0,namespace:"",propertyName:e}}},VEo5:function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var r=n("QYOI"),a=n("npjq"),o=n("z7F3"),s=n("AYIY"),i=n("Br7N"),c=n("UHjn"),l=n("hZMd"),u=n("fhwZ"),p=n("u9+u");const d=(e=Object(r.List)())=>Object(o.a)(e=>i.b("inbounddb-objects/v1/preview",{data:{[u.a.get(p.COMPANIES)]:e.toArray()}}).then(r.fromJS),e=>e.reduce((e,t)=>{const n=t.getIn([u.a.get(p.COMPANIES)]);return e.concat(n)},Object(r.OrderedMap)({})),e),m=(e,t)=>e.get("label",t===l.b?null:a.a.text("reporting-data.references.company.unknown",{id:t}));t.a=e=>{if(e.isEmpty())return s.a.resolve(Object(r.Map)());const t=e.reduce((e,t)=>{const n=Number(t);return n?e.set(String(n),t):e},Object(r.Map)());return d(t.keySeq().toList()).then(n=>Object(r.fromJS)(n).reduce((e,n=Object(r.Map)(),a)=>e.set(String(a),Object(c.b)(t.get(a,a),n.getIn(["properties","name","value"],null))),e.includes(String(l.a.NUMBER))?Object(r.Map)({[l.a.NUMBER]:Object(c.b)(l.a.NUMBER,a.a.text("reporting-data.missing.value"))}):Object(r.Map)()))}},VUdM:function(e,t,n){"use strict";n.d(t,"f",(function(){return r}));n.d(t,"g",(function(){return a}));n.d(t,"i",(function(){return o}));n.d(t,"k",(function(){return s}));n.d(t,"a",(function(){return i}));n.d(t,"c",(function(){return c}));n.d(t,"d",(function(){return l}));n.d(t,"e",(function(){return u}));n.d(t,"n",(function(){return p}));n.d(t,"o",(function(){return d}));n.d(t,"b",(function(){return m}));n.d(t,"m",(function(){return g}));n.d(t,"q",(function(){return b}));n.d(t,"r",(function(){return O}));n.d(t,"s",(function(){return f}));n.d(t,"t",(function(){return E}));n.d(t,"p",(function(){return y}));n.d(t,"h",(function(){return T}));n.d(t,"l",(function(){return I}));n.d(t,"j",(function(){return h}));const r="LACKS_CUSTOM_OBJECT_ACCESS",a="LACKS_CUSTOM_REPORTING",o="LACKS_MARKETING_JOURNEY_REPORTING",s="LACKS_SALES_JOURNEY_REPORTING",i="DASHBOARD_PERMISSION_DENIED",c="INSUFFICIENT_ASSET_PERMISSION_LEVEL",l="INSUFFICIENT_REPORTING_PERMISSION_LEVEL",u="IS_READ_ONLY_DEMO_DASHBOARD",p="NO_DASHBOARD_SELECTED",d="REPORT_ALREADY_ON_DASHBOARD",m="DATA_FETCHING_ERROR",g="LOADING",b="WILL_EXCEED_CUSTOM_REPORT_LIMIT",O="WILL_EXCEED_DASHBOARD_LIMIT",f="WILL_EXCEED_DASHBOARD_MAX_WIDGETS",E="WILL_EXCEED_STANDARD_REPORT_LIMIT",y="UNSUPPORTED_REPORT_TYPE",T="LACKS_FIELD_ACCESS",I="LACKS_SNOWFLAKE_TEMPLATE_ACCESS",h="LACKS_PAYMENTS_REPORTING_ACCESS"},VlG2:function(e,t,n){"use strict";n.r(t);n.d(t,"INBOUNDDB",(function(){return r}));n.d(t,"UNIFIED",(function(){return a}));n.d(t,"CUSTOM",(function(){return o}));const r="INBOUNDDB",a="UNIFIED",o="CUSTOM"},VljC:function(e,t,n){"use strict";var r=n("QYOI");const a=e=>()=>{throw new Error("missing "+e)},o={GET:"get",POST:"post",PUT:"put"},s={method:o.GET,url:"",form:Object(r.Map)(),query:Object(r.Map)(),data:Object(r.Map)(),timeout:3e4,transformer:a("transformation")},i=Object(r.Record)(s),c=e=>t=>new i(Object(r.fromJS)(t).set("method",e)),l=e=>new i(Object(r.fromJS)(e));t.a=class extends i{static get(e){return c(o.GET)(e)}static post(e){return c(o.POST)(e)}static put(e){return c(o.PUT)(e)}static instance(e){return l(e)}static sanitize(e){return l(JSON.parse(JSON.stringify(e.delete("transformer"))))}}},VqtB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));const r=1e3,a=500,o=20},W5MT:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));const r={DAY:"l",WEEK:"l",MONTH:"short-m-y",QUARTER:"short-q-y",YEAR:"YYYY"},a={DAY:"LL",WEEK:"LL",MONTH:"medium-m-y",QUARTER:"short-q-y",YEAR:"YYYY"}},W8MI:function(e,t,n){"use strict";var r=n("QYOI"),a=n("ljrx"),o=n("u9+u"),s=n("WZzs"),i=n("mkAW"),c=n("l5oV"),l=n("Agl5"),u=n("ij+/");const p=()=>new u.a({dataType:o.PRODUCTS,properties:{idProperty:"objectId",responsePaths:{objectId:["objectId"]}},search:{url:"contacts/search/v1/search/products",objectsField:"results"},hydrate:{fn:()=>"TODO_PRODUCT"}});t.a=Object(a.b)({dataType:o.PRODUCTS,references:Object(r.Map)({hubspot_owner_id:Object(i.a)(c.a),hubspot_team_id:Object(i.a)(l.a)}),referenceProperties:Object(r.Map)({"associations.company":o.COMPANIES,"associations.contact":o.CONTACTS,objectId:o.PRODUCTS}),hydrate:(e,t)=>Object(s.a)(o.PRODUCTS,e,t),getInboundSpec:p})},WLwV:function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));n.d(t,"c",(function(){return b}));var r=n("QYOI"),a=n("npjq"),o=n("AYIY"),s=n("iCNX"),i=n("Br7N"),c=n("UHjn"),l=n("xMF4"),u=n("c50W");const p=e=>i.a("forms/v2/forms",{query:{property:e}}).then(s.a),d=e=>e.isEmpty()?o.a.resolve(Object(r.Map)()):p(["guid","name"]).then(t=>t.reduce((t,n)=>{const a=n.guid,o=Object(l.a)(u.lb)(Object(r.fromJS)(n),a);return e.includes(a)?t.push(Object(c.b)(a,o)):t},Object(r.List)()));t.a=d;const m=e=>d(e).then(e=>e.reduce((e,t)=>Object.assign({},e,{[t.get("value")]:t.get("label")}),{})),g=e=>a.a.text("reporting-data.properties.forms.variants."+String.fromCharCode(97+e)),b=e=>o.a.resolve(e.reduce((e,t,n)=>Object.assign({},e,{[t]:g(n)}),{}))},WUdy:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));n.d(t,"c",(function(){return O}));var r=n("QYOI"),a=n("npjq"),o=n("VljC"),s=n("Br7N"),i=n("AYIY"),c=n("UHjn"),l=n("MIaD");const u="/cosemail/v1/emails/by-email-campaign-id/minimal/multi",p="cosemail/v1/emails/minimal/multi",d="2",m=()=>Object(r.Map)({[d]:Object(c.b)(d,a.a.text("reporting-data.references.email.preview"))}),g=e=>Object(l.a)(e).isEmpty()?i.a.resolve(Object(r.Map)()):s.d(o.a.get({url:u,query:{emailCampaignId:Object(l.a)(e)}})).then(e=>e.reduce((e,t,n)=>e.set(n,Object(c.b)(n,t.get("name"))),m()));t.a=g;const b=e=>g(Object(r.List)(e)).then(e=>e.reduce((e,t)=>Object.assign({},e,{[t.get("value")]:t.get("label")}),{})),O=e=>Object(l.a)(Object(r.List)(e)).isEmpty()?i.a.resolve(Object(r.Map)()):s.d(o.a.get({url:p,query:{emailId:Object(l.a)(e)}})).then(e=>e.reduce((e,t,n)=>e.set(n,Object(c.b)(n,t.get("name"))),m()).reduce((e,t)=>Object.assign({},e,{[t.get("value")]:t.get("label")}),{}))},WZzs:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r=e=>e.default?e.default:e;function a(e,t,a){return n.e("reporting-data__inboundDb").then(n.bind(null,"zM7U")).then(r).then(n=>n(e,t,a))}},WvXS:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"e",(function(){return a}));n.d(t,"a",(function(){return o}));n.d(t,"g",(function(){return s}));n.d(t,"h",(function(){return i}));n.d(t,"j",(function(){return c}));n.d(t,"i",(function(){return l}));n.d(t,"c",(function(){return u}));n.d(t,"f",(function(){return p}));n.d(t,"d",(function(){return d}));const r="DATAWELL",a="PIVOT",o="CROSS_TAB",s="SLICED",i="TABLE",c="XY",l="WATERFALL",u="FUNNEL",p="SANKEY",d="GAUGE"},"X+gL":function(e,t,n){"use strict";var r=n("Ktcs"),a=n("fDO/");const o=(e,t={},n=null)=>{const{data:o,error:s,loading:i,startPolling:c,stopPolling:l,refetch:u}=Object(a.g)(e,t),p=Object(r.useRef)(null);Object(r.useEffect)(()=>{n&&c(n)});Object(r.useEffect)(()=>{if(n){const e=()=>{const{visibilityState:e}=document,t="undefined"==typeof document||void 0===e||"visible"===e||"prerender"===e;if(p&&p.current!==t){p.current=t;"hidden"!==e?c(n):l()}};window.addEventListener("visibilitychange",e);return()=>{window.removeEventListener("visibilitychange",e)}}},[c,l,n]);return{data:o,error:s,loading:i,refetch:u}};t.a=o},XCmw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("BGD4"),a=n("4W30");const o=Object(a.freeze)({isSearch:!1,isRelational:!1,removeLastRowPercentiles:!1,hasCurrencyDimension:()=>!1,isMeasure:()=>!1,getMeasureType:()=>r.SUM})},XJEL:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS"),s=n("1KCo");const i=r.i({onPointClick:r.c().optional()},"Events"),c=r.i({tooltipFormatter:r.c().optional()},"FunnelStyle"),l=r.i({type:r.k().always(o.c),data:r.f(a.a),dataset:r.k(),filterProperty:r.k(),valueProperty:r.k(),primaryChevronProperty:r.k().defaultValue(s.b),secondaryChevronProperty:r.k().defaultValue(s.a),horizontalFunnel:r.b().defaultValue(!1),conversionDataInRow:r.b().defaultValue(!1),events:i.optional(),disableZoom:r.b().optional(),style:c.defaultValue({})},"FunnelVisualization")},XLLb:function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"retrieve",(function(){return A}));n.d(t,"match",(function(){return S}));var r=n("npjq"),a=n("QYOI"),o=n("07iG"),s=n("u9+u"),i=n("hZMd"),c=n("66sF"),l=n("1WZR"),u=n("Pzvz"),p=n("YTLQ"),d=n("4X0v"),m=n("eY2p"),g=n("KI47");const b={SUMMARY:Object(a.List)([]),DATE:Object(a.List)([g.a]),DATE_OWNERS:Object(a.List)([g.a,g.c]),OWNERS:Object(a.List)([g.c])},O="YYYY-MM-DD",f={[c.DAY]:"day",[c.WEEK]:"isoWeek",[c.MONTH]:"month",[c.QUARTER]:"quarter",[c.YEAR]:"year"},E=e=>{const t=r.a.moment(e);return{month:t.month()+1,year:t.year()}},y=e=>("00"+e).slice(-2),T=({quotaType:e,startDate:t,endDate:n,filters:o})=>{const s=r.a.moment(t).startOf("month").format(O);return Object(m.a)().then(t=>{const{user:{scopes:r}}=t,a=Object.assign({dateRange:{startDate:E(s),endDate:E(n)}},o);return Object(l.a)(r,a,e)}).then(e=>e.map((e,t)=>Object(a.Map)({key:t,value:e})).toList().flatMap(e=>{const t=r.a.moment(e.get("key"),O),n=t.daysInMonth();return Object(a.Range)(1,n+1).map(e=>r.a.moment(t.format("YYYY-MM-"+y(e))).format(O)).map(t=>Object(a.Map)({key:t,value:e.get("value").map(e=>e.update("sum",e=>e/n))}))}))},I=({dailyQuotas:e,frequency:t})=>{const n=f[t];return e.map(e=>e.set("bucket",r.a.moment(e.get("key")).startOf(n).format(O))).groupBy(e=>e.get("bucket")).map(e=>e.flatMap(e=>e.get("value")).groupBy(e=>e.get("breakdown")).map(e=>e.reduce((e,t)=>e+t.get("sum"),0)))},h=e=>Object(a.fromJS)({dimension:{property:g.a,buckets:e.map((e,t)=>({key:t,dimension:{property:g.c,buckets:e.map((e,t)=>({key:t,metrics:{[g.f]:{SUM:e}}})).toList().toJS()}})).toList().toJS()}}),j=e=>Object(a.fromJS)({dimension:{property:g.c,buckets:e.map((e,t)=>({key:t,metrics:{[g.f]:{SUM:e}}})).toList().toJS()}}),A=(e,t,n)=>{const s=e.get("dimensions"),l=Object(a.Seq)(b).find(e=>e.equals(s));if(!l)throw new Error("Unsupported dimensions for quota report "+s);const m=(Object(o.a)(e,g.e)||void 0).get("value");if(!m)throw new Error(`Unsupported quota type ${m} for quota report`);const O=e.getIn(["filters","dateRange"]);if(!O)throw new Error("Quota reports require a date range filter");const f=e.get("frequency")||c.MONTH,{startDate:E,endDate:y}=Object(p.a)(O.get("value").toJS()),A=Object(o.a)(e,g.c)||void 0,S=A&&A.get("values").filter(e=>e!==i.a.ENUMERATION),_=A&&A.get("operator"),N=Object(o.a)(e,g.d)||void 0,R=N&&N.get("values");return T({quotaType:m,startDate:E,endDate:y,filters:{assignees:S,assigneesOperator:_,pipelines:R,pipelinesOperator:"IN"}}).then(e=>{const t=e.skipUntil(e=>r.a.moment(e.get("key")).isSameOrAfter(r.a.moment(E))).update(e=>e.takeUntil((t,n)=>0!==n&&r.a.moment(e.getIn([n-1,"key"])).isSameOrAfter(r.a.moment(y)))),n=I({dailyQuotas:t,frequency:f});if(l===b.DATE_OWNERS){const e=h(n);return Object(u.a)(e)}if(l===b.DATE){const e=h(n);return Object(u.a)(e).updateIn(["dimension","buckets"],e=>e.map(e=>e.delete("dimension")))}if(l===b.SUMMARY){const e=h(n);return Object(u.a)(e).delete("dimension")}if(l===b.OWNERS){const e={};n.forEach(t=>t.forEach((t,n)=>{e[n]=e[n]?e[n]+t:t}));const t=Object(a.OrderedMap)(e).sort(),r=j(t);return Object(u.a)(r)}throw new Error("Unsupported quota report")}).then(t=>({dataConfig:e,dataset:Object(d.a)(e,t)}))},S=e=>e.get("dataType")===s.QUOTAS;e&&e.exports&&(e.exports.default=e.exports)}).call(this,n("OYux")(e))},XMVY:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("QgEn"),a=n("Ktcs"),o=n("VfuR"),s=n.n(o),i=n("AaW/"),c=n("MvxL");class l extends a.Component{render(){return Object(r.jsx)(i.a,Object.assign({style:c.a.PERCENTAGE},this.props))}}l.displayName="FormattedPercentage";l.propTypes={precision:s.a.number,stripInsignificantZeros:s.a.bool,value:s.a.number.isRequired}},XP87:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));n.d(t,"a",(function(){return f}));var r=n("npjq"),a=n("QYOI"),o=n("6Umb"),s=n("AYIY"),i=n("bt3G"),c=n("MSlI"),l=n("q1f1");const u={deleted:"boolean",email:"string",first_conversion_date:"datetime",first_conversion_event_name:"string",firstname:"string",guids:"string",hs_analytics_first_timestamp:"datetime",hs_analytics_source_data_1:"string",hs_analytics_source_data_2:"string",hs_analytics_source:()=>Object(l.a)().toJS(),isContact:"boolean",lastname:"string",lifecyclestage:"enumeration",people:"enumeration",recent_conversion_date:"datetime",recent_conversion_event_name:"string",vid:"enumeration",hs_marketable_status:"boolean",hs_marketable_reason_id:"enumeration",hs_marketable_reason_type:"enumeration"},p=e=>e.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/^analytics-/,""),d=e=>"string"==typeof e?e:"enumeration",m=e=>Object.keys(e).reduce((t,n)=>[...t,{value:n,label:e[n]}],[]),g=["bounces","pageBounces","bounceRate","pageBounceRate","exits","exitsPerPageview","unsubscribedratio"],b=(e,t)=>"duration"===e[t]?{durationUnit:"seconds"}:"function"==typeof e[t]?{options:e[t]()}:"object"==typeof e[t]?{options:m(e[t])}:g.includes(t)?{inverseDeltas:!0}:{},O=(e,t)=>e.reduce((e,n)=>[...e,...Object.keys(n).map(e=>Object.assign({name:e,label:t(e),type:d(n[e])},b(n,e)))],[]),f=e=>{const t=()=>Object(i.a)(e).then(t=>{const{breakdowns:n={},filters:i={},metrics:c={},metadata:l={},calculated:d={}}=t.getUnifiedSpecForConfig({dataType:e}),m=p(e),g=O([n,c,i,l,d],Object(o.a)("reporting-data.properties."+m)),b=O([u],Object(o.a)("reporting-data.properties.unified.person"));return s.a.resolve(Object(a.fromJS)([{name:"unifiedAnalyticsInfo",displayName:r.a.text("reporting-data.groups.unified.group"),displayOrder:0,hubspotDefined:!0,properties:[...g,...b]}]))});return{getPropertyGroups:t,getProperties:Object(c.a)(t)}}},XSXw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("k+EG"),a=n("u9+u");const o=e=>{const t=e.getIn(["config","dataType"]);return Object(r.g)(t)||t===a.UNIFIED_EVENTS||t===a.ENGAGEMENT||r.b.includes(t)}},XcLi:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));n.d(t,"b",(function(){return M}));n.d(t,"g",(function(){return P}));n.d(t,"k",(function(){return U}));n.d(t,"l",(function(){return k}));n.d(t,"c",(function(){return x}));n.d(t,"d",(function(){return w}));n.d(t,"e",(function(){return F}));n.d(t,"f",(function(){return B}));n.d(t,"i",(function(){return G}));n.d(t,"j",(function(){return V}));n.d(t,"h",(function(){return H}));var r=n("QYOI"),a=n("LbBa"),o=n("K7y8");const s=()=>{try{return o.b.enabled}catch(e){return!1}},i={warn:(e,t,...n)=>{if(s()){console.groupCollapsed("Warning: "+t);console.warn();n.forEach(e=>"function"==typeof e?e():console.log(e));console.log("%c"+e,"color: red");console.groupEnd()}},error:(e,t,...n)=>{if(s()){console.groupCollapsed("Error: "+t);console.error();n.forEach(e=>"function"==typeof e?e():console.log(e));console.log("%c"+e,"color: red");console.groupEnd()}}},c=()=>s()?new Error("").stack||"Stack only available in certain browsers":"",l="validate",u="any",p="boolean",d="string",m="number",g="symbol",b="func",O="List",f="Iterable",E="Map",y="Record",T="Poly",I=(e,t)=>{t.describe=e;return t},h=e=>e,j=(e,...t)=>"function"==typeof e?e(...t):e,A=(e=h,t)=>I(()=>Object.assign({},e.describe(),{always:t}),(n,{origin:r=n,parent:a,path:o,stack:s=c()}={})=>{n!==t&&i.warn(s,`Mismatching value provided to always constant {${o}}`,"Name: always","Path: "+o,"Message: Expected constant value",()=>console.log("Expected:",t),()=>console.log("Got:",n),()=>console.log("Origin:",r));return j(e,t,{origin:r,parent:a,path:o,stack:s})}),S=(e=h)=>I(()=>{const t=e.describe();delete t.optional;return t},(t,{origin:n=t,parent:r,path:a,stack:o=c()}={})=>{void 0===t&&i.warn(o,`Missing required value at {${a}}`,"Name: required","Path: "+a,"Message: Expected defined value",()=>console.log("Value:",t),()=>console.log("Origin:",n));return j(e,t,{origin:n,parent:r,path:a,stack:o})}),_=(e=h)=>I(()=>Object.assign({},e.describe(),{optional:!0}),(t,...n)=>void 0===t?t:j(e,t,...n)),N=(e=h,t)=>I(()=>Object.assign({},e.describe(),{},t?{defaultValue:t}:{}),(n=t,...r)=>j(e,n,...r)),R=(e=h)=>(t,...n)=>j(e,Object(r.fromJS)(t),...n),C=(e=h)=>(t,...n)=>j(e,Object(a.a)(t),...n),v=(e=h,t=l,n="")=>(r,{origin:a=r,parent:o,path:s=t,stack:l=c()}={})=>{try{j(e,r,{origin:a,parent:o,path:s,stack:l})||i.warn(l,`Invalid value at {${s}}`,"Name: "+t,"Path: "+s,"function"==typeof n?n:"Message: "+n,()=>console.log("Value:",r),()=>console.log("Origin:",a));return r}catch(e){i.error(l,`Errored value at {${s}}`,"Name: "+t,"Path: "+s,"function"==typeof n?n:"Message: "+n,()=>console.log("Value:",r),()=>console.log("Origin:",a),()=>console.log("Validation Error:",e));throw e}},L=(e,t)=>{const n=t=>(...n)=>{const r=t(...n);return I(r.describe||e.describe,L((t,...n)=>r(e(t,...n),...n)))},r=n=>(...r)=>{const a=n(e,...r);return I(a.describe||e.describe,L((e,{origin:n=e,parent:r,path:o=t,stack:s=c()}={})=>a(e,{origin:n,parent:r,path:o,stack:s})))},a=e;a.validate=n(v);a.always=r(A);a.required=r(S);a.optional=r(_);a.defaultValue=r(N);a.fromJS=r(R);a.fromJSOrdered=r(C);return a},D=(e=u)=>I(()=>({type:u,name:e,label:e}),L(v(!0,e),e)),M=(e=p)=>I(()=>({type:p,name:e,label:e}),L(v(e=>"boolean"==typeof e,e,"Expected a boolean"),e).required()),P=(e=m)=>I(()=>({type:m,name:e,label:e}),L(v(e=>"number"==typeof e,e,"Expected a number"),e).required()),U=(e=d)=>I(()=>({type:d,name:e,label:e}),L(v(e=>"string"==typeof e,e,"Expected a string"),e).required()),k=(e,t=g)=>{const n=Object(r.Set)(Object(r.fromJS)(e).toList());return I(()=>({type:g,name:t,label:t,set:n}),L(v(e=>n.contains(e),t,()=>console.log("Message: Expected one of",n.toJS())),t).required())},x=(e=b)=>I(()=>({type:b,name:e,label:e}),L(v(e=>"function"==typeof e,e,"Expected a function"),e).required()),w=(e=D(),t=O)=>I(()=>{const n=e.describe();return{type:O,name:t,label:`List<${n.label}>`,value:n}},L((n,{origin:a=n,parent:o,path:s=t,stack:i=c()}={})=>{try{return Object(r.List)(v(e=>{if(Array.isArray(e)||r.List.isList(e))return!0;throw new Error},t,"Expected an Array or List")(n,{origin:a,parent:o,path:s,stack:i})).map((t,r)=>j(e,t,{origin:a,parent:n,path:`${s}[${r}]`,stack:i}))}catch(e){return n}},t).required()),F=(e=D(),t=f)=>I(()=>{const n=e.describe();return{type:O,name:t,label:`List<${n.label}>`,value:n}},L((n,{origin:a=n,parent:o,path:s=t,stack:i=c()}={})=>{try{return Object(r.List)(v(e=>{if(Array.isArray(e)||r.Iterable.isIterable(e))return!0;throw new Error},t,"Expected an Array or Iterable")(n,{origin:a,parent:o,path:s,stack:i})).map((t,r)=>j(e,t,{origin:a,parent:n,path:`${s}[${r}]`,stack:i}))}catch(e){return n}},t).required()),Y=(e=D(),t=D(),n=E)=>I(()=>{const r=e.describe(),a=t.describe();return{type:E,name:n,label:`Map<${r.label}, ${a.label}>`,key:r,value:a}},L((a,{origin:o=a,parent:s,path:i=n,stack:l=c()}={})=>{try{return Object(r.Map)(v(e=>{if(e===Object(e)||r.Map.isMap(e))return!0;throw new Error},n,"Expected an Object or Map")(a,{origin:o,parent:s,path:i,stack:l})).mapKeys(t=>j(e,t,{origin:o,parent:a,path:`${i}@${t}`,stack:l})).map((e,n)=>j(t,e,{origin:o,parent:a,path:`${i}[${n}]`,stack:l}))}catch(e){return a}},n).required()),B=(e=D(),t=E)=>Y(U(),e,t),G=(e,t=y)=>{const n=Object(r.Map)(e),a=n.map(()=>{}).toObject(),o=Object(r.Record)(a,t);return I(()=>({type:y,name:t,label:t,fields:Object(r.OrderedMap)(e).map((e=D())=>e.describe())}),L((e,{origin:a=e,parent:s,path:l=t,stack:u=c()}={})=>{const p=Object(r.Map)(v(e=>Object(r.Map)(e),t,"Expected an Object or Map")(e,{origin:a,parent:s,path:l,stack:u}));p.filter((e,t)=>!n.has(t)).forEach((e,n)=>{i.warn(u,`Unexpected key at {${l}}`,"Name: "+t,"Path: "+l,"Message: Unexpected key for checked record",()=>console.log("Key:",n),()=>console.log("Value:",e),()=>console.log("Origin:",a))});return o(n.map((t=h,n)=>j(t,p.get(n),{origin:a,parent:e,path:`${l}.${n}`,stack:u})))},t).required())},V=e=>{const t=I(()=>({recursive:!0}),L((...t)=>V(e)(...t)).optional()),n=e(t),{type:r,name:a,label:o}=n.describe(),s=Object.assign({type:r,name:a,label:o},t.describe());t.describe=()=>s;return n},H=(e,t,n=T)=>I(()=>({type:T,name:n,label:n,field:e,types:Object(r.OrderedMap)(t).map((e=D())=>e.describe())}),L((a,{origin:o=a,parent:s,path:i,stack:l=c()}={})=>{try{const n=r.Map.isMap(a)?a.get(e):a[e];return(0,t[n])(a,{origin:o,parent:s,path:i,stack:l})}catch(e){try{v(()=>{throw e},n,"Failed to construct poly type")(a,{origin:o,parent:s,path:i,stack:l})}catch(e){}}return a}).required())},YPIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"e",(function(){return i}));const r="CALLS_MADE",a="DEALS_CREATED",o="MEETINGS_BOOKED",s="REVENUE",i="TICKETS_CLOSED"},YTLQ:function(e,t,n){"use strict";var r=n("npjq"),a=n("ZUx/"),o=n("sNkl");const s="en-us";var i=e=>(...t)=>e(...t).locale(s),c=n("Z2jm"),l=n("45HM"),u=n("3YOP"),p=n("JmCp");const d="YYYYMMDD";t.a=({rangeType:e=o.b.THIS_MONTH,rollingDays:t=o.c[7],entireCurrentUnit:n=!1,startDate:s,endDate:m,date:g}={},b="YYYY-MM-DD",O,f=!1,E=a.a)=>{const{utc:y,sunday:T}=c.a(O),I=i(y?r.a.moment.utc:r.a.moment.portalTz),[h,j]=e.split("_"),{interval:A}=l.a(j,!T),S=f&&Object(p.h)(j,E)&&Object(p.i)(e),_=[o.b.IS_EQUAL_TO,o.b.IS_BEFORE_DATE,o.b.IS_AFTER_DATE].includes(e)||"CUSTOM"===h&&j;if(e===o.b.CUSTOM&&null==s){s=r.a.moment.portalTz().subtract(1,"week").startOf("day").format("YYYY-MM-DD");m=r.a.moment.portalTz().endOf("day").format("YYYY-MM-DD")}else _&&null==g&&(g=r.a.moment.portalTz().startOf("day").format("YYYY-MM-DD"));if(e===o.b.CUSTOM){s=I(s,d).startOf("day");m=I(m,d).endOf("day")}else if(e===o.b.ROLLING){s=I().subtract(t,"days").startOf("day");m=I().subtract(1,"day").endOf("day")}else if(e===o.b.ALL){s=I(a.b,"YYYY-MM-DD");m=I().endOf("day")}else if("LAST"===h){n=!0;s=Object(u.b)({date:I(),dataType:O,frequency:j,useFiscalYear:S,fiscalYearMonthName:E}).subtract(1,A);m=Object(u.a)({date:I().subtract(1,A),frequency:j,dataType:O,useFiscalYear:S,fiscalYearMonthName:E})}else if("NEXT"===h){s=Object(u.b)({date:I(),dataType:O,frequency:j,useFiscalYear:S,fiscalYearMonthName:E}).add(1,A);m=Object(u.a)({date:I().add(1,A),frequency:j,dataType:O,useFiscalYear:S,fiscalYearMonthName:E})}else if("CUSTOM"===h){s=Object(u.b)({date:I(g),frequency:j,dataType:O});m=Object(u.a)({date:I(g),frequency:j,dataType:O})}else if(e===o.b.IS_AFTER_DATE){s=I(g).add(1,"day");m=n?Object(u.a)({date:I(),frequency:j,dataType:O}):I().endOf("day")}else if(e===o.b.IS_BEFORE_DATE){s=I(a.b,"YYYY-MM-DD");m=I(g)}else if(e===o.b.IS_EQUAL_TO)m=s=I(g);else{s=Object(u.b)({date:I(),frequency:j,dataType:O,useFiscalYear:S,fiscalYearMonthName:E});m=n?Object(u.a)({date:I(),frequency:j,dataType:O,useFiscalYear:S,fiscalYearMonthName:E}):I().endOf("day")}return{rangeType:e,rollingDays:e===o.b.ROLLING?t:null,entireCurrentUnit:n,startDate:s.format(b),endDate:m.format(b),date:_?g:null}}},YTnD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));const r="OWNER",a="TEAM",o="USER"},Yai4:function(e,t,n){"use strict";n.d(t,"c",(function(){return m}));n.d(t,"e",(function(){return g}));n.d(t,"d",(function(){return b}));n.d(t,"a",(function(){return f}));n.d(t,"b",(function(){return T}));n.d(t,"f",(function(){return h}));var r=n("bQHN"),a=n.n(r),o=n("QYOI"),s=n("6E+O"),i=n("6U1n"),c=n("nNMF");const{EDIT:l}=i.a,u="accessClassification",p="permissionLevel",d="permissionGrants",m=a()(u),g=a()(p),b=a()(d),O=Object(o.Record)({[u]:s.b.EVERYONE,[p]:l,[d]:Object(o.List)([Object(c.b)(c.a.API_ACCESS)])}),f={NONE:"NONE",VIEW:"VIEW",EDIT:"EDIT",CREATE_AND_OWN:"CREATE_AND_OWN"},E={[i.a.ZERO]:f.NONE,[i.a.VIEW]:f.VIEW,[i.a.EDIT]:f.EDIT,[i.a.CREATE_AND_OWN]:f.CREATE_AND_OWN},y={[f.NONE]:i.a.ZERO,[f.VIEW]:i.a.VIEW,[f.EDIT]:i.a.EDIT,[f.CREATE_AND_OWN]:i.a.CREATE_AND_OWN},T=({selectedUserSet:e,selectedTeamSet:t,assignmentMode:n,accessLevel:r})=>{const a=()=>{if(n===s.b.PRIVATE)return Object(o.List)();if(n===s.b.EVERYONE){const e=Object(c.b)(c.a.API_ACCESS);return Object(o.List)([e])}const r=Object(o.List)(e).map(e=>Object(c.b)(c.a.SINGLE_USER,e)),a=Object(o.List)(t).map(e=>Object(c.b)(c.a.TEAM,e));return r.concat(a)};return O({[u]:n,[p]:(()=>{const e=n===s.b.PRIVATE?i.a.ZERO:r;return E[e]})(),[d]:a()})},I=e=>t=>Object(o.OrderedSet)(t.filter(t=>a()("userSetType",t)===e).map(a()("userSetId"))),h=e=>{const t=m(e),n=g(e),r=b(e);return{assignmentMode:t,accessLevel:y[n],selectedUserSet:I(c.a.SINGLE_USER)(r),selectedTeamSet:I(c.a.TEAM)(r)}}},YbiH:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("dUhI");const a=e=>Object.prototype.hasOwnProperty.call(r,e)},YfH6:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n.d(t,"b",(function(){return y}));n.d(t,"c",(function(){return T}));var r=n("QYOI"),a=n("07iG"),o=n("ahZR"),s=n("FrAO"),i=n("z7F3"),c=n("iCNX"),l=n("Br7N"),u=n("UHjn");const p="hs_marketable_reason_id",d="hs_marketable_reason_type",m="reasonSourceObjectId",g=(e,t)=>{const n=Object(a.a)(e,d)||Object(r.Map)(),i=n.get("operator")===o.b&&n.get("value")?Object(r.List)([n.get("value")]):n.get("values")||Object(r.List)();return 1!==i.size?null:Object(s.a)(p,t).map(e=>Object(r.Map)({[m]:e,reasonType:i.first()}))},b=e=>e.getIn(["dimension","buckets"]).reduce((e,t)=>e.set(t.get("key"),t.getIn(["metrics",p],Object(r.Map)()).first()),Object(r.Map)()).filter(e=>!!e),O=e=>(t,n,a)=>{const o=g(t,a),s=b(a),i=o?o.toJS():s.keySeq().map(Number).toJS();return e(i).then(e=>o?e:e.mapKeys(e=>s.get(e)).map((e,t)=>e.set("value",t))).then(e=>Object(r.Map)({key:p,value:e}))},f=e=>Object(i.a)(()=>l.b("marketable-contacts/v1/marketable-labels/vids",{data:e}).then(c.a),e=>e.reduce((e,t)=>Object.assign({},e,{},t),{}),e),E=e=>Object(i.a)(()=>l.b("marketable-contacts/v1/marketable-labels/reasons",{data:e}).then(c.a),e=>e.reduce((e,t)=>[...e,...t],[]),e),y=e=>e.get("label"),T=e=>{if(0===e.length)return Promise.resolve(Object(r.Map)());return"number"==typeof e[0]?f(e).then(t=>e.reduce((e,n)=>{const r=t[Number(n)];return e.set(String(n),r?new u.a(Object.assign({},r,{value:n})):Object(u.b)(String(n)))},Object(r.Map)())):E(e).then(r.fromJS).then(t=>e.reduce((e,n)=>{const a=t.find(e=>e.get(m)===n[m],Object(r.Map)()).get("reportingLabel",Object(r.Map)()),o=n[m];return e.set(o,new u.a(a.set("value",o).toJS()))},Object(r.Map)()))}},Yopw:function(e,t,n){"use strict";var r=n("QYOI"),a=n("Kcsf"),o=n("UYb3"),s=n("egg7"),i=n("q6rb"),c=n("ZNyp"),l=n("HmtI"),u=n("AYIY"),p=n("4aqM"),d=n("eigc"),m=n("4sYE"),g=n("2Om6"),b=n("+Gor"),O=n("tb+F"),f=n("u9+u");const E=e=>e.get("dimension")?e.updateIn(["dimension","buckets"],e=>e.toOrderedMap().mapKeys((e,t)=>t.get("key")).map(E)):e,y=e=>e.get("dimension")?e.updateIn(["dimension","buckets"],e=>e.toList().map(y)):e,T=(e,t)=>y(E(e).mergeDeep(E(t))),I=(e,t)=>(e=e.get("metrics")?e.update("metrics",e=>e.sortBy((e,t)=>t,t)):e).get("dimension")?e.updateIn(["dimension","buckets"],e=>e.map(e=>I(e,t))):e,h=(e,t)=>{const n=e.get("metrics").toOrderedMap().mapEntries(([e,t])=>[t.get("property"),e]);return I(t,(e,t)=>n.get(e)-n.get(t))};var j=n("KNLt"),A=n("07iG"),S=n("U9YW"),_=n("ahZR"),N=n("Mx0d"),R=n("FrAO"),C=n("XLLb"),v=n("KI47");const L=e=>e.get("dimensions").contains(N.a)?N.a:v.c,D=({dataset:e,metric:t})=>{const n=t.get("property"),r=t.get("metricTypes").toMap().mapKeys((e,t)=>t).map(()=>0);return(e=e.get("metrics")?e.update("metrics",e=>e.has(n)?e:e.set(n,r)):e).get("dimension")?e.updateIn(["dimension","buckets"],e=>e.map(e=>D({dataset:e,metric:t}))):e},M=e=>{const t=e.get("property"),n=t.split(".");Object(g.a)(3===n.length,"Invalid quota metric property");const[,r,a]=n;return{quotaProperty:t,quotaPeriod:r,quotaType:a}},P=({primaryConfig:e,dataset:t,ownerProperty:n,quotaMetric:r})=>{const a=e.getIn(["filters","dateRange"]).set("property",v.a),{quotaType:o}=M(r),s=[{operator:_.b,property:v.e,value:o}],i=e.get("configType")===S.f?[v.a]:[];if(e.get("dimensions").contains(n)){i.push(v.c);const e=Object(R.a)(n,t);s.push({operator:"IN",property:v.c,values:e.toList()})}const c=Object(A.a)(e,"pipeline");c&&s.push(c.set("property",v.d));return Object(j.a)({configType:e.get("configType"),frequency:e.get("frequency"),dataType:f.QUOTAS,filters:{dateRange:a,custom:s},dimensions:i,metrics:[r.set("property",v.f)]})},U=({primaryConfig:e,dataset:t,quotaMetric:n})=>{const a=L(e),o=n.get("property"),s=P({primaryConfig:e,dataset:t,ownerProperty:a,quotaMetric:n});return s.get("dimensions").contains(v.c)&&0===Object(A.a)(s,v.c).get("values").count()?u.a.resolve(D({dataset:t,metric:n})):Object(C.retrieve)(s,()=>{}).then(({dataset:a})=>{a=a.update("metrics",e=>e.set(o,Object(r.Map)({SUM:e.getIn(["hs_value","SUM"],0)})).delete("hs_value"));const i=s.get("dimensions").count();1===i&&(a=a.updateIn(["dimension","buckets"],e=>e.map(e=>e.update("metrics",e=>e.set(o,e.get("hs_value")).delete("hs_value")))).setIn(["dimension","property"],e.getIn(["dimensions",0])));2===i&&(a=a.updateIn(["dimension","buckets"],t=>t.map(t=>t.updateIn(["dimension","buckets"],e=>e.map(e=>e.update("metrics",e=>e.set(o,e.get("hs_value")).delete("hs_value")))).setIn(["dimension","property"],e.getIn(["dimensions",1])))).setIn(["dimension","property"],e.getIn(["dimensions",0])));a=T(a,t);return a=D({dataset:a,metric:n})})},k="QUOTAS",x=e=>e.get("metrics").filter(e=>e.get("property","").startsWith(k+"."));var w={match:e=>e.get("dataType")!==f.QUOTAS&&x(e).count()>0,retrieve:(e,t,n)=>{const r=e.update("metrics",e=>e.filterNot(e=>e.get("property","").startsWith(k+".")));return Object(O.retrieve)(r,t,n).then(({dataset:t,response:n})=>{const a=x(e);return Promise.all(a.map(n=>U({dataConfig:e,primaryConfig:r,dataset:t,quotaMetric:n}))).then(r=>({dataConfig:e,dataset:h(e,T(r.reduce((e,t)=>T(e,t)),t)),response:n}))})}},F=n("bt3G"),Y={match:e=>e.get("dataType")===f.ATTRIBUTION,retrieve:e=>Object(F.a)(f.ATTRIBUTION).then(t=>t.get("use")(e)).then(r.fromJS).then(t=>({dataConfig:e,dataset:t,response:null}))},B=n("BGD4");const G=(e,t,n)=>{const a=t.getIn(["dimension","buckets"]).reduce((e,t)=>e.set(t.get("key"),t),Object(r.fromJS)({}));return e.updateIn(["dimension","buckets"],e=>e.map(e=>e.setIn(["metrics",n,B.PERCENTILES],a.getIn([e.get("key"),"metrics",n,B.PERCENTILES]))))};var V=n("YbiH");const H=[f.ANALYTICS_SOURCES,f.ANALYTICS_UTM_CAMPAIGNS,f.ANALYTICS_UTM_CONTENTS,f.ANALYTICS_UTM_MEDIUMS,f.ANALYTICS_UTM_SOURCES,f.ANALYTICS_UTM_TERMS];var W={match:e=>Object(V.a)(e.get("dataType"))&&H.includes(e.get("dataType"))&&e.get("configType")===S.f&&2===e.get("dimensions").size&&2===e.get("metrics").size,retrieve:(e,t)=>{const n=e.update("dimensions",e=>e.pop());return Promise.all([Object(O.retrieve)(e,t),Object(O.retrieve)(n,t)]).then(([t,n])=>Object.assign({},t,{dataset:G(t.dataset,n.dataset,e.getIn(["metrics",1,"property"]))}))}},K=n("9t1i");const q="ReportingDataRetrieve",Q="reportingDataRetrieveIntegration",$=Object(r.List)([{module:W,trackingName:"unified2dCombination"},{module:Y,trackingName:"attribution"},{module:C,trackingName:"quotas"},{module:w,trackingName:"addQuotaColumn"},{module:O,trackingName:"baseRetrieve"},{module:K,trackingName:"legacyRetrieve"}]),J=e=>$.find(t=>t.module.match(e)),z=(e,t,n)=>{const r=J(e);Object(g.a)(r,"expected integration but no matches were found for the given dataConfig");const o=new a.a;o.addReportConfigAttributes(e);o.addAttribute(Q,r.trackingName);o.sendPageAction(q);return r.module.retrieve(e,t,n)},X=Object(b.a)(m.d,z);var Z=n("eWZY"),ee=n("kqwf"),te=n("/yPC");const ne=(e,t,n)=>{const a=t.concat(n),o=e.get("configType");if(1!==e.get("dimensions").count()||o!==S.a)return a;const s=[0,"dimension","buckets"],i=t.getIn(s,Object(r.List)()),c=n.getIn(s,Object(r.List)());if(i.isEmpty()&&c.isEmpty())return a;const l=i.concat(c),u=l.getIn([0,"metrics"]).update(e=>e.map(e=>e.map(e=>e.merge({raw:null,formatted:"-"})))),p=i.reduce((e,t)=>e.set(t.get("key"),t),Object(r.OrderedMap)()),d=c.reduce((e,t)=>e.set(t.get("key"),t),Object(r.OrderedMap)()),m=l.reduce((e,t)=>e.set(t.get("key"),t.set("metrics",u)),Object(r.OrderedMap)()),g=p.merge(d),[b,O]=g.reduce(([e,t],n,r)=>[p.has(r)?e.push(p.get(r)):e.push(m.get(r)),d.has(r)?t.push(d.get(r)):t.push(m.get(r))],[Object(r.List)(),Object(r.List)()]),f=t.setIn(s,b),E=n.setIn(s,O);return f.concat(E)};var re=n("gDmL"),ae=n("chpV"),oe=n("I5fL"),se=n("kV5Q"),ie=n("G2Ba");const ce=(e,t,n)=>Object(d.a)(e).then(a=>{const o=a.get("dimensions").count();if(0===o||e.get("configType")===S.e)return;const s=a.update("dimensions",e=>e.pop()).update("metrics",e=>e.shift()),i=1===o?t.delete("dimension"):t.updateIn(["dimension","buckets"],e=>e.map(e=>e.delete("dimension")));return Object(r.Map)({config:s.delete("v2"),data:Object(re.a)(s,i,n,{isSummary:!0})})}),le=(e,t,n,a)=>{const o=e.get("dataType")===f.CROSS_OBJECT?Object(oe.a)(e):u.a.resolve(n);return Object(d.a)(e).then(e=>o.then(n=>Object(r.Map)({config:e.delete("v2"),data:Object(re.a)(e,t,n,{comparePropertyLabel:a})})))},ue=(e,t={})=>{Object(g.a)(e.get("dataType")!==f.ENGAGEMENTS||null!=e.get("crossObject"),"dataType ENGAGEMENTS can only be used with cross-object reports, use ENGAGEMENT instead");const[n,a,i,u]=Object(s.a)(o.a,[c.o,c.r,c.p,c.l]);let m="configure";const b=(t,n)=>{m=t;u({config:e,key:t,value:n})},{newrelic:O}=t,E=Object(d.c)(o.a)(e,t),y=X(o.a)(e,t),T=Object(Z.a)(o.a)(e,t),I=Object(ee.a)(o.a)(e,t),h=t=>{a({config:e,status:l.a,error:t});O&&O.logError(t,m);b("exceptions",r.List.of(t))},j=e=>Object.assign({},e,{dataset:e.dataset.set("dataAge",Date.now())});try{if(e.get("dataType")!==f.CROSS_OBJECT&&(e.get("dimensions")||Object(r.List)()).isEmpty()&&(e.get("metrics")||Object(r.List)()).isEmpty())throw new se.n;return E(e).then(t=>{m="retrieve";n({config:e,configured:t});return y(t)}).then(j).then(e=>{b("process",e.dataset);return e}).then(T).then(e=>{b("hydrate",e.dataset);return e}).then(I).then(e=>r.List.of(e)).then(t=>{i({config:e,data:t});a({config:e,status:l.c});O&&O.logSuccess();b("resolved",t.get(0));return t}).catch(e=>{h(e);return Object(p.a)(e)})}catch(e){h(e);throw e}},pe=(e,t={})=>{const[n,r]=Object(s.a)(o.a,[c.i,c.q]),a=o.a.getState();if(null==Object(i.a)(a,e)){n({config:e});r({config:e,promise:ue(e,t)})}return Object(i.b)(o.a.getState(),e)},de=(e,t={})=>{const{v2Datasets:n=!1}=t,i=e.get("dataType"),p=Object(ae.a)(i),[d,m,g]=Object(s.a)(o.a,[c.r,c.p,c.l]);try{const o=t.report,s=e&&o?o.set("config",e):o;if(void 0===t.newrelic){const n=new a.a;s?n.addReportAttributes(s):n.addReportConfigAttributes(e);t.newrelic=n}if(Object(te.d)(e)){const{config:a,compareConfig:o,compareLabelFactory:i}=Object(te.e)(e.delete("v2")),c=i(s),g=pe(a,t),b=pe(o,Object.assign({},t,{newrelic:null})).then(e=>e.setIn([0,"dimension","propertyLabel"],c));return u.a.all([g,b,p]).then(([t,n,r])=>({data:ne(e,t,n),properties:r})).then(({data:e,properties:s})=>n?u.a.all([le(a,e.first(),s),le(o,e.get(1),s,e.getIn([0,"dimension","propertyLabel"])),Object(ie.d)(t.report,e.first())]).then(([e,t,n])=>Object(r.Map)({primary:e,compare:t}).merge(n)):e).then(t=>{d({config:e,status:l.c});m({config:e,data:t});return t})}return u.a.all([ue(e,t),p]).then(([a,o])=>n?u.a.all([le(e,a.first(),o),ce(e,a.first(),o),Object(ie.d)(t.report,a.first())]).then(([e,t,n])=>Object(r.Map)({primary:e,summary:t}).merge(n)):u.a.resolve(a))}catch(t){g({config:e,key:"exceptions",value:e=>e.push(t)});throw t}},me=(e,t={})=>{e=t.v2Datasets?e.set("v2",!0):e;if(t.report){const n=Object(r.fromJS)(t.report.getIn(["displayParams","customSeries"]))||Object(r.List)();n.isEmpty()||(e=e.set("customSeries",n))}const[n,a,l]=Object(s.a)(o.a,[c.i,c.q,c.p]),u=o.a.getState();if(null==Object(i.a)(u,e)){n({config:e});a({config:e,promise:de(e,t).then(t=>{l({config:e,data:t});return t})})}return Object(i.b)(o.a.getState(),e)};t.a=me},YqTT:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n.d(t,"a",(function(){return s}));n.d(t,"c",(function(){return i}));var r=n("XcLi");const a={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},o=r.l(a,"LimitDirections"),s=r.i({direction:o,count:r.g(),byMeasure:r.k(),forDimension:r.k(),autoApplied:r.b().optional()},"Limit"),i=r.i({direction:o,count:r.g(),byMeasure:r.k(),forDimension:r.k()},"LimitForQuery")},YrWE:function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("u9+u"),s=n("ljrx"),i=n("WZzs"),c=n("mkAW"),l=n("0g/9"),u=n("2LpV"),p=n("Agl5"),d=n("l5oV"),m=n("sV17"),g=n("ij+/"),b=n("C53X");const O={"associations.contact":["associations","contactIds"],"associations.company":["associations","companyIds"],"associations.deal":["associations","dealIds"],"associations.ticket":["associations","ticketIds"],"engagement.id":["engagement","id"],"engagement.timestamp":["engagement","timestamp"],"engagement.createdAt":["engagement","createdAt"],"engagement.ownerId":["engagement","ownerId"],"engagement.createdBy":["engagement","createdBy"],"engagement.lastUpdated":["engagement","lastUpdated"],"engagement.modifiedBy":["engagement","modifiedBy"],"engagement.type":["engagement","type"],"engagement.teamId":["engagement","teamId"],"engagement.source":["engagement","source"],"engagement.activityType":["engagement","activityType"],"engagement.productName":["engagement","productName"],"engagement.followUpAction":["engagement","followUpAction"]},f=Object.assign({},Object(b.b)(),{},Object(b.a)(),{},Object(b.c)(),{},Object(b.e)(),{},Object(b.g)(),{},Object(b.d)(),{},Object(b.f)(),{},Object(b.h)()),E="engagement.id",y=()=>new g.a({dataType:o.ENGAGEMENT,search:{url:"contacts/search/v1/search/engagements",objectsField:"engagements"},properties:{idProperty:E,responsePaths:O,extractors:f},hydrate:{inputs:Object(r.Set)([E,"title"]),fn:e=>e?e.title||a.a.text("reporting-data.references.activity.untitled",{id:e[E]}):a.a.text("reporting-data.references.activity.unknown",{id:e[E]})}});t.a=Object(s.b)({dataType:o.ENGAGEMENT,references:Object(r.Map)({"engagement.createdBy":Object(c.a)(u.a),"engagement.modifiedBy":Object(c.a)(u.a),"engagement.teamId":Object(c.a)(p.a),hs_all_accessible_team_ids:Object(c.a)(p.a),"engagement.ownerId":Object(l.a)(Object(c.a)(u.a),Object(c.a)(d.a)),"publishingTask.campaignGuid":Object(c.a)(m.b)}),referenceProperties:Object(r.Map)({"associations.company":o.COMPANIES,"associations.contact":o.CONTACTS,"associations.deal":o.DEALS,"associations.tickets":o.TICKETS,"engagement.id":o.ENGAGEMENT}),hydrate:(e,t)=>Object(i.a)(o.ENGAGEMENT,e,t),getInboundSpec:y})},Z2jm:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return i}));var r=n("u9+u"),a=n("dUhI");const o=[r.TEMPLATES],s=Object.keys(a),i=e=>({utc:o.includes(e)||!1,sunday:s.includes(e)||!1})},ZM7t:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"f",(function(){return i}));n.d(t,"e",(function(){return c}));const r="accumulate",a="bucket:created",o="bucket:lifecyclestage",s="groupteams",i="zerodimensionalmetricfunnel",c="negativelost"},ZNyp:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"i",(function(){return a}));n.d(t,"b",(function(){return o}));n.d(t,"c",(function(){return s}));n.d(t,"e",(function(){return i}));n.d(t,"o",(function(){return c}));n.d(t,"g",(function(){return l}));n.d(t,"q",(function(){return u}));n.d(t,"h",(function(){return p}));n.d(t,"r",(function(){return d}));n.d(t,"f",(function(){return m}));n.d(t,"p",(function(){return g}));n.d(t,"j",(function(){return b}));n.d(t,"m",(function(){return O}));n.d(t,"k",(function(){return f}));n.d(t,"n",(function(){return E}));n.d(t,"d",(function(){return y}));n.d(t,"l",(function(){return T}));const r="@@reporting/ADD_CONFIG",a=({config:e})=>({type:r,data:{config:e}}),o="@@reporting/BUST_ALL_RESOLVES",s="@@reporting/BUST_ONE_RESOLVE",i="@@reporting/SET_CONFIGURED",c=({config:e,configured:t})=>({type:i,data:{config:e,configured:t}}),l="@@reporting/SET_PROMISE",u=({config:e,promise:t})=>({type:l,data:{config:e,promise:t}}),p="@@reporting/SET_STATUS",d=({config:e,status:t,error:n})=>({type:p,data:{config:e,status:t,error:n}}),m="@@reporting/SET_DATA",g=({config:e,data:t})=>({type:m,data:{config:e,data:t}}),b="@@reporting/ENTER_",O=({config:e,name:t,input:n})=>({type:`${b}${t}`,data:{config:e,name:t,input:n}}),f="@@reporting/EXIT_",E=({config:e,name:t,output:n})=>({type:`${f}${t}`,data:{config:e,name:t,output:n}}),y="@@reporting/DEBUG",T=({config:e,key:t,value:n})=>({type:y,data:{config:e,key:t,value:n}})},"ZS+/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return i}));var r=n("QYOI");function a(e=Object(r.List)()){return e.filterNot(e=>"function"==typeof e).map(e=>r.Iterable.isIterable(e)?a(e):e)}const o=(e,t)=>{const n=e.update("displayParams",a),o=t.update("displayParams",a);return Object(r.is)(n,o)};function s(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length||!Object(r.Set)(n).equals(Object(r.Set)(a)))return!1;const s=hasOwnProperty.bind(t);return n.reduce((n,a)=>{const i=e[a],c=t[a];return!("report"===a&&!o(c||Object(r.Map)(),i||Object(r.Map)()))&&(!(!s(a)||i!==c&&!Object(r.is)(i,c))&&n)},!0)}function i(e,t,n){return!s(e.props,t)||!s(e.state,n)}},"ZUx/":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"a",(function(){return o}));const r="2006-01-01";let a;!function(e){e.JANUARY="JANUARY";e.FEBRUARY="FEBRUARY";e.MARCH="MARCH";e.APRIL="APRIL";e.MAY="MAY";e.JUNE="JUNE";e.JULY="JULY";e.AUGUST="AUGUST";e.SEPTEMBER="SEPTEMBER";e.OCTOBER="OCTOBER";e.NOVEMBER="NOVEMBER";e.DECEMBER="DECEMBER"}(a||(a={}));const o=a.JANUARY},Zoa6:function(e,t,n){"use strict";var r=n("c50W"),a=n("TsUQ"),o=n("DIPK"),s=n("aOr5");const i=e=>Object(a.a)(Object.assign({cacheKey:o.e,createFetchByIds:e=>Object(s.c)(e)(r.r),createFetchSearchPage:e=>Object(s.a)(e)(r.r),fetchByIds:Object(s.g)(r.r),fetchSearchPage:Object(s.e)(r.r)},e));t.a=i()},ZxVi:function(e,t,n){"use strict";var r=n("BPM/"),a=n("QYOI"),o=n("bQHN"),s=n.n(o),i=n("TvdH"),c=n.n(i),l=n("iZt3"),u=n.n(l),p=n("maao"),d=n.n(p);const m=e=>{const t=c()(["fieldLevelPermission","accessLevel"],e);t&&(e.accessLevel=t);return new r.a({id:e.name,label:e.label,description:e.type,referencedObject:Object(a.fromJS)(e)})},g=e=>d()(Object(a.Map)(),(e,t)=>e.merge(u()(s()("id"),Object(a.List)(t.properties).map(m))),Object(a.List)(e));t.a=g},"a1V/":function(e,t,n){"use strict";n.d(t,"b",(function(){return F}));n.d(t,"a",(function(){return Y}));var r=n("D2Y9"),a=n("npjq"),o=n("QYOI"),s=n("nDpY"),i=n.n(s),c=n("c50W"),l=n("07iG"),u=n("U9YW"),p=n("e2gS"),d=n("u9+u"),m=n("hZMd"),g=n("BGD4"),b=n("fhwZ"),O=n("t81I"),f=n("0j78"),E=n("JfoG"),y=n("JsU1"),T=n("QQ8p"),I=n("Kcsf");const h=e=>/^(http|\/)/.test(e)?e:"http://"+e,j=e=>e.getIn(["filters","custom"],Object(o.List)()).count(e=>["d1","d2","d3"].includes(e.get("property"))),A={0:"site-page",1:"landing-page",2:"listing-page",3:"blog-post",4:"knowledge-article"},S=Object(o.Map)({[d.CROSS_OBJECT]:"hs_ticket_object_id",[d.TICKETS]:"hs_ticket_id"}),_=/^(?:(?:https?:)?\/\/)?(?:www\.)?(?:(?:[^\s\?\#\/\(\)\=\:\;\@\\"\.]+)\.)+(?:[^\s\?\#\/\(\)\=\:\;\@\\"\.]+)(?:(?:(?:\/[^\s\/\#\&\?]*)+\/?)(?:(?:[%a-zA-Z0-9_-]+)(?:(?:\.[%a-zA-Z0-9-]+)[^\.\s]))?)?(?:([\?&#][^\s\?\#\&]*?=?([^\s\?\#\&]*))+)?$/i,N=e=>isNaN(e)&&_.test(encodeURI(e)),R=(e,t,n)=>{const a=e.get(e.findKey((e,t)=>t.includes("CONTENT_TYPE_CODE"))),o=e.get(e.findKey((e,t)=>t.includes("HTML_TITLE"))),s=e.get(e.findKey((e,t)=>t.includes("URL")))||t||n;if(N(n)){const e=Object(r.stringify)({title:o,url:h(s)});return`/content-detail/${i.a.get()}/external-page/-1?${e}`}const c=A[a];if(!c)return null;switch(c){case"blog-post":case"site-page":case"landing-page":return`/content-detail/${i.a.get()}/${c}/${t}`;case"knowledge-article":return`/knowledge/${i.a.get()}/insights/article/${t}`}return null},C=e=>{if(!e)return null;switch(e.get("value",e.getIn(["values",0]))){case"BLOG_POST":return"blog-post";case"LANDING_PAGE":return"landing-page";case"STANDARD_PAGE":return"site-page";default:return null}},v=(e,t,n)=>{const r=t.getIn(["filters","custom"],Object(o.List)()).find(t=>t.get("property")===e+".referrerContentType"),a=C(r);return a?`/content-detail/${i.a.get()}/${a}/${n}/performance`:null},L=(e,t)=>t.includes("association")||Object(y.d)(e)&&["hs_contact_id","hs_deal_id"].includes(t),D=(e,t)=>{const n=t.get(Object(y.c)(d.ENGAGEMENT,t));return n?`${e}?engagement=${n}`:e},M=(e,t)=>Object(y.d)(e)?t:null,P=({dataType:e,propertyName:t,referenceKey:n,dataRow:r})=>{if(["people","deals-influenced"].includes(t))return r.get(t);const a=isNaN(Number(n))?M(e,n):n,o=(y.e.includes(e)?r.get("hs_object_id"):void 0)||r.get(Object(y.b)(e));return L(e,t)||!o?a:o},U=({dataType:e,objectTypeId:t,property:n,id:r,dataRow:a,config:s,properties:u,skipEmailURL:g,referenceKey:b})=>{if("people"===n){return a.find((e,t)=>"isContact"===Object(T.b)(t).property,null,!0)?Object(f.b)(d.CONTACTS,r):null}if(r===m.b)return null;switch(e){case d.CROSS_OBJECT:switch(n){case"hs_company_object_id":return Object(f.b)(d.COMPANIES,a.get(n));case"hs_contact_object_id":return Object(f.b)(d.CONTACTS,a.get(n));case"hs_deal_object_id":return Object(f.b)(d.DEALS,a.get(n));case"hs_ticket_object_id":return Object(f.b)(d.TICKETS,a.get(n));default:return null}case d.CONTACTS:switch(n){case"vid":case"hs_object_id":return Object(f.b)(e,r);case"email":return g?null:Object(f.b)(e,r);case"company_info_domain":return"https://"+a.get("company_info_domain");case"hs_marketable_reason_id":return u.getIn([n,"references",String(a.get(n)),"link"]);case"hs_first_engagement_object_id":return a.get(n)?`${Object(f.b)(e,r)}?engagement=${a.get(n)}`:null;default:return null}case d.CONVERSATIONS:switch(n){case"hs_object_id":return Object(f.a)(d.CONVERSATIONS,r);case"hs_thread_id":return Object(f.a)(c.Q,r);default:return null}case d.COMPANIES:switch(n){case"name":case"companyId":case"company-id":case"hs_object_id":return Object(f.b)(e,r);case"cleaned_domain":return"https://"+a.get("cleaned_domain");default:return null}case d.CRM_OBJECT:switch(n){case"hs_object_id":return`/contacts/${i.a.get()}/record/${t}/${r}/`;default:return null}case d.DEALS:switch(n){case"dealId":case"dealname":case"hs_object_id":return Object(f.b)(e,r);case"associations.contact":return Object(f.b)(d.CONTACTS,r);case"associations.company":return Object(f.b)(d.COMPANIES,r);default:return null}case d.ENGAGEMENTS:case d.ENGAGEMENT:switch(n){case"associations.contact":return D(Object(f.b)(d.CONTACTS,r),a);case"associations.deal":return D(Object(f.b)(d.DEALS,r),a);case"associations.company":return D(Object(f.b)(d.COMPANIES,r),a);case"associations.ticket":return D(Object(f.b)(d.TICKETS,r),a);default:return null}case d.TICKETS:switch(n){case"hs_object_id":case"hs_ticket_id":case"subject":return Object(f.b)(e,r);default:return null}case d.SOCIAL_POSTS:switch(n){case"publishedAt":return Object(f.b)(e,a.get("broadcastGuid"));case"url":return a.get("url");default:return null}case d.ATTRIBUTION_TOUCH_POINTS:case d.CONTACT_CREATE_ATTRIBUTION:case d.DEAL_CREATE_ATTRIBUTION:switch(n){case"hs_cta_id":return Object(f.a)(c.R,r);case"hs_form_id":return Object(f.a)(c.lb,r);case"hs_contact_id":return Object(f.b)(d.CONTACTS,r);case"hs_deal_id":return Object(f.b)(d.DEALS,r);case"hs_asset_url":case"hs_asset_title":return a.get("hs_asset_url");case"hs_campaign_name":return Object(f.a)(d.ATTRIBUTION_TOUCH_POINTS,a.get("hs_campaign_name"));case"hs_campaign_guid":return Object(f.a)(d.CONTACT_CREATE_ATTRIBUTION,a.get("hs_campaign_guid"));default:return null}case d.ANALYTICS_BLOG_POSTS:switch(n){case"breakdown":return`/content-detail/${i.a.get()}/blog-post/${r}/performance`;default:return null}case d.ANALYTICS_CAMPAIGNS:switch(n){case"breakdown":case"campaignId":return j(s)>0?null:`/campaigns/${i.a.get()}/${r}?back=${encodeURIComponent(window.location.href)}`;case"deals-influenced":return`/contacts/${i.a.get()}/deals/${r}`;default:return null}case d.ANALYTICS_FORMS:switch(n){case"breakdown":return s.getIn(["filters","custom"],[]).some(({property:e,value:t})=>"type"===e&&"SURVEY"===t)?null:`/forms/${i.a.get()}/${r}/performance?`;default:return null}case d.ANALYTICS_SOURCES:case d.ANALYTICS_ALL_PAGES_SOURCES:case d.ANALYTICS_FORMS_SOURCES:switch(n){case"breakdown":if(2===j(s)){const e=Object(l.a)(s,"d1",Object(o.Map)()).get("value");if("email"===e&&"2"!==r&&!isNaN(parseFloat(r))&&isFinite(r))return`/email/${i.a.get()}/campaign/${r}`;if(["referrals","direct"].includes(e))return Object(O.b)(r)?null:/^https?:\/\//.test(r)?r:"http://"+r}return null;default:return null}case d.ANALYTICS_KNOWLEDGE_ARTICLES:switch(n){case"breakdown":return`/knowledge/${i.a.get()}/insights/article/${r}/performance`;default:return null}case d.ANALYTICS_LANDING_PAGES:switch(n){case"breakdown":return`/content-detail/${i.a.get()}/landing-page/${r}/performance`;default:return null}case d.ANALYTICS_PATHS:switch(n){case"pageUrl":return N(b)?h(b):null;default:return null}case d.ANALYTICS_SALES_DOCUMENTS:switch(n){case"breakdown":case"deckId":return`/documents/${i.a.get()}/summary/${r}`;default:return null}case d.ANALYTICS_SALES_TEMPLATES:switch(n){case"breakdown":case"templateId":return`/templates/${i.a.get()}/edit/${r}`;default:return null}case d.ANALYTICS_SEQUENCE_ENROLLMENT_ACTIVITIES:switch(n){case"breakdown":case"sequenceId":return`/sequences/${i.a.get()}/sequence/${r}`;default:return null}case d.ANALYTICS_STANDARD_PAGES:switch(n){case"breakdown":return`/content-detail/${i.a.get()}/site-page/${r}/performance`;default:return null}case d.CONVERSION:switch(n){case"lastVisitInCloseSession.referrerAnalyticsPageId":return v("lastVisitInCloseSession",s,r);case"lastVisitInCreateSession.referrerAnalyticsPageId":return v("lastVisitInCreateSession",s,r);default:return null}case d.EMAIL:switch(n){case"id":return`/email/${i.a.get()}/details/${r}`;case"emailCampaign":return`/campaigns/${i.a.get()}/${a.get("emailCampaign")}`;default:return null}case d.ANALYTICS_ALL_PAGES_BY_COMPANY:case d.ANALYTICS_ALL_PAGES:switch(n){case"breakdown":return e===d.ANALYTICS_ALL_PAGES_BY_COMPANY&&0===j(s)?`/contacts/${i.a.get()}/company/${Number(r)}`:R(a,r,b);default:return null}case d.ANALYTICS_BEHAVIORAL_EVENTS:switch(n){case"breakdown":return`/events/${i.a.get()}/manage/${r.replace(new RegExp(`^${p.a.PORTAL_SPECIFIC_EVENT}-`),"")}`;default:return null}case d.SEQUENCE_SENDER_SCORE:switch(n){case"breakdown":return 1===j(s)?`/sequences/${i.a.get()}/sequence/${r}`:null;default:return null}case d.SEQUENCE_ENROLLMENTS:case d.SEQUENCE_STEP_ENROLLMENTS:switch(n){case"hs_contact_id":return Object(f.b)(d.CONTACTS,r);case"hs_company_id":return Object(f.b)(d.COMPANIES,r);case"hs_sequence_id":return`/sequences/${i.a.get()}/sequence/${r}`;default:return null}case d.KNOWLEDGE_ARTICLES:switch(n){case"id":return`/knowledge/${i.a.get()}/insights/article/${r}`;default:return null}default:return null}},k=(e,t,n)=>{const r=e.get("dataType");return S.has(r)||r===d.SOCIAL_POSTS?n.map((e,n)=>e.update("references",e=>e?e.map((e,s)=>{const i=t.find(e=>String(e.get(n))===s||o.List.isList(e.get(n))&&e.get(n).includes(Number(s))||String(e.get(n)).includes(Number(s)));if(!i)return e;const{property:c=n,type:l}=Object(T.b)(n);return e.update("label",e=>{if(S.has(r)&&S.get(r)===c&&l!==g.COUNT){const t=P({dataType:r,propertyName:c,referenceKey:s,dataRow:i});return Object(E.b)(Object(o.Map)({subject:e}),t)}if(r===d.SOCIAL_POSTS&&"publishedAt"===c){return a.a.moment(i.get("publishedAt")).portalTz().format("l LT")}return e})}):e)):n},x=(e,t,n)=>{const r=e.get("objectTypeId"),a=e.get("dataType")===d.CRM_OBJECT?b.b.get(r,d.CRM_OBJECT):e.get("dataType"),s=e.get("configType")===u.e&&2===e.get("metrics",Object(o.List)()).filter(e=>["email","vid"].includes(e.get("property"))).size;return t.map(t=>{const i=t.reduce((i,c,l)=>{const u=Object(T.b)(l).property||l,p=P({dataType:a,propertyName:u,referenceKey:c,dataRow:t}),d={dataType:a,objectTypeId:r,property:l,dataRow:t,config:e,properties:n,id:p,skipEmailURL:s,referenceKey:c};if(o.List.isList(c))return c.reduce((e,t)=>{const n=U(Object.assign({},d,{referenceKey:t,id:t}));return n&&n!==m.b?e.setIn([u,String(t)],n):e},i);if(c){const e=U(d);return e&&e!==m.b?i.setIn([u,String(c)],e):i}return i},t.has(y.a)?t.get(y.a):Object(o.Map)());return i.isEmpty()?t:t.set(y.a,i)})},w=(e,t)=>k(t,e.get("data"),e.get("properties")),F=(e,t)=>{const n=new I.a;n.addReportConfigAttributes(t);n.sendPageAction("legacyEnhanceColumnDataset");const r=w(e,t);return e.set("properties",r).update("data",e=>x(t,e,r))},Y=(e,t)=>e.set("properties",w(e,t))},a3aD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));const r="SAVE_REPORT_DIALOG",a="SAVE_REPORT_UPDATES_DIALOG"},aOr5:function(e,t,n){"use strict";n.d(t,"c",(function(){return E}));n.d(t,"g",(function(){return y}));n.d(t,"d",(function(){return T}));n.d(t,"h",(function(){return I}));n.d(t,"a",(function(){return h}));n.d(t,"e",(function(){return j}));n.d(t,"b",(function(){return A}));n.d(t,"f",(function(){return S}));var r=n("Oc1M"),a=n.n(r),o=n("g+dq"),s=n.n(o),i=n("c50W"),c=n("911S"),l=n("DF/D"),u=n("bQHN"),p=n.n(u);const d=e=>{const t=Object(c.a)(e);return{getId:t,getDescription:t}},m={[i.q]:"hs_ad_account_id",[i.r]:"hs_ad_campaign_id",[i.s]:"hs_ad_group_id",[i.p]:"hs_ad_id",[i.t]:"hs_keyword_id"},g={[i.q]:d(m[i.q]),[i.r]:d(m[i.r]),[i.s]:d(m[i.s]),[i.p]:d(m[i.p]),[i.t]:d(m[i.t])},b={requestOptions:{includeAllValues:!0},sorts:[{property:"hs_name",order:"ASC"}]},O=a()(e=>({getters:Object.assign({},g[e],{getLabel:Object(c.a)("hs_name")})})),f=a()(e=>Object.assign({},b,{filterGroups:[{filters:[{property:"hs_ad_network",value:e,operator:"EQ"}]}]})),E=e=>t=>{const n=Object(l.a)(e)(t,{searchOptions:b,formatterOptions:O(t)});return e=>n({idPropName:m[t]},e).then(p()("results"))},y=E({httpClient:s.a}),T=e=>(t,n)=>{const r=Object(l.a)(e)(n,{searchOptions:f(t),formatterOptions:O(n)});return e=>r({idPropName:m[n]},e).then(p()("results"))},I=T({httpClient:s.a}),h=e=>t=>Object(l.b)(e)(t,{searchOptions:b,formatterOptions:O(t)}),j=h({httpClient:s.a}),A=e=>(t,n)=>Object(l.b)(e)(n,{searchOptions:f(t),formatterOptions:O(n)}),S=A({httpClient:s.a})},afEi:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return i}));var r=n("QgEn"),a=n("sl/w"),o=n("VUdM");const s={problem:o.m,disabledMessage:Object(r.jsx)(a.a,{message:"reporting-action-components.actions.loading"})},i={problem:o.b,disabledMessage:Object(r.jsx)(a.a,{message:"reporting-action-components.actions.dataFetchingError"})}},ahZR:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"d",(function(){return o}));n.d(t,"g",(function(){return s}));n.d(t,"h",(function(){return i}));n.d(t,"b",(function(){return c}));n.d(t,"i",(function(){return l}));n.d(t,"f",(function(){return u}));n.d(t,"k",(function(){return p}));n.d(t,"e",(function(){return d}));n.d(t,"j",(function(){return m}));const r="BETWEEN",a="GT",o="GTE",s="LT",i="LTE",c="EQ",l="NEQ",u="IN",p="NOT_IN",d="HAS_PROPERTY",m="NOT_HAS_PROPERTY"},aqT1:function(e,t,n){"use strict";n.d(t,"d",(function(){return r}));n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));n.d(t,"e",(function(){return s}));n.d(t,"c",(function(){return i}));const r="limits",a="custom-reports",o="dashboards",s="standard-reports",i="dashboard-max-widgets"},ayHa:function(e,t,n){"use strict";n.d(t,"d",(function(){return s}));n.d(t,"b",(function(){return c}));n.d(t,"c",(function(){return l}));n.d(t,"e",(function(){return u}));n.d(t,"a",(function(){return d}));var r=n("u9+u"),a=n("V4H+");const o=["amount_in_deal_currency","closed_amount_in_deal_currency","projected_amount_in_deal_currency","amount","closedAmount","hs_closed_amount","projectedAmount","hs_projected_amount","hs_tcv","hs_mrr","hs_arr"],s=["projectedAmount","closedAmount"],i=["amount","price","hs_tcv"],c="currencyPropertyName",l="deal_currency_code",u="hs_line_item_currency_code",p={[r.DEALS]:o,[r.LINE_ITEMS]:i,[r.CROSS_OBJECT]:[...o.map(e=>Object(a.d)(r.DEALS,e)),...i.map(e=>Object(a.d)(r.LINE_ITEMS,e))]},d=(Object.values(p).reduce((e,t)=>[...e,...t],[]),{[r.DEALS]:l,[r.LINE_ITEMS]:u}),m=["amount_in_home_currency","projectedAmountInHomeCurrency","hs_projected_amount_in_home_currency","closedAmountInHomeCurrency","hs_closed_amount_in_home_currency","deal_amount_in_home_currency","deal_projectedAmountInHomeCurrency","deal_closedAmountInHomeCurrency"],g=m.map(e=>Object(a.d)(r.DEALS,e))},bRfn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("hDBk"),a=n("JYON");const o=e=>({assetType:"report",chartType:Object(a.c)(e),dataTypes:Object(a.b)(e),template:Object(r.v)(e)})},bs7Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));n.d(t,"c",(function(){return c}));var r=n("zTB3");const a={DASHBOARD_VIEW:"DASHBOARD_VIEW",DASHBOARD_EDIT:"DASHBOARD_EDIT",DASHBOARD_CREATE:"DASHBOARD_CREATE",REPORT_LIST_VIEW:"REPORT_LIST_VIEW",REPORT_LIST_EDIT:"REPORT_LIST_EDIT",REPORT_LIST_CREATE:"REPORT_LIST_CREATE",DASHBOARD_LIST_CREATE:"DASHBOARD_LIST_CREATE",REPORT_LIBRARY_CREATE:"REPORT_LIBRARY_CREATE",DASHBOARD_LIBRARY_CREATE:"DASHBOARD_LIBRARY_CREATE",DISCOVER_TEMPLATES_CREATE:"DISCOVER_TEMPLATES_CREATE",DISCOVER_BUILDERS_CREATE:"DISCOVER_BUILDERS_CREATE"},o=(Object.values(a),{[a.DASHBOARD_VIEW]:"report-builder-reports-dashboard-view-report",[a.DASHBOARD_EDIT]:"report-builder-reports-dashboard-edit-report",[a.DASHBOARD_CREATE]:"report-builder-reports-dashboard-create-report",[a.REPORT_LIST_VIEW]:"report-builder-report-list-view-report",[a.REPORT_LIST_EDIT]:"report-builder-report-list-edit-report",[a.REPORT_LIST_CREATE]:"report-builder-report-list-create-report",[a.REPORT_LIBRARY_CREATE]:"report-builder-report-library-create-report",[a.DISCOVER_TEMPLATES_CREATE]:"report-builder-discover-templates-create-report",[a.DISCOVER_BUILDERS_CREATE]:"report-builder-discover-builders-create-report"}),s={[a.DASHBOARD_CREATE]:"dashboard-custom-reports-reports-dashboard-create-report",[a.REPORT_LIST_CREATE]:"dashboard-custom-reports-report-list-create-report",[a.REPORT_LIBRARY_CREATE]:"dashboard-custom-reports-report-library-create-report",[a.DISCOVER_TEMPLATES_CREATE]:"dashboard-custom-reports-discover-templates-create-report",[a.DISCOVER_BUILDERS_CREATE]:"dashboard-custom-reports-discover-builders-create-report"},i=(a.DASHBOARD_EDIT,a.REPORT_LIST_EDIT,a.DASHBOARD_EDIT,a.REPORT_LIST_EDIT,{[a.DASHBOARD_CREATE]:{starterKey:"dashboard-suite-starter-reports-dashboard-create-dashboard",proKey:"dashboard-pro-reports-dashboard-create-dashboard",limitIncreaseKey:"dashboard-custom-reports-reports-dashboard-create-dashboard"},[a.DASHBOARD_LIST_CREATE]:{starterKey:"dashboard-suite-starter-dashboard-list-create-dashboard",proKey:"dashboard-pro-dashboard-list-create-dashboard",limitIncreaseKey:"dashboard-custom-reports-dashboard-list-create-dashboard"},[a.DASHBOARD_LIBRARY_CREATE]:{starterKey:"dashboard-suite-starter-dashboard-library-create-dashboard",proKey:"dashboard-pro-dashboard-library-create-dashboard",limitIncreaseKey:"dashboard-custom-reports-dashboard-library-create-dashboard"},[a.DISCOVER_TEMPLATES_CREATE]:{starterKey:"dashboard-suite-starter-discover-create-dashboard",proKey:"dashboard-pro-discover-create-dashboard",limitIncreaseKey:"dashboard-custom-reports-discover-create-dashboard"}}),c=e=>{const t=Object(r.l)(),n=Object(r.k)(),{starterKey:a,proKey:o,limitIncreaseKey:s}=i[e]||{};return t?a:n?o:s}},bt3G:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("rpKw"),a=n("YbiH"),o=n("jpHT"),s=n("Kcsf");const i="ReportingDataLoadDataTypeDefinitions",c="reportingDataLoadDataTypeDefinitionsDataType",l="reportingDataLoadDataTypeDefinitionsModule",u="supported",p="inbounddb",d="legacy";let m=e=>{const t=new s.a;t.addAttribute(c,e);if(a.a(e)){t.addAttribute(l,u);t.sendPageAction(i);return n.e("default~reporting-data__unified").then(n.bind(null,"k+TU")).then(({default:t})=>t[e])}if(Object(o.a)(r,e)){t.addAttribute(l,p);t.sendPageAction(i);return n.e("reporting-data__inboundDb").then(n.bind(null,"0Qfa")).then(({default:t})=>t[e])}t.addAttribute(l,d);t.sendPageAction(i);return n.e("reporting-data__custom").then(n.bind(null,"xZiq")).then(({default:t})=>t[e])}},"bw/x":function(e,t,n){"use strict";var r=n("g+dq"),a=n.n(r),o=n("08Ee"),s=n.n(o),i=n("bQHN"),c=n.n(i),l=n("LhZO"),u=n.n(l),p=n("iZt3"),d=n.n(p),m=n("Oc1M"),g=n.n(m),b=n("WwZd"),O=n("ZxVi");var f=e=>{const t=Object(b.a)({getId:c()("objectType"),getLabel:c()("objectType")},e);return d()(c()("id"),t)};n.d(t,"c",(function(){return R}));n.d(t,"m",(function(){return C}));n.d(t,"d",(function(){return v}));n.d(t,"n",(function(){return L}));n.d(t,"b",(function(){return D}));n.d(t,"l",(function(){return M}));n.d(t,"e",(function(){return P}));n.d(t,"o",(function(){return U}));n.d(t,"j",(function(){return k}));n.d(t,"t",(function(){return x}));n.d(t,"f",(function(){return w}));n.d(t,"p",(function(){return F}));n.d(t,"g",(function(){return Y}));n.d(t,"q",(function(){return B}));n.d(t,"i",(function(){return G}));n.d(t,"s",(function(){return V}));n.d(t,"h",(function(){return H}));n.d(t,"r",(function(){return W}));n.d(t,"a",(function(){return K}));n.d(t,"k",(function(){return q}));const E="properties/v4",y={getId:c()("name"),getLabel:c()("label"),getDescription:c()("description")},T=d()(c()("id")),I=c()("results"),h=c()("property"),j=u()(h),A=g()(e=>`${E}/${e}`),S=g()(e=>`${E}/${e}/multi-get`),_=s()((e,t)=>e.map(e=>t[e])),N=(e,t)=>()=>e.get(`${E}/groups/${t}?includeFieldLevelPermission=true&includeProperties=true`).then(I).then(O.a),R=({httpClient:e})=>N(e,"CONTACT"),C=R({httpClient:a.a}),v=({httpClient:e})=>N(e,"CONVERSATION"),L=v({httpClient:a.a}),D=({httpClient:e})=>N(e,"COMPANY"),M=D({httpClient:a.a}),P=({httpClient:e})=>N(e,"DEAL"),U=P({httpClient:a.a}),k=((({httpClient:e})=>{N(e,"INVOICE")})({httpClient:a.a}),({httpClient:e})=>N(e,"TICKET")),x=k({httpClient:a.a}),w=({httpClient:e})=>N(e,"LINE_ITEM"),F=w({httpClient:a.a}),Y=({httpClient:e})=>N(e,"PRODUCT"),B=Y({httpClient:a.a}),G=({httpClient:e})=>N(e,"QUOTE"),V=G({httpClient:a.a}),H=({httpClient:e})=>({queryParams:t}={})=>n=>{const r=n.map(n=>e.get(`${E}/groups/${n}`,{query:t}).then(I).then(e=>({objectType:n.toUpperCase(),results:e})));return Promise.all(r).then(f)},W=H({httpClient:a.a})(),K=((({httpClient:e})=>{})({httpClient:a.a}),({httpClient:e})=>(t,{queryParams:n}={})=>()=>e.get(A(t),{query:n}).then(j).then(Object(b.a)(y)).then(T)),q=K({httpClient:a.a});(({httpClient:e})=>{s()((t,{queryParams:n},r)=>e.post(S(t),{query:n,data:r}).then(_(r)).then(j).then(Object(b.a)(y)))})({httpClient:a.a})},bw30:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n.d(t,"a",(function(){return o}));var r=n("XcLi");const a={HUBSPOT_OBJECT:"HUBSPOT_OBJECT",HUBSPOT_DATASET:"HUBSPOT_DATASET",HUBSPOT_EVENT:"HUBSPOT_EVENT",EVENTS_DIGEST:"EVENTS_DIGEST"},o=r.l(a,"DataSourceType")},chpV:function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"getPropertyGroups",(function(){return R}));n.d(r,"getProperties",(function(){return C}));var a={};n.r(a);n.d(a,"getPropertyGroups",(function(){return k}));n.d(a,"getProperties",(function(){return x}));var o={};n.r(o);n.d(o,"getPropertyGroups",(function(){return H}));n.d(o,"getProperties",(function(){return W}));var s={};n.r(s);n.d(s,"getPropertyGroups",(function(){return z}));n.d(s,"getProperties",(function(){return X}));var i={};n.r(i);n.d(i,"getPropertyGroups",(function(){return ne}));n.d(i,"getProperties",(function(){return re}));var c={};n.r(c);n.d(c,"getPropertyGroups",(function(){return pe}));n.d(c,"getProperties",(function(){return de}));var l={};n.r(l);n.d(l,"getPropertyGroups",(function(){return De}));n.d(l,"getProperties",(function(){return Pe}));var u={};n.r(u);n.d(u,"getPropertyGroups",(function(){return Ue}));n.d(u,"getProperties",(function(){return ke}));var p={};n.r(p);n.d(p,"getPropertyGroups",(function(){return We}));n.d(p,"getProperties",(function(){return Ke}));var d={};n.r(d);n.d(d,"getPropertyGroups",(function(){return qe}));n.d(d,"getProperties",(function(){return Qe}));var m={};n.r(m);n.d(m,"getPropertyGroups",(function(){return nt}));n.d(m,"getProperties",(function(){return rt}));var g={};n.r(g);n.d(g,"getPropertyGroups",(function(){return At}));n.d(g,"getProperties",(function(){return St}));var b={};n.r(b);n.d(b,"getPropertyGroups",(function(){return Nt}));n.d(b,"getProperties",(function(){return Rt}));var O={};n.r(O);n.d(O,"getPropertyGroups",(function(){return Lt}));n.d(O,"getProperties",(function(){return Dt}));var f={};n.r(f);n.d(f,"getPropertyGroups",(function(){return Ut}));n.d(f,"getProperties",(function(){return kt}));var E={};n.r(E);n.d(E,"getPropertyGroups",(function(){return Yt}));n.d(E,"getProperties",(function(){return Bt}));var y={};n.r(y);n.d(y,"getPropertyGroups",(function(){return Vt}));n.d(y,"getProperties",(function(){return Ht}));var T={};n.r(T);n.d(T,"getPropertyGroups",(function(){return Jt}));n.d(T,"getProperties",(function(){return zt}));var I={};n.r(I);n.d(I,"getPropertyGroups",(function(){return en}));n.d(I,"getProperties",(function(){return tn}));var h=n("QYOI"),j=n("k+EG"),A=n("kV5Q"),S=n("AYIY"),_=n("u9+u");const N=[_.UNIFIED_EVENTS],R=()=>S.a.resolve(Object(h.Map)()),C=()=>S.a.resolve(Object(h.Map)());var v=n("6Umb"),L=n("MSlI");const D=Object(v.a)("reporting-data.dataTypes"),M=Object(v.a)("reporting-data.properties.common"),P=Object(v.a)("reporting-data.properties.events"),U=Object(v.a)("reporting-data.groups.events"),k=()=>S.a.resolve(Object(h.List)([Object(h.Map)({name:"eventInfo",displayName:U("eventInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(h.List)([Object(h.Map)({name:"event",type:"enumeration",label:P("event")}),Object(h.Map)({name:"count",type:"number",label:M("count",{object:D(_.CONTACTS)})}),Object(h.Map)({name:"funnel.conversion",type:"percent",label:M("conversion")})])})])),x=Object(L.a)(k);var w=e=>e.map(e=>e.set("value",e.get("name")).remove("name"));const F=Object(v.a)("reporting-data"),Y=()=>Object(h.Map)({name:"sources",displayName:F("groups.sources.sources"),displayOrder:0,hubspotDefined:!0,properties:Object(h.List)([Object(h.Map)({name:"direct",type:"string",label:F("properties.sessions.direct")}),Object(h.Map)({name:"email",type:"enumeration",label:F("properties.sessions.email")}),Object(h.Map)({name:"offline",type:"string",label:F("properties.sessions.offline")}),Object(h.Map)({name:"organic",type:"string",label:F("properties.sessions.organic")}),Object(h.Map)({name:"social",type:"string",label:F("properties.sessions.social")}),Object(h.Map)({name:"paid",type:"string",label:F("properties.sessions.paid")}),Object(h.Map)({name:"referrals",type:"string",label:F("properties.sessions.referrals")}),Object(h.Map)({name:"paid-social",type:"string",label:F("properties.sessions.paid-social")}),Object(h.Map)({name:"other",type:"string",label:F("properties.sessions.other")})])}),B=()=>Object(h.List)([Object(h.Map)({value:"GOOGLE",type:"string",label:F("search-engines.google")}),Object(h.Map)({value:"MSN",type:"string",label:F("search-engines.msn")}),Object(h.Map)({value:"YAHOO",type:"string",label:F("search-engines.yahoo")}),Object(h.Map)({value:"AOL",type:"string",label:F("search-engines.aol")}),Object(h.Map)({value:"ASK",type:"string",label:F("search-engines.ask")}),Object(h.Map)({value:"BING",type:"string",label:F("search-engines.bing")}),Object(h.Map)({value:"GOOGLE_IMAGES",type:"string",label:F("search-engines.google-images")}),Object(h.Map)({value:"YANDEX",type:"string",label:F("search-engines.yandex")}),Object(h.Map)({value:"BAIDU",type:"string",label:F("search-engines.baidu")}),Object(h.Map)({value:"LYCOS",type:"string",label:F("search-engines.lycos")}),Object(h.Map)({value:"DUCKDUCKGO",type:"string",label:F("search-engines.duckduckgo")})]);var G=()=>Object(h.List)([Y(),Object(h.Map)({name:"sourceInfo",displayName:F("groups.sources.sourceInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(h.List)([Object(h.Map)({name:"source",type:"enumeration",label:F("properties.sessions.source"),options:w(Y().get("properties"))}),Object(h.Map)({name:"keyword",type:"string",label:F("properties.sessions.keyword")}),Object(h.Map)({name:"searchEngine",type:"enumeration",label:F("properties.sessions.searchEngine"),options:B()}),Object(h.Map)({name:"emailCampaign",type:"string",label:F("properties.sessions.emailCampaign")}),Object(h.Map)({name:"emailId",type:"enumeration",label:F("properties.sessions.email")}),Object(h.Map)({name:"paidCampaign",type:"string",label:F("properties.sessions.campaign")}),Object(h.Map)({name:"paidTerm",type:"string",label:F("properties.sessions.term")}),Object(h.Map)({name:"socialNetwork",type:"string",label:F("properties.sessions.site")}),Object(h.Map)({name:"socialCampaign",type:"string",label:F("properties.sessions.campaign")}),Object(h.Map)({name:"paidSocialNetwork",type:"string",label:F("properties.sessions.site")}),Object(h.Map)({name:"paidSocialCampaign",type:"string",label:F("properties.sessions.campaign")}),Object(h.Map)({name:"otherCampaign",type:"string",label:F("properties.sessions.campaign")}),Object(h.Map)({name:"sourceMedium",type:"string",label:F("properties.sessions.sourceMedium")}),Object(h.Map)({name:"referrer",type:"string",label:F("properties.sessions.referrer")}),Object(h.Map)({name:"referUrl",type:"string",label:F("properties.sessions.url")}),Object(h.Map)({name:"offlineSource",type:"string",label:F("properties.sessions.source")}),Object(h.Map)({name:"integrationsPlatform",type:"enumeration",label:F("properties.sessions.integrationsPlatform")}),Object(h.Map)({name:"entranceUrl",type:"string",label:F("properties.sessions.entranceUrl")})])})]),V=n("XP87");const H=()=>Object(V.a)("ANALYTICS_SOURCES").getPropertyGroups().then(e=>Object(h.List)([...e,...G()])),W=Object(L.a)(H);var K=n("q1f1");const q=Object(v.a)("reporting-data.properties.attribution"),Q=Object(v.a)("reporting-data.groups.attribution"),$=()=>[{name:"REFERRER",type:"string",label:q("referrer")},{name:"URL",type:"string",label:q("url")},{name:"SOURCE",type:"enumeration",label:q("source"),options:Object(K.a)().toJS()}],J=()=>[{name:"contactsAssisted",type:"number",label:q("contactsAssisted")},{name:"percentOfContacts",type:"percent",label:q("percentOfContacts")},{name:"normalizedScore",type:"number",label:q("normalizedScore")}],z=()=>S.a.resolve(Object(h.fromJS)([{name:"attributionInfo",displayName:Q("attributionInfo"),displayOrder:0,hubspotDefined:!0,properties:[...$(),...J()]}])),X=Object(L.a)(z,e=>e);var Z=n("SxRi"),ee=n("6sbF"),te=n("qKmU");const ne=()=>Object(Z.a)(_.ATTRIBUTION_TOUCH_POINTS).then(e=>Object(h.List)([...e])).then(e=>Object(te.a)(e,"attributionassetinformation",{hs_campaign_guid:{type:"enumeration"},hs_cta_id:{type:"enumeration",externalOptions:!0,referencedObjectType:"CTA"},hs_contact_id:{type:"enumeration"},hs_contact_company:{type:"enumeration",externalOptions:!0,referencedObjectType:"COMPANY"},hs_created_by_user_id:{type:"enumeration",externalOptions:!0,referencedObjectType:"USER"},hs_updated_by_user_id:{type:"enumeration",externalOptions:!0,referencedObjectType:"USER"}})),re=()=>Object(L.a)(ne,e=>e.merge(Object(ee.b)(_.ATTRIBUTION_TOUCH_POINTS)))();var ae=n("ShXV"),oe=n("Ozqw"),se=n("/SfS"),ie=n("c50W"),ce=n("hZMd");const le=Object(v.a)("reporting-data.properties.companies"),ue=Object(v.a)("reporting-data.properties.common"),pe=()=>Object(Z.a)(_.COMPANIES).then(e=>Object(te.a)(e,"companyinformation",{recent_deal_amount:{type:"currency"},hubspot_team_id:{referencedObjectType:"TEAM"},hs_parent_company_id:{defaultNullValue:ce.a.NUMBER,reportingOverwrittenNumericType:!0,externalOptions:!0,referencedObjectType:ie.H},"_inbounddbio.importid_":{name:"_inbounddbio.importid_",label:ue("inboundDbImport"),type:"enumeration",hidden:!1,blocklistedForAggregation:!0}})),de=()=>Object(L.a)(pe,e=>e.merge(Object(ee.b)(_.COMPANIES)).merge(Object(h.fromJS)({"company-id":{name:"company-id",label:le("company"),type:"enumeration"}})))().then(Object(se.a)(oe.a.getInboundSpec()));var me=n("ahZR"),ge=n("O3Yl"),be=n("AFsi"),Oe=n("G2Xo"),fe=n("zKI+");const Ee=e=>Object(Oe.a)("reporting-data.properties.contacts.hasEnteredStage",{stageLabel:e}),ye=Object(v.a)("reporting-data.properties.common"),Te=()=>[{value:"YES",label:ye("buckets.included")},{value:"NO",label:ye("buckets.excluded")}],Ie=e=>"hs_date_entered_"+e,he=e=>`BUCKET_${Ie(e)}_count`,je=e=>e.reduce((e,t)=>{const n=t.get("value"),r=t.get("label");return n===fe.b?e:e.push(Object(h.Map)({label:Ee(r),name:he(n),property:Ie(n),groupName:"contactscripted",scripted:!0,blocklistedForFiltering:!0,options:Te(),type:ge.b,buckets:[{name:"YES",operator:me.c,value:0},{name:"NO"}]}))},Object(h.List)([]));const Ae=(e,t)=>{const n=e.get("value"),r="hs_date_entered_"+n,a=t.includes(n)&&`hs_lifecyclestage_${n}_date`;return a?{[r]:{hidden:!1},[a]:{hidden:!0}}:{[r]:{hidden:!1}}},Se=e=>{const t=Object(fe.a)().reduce((e,t)=>t.get("value")!==fe.b?e.push(t.get("value")):e,Object(h.List)([]));return e.reduce((e,n)=>n.get("value")===fe.b?e:Object.assign({},e,{},Ae(n,t)),{})};var _e=n("eyRE"),Ne=n("0iGF");const Re=Object(v.a)("reporting-data.properties.contacts"),Ce=Object(v.a)("reporting-data.groups.contacts"),ve=Object(v.a)("reporting-data.properties.common"),Le=e=>Object(h.fromJS)({name:"contactscripted",displayName:Ce("contactscripted"),displayOrder:0,hubspotDefined:!0,properties:[{name:"BUCKET_customer",property:"lifecyclestage",groupName:"contactscripted",scripted:!0,label:Re("BUCKET_customer"),type:ge.b,blocklistedForFiltering:!0,options:[{value:"CUSTOMER",label:Re("BUCKET_customer")}],buckets:[{name:"CUSTOMER",operator:me.f,values:["customer"]}]},{name:"BUCKET_sources",property:"hs_analytics_source",groupName:"contactscripted",label:Re("BUCKET_sources"),scripted:!0,blocklistedForFiltering:!0,type:ge.b,options:[{value:"UNKNOWN",label:Re("buckets.UNKNOWN")},{value:"OFFLINE",label:Re("buckets.OFFLINE")},{value:"ONLINE",label:Re("buckets.ONLINE")}],buckets:[{name:"OFFLINE",operator:me.b,value:"OFFLINE"},{name:"ONLINE",operator:me.e},{name:"UNKNOWN"}]},{name:"BUCKET_createdate_enteredCount",property:"createdate",groupName:"contactscripted",scripted:!0,blocklistedForFiltering:!0,label:Re("BUCKET_createdate_enteredCount"),type:ge.b,options:[{value:"YES",label:ve("buckets.included")},{value:"NO",label:ve("buckets.excluded")}]},...je(e).toJS()]}),De=()=>Promise.all([Object(Z.a)(_.CONTACTS),Object(fe.d)()]).then(([e,t])=>{const n=Se(t),r=Object(h.List)([...e,Le(t)]);return Object(te.a)(r,"contactinformation",Object.assign({},n,{"listMemberships.listId":{name:"listMemberships.listId",label:Re("listMembership"),type:ge.g,defaultNullValue:ce.a.NUMBER,reportingOverwrittenNumericType:!0,scripted:!0,externalOptions:!0},hubspot_team_id:{referencedObjectType:"TEAM"},associatedcompanyid:{name:"associatedcompanyid",label:Re("associatedCompanyId"),hidden:!1},"formSubmissions.formId":{name:"formSubmissions.formId",label:Re("formSubmission"),type:ge.g,scripted:!0,externalOptions:!0},"_inbounddbio.importid_":{name:"_inbounddbio.importid_",label:ve("inboundDbImport"),type:ge.g,hidden:!1,blocklistedForAggregation:!0},lifecyclestage:{options:Object(h.fromJS)(t)},hs_contact_source_event:{name:"hs_contact_source_event",label:Re("hs_contact_source_event"),type:ge.g,options:Object(h.fromJS)(Object(_e.a)()),hidden:!0},hs_analytics_num_visits:{label:Re("hs_analytics_num_visits")},hs_analytics_first_visit_timestamp:{label:Re("hs_analytics_first_visit_timestamp")},hs_analytics_last_visit_timestamp:{label:Re("hs_analytics_last_visit_timestamp")}}))}),Me=Object(L.a)(De),Pe=()=>Me().then(e=>{const t=e.getIn(["lifecyclestage","label"]),n=e.getIn(["lifecyclestage","options"]);return e.merge(Object(ee.b)(_.CONTACTS)).merge(Object(Ne.a)()).merge(Object(h.fromJS)({vid:{name:"vid",label:Re("contact"),type:"string"},"pipeline.lifecyclestage":{name:"pipeline.lifecyclestage",label:t,type:ge.g,options:Object(h.fromJS)(n),blocklistedForGrouping:!0},"funnel.lifecyclestage":{name:"funnel.lifecyclestage",label:t,type:ge.g,options:Object(h.fromJS)(n),blocklistedForGrouping:!0}}))}).then(Object(se.a)(be.a.getInboundSpec())),Ue=()=>Object(Z.a)(_.CONTACT_CREATE_ATTRIBUTION).then(e=>Object(h.List)([...e])).then(e=>Object(te.a)(e,"attributioncampaigninformation",{hs_campaign_guid:{type:"enumeration"},hs_cta_id:{type:"enumeration",externalOptions:!0,referencedObjectType:"CTA"},hs_created_by_user_id:{type:"enumeration",externalOptions:!0,referencedObjectType:"USER"},hs_updated_by_user_id:{type:"enumeration",externalOptions:!0,referencedObjectType:"USER"}})),ke=()=>Object(L.a)(Ue,e=>e.merge(Object(ee.b)(_.CONTACT_CREATE_ATTRIBUTION)))();var xe=n("xhc2");const we=Object(v.a)("reporting-data.properties.conversion"),Fe=Object(v.a)("reporting-data.groups.conversion"),Ye=(e,t)=>`${we(e)} (${we(t)})`,Be=["firstVisit","firstVisitInCreateSession","lastVisitInCreateSession","firstVisitInLeadSession","lastVisitInLeadSession","firstVisitInCloseSession","lastVisitInCloseSession"],Ge={visitTime:"datetime",pageUrl:"string",pageDomain:"string",visitSource:"string",pageContentType:"string",analyticsPageId:"string",pageAuthor:"string",pageBlogId:"number",country:"string",region:"string",city:"string",persona:"string",conversionTime:"datetime",referrerVisitTime:"datetime",referrerUrl:"string",referrerDomain:"string",referrerVisitSource:"string",referrerContentType:"string",referrerAnalyticsPageId:"string",referrerAuthor:"string",referrerBlogAuthorId:"number",referrerBlogId:"number"},Ve=()=>[{value:"LANDING_PAGE",label:we("pageContentTypes.landingPage")},{value:"STANDARD_PAGE",label:we("pageContentTypes.standardPage")},{value:"BLOG_POST",label:we("pageContentTypes.blogPost")},{value:"LISTING_PAGE",label:we("pageContentTypes.listingPage")}],He={pageContentType:Ve,referrerContentType:Ve,visitSource:K.a,referrerVisitSource:K.a},We=()=>S.a.resolve(Object(h.fromJS)([{name:"conversionInfo",displayName:Fe("conversionInfo"),displayOrder:0,hubspotDefined:!0,properties:Be.reduce((e,t)=>Object.keys(Ge).reduce((e,n)=>[...e,{name:`${t}.${n}`,label:Ye(n,t),type:Ge[n],options:"function"==typeof He[n]?He[n]():[]}],e),[])}])),Ke=Object(L.a)(We,e=>e.merge(Object(ee.b)(_.CONVERSION))),qe=()=>Object(Z.a)(_.DEAL_CREATE_ATTRIBUTION).then(e=>Object(h.List)([...e])),Qe=()=>Object(L.a)(qe,e=>e.merge(Object(ee.b)(_.DEAL_CREATE_ATTRIBUTION)))();var $e=n("kEPo");const Je=Object(v.a)("reporting-data.properties.email"),ze=Object(v.a)("reporting-data.groups.email"),Xe=()=>Object(h.fromJS)([{name:"emaildate",label:Je("date"),type:"string"},{name:"id",label:Je("email"),type:"string"},{name:"deviceType",label:Je("deviceType"),type:"enumeration",options:[{value:"computer",label:Je("deviceTypes.computer")},{value:"mobile",label:Je("deviceTypes.mobile")},{value:"unknown",label:Je("deviceTypes.unknown")}]},{name:"emailCampaign",label:Je("emailCampaign"),type:"string"}]),Ze=()=>Object(h.fromJS)([{name:"bounce",label:Je("bounce"),type:"number",inverseDeltas:!0},{name:"emailSends",label:Je("emailSends"),type:"number"},{name:"click",label:Je("click"),type:"number"},{name:"reply",label:Je("reply"),type:"number"},{name:"contactslost",label:Je("contactslost"),type:"number",inverseDeltas:!0},{name:"delivered",label:Je("delivered"),type:"number"},{name:"dropped",label:Je("dropped"),type:"number"},{name:"hardbounced",label:Je("hardbounced"),type:"number",inverseDeltas:!0},{name:"notsent",label:Je("notsent"),type:"number"},{name:"open",label:Je("open"),type:"number"},{name:"pending",label:Je("pending"),type:"number"},{name:"selected",label:Je("selected"),type:"number"},{name:"sent",label:Je("sent"),type:"number"},{name:"softbounced",label:Je("softbounced"),type:"number",inverseDeltas:!0},{name:"spamreport",label:Je("spamreport"),type:"number",inverseDeltas:!0},{name:"suppressed",label:Je("suppressed"),type:"number"},{name:"unsubscribed",label:Je("unsubscribed"),type:"number",inverseDeltas:!0},{name:"bounceratio",label:Je("bounceratio"),type:"percent",inverseDeltas:!0},{name:"clickratio",label:Je("clickratio"),type:"percent"},{name:"replyratio",label:Je("replyratio"),type:"percent"},{name:"clickthroughratio",label:Je("clickthroughratio"),type:"percent"},{name:"contactslostratio",label:Je("contactslostratio"),type:"percent",inverseDeltas:!0},{name:"deliveredratio",label:Je("deliveredratio"),type:"percent"},{name:"hardbounceratio",label:Je("hardbounceratio"),type:"percent",inverseDeltas:!0},{name:"notsentratio",label:Je("notsentratio"),type:"percent",inverseDeltas:!0},{name:"openratio",label:Je("openratio"),type:"percent"},{name:"pendingratio",label:Je("pendingratio"),type:"percent"},{name:"softbounceratio",label:Je("softbounceratio"),type:"percent",inverseDeltas:!0},{name:"spamreportratio",label:Je("spamreportratio"),type:"percent",inverseDeltas:!0},{name:"unsubscribedratio",label:Je("unsubscribedratio"),type:"percent",inverseDeltas:!0},{name:"rssEmailId",label:Je("rssEmailId"),type:"string"}]),et=()=>Object(h.fromJS)([{name:"campaignId",label:Je("campaign"),type:"enumeration"},{name:"created",label:Je("created"),type:"datetime"},{name:"publishDate",label:Je("publishDate"),type:"datetime"},{name:"updated",label:Je("updated"),type:"datetime"},{name:"state",label:Je("state"),type:"enumeration"}]),tt=()=>Object(h.fromJS)([{name:"campaign",label:Je("campaign"),type:"string"},{name:"name",label:Je("name"),type:"string"}]),nt=()=>S.a.resolve(Object(h.List)([Object(h.Map)({name:"emailInfo",displayName:ze("emailInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(h.List)([...Xe(),...Ze(),...et(),...tt()])})])),rt=Object(L.a)(nt,e=>e.merge(Object(ee.b)(_.EMAIL)));var at=n("lf24"),ot=n("NwS3"),st=n("npjq"),it=n("o07f");const ct=Object(v.a)("reporting-data.properties.engagement"),lt=Object(v.a)("reporting-data.groups.engagement"),ut=()=>Object(it.a)()?Object(h.fromJS)([{name:"betEngagementInfo",displayName:lt("betEngagementInfo"),displayOrder:0,hubspotDefined:!0,properties:[{name:"hs_unknown_visitor_conversation",label:ct("unknownVisitorConversation"),type:"bool"},{name:"hs_activity_type",label:ct("activityType"),type:"enumeration",options:[{label:ct("activityTypes.CALL"),value:"Call"},{label:ct("activityTypes.IMA"),value:"IMA"},{label:ct("activityTypes.DEMO"),value:"Demo"},{label:ct("activityTypes.DISCOVERY"),value:"Discovery"},{label:ct("activityTypes.GOAL_SETTING"),value:"Goal setting"},{label:ct("activityTypes.PREQUALIFICATION_CALL"),value:"Prequalification call"},{label:ct("activityTypes.ACCOUNT_ASSIST"),value:"Account assist"},{label:ct("activityTypes.AGENCY_SERVICES"),value:"Define agency services"},{label:ct("activityTypes.BILLING_ISSUE"),value:"Billing or contract issue"},{label:ct("activityTypes.BUILD_LEAD_LIST"),value:"Building a lead list"},{label:ct("activityTypes.BUSINESS_STRATEGY"),value:"Business strategy"},{label:ct("activityTypes.CANCELLATION"),value:"Cancellation/Downgrade"},{label:ct("activityTypes.CLIENT_DELIVERY"),value:"Client delivery"},{label:ct("activityTypes.CONSULTING"),value:"Consulting"},{label:ct("activityTypes.CULTURE"),value:"Hiring/HR/Culture"},{label:ct("activityTypes.DEAL_REVIEW"),value:"Deal review"},{label:ct("activityTypes.DEVELOPING_SALES_PLAN"),value:"Developing sales plan"},{label:ct("activityTypes.ESCALATION"),value:"Escalation"},{label:ct("activityTypes.IMPLEMENTATION"),value:"Implementation"},{label:ct("activityTypes.INTERNAL_TRANSITION"),value:"Internal transition"},{label:ct("activityTypes.KICK_OFF"),value:"Kick-off"},{label:ct("activityTypes.PBE_REVIEW"),value:"PBE review"},{label:ct("activityTypes.PRICING_PACKAGING"),value:"Pricing & packaging"},{label:ct("activityTypes.PROACTIVE_PROSPECTING"),value:"Proactive prospecting"},{label:ct("activityTypes.QSR_DELIVERED"),value:"QSR delivered"},{label:ct("activityTypes.QUARTERLY_REVIEW"),value:"Quarterly business review"},{label:ct("activityTypes.RESELL_DISCUSSION"),value:"Resell & retainers discussion"},{label:ct("activityTypes.SALES_COACHING"),value:"Sales coaching"},{label:ct("activityTypes.SELLING_OPPORTUNITY"),value:"Selling opportunity"},{label:ct("activityTypes.SE_DISCOVERY"),value:"Discovery"},{label:ct("activityTypes.SMALL_GROUP_COACHING"),value:"Small group coaching"},{label:ct("activityTypes.DEAL_SPECIFIC_COACHING"),value:"Deal specific coaching"},{label:ct("activityTypes.FULL_DEMO"),value:"Full demo"},{label:ct("activityTypes.IN_PERSON"),value:"In person"},{label:ct("activityTypes.OFFLINE_SOLUTION_RESEARCH"),value:"Offline solution research"},{label:ct("activityTypes.PARTIAL_DEMO"),value:"Partial demo"},{label:ct("activityTypes.POST_SALE_SERVICES_SUPPORT"),value:"Post sale services support"},{label:ct("activityTypes.QUESTIONNAIRE_REVIEW_CALL"),value:"Questionnaire review call"},{label:ct("activityTypes.TECH_CONSULT"),value:"Tech consult"},{label:ct("activityTypes.SALES_NEW_BUSINESS_CALL"),value:"New business"},{label:ct("activityTypes.SALES_INSTALL_BASE_CALL"),value:"Install base"},{label:ct("activityTypes.SUPPORT_BILLING"),value:"Billing"},{label:ct("activityTypes.SUPPORT_CANCELLATION_DOWNGRADE"),value:"Cancellation/Downgrade"},{label:ct("activityTypes.SUPPORT_TECHNICAL_SUPPORT"),value:"Technical support"},{label:ct("activityTypes.SUPPORT_RENEWAL"),value:"Renewal"},{label:ct("activityTypes.SUPPORT_ACCOUNT_MANAGEMENT"),value:"Account management"},{label:ct("activityTypes.OTHER_TYPE"),value:"Other"}]},{name:"hs_product_name",label:ct("productName"),type:"enumeration",options:[{label:ct("productNames.PRODUCT_ADD_ONS"),value:"PRODUCT_ADD_ONS"},{label:ct("productNames.PRODUCT_CRM"),value:"PRODUCT_CRM"},{label:ct("productNames.PRODUCT_MARKETING_FREE"),value:"PRODUCT_MARKETING_FREE"},{label:ct("productNames.PRODUCT_SALES_FREE"),value:"PRODUCT_SALES_FREE"},{label:ct("productNames.PRODUCT_GROWTH_STACK"),value:"PRODUCT_GROWTH_STACK"},{label:ct("productNames.PRODUCT_MARKETING_PAID"),value:"PRODUCT_MARKETING_PAID"},{label:ct("productNames.PRODUCT_MARKETING_STARTER"),value:"PRODUCT_MARKETING_STARTER"},{label:ct("productNames.PRODUCT_SALES_PRO"),value:"PRODUCT_SALES_PRO"},{label:ct("productNames.PRODUCT_SALES_STARTER"),value:"PRODUCT_SALES_STARTER"},{label:ct("productNames.PRODUCT_SALES_HUB_ENTERPRISE"),value:"PRODUCT_SALES_HUB_ENTERPRISE"},{label:ct("productNames.PRODUCT_SERVICE_HUB"),value:"PRODUCT_SERVICE_HUB"},{label:ct("productNames.PRODUCT_SERVICE_PRO"),value:"PRODUCT_SERVICE_PRO"},{label:ct("productNames.PRODUCT_SERVICE_HUB_STARTER"),value:"PRODUCT_SERVICE_HUB_STARTER"},{label:ct("productNames.PRODUCT_SERVICE_HUB_ENTERPRISE"),value:"PRODUCT_SERVICE_HUB_ENTERPRISE"},{label:ct("productNames.PRODUCT_CMS"),value:"PRODUCT_CMS"},{label:ct("productNames.PRODUCT_UNKNOWN"),value:"PRODUCT_UNKNOWN"}]},{name:"hs_follow_up_action",label:ct("followUpAction"),type:"enumeration",options:[{label:ct("followUpActions.FOLLOW_UP_PASSED_TO_SALES"),value:"FOLLOW_UP_PASSED_TO_SALES"},{label:ct("followUpActions.FOLLOW_UP_INTERNAL_TRANSFER"),value:"FOLLOW_UP_INTERNAL_TRANSFER"},{label:ct("followUpActions.FOLLOW_UP_SENT_RESOURCES"),value:"FOLLOW_UP_SENT_RESOURCES"},{label:ct("followUpActions.FOLLOW_UP_NO_FOLLOW_UP"),value:"FOLLOW_UP_NO_FOLLOW_UP"}]}]}]):Object(h.List)(),pt=e=>{if(!Object(it.a)())return e;const t=e.findIndex(e=>"engagement"===e.get("name"));return-1===t?e.concat(ut()):e.updateIn([t,"properties"],e=>{const t=e.toMap().mapKeys((e,t)=>t.get("name")),n=ut().first().get("properties").toMap().mapKeys((e,t)=>t.get("name"));return t.mergeDeep(n).toList()})};var dt=n("wLYU"),mt=n("N/oJ");const gt=["EMAIL_REPLY","PROJECT_TASK","PUBLISHING_TASK","FEEDBACK_SUBMISSION"],bt=()=>({"associations.contact":{name:"associations.contact",label:st.a.text("reporting-data.properties.common.associatedContacts"),type:"enumeration",scripted:!0},"associations.company":{name:"associations.company",label:st.a.text("reporting-data.properties.common.associatedCompanies"),type:"enumeration",scripted:!0},hs_lastmodifieddate:{hidden:!0},hs_modified_by:{hidden:!0},hs_engagement_source:{hidden:!1},hs_all_accessible_team_ids:{hidden:!0},hs_all_owner_ids:{hidden:!0},hs_all_team_ids:{hidden:!0},hs_at_mentioned_owner_ids:{hidden:!0},hs_attachment_ids:{hidden:!0}}),Ot=e=>({hs_call_duration:{type:"duration"},hs_call_disposition:{options:e}}),ft=()=>({hs_conversation_session_duration:{type:"duration"},hs_conversation_session_agent_response_time:{type:"duration",hidden:!1},hs_conversation_session_visitor_wait_time:{type:"duration"},hs_conversation_session_online:{hidden:!0},hs_conversation_session_thread_id:{hidden:!0},hs_conversation_session_session_closed_at:{hidden:!1}}),Et=()=>({hs_email_text:{hidden:!0},hs_email_tracker_key:{hidden:!0},hs_email_message_id:{hidden:!0},hs_email_thread_id:{hidden:!0},hs_email_sent_via:{hidden:!1},hs_email_attached_video_id:{hidden:!0},hs_email_error_message:{hidden:!0},hs_email_facsimile_send_id:{hidden:!0},hs_email_logged_from:{hidden:!0},hs_email_media_processing_status:{hidden:!0},hs_email_post_send_status:{hidden:!0},hs_email_recipient_drop_reasons:{hidden:!0},hs_email_send_event_id:{hidden:!0},hs_email_send_event_id_created:{hidden:!0},hs_email_validation_skipped:{hidden:!0}}),yt=()=>({hs_meeting_created_from_link_id:{hidden:!0},hs_meeting_end_time:{hidden:!0},hs_meeting_external_url:{hidden:!0},hs_meeting_pre_meeting_prospect_reminders:{hidden:!0},hs_meeting_source_id:{hidden:!0},hs_meeting_web_conference_meeting_id:{hidden:!0}}),Tt=()=>({hs_task_for_object_type:{hidden:!0},hs_task_reminders:{hidden:!0},hs_task_send_default_reminder:{hidden:!0}}),It=()=>({hs_project_task_assignee_owner_ids:{hidden:!0},hs_project_task_body:{hidden:!0},hs_project_task_due_date:{hidden:!0},hs_project_task_for_object_type:{hidden:!0},hs_project_task_parent_id:{hidden:!0},hs_project_task_parent_type:{hidden:!0},hs_project_task_sort:{hidden:!0},hs_project_task_status:{hidden:!0},hs_project_task_subject:{hidden:!0},hs_project_task_tags:{hidden:!0},hs_project_task_top_level_parent_id:{hidden:!0},hs_project_task_top_level_parent_type:{hidden:!0}}),ht=()=>({hs_publishing_task_body:{hidden:!0},hs_publishing_task_campaign_guid:{hidden:!0},hs_publishing_task_category:{hidden:!0},hs_publishing_task_category_id:{hidden:!0},hs_publishing_task_content_id:{hidden:!0},hs_publishing_task_name:{hidden:!0},hs_publishing_task_state:{hidden:!0}}),jt=e=>{const t=e.findIndex(e=>"engagement"===e.get("name"));return-1===t?t:e.update(t,e=>e.update("properties",e=>{const t=e.findIndex(e=>"hs_engagement_type"===e.get("name"));return-1===t?e:e.update(t,e=>e.update("options",e=>e.filter(e=>!gt.includes(e.get("value")))))}))},At=()=>Promise.all([Object(Z.a)(_.ENGAGEMENTS),Object(dt.a)()]).then(([e,t])=>{let n=e;n=Object(te.a)(pt(e),"engagement",bt());n=Object(te.a)(pt(n),"call",Ot(t));n=Object(te.a)(pt(n),"conversation_session",ft());n=Object(te.a)(pt(n),"email",Et());n=Object(te.a)(pt(n),"meeting",yt());n=Object(te.a)(pt(n),"task",Tt());n=Object(te.a)(pt(n),"project_task",It());n=Object(te.a)(pt(n),"publishing_task",ht());return n}).then(jt),St=()=>Object(L.a)(At,e=>e.merge(Object(ee.b)(_.ENGAGEMENTS)))().then(Object(se.a)(mt.a.getInboundSpec())),_t=Object(v.a)("reporting-data.properties.common"),Nt=()=>Object(Z.a)(_.FEEDBACK_SUBMISSIONS).then(e=>Object(h.List)([...e])).then(e=>Object(te.a)(e,"feedbacksubmissioninformation",{hs_object_id:{name:"hs_object_id",type:ge.g,label:_t("hs_object_id"),hidden:!0}})),Rt=()=>Object(L.a)(Nt,e=>e.merge(Object(ee.b)(_.FEEDBACK_SUBMISSIONS)))(),Ct=Object(v.a)("reporting-data.properties.knowledge-articles"),vt=Object(v.a)("reporting-data.groups.knowledgeArticles"),Lt=()=>S.a.resolve(Object(h.List)([Object(h.Map)({name:"knowledgeArticleInfo",displayName:vt("knowledgeArticleInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(h.List)([Object(h.Map)({name:"averageTimeOnPage",label:Ct("averageTimeOnPage"),type:"duration",durationUnit:"seconds"}),Object(h.Map)({name:"helpfulFeedback",label:Ct("helpfulFeedback"),type:"number"}),Object(h.Map)({name:"helpfulFeedbackPercentage",label:Ct("helpfulFeedbackPercentage"),type:"percent"}),Object(h.Map)({name:"id",label:Ct("name"),type:"enumeration"}),Object(h.Map)({name:"lastUpdated",label:Ct("lastUpdated"),type:"datetime"}),Object(h.Map)({name:"rawViews",label:Ct("rawViews"),type:"number"}),Object(h.Map)({name:"totalFeedback",label:Ct("totalFeedback"),type:"number"}),Object(h.Map)({name:"unhelpfulFeedback",label:Ct("unhelpfulFeedback"),type:"number"}),Object(h.Map)({name:"unhelpfulFeedbackPercentage",label:Ct("unhelpfulFeedbackPercentage"),type:"percent"})])})])),Dt=Object(L.a)(Lt,e=>e.merge(Object(ee.b)(_.KNOWLEDGE_ARTICLES)));var Mt=n("5uks");const Pt=Object(v.a)("reporting-data.properties.line-items"),Ut=()=>Object(Z.a)(_.LINE_ITEMS).then(e=>Object(te.a)(e,"lineiteminformation",{hs_product_id:{label:Pt("lineItem"),externalOptions:!0,referencedObjectType:ie.Nb,type:"enumeration",reportingOverwrittenNumericType:!0}})),kt=()=>Object(L.a)(Ut,e=>e.merge(Object(ee.b)(_.LINE_ITEMS)))().then(Object(se.a)(Mt.a.getInboundSpec()));var xt=n("T1GP"),wt=n("kKAy"),Ft=n("W8MI");const Yt=()=>Object(Z.a)(_.PRODUCTS),Bt=()=>Object(L.a)(Yt,e=>e.merge(Object(ee.b)(_.PRODUCTS)))().then(Object(se.a)(Ft.a.getInboundSpec())),Gt=Object(v.a)("reporting-data.properties.quotas"),Vt=()=>Promise.resolve(Object(h.fromJS)([{name:"quotainformation",displayName:"Quota Information",displayOrder:0,hubspotDefined:!1,properties:[{name:"hs_created_by",label:"Created by",description:"The person who created the quota",groupName:"quotainformation",type:"number",fieldType:"text",options:[],hidden:!1},{name:"hs_createdate",label:"Create date",description:"The date the quota was created",groupName:"quotainformation",type:"datetime",fieldType:"text",options:[],hidden:!1},{name:"hs_currency",label:"Currency",description:"The type of currency used for revenue quotas",groupName:"quotainformation",type:"string",fieldType:"text",options:[],hidden:!1,deleted:null},{name:"hs_lastmodifieddate",label:"Last modified date",description:"The date the quota was last modified",groupName:"quotainformation",type:"datetime",fieldType:"text",options:[],hidden:!1},{name:"hs_period",label:"Quota period",description:"The period of this quota, such as monthly",groupName:"quotainformation",type:"enumeration",fieldType:"checkbox",options:[{hidden:!1,label:"Weekly",value:"WEEKLY",readOnly:null,description:"This is a weekly quota",displayOrder:-1,doubleData:null},{hidden:!1,label:"Monthly",value:"MONTHLY",readOnly:null,description:"This is a monthly quota",displayOrder:-1,doubleData:null},{hidden:!1,label:"Quarterly",value:"QUARTERLY",readOnly:null,description:"This is a quarterly quota",displayOrder:-1,doubleData:null},{hidden:!1,label:"Annually",value:"ANNUALLY",readOnly:null,description:"This is a annually quota",displayOrder:-1,doubleData:null}],hidden:!1},{name:"hs_period_end_date",label:"Period end date",description:"Date that the period of this quota ends",groupName:"quotainformation",type:"datetime",fieldType:"text",options:[],hidden:!1},{name:"hs_period_start_date",label:"Period start data",description:"Date that the period of this quota starts",groupName:"quotainformation",type:"datetime",fieldType:"text",options:[],hidden:!1},{name:"hs_pipeline_id",label:"Pipeline ID",description:"The pipeline associated with the quota",groupName:"quotainformation",type:"enumeration",fieldType:"text",options:[],hidden:!1},{name:"hs_quota_type",label:"Quota type",description:"The type of value for the quota, such as revenue",groupName:"quotainformation",type:"enumeration",fieldType:"checkbox",options:[{hidden:!1,label:"Average NPS",value:"AVERAGE_NPS",readOnly:null,description:"This is a quota for average NPS",displayOrder:-1,doubleData:null},{hidden:!1,label:"Average resolution time",value:"AVERAGE_RESOLUTION_TIME",readOnly:null,description:"This is a quota for average resolution time",displayOrder:-1,doubleData:null},{hidden:!1,label:"Average response time",value:"AVERAGE_RESPONSE_TIME",readOnly:null,description:"This is a quota for average response time",displayOrder:-1,doubleData:null},{hidden:!1,label:"Calls Made",value:"CALLS_MADE",readOnly:null,description:"This is a quota for calls made",displayOrder:-1,doubleData:null},{hidden:!1,label:"Deals made",value:"DEALS_CREATED",readOnly:null,description:"This is a quota for deals created",displayOrder:-1,doubleData:null},{hidden:!1,label:"Meetings Booked",value:"MEETINGS_BOOKED",readOnly:null,description:"This is a quota for meetings booked",displayOrder:-1,doubleData:null},{hidden:!1,label:"Revenue Closed",value:"REVENUE",readOnly:null,description:"This is a quota for revenue closed",displayOrder:-1,doubleData:null},{hidden:!1,label:"Tickets Closed",value:"TICKETS_CLOSED",readOnly:null,description:"This is a quota for tickets closed",displayOrder:-1,doubleData:null}],hidden:!1},{name:"hs_value",label:"Quota amount",description:"The value of the quota",groupName:"quotainformation",type:"number",options:[],hidden:!1},{name:"hubspot_owner_id",label:"Quota owner",description:"The owner assigned to the quota",groupName:"quotainformation",type:"enumeration",options:[],hidden:!1}]}])),Ht=()=>Object(L.a)(Vt,e=>e.merge(Object(ee.b)(_.QUOTAS)).merge(Object(h.fromJS)({hubspot_owner_id:{name:"hubspot_owner_id",label:Gt("owner"),type:"enumeration"}})))();var Wt=n("tjfq"),Kt=n("5OFW"),qt=n("y2XY"),Qt=n("KqD4");const $t=Object(v.a)("reporting-data.properties.tickets"),Jt=()=>Object(Z.a)(_.TICKETS).then(e=>Object(h.List)([...e])).then(e=>Object(te.a)(e,"ticketinformation",{hubspot_team_id:{referencedObjectType:"TEAM"},time_to_close:{type:"duration"},time_to_first_agent_reply:{type:"duration"}})),zt=()=>Object(L.a)(Jt,e=>e.merge(Object(ee.b)(_.TICKETS)).merge(Object(qt.a)()).merge(Object(h.fromJS)({objectId:{name:"objectId",label:$t("ticket"),type:"string"}})))().then(Object(se.a)(Qt.a.getInboundSpec())),Xt=Object(v.a)("reporting-data.properties.recurring-revenue"),Zt=Object(v.a)("reporting-data.groups.recurring-revenue"),en=()=>S.a.resolve(Object(h.fromJS)([{name:"experimentalRevenueInfo",displayName:Zt("group"),displayOrder:0,hubspotDefined:!0,properties:[{name:"Revenue",label:Xt("date"),type:"datetime"},{name:"recurring_revenue",label:Xt("recurringRevenue"),type:"datetime"},{name:"lostRecurringRevenue",label:Xt("lostRecurringRevenue"),type:"currency"},{name:"newRecurringRevenue",label:Xt("newRecurringRevenue"),type:"currency"},{name:"existingRecurringRevenue",label:Xt("existingRecurringRevenue"),type:"currency"}]}])),tn=Object(L.a)(en,e=>e.merge(Object(ee.b)(_.EXPERIMENTAL_REVENUE)));var nn=n("dUhI");const rn=Object.keys(nn).reduce((e,t)=>Object.assign({},e,{[t]:Object(V.a)(t)}),{});var an=Object(h.OrderedMap)(Object.assign({[_.ANALYTICS_FUNNEL]:a,[_.ATTRIBUTION]:s,[_.ATTRIBUTION_TOUCH_POINTS]:i,[_.CALLS]:ae,[_.COMPANIES]:c,[_.CONTACTS]:l,[_.CONTACT_CREATE_ATTRIBUTION]:u,[_.CONVERSATIONS]:xe,[_.CONVERSION]:p,[_.CROSS_OBJECT]:r,[_.CRM_OBJECT]:r,[_.DEAL_CREATE_ATTRIBUTION]:d,[_.DEALS]:$e,[_.EMAIL]:m,[_.ENGAGEMENT]:at,[_.ENGAGEMENTS]:g,[_.ENGAGEMENT_EMAILS]:ot,[_.FEEDBACK_SUBMISSIONS]:b,[_.KNOWLEDGE_ARTICLES]:O,[_.LINE_ITEMS]:f,[_.MEETINGS]:xt,[_.NOTES]:wt,[_.PRODUCTS]:E,[_.QUOTAS]:y,[_.SOCIAL_POSTS]:Wt,[_.TASKS]:Kt,[_.TICKETS]:T},rn,{[_.ANALYTICS_SOURCES]:o,[_.EXPERIMENTAL_REVENUE]:I}));const on=Object(v.a)("reporting-data.properties.common");var sn=()=>Object(h.Map)({total:Object(h.Map)({name:"total",type:"number",label:on("total")})}),cn=n("Kcsf"),ln=n("eY2p"),un=n("xA3K"),pn=n("Br7N");const dn=()=>pn.a("reporting-metadata/v1/property/validtypes"),mn=e=>pn.a("reporting-metadata/v1/property/"+e),gn=(e,t,n,r)=>pn.b("reporting-metadata/v1/property/validation",{data:{hardCodedPropertyMetadata:n,metadataStorePropertyMetadata:r,objectTypeId:e,dataType:t}}),bn=e=>e.filter((e,t)=>!!t).map(e=>{const t=e.toJS(),{defaultNullValue:n,referencedObjectType:r,reportingOverwrittenNumericType:a,type:o,scripted:s,blocklistedForFiltering:i,blocklistedForAggregation:c,blocklistedForGrouping:l,pipeline:u}=t,p=Object(un.a)(t,["defaultNullValue","referencedObjectType","reportingOverwrittenNumericType","type","scripted","blocklistedForFiltering","blocklistedForAggregation","blocklistedForGrouping","pipeline"]);return Object(h.Map)({property:Object(h.fromJS)(p),defaultNullValue:n,referencedObjectType:r,reportingOverwrittenNumericType:a,type:o,scripted:s,blocklistedForFiltering:i,blocklistedForAggregation:c,blocklistedForGrouping:l,pipeline:u})}).toMap(),On=e=>_.INBOUND_DB_DATA_TYPES.includes(e)||j.a.includes(e);var fn=n("KPJb");const En="RAAS:FetchAndValidatePropertiesFromRaaSAPI",yn="RAAS:UseValidatedPropertiesFromRaaSAPI",Tn=(e,t,n,r)=>{const a=bn(n),o=bn(r);return gn(e,t,a,o).then(({totalInvalidProperties:e})=>0===e)},In=e=>Promise.all([Object(ln.a)(),dn()]).then(([{gates:t},n])=>({validateProps:t.includes(En)&&n.includes(e),waitForValidationResult:t.includes(yn)})).catch(()=>({validateProps:!1,waitForValidationResult:!1})),hn=(e,t)=>{const n=Object(fn.e)(e)?"CRM_OBJECT":e,r=Object(fn.a)(e);return In(r).then(({validateProps:e,waitForValidationResult:a})=>{const o=e?mn(r):Promise.resolve();return Promise.all([t,o]).then(([t,o])=>{if(!e)return t;const s=Tn(r,n,t,o);return a?s.then(e=>e?o:t):t})})},jn="reportingDataGetPropertiesMode",An="ReportingDataGetProperties",Sn=e=>{let t=Object(h.Map)(),n=Object(h.Map)();const r=r=>{if(t.has(r))return S.a.resolve(t);if(n.has(r))return n.get(r);const a=e(r).then(e=>{t=t.set(r,e);return t});n=n.set(r,a);return a};r.reset=()=>{t=Object(h.Map)();n=Object(h.Map)()};return r},_n=e=>e.map(e=>e.get("showCurrencySymbol",!1)?e.set("type","currency"):e),Nn=e=>e.map(e=>"duration"===e.get("numberDisplayHint",!1)?e.set("type","duration"):e),Rn=e=>e.map(e=>"number"===e.get("type")&&e.get("externalOptions",!1)&&null!==e.get("referencedObjectType")?e.set("type","id"):e),Cn=(e,t)=>{if(Object(j.g)(e)){t.addAttribute(jn,"crmObject");t.sendPageAction(An);return S.a.all([Object(j.e)(e),Object(j.d)(e)]).then(([e,t])=>e.reduce((e,t)=>e.merge(Object(h.Map)({[t.get("name")]:t})),Object(h.Map)({})).merge(sn()).merge(Object(ee.a)(t))).then(_n).then(Nn).then(Rn)}t.addAttribute(jn,"hasPropertyGetter");t.sendPageAction("ReportingDataGetProperties");return an.get(e).getProperties().then(e=>e.merge(sn())).then(_n).then(Nn).then(Rn)},vn=e=>{const t=new cn.a;t.addAttribute("dataType",e);if(Object(j.g)(e)||an.has(e))return On(e)?hn(e,Cn(e,t)):Cn(e,t);if(N.includes(e)){t.addAttribute(jn,"hasBypassPropertyGetter");t.sendPageAction("ReportingDataGetProperties");return S.a.resolve(Object(h.Map)())}t.addAttribute(jn,"missingPropertiesException");t.sendPageAction("ReportingDataGetProperties");return S.a.reject(new A.k(e))};t.a=Sn(vn)},dF7T:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r="[`~!@#$%^&*()\\\\\\-_=+[{}\\]\\|;:'\",<.>/?\\s]+",a=new RegExp(r,"g");function o(e){return new RegExp(e.trim().toLowerCase().replace(a,r),"i")}},dUhI:function(e,t,n){"use strict";n.r(t);n.d(t,"ANALYTICS_ALL_PAGES",(function(){return r}));n.d(t,"ANALYTICS_ALL_PAGES_BY_COMPANY",(function(){return a}));n.d(t,"ANALYTICS_ALL_PAGES_SOURCES",(function(){return o}));n.d(t,"ANALYTICS_BLOG_POSTS",(function(){return s}));n.d(t,"ANALYTICS_BOTS_CHATS",(function(){return i}));n.d(t,"ANALYTICS_BOTS_MODULES",(function(){return c}));n.d(t,"ANALYTICS_BROWSER_DETAILS",(function(){return l}));n.d(t,"ANALYTICS_CAMPAIGNS",(function(){return u}));n.d(t,"ANALYTICS_CONTENT_SEARCH",(function(){return p}));n.d(t,"ANALYTICS_CTA_PLACEMENTS",(function(){return d}));n.d(t,"ANALYTICS_DEVICE_TYPES",(function(){return m}));n.d(t,"ANALYTICS_DEVICE_TYPE_DETAILS",(function(){return g}));n.d(t,"ANALYTICS_BEHAVIORAL_EVENTS",(function(){return b}));n.d(t,"ANALYTICS_EVENT_COMPLETIONS",(function(){return O}));n.d(t,"ANALYTICS_EVENT_PROPERTIES",(function(){return f}));n.d(t,"ANALYTICS_FORMS",(function(){return E}));n.d(t,"ANALYTICS_FORMS_SOURCES",(function(){return y}));n.d(t,"ANALYTICS_FORMS_URLS",(function(){return T}));n.d(t,"ANALYTICS_GEOLOCATION",(function(){return I}));n.d(t,"ANALYTICS_KNOWLEDGE_ARTICLES",(function(){return h}));n.d(t,"ANALYTICS_KNOWLEDGE_ARTICLES_SOURCES",(function(){return j}));n.d(t,"ANALYTICS_LANDING_PAGES",(function(){return A}));n.d(t,"ANALYTICS_PATHS",(function(){return S}));n.d(t,"ANALYTICS_SALES_DOCUMENTS",(function(){return _}));n.d(t,"ANALYTICS_SALES_TEMPLATES",(function(){return N}));n.d(t,"ANALYTICS_SEQUENCE_ENROLLMENT_ACTIVITIES",(function(){return R}));n.d(t,"ANALYTICS_SOCIAL",(function(){return C}));n.d(t,"ANALYTICS_SOCIAL_ENGAGEMENT",(function(){return v}));n.d(t,"ANALYTICS_SOURCES",(function(){return L}));n.d(t,"ANALYTICS_STANDARD_PAGES",(function(){return D}));n.d(t,"ANALYTICS_TARGETED_CONTENT",(function(){return M}));n.d(t,"ANALYTICS_TARGETED_CONTENT_DEFINITIONS",(function(){return P}));n.d(t,"ANALYTICS_TOPICS",(function(){return U}));n.d(t,"ANALYTICS_UTM_CAMPAIGNS",(function(){return k}));n.d(t,"ANALYTICS_UTM_CONTENTS",(function(){return x}));n.d(t,"ANALYTICS_UTM_MEDIUMS",(function(){return w}));n.d(t,"ANALYTICS_UTM_SOURCES",(function(){return F}));n.d(t,"ANALYTICS_UTM_TERMS",(function(){return Y}));n.d(t,"ANALYTICS_VIDEOS",(function(){return B}));n.d(t,"ANALYTICS_VIDEOS_VIEWERSHIP",(function(){return G}));n.d(t,"SOCIAL_CHANNELS",(function(){return V}));n.d(t,"UNIFIED_ADS_ACCOUNTS",(function(){return H}));n.d(t,"UNIFIED_ADS_CAMPAIGNS",(function(){return W}));n.d(t,"UNIFIED_ADS_NETWORKS",(function(){return K}));n.d(t,"UNIFIED_FEEDBACK_EMAIL",(function(){return q}));n.d(t,"UNIFIED_FEEDBACK_TRENDS",(function(){return Q}));n.d(t,"UNIFIED_FEEDBACK_WEB",(function(){return $}));n.d(t,"UNIFIED_SEARCH_ANALYTICS_PAGES",(function(){return J}));n.d(t,"UNIFIED_SEARCH_ANALYTICS_QUERIES",(function(){return z}));n.d(t,"SEQUENCE_SENDER_SCORE",(function(){return X}));n.d(t,"UNIFIED_DATA_TYPES",(function(){return Z}));const r="ANALYTICS_ALL_PAGES",a="ANALYTICS_ALL_PAGES_BY_COMPANY",o="ANALYTICS_ALL_PAGES_SOURCES",s="ANALYTICS_BLOG_POSTS",i="ANALYTICS_BOTS_CHATS",c="ANALYTICS_BOTS_MODULES",l="ANALYTICS_BROWSER_DETAILS",u="ANALYTICS_CAMPAIGNS",p="ANALYTICS_CONTENT_SEARCH",d="ANALYTICS_CTA_PLACEMENTS",m="ANALYTICS_DEVICE_TYPES",g="ANALYTICS_DEVICE_TYPE_DETAILS",b="ANALYTICS_BEHAVIORAL_EVENTS",O="ANALYTICS_EVENT_COMPLETIONS",f="ANALYTICS_EVENT_PROPERTIES",E="ANALYTICS_FORMS",y="ANALYTICS_FORMS_SOURCES",T="ANALYTICS_FORMS_URLS",I="ANALYTICS_GEOLOCATION",h="ANALYTICS_KNOWLEDGE_ARTICLES",j="ANALYTICS_KNOWLEDGE_ARTICLES_SOURCES",A="ANALYTICS_LANDING_PAGES",S="ANALYTICS_PATHS",_="ANALYTICS_SALES_DOCUMENTS",N="ANALYTICS_SALES_TEMPLATES",R="ANALYTICS_SEQUENCE_ENROLLMENT_ACTIVITIES",C="ANALYTICS_SOCIAL",v="ANALYTICS_SOCIAL_ENGAGEMENT",L="ANALYTICS_SOURCES",D="ANALYTICS_STANDARD_PAGES",M="ANALYTICS_TARGETED_CONTENT",P="ANALYTICS_TARGETED_CONTENT_DEFINITIONS",U="ANALYTICS_TOPICS",k="ANALYTICS_UTM_CAMPAIGNS",x="ANALYTICS_UTM_CONTENTS",w="ANALYTICS_UTM_MEDIUMS",F="ANALYTICS_UTM_SOURCES",Y="ANALYTICS_UTM_TERMS",B="ANALYTICS_VIDEOS",G="ANALYTICS_VIDEOS_VIEWERSHIP",V="SOCIAL_CHANNELS",H="UNIFIED_ADS_ACCOUNTS",W="UNIFIED_ADS_CAMPAIGNS",K="UNIFIED_ADS_NETWORKS",q="UNIFIED_FEEDBACK_EMAIL",Q="UNIFIED_FEEDBACK_TRENDS",$="UNIFIED_FEEDBACK_WEB",J="UNIFIED_SEARCH_ANALYTICS_PAGES",z="UNIFIED_SEARCH_ANALYTICS_QUERIES",X="SEQUENCE_SENDER_SCORE",Z=[r,a,o,s,i,c,l,u,p,d,m,g,b,O,f,E,y,T,I,h,j,j,A,S,_,N,R,R,C,v,L,D,M,P,P,U,k,x,w,F,Y,B,G,V,H,W,K,q,Q,$,J,z,X]},djRB:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n.d(t,"a",(function(){return l}));var r=n("QYOI"),a=n("iCNX"),o=n("Br7N"),s=n("MIaD"),i=n("UHjn");const c=()=>o.a("app-users/v1/teams").then(a.a),l=e=>o.c("app-users/v1/teams/bulk-get",{data:Object(s.a)(e)}).then(e=>e.reduce((e,t)=>e.set(t.get("id"),Object(i.b)(t.get("id"),t.get("name"))),Object(r.Map)()))},e2gS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={HUBSPOT:0,INTEGRATION:1,PORTAL_SPECIFIC:2,CMS_HUBDB:3,HUBSPOT_EVENT:4,INTEGRATION_EVENT:5,PORTAL_SPECIFIC_EVENT:6}},e9qj:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS");const s=r.i({dataset:r.k(),field:r.k(),value:r.k().optional(),groupby:r.d(r.k()).optional(),op:r.k().optional()},"Pivot"),i=r.i({},"Style"),c=r.i({},"Events"),l=r.i({type:r.k().always(o.e),data:r.f(a.a),pivot:s,footer:r.k().optional(),pages:r.g().optional(),onClick:r.c().optional(),style:i.optional(),events:c.optional(),showTotalsColumn:r.b().optional(),showTotals:r.b().optional()},"PivotVisualization")},eRX5:function(e,t,n){"use strict";var r=n("QYOI"),a=n("OOsp"),o=n("LHp2"),s=n("66sF"),i=n("VqtB"),c=n("BGD4"),l=n("ahZR"),u=n("O3Yl"),p=n("4Nkb"),d=n("9Xev"),m=n("kV5Q"),g=n("2Om6"),b=n("HHUG"),O=n("Dh54"),f=n("hZMd");const E={DATE:"DATE_HISTOGRAM",DATETIME:"DATE_HISTOGRAM",TIMESTAMP:"DATE_HISTOGRAM",ENUMERATION:"TERMS",STRING:"TERMS",CURRENCY:"TERMS",NUMBER:"TERMS",ID:"TERMS",PERCENT:"TERMS",BOOL:"TERMS",BUCKETS:"BUCKETS"},y={[s.DAY]:{intervalUnit:"DAY"},[s.WEEK]:{intervalUnit:"WEEK"},[s.MONTH]:{intervalUnit:"MONTH"},[s.QUARTER]:{intervalUnit:"QUARTER"},[s.YEAR]:{intervalUnit:"YEAR"}},T=s.MONTH,I=["hs_deal_closed_won_date"],h=["lifecyclestage.displayOrder"],j=e=>!e.type||e.type===d.b||e.type===d.c&&!/.displayOrder$/.test(e.property),A=(e,t)=>{const{size:n,property:r,type:a,sort:o,metrics:s,subAggregations:i,buckets:l}=e,u={size:n,property:r,type:a};if(o&&o.property&&!h.includes(o.property)){if("count"===o.property||o.type===d.b){o.type=d.b;delete o.metricType}else if(o.type!==d.a){o.type=d.c;let e=s.find(({property:e})=>e===o.property);if(!e){e={property:o.property,metricTypes:[o.metricType||c.SUM]};s.push(e)}o.metricType||(o.metricType=e.metricTypes[0]||c.SUM)}u.sort=o}null==s||0===s.length||h.includes(o&&o.property)||(u.metrics=s);null!=i&&(u.subAggregations=i);if("BUCKETS"===a){const e=t.get("property");e&&(u.property=e);u.buckets=l}return u},S=e=>e.get("metrics",Object(r.List)()).filter(e=>"count"!==e.get("property")).groupBy(e=>e.get("property")).map((e,t)=>e.reduce((e,n)=>Object(a.a)({property:t,metricTypes:Object(r.Set)(n.get("metricTypes").concat(e.get("metricTypes"))).toList(),percentiles:e.get("percentiles")||n.get("percentiles")}))).valueSeq().toSet().toJS(),_=(e,t,n,r)=>!(2===e.get("dimensions").count()&&1===t.count())||r&&!j(r)?r:{property:n,order:p.a,type:d.a},N=(e,t,n)=>{if(t.isEmpty())return null;const a=e.get("limit")||0;let o=a;a>=i.a?o=i.a:a<=i.b&&(o=i.b);const s=t.first(),c=n.get(s,Object(r.Map)()),l=c.get("type"),u=c.get("defaultNullValue",f.a[c.get("reportingOverwrittenNumericType")?"NUMBER":l.toUpperCase()]),p=E[l.toUpperCase()],d=e.get("metrics").reduce((e,t)=>e.add(t.get("property")),Object(r.Set)()),m=e.get("sort",Object(r.List)()).find(e=>d.includes(e.get("property"))||"string"==typeof e.get("property")&&e.get("property").startsWith(s)),b=c.get("buckets"),O=A(Object.assign({size:o,property:s,type:p,sort:_(e,t,s,m?m.toJS():null),metrics:S(e),subAggregations:N(e,t.rest(),n)},"BUCKETS"===p?{buckets:b}:{}),c);switch(p){case"DATE_HISTOGRAM":{const t=e.get("frequency")||T;return[Object.assign({},O,{},y[t])]}case"TERMS":return[Object.assign({},O,{},null!=u?{defaultNullValue:u}:{})];case"BUCKETS":return[O];default:return Object(g.a)(!1,"expected valid property type for aggregation dimension, but got %s",l)}},R=(e,t,n,r)=>{const a=r.keySeq().toSet(),o=e=>!a.includes(e),s=[...e.reduce((e,t)=>[...e,...o(t)?[t]:[]],[]),...t.reduce((e,{filters:t})=>[...e,...t.reduce((e,{property:t})=>[...e,...o(t)?[t]:[]],[])],[]),...n.map(e=>e.get("property")).reduce((e,t)=>[...e,...o(t)?[t]:[]],[])],[c]=s.filter(e=>I.includes(e));if(null!=c)throw new m.c(c);if(s.length>0)throw new m.h(s);if(Object(b.a)(n)>i.c)throw new m.u};t.a=(e,t)=>{Object(o.b)(e)&&(e=e.set("dimensions",Object(r.List)()));const n=e.get("dataType"),a=t.get(n),s=Object(O.a)()(e);s[0].filters.forEach(e=>{if(e.operator!==l.f)return;const t=a.get(e.property);t&&t.get("type")===u.k&&(e.propertySuffix="raw")});const i=e.get("metrics"),c=e.get("dimensions");R(c,s,i,a);const p=c.isEmpty()?Object(r.fromJS)({metrics:S(e),filterGroups:s}):Object(r.fromJS)({aggregations:N(e,c,a),metrics:S(e),filterGroups:s});return Object(r.fromJS)(p)}},eWZY:function(e,t,n){"use strict";var r=n("QYOI"),a=n("AYIY");const o=50,s=e=>r.List.isList(e)?e.size:e.length,i=(e,t,n)=>new a.a(r=>{let a=n;const i=n=>{const c=e.slice(n,n+o);if(s(c)){a=c.reduce(t,a);window.requestAnimationFrame(i.bind(null,n+o))}else r(a)};i(0)});var c=n("4sYE"),l=n("+Gor"),u=n("ZM7t"),p=n("U9YW"),d=n("BGD4");const m=(e,t)=>e.get(t,Object(r.List)()).size||e.get(t,[]).length,g=e=>{const t=e.get("configType");if(t!==p.f){console.error("accumulate only supported for configType TIME_SERIES but %s was found",t);return!1}const n=m(e,"dimensions"),r=m(e,"metrics");if(1!==n&&1!==r){console.error("accumulate not supported for %s-dimensional data with %s metrics",n,r);return!1}return!0},b=(e,t)=>(t===d.SUM||t===d.COUNT)&&"number"==typeof e.get(t),O=e=>e.updateIn(["dimension","buckets"],(e=Object(r.Map)())=>{let t=Object(r.Map)();return e.map(e=>e.has("dimension")?e.updateIn(["dimension","buckets"],e=>e.map(e=>{const n=e.get("key");return e.update("metrics",e=>e.map(e=>{const r=e.keySeq().first();return b(e,r)?e.update(r,e=>{if(t.has(n)){const r=t.get(n)+e;t=t.set(n,r);return r}t=t.set(n,e);return e}):e}))})):e.update("metrics",e=>e.map((e,n)=>{const r=e.keySeq().first();return b(e,r)?e.update(r,e=>{if(t.has(n)){const r=t.get(n)+e;t=t.set(n,r);return r}t=t.set(n,e);return e}):e})))});var f=({dataConfig:e,dataset:t})=>g(e)?O(t):t,E=n("zwFt"),y=n("chpV"),T=n("V4H+"),I=n("96fz");const h=e=>Object(y.a)(e.get("dataType")).then(e=>e.reduce((e,t)=>e.merge(t),Object(r.Map)())),j=(e,t)=>{const{currencyExchangeRates:n,hasMulticurrencyActive:r}=e;if(!r||!n){console.error("[reporting-data] currency information not found for this portal");return 1}const{conversionMultiplier:a}=n.find(({fromCurrencyCode:e})=>e===t)||{};if(!a){console.error("[reporting-data] currency processor not supported for inactive currency %s",t);return 1}if(a<=0){console.error("[reporting-data] invalid exchange rate $s for currency $s",a,t);return 1}return a},A=(e=Object(r.Map)(),t)=>{const{propertyName:n}=Object(T.a)(t);return"currency"===e.getIn([t,"type"],e.getIn([n,"type"]))},S=(e,t,n)=>(a=Object(r.Map)())=>a.map((a=Object(r.Map)(),o)=>A(e,o)?a.update(e=>e.map(e=>{if(null===e)return e;const a=e/t;return Object(r.Map)({raw:a,formatted:Object(E.a)(a,{currencyCode:n}),propertyMeta:{type:"currency",currencyCode:n}})})):a),_=(e,t,n,a)=>{const o=e.update("metrics",S(t,n,a));return o.hasIn(["dimension","buckets"])?o.updateIn(["dimension","buckets"],(e=Object(r.Map)())=>e.map(e=>e.has("dimension")?_(e,t,n,a):e.update("metrics",S(t,n,a)))):o};var N=(e,t)=>({dataConfig:n,dataset:r})=>Promise.all([Object(I.a)(),h(n)]).then(([n,a])=>{const o=t||j(n,e);return 1!==o?_(r,a,o,e):r}),R=n("2Om6"),C=n("LHp2");const v=e=>{const t=e.get("dimensions")||Object(r.List)();Object(R.a)(Object(C.b)(e),"expected dimensions to be created bucket property, but got %s",t)};var L=({dataConfig:e,dataset:t})=>{v(e);return t.set("dimension",Object(r.fromJS)({property:"BUCKET_createdate_enteredCount",buckets:[{key:"YES",metrics:t.get("metrics")}]}))},D=n("8ayz");const M="count",P=(e,t)=>e.reduce((e,n)=>e+n.getIn([t,d.SUM],0),0),U=(e,t)=>e.reduce((e,n)=>Math.min(e,n.getIn([t,d.MIN],1/0)),1/0),k=(e,t)=>e.reduce((e,n)=>Math.max(e,n.getIn([t,d.MAX],0)),0),x=(e,t)=>e.reduce((e,n)=>e+n.getIn([t,d.AVG])*n.getIn([M,d.SUM],0),0)/P(e,M),w={[d.SUM]:P,[d.MIN]:U,[d.MAX]:k,[d.AVG]:x};var F=e=>(t,n)=>n.updateIn(["dimension","buckets"],n=>n.reduce((t,n)=>t.update(e(n),(t=Object(r.Map)({key:e(n)}))=>n.has("dimension")?t.update("dimension",e=>e?e.update("buckets",e=>e.concat(n.getIn(["dimension","buckets"]))):n.get("dimension")):t.update("metrics",(e=Object(r.List)())=>e.push(n.get("metrics")))),Object(r.Map)()).map(e=>e.has("dimension")?e.updateIn(["dimension","buckets"],e=>e.reduce((e,t)=>e.update(t.get("key"),(e=Object(r.List)())=>e.push(t.get("metrics"))),Object(r.Map)()).map(e=>t.get("metrics").map(e=>e.toJS()).reduce((t,{property:n,metricTypes:r})=>r.reduce((t,r)=>({}.hasOwnProperty.call(w,r)?t.setIn([n,r],w[r](e,n)):t),t),Object(r.Map)())).reduce((e,t,n)=>e.push(Object(r.Map)({key:n,metrics:t})),Object(r.List)())):e.update("metrics",e=>t.get("metrics").map(e=>e.toJS()).reduce((t,{property:n,metricTypes:r})=>r.reduce((t,r)=>({}.hasOwnProperty.call(w,r)?t.setIn([n,r],w[r](e,n)):t),t),Object(r.Map)()))).toList());const Y=e=>{const t=e.get("dimensions")||Object(r.List)();Object(R.a)(t.includes(D.a),`expected ${D.a} in dimensions, but got %s`,t)},B=(e,t)=>{const n=Object(D.c)(e);return F(e=>["create",e.get("key")].includes(n)?"YES":"NO")(e,t)},G=(e,t)=>t.updateIn(["dimension","buckets"],t=>t.reduce((t,n)=>t.push(B(e,n)),Object(r.List)()));var V=({dataConfig:e,dataset:t})=>{Y(e);return 0===e.get("dimensions").indexOf(D.a)?B(e,t):G(e,t)},H=n("Br7N"),W=n("Pzvz");const K=()=>H.a("app-users/v1/teams"),q=(e,t,n=!1)=>{if(!e.dimension)return!1;if(e.key===String(t))return e;const r=e.dimension.buckets.reduce((e,r)=>e||q(r,t,n),null);if(r&&n){const n=Object.assign({},r);e.dimension.buckets=e.dimension.buckets.filter(e=>e.key!==String(t));return n}return r},Q=(e,t,n,r=!1)=>{if(!e){e={dimension:{buckets:[]},key:String(t)};r&&n.dimension.buckets.unshift(e)}return e},$=(e,t)=>{e.dimension.buckets.unshift(t)},J=(e,t)=>{const n=e.toJS();t.forEach(e=>{const t=e.get("parentTeamId");if(t){const r=Q(q(n,t),t,n,!0);delete r.metrics;const a=Q(q(n,e.get("id"),!0),e.get("id"),n);a.keyLabel=e.get("name");$(r,a)}});return Object(r.fromJS)(n)},z=(e,t)=>t.has("dimension")?t.updateIn(["dimension","buckets"],t=>t.map(t=>z(e,t)).sort((t,n)=>{const{property:a,order:o}=e.getIn(["sort",0]).toJS(),s=e=>e.getIn(["metrics",a],Object(r.Map)()).first(),i=s(t)-s(n);return"DESC"===o?-1*i:i})):t,X=e=>e.updateIn(["dimension","buckets"],Object(r.List)(),e=>e.filterNot(e=>e.get("metrics").isEmpty()).map(X));var Z=({dataset:e,dataConfig:t})=>K().then(n=>X(z(t,Object(W.a)(J(e,n))))),ee=n("TtLx");const te="dealstage.probability",ne=e=>e.updateIn(["dimension","buckets"],t=>t.map(t=>t.has("dimension")?ne(t):e.getIn(["dimension","property"])===te&&"LOST"===t.get("key")?t.update("metrics",e=>e.map(e=>e.map(e=>-1*e))):t));var re=({dataset:e})=>ne(e);n.d(t,"c",(function(){return se}));n.d(t,"b",(function(){return ie}));n.d(t,"a",(function(){return ue}));const ae=Object(r.Map)({[u.a]:f,[u.b]:L,[u.c]:V,[u.d]:Z,[u.f]:ee.c,[u.e]:re}),oe=({dataset:e})=>Promise.resolve(e),se=e=>e?e.match(/^currency-code:(.*)/):null,ie=e=>{const t=se(e),[,n]=t||[null,null];return n},ce=e=>{const t=ie(e);return t?N(t):oe(e)},le=({dataConfig:e=Object(r.Map)(),dataset:t=Object(r.List)(),response:n})=>{const a=e.get("processors",Object(r.List)());return i(a,(t,n)=>{const r=ae.get(n.toLowerCase(),oe);return t.then(t=>Promise.resolve(r({dataConfig:e,dataset:t})))},Promise.resolve(t)).then(t=>{const r=a.find(se);return r?ce(r)({dataConfig:e,response:n,dataset:t}):t}).then(t=>({dataConfig:e,response:n,dataset:t}))},ue=Object(l.a)(c.c,le)},eWnT:function(e,t){e.exports={clickPropertyKnowledgeBaseLink:{class:"interaction",properties:{actionType:{type:["explore"]},destination:{type:["knowledge-base-article"]},interactionWith:{type:["link"]},propertyName:{type:["CONTACT","COMPANY","DEAL","TICKET"]},screen:{type:["dataset-details"]},subscreen:{type:["metadata"]},assetType:{type:["dataset","report"]}},namespace:"reporting",name:"ANALYTICS_INTERACTION"},clickIssuesButton:{class:"interaction",namespace:"reporting",name:"ANALYTICS_INTERACTION",properties:{assetType:{type:["dataset","report"]}}},insertItemFromInsertMenu:{class:"interaction",properties:{actionType:{type:["edit"]},action:{type:["insert"]},object:{type:["field","function","property","dataset_property"]},value:{type:"string"},hubSpotPropertyLabel:{type:"string",isOptional:!0},hubSpotObjectTypeName:{type:"string",isOptional:!0},interactionWith:{type:["insert-menu"]},interactionSource:{type:["basic-expression-editor"]},assetType:{type:["dataset","report"]}},namespace:"reporting",name:"ANALYTICS_INTERACTION"},insertItemFromSuggestionsPopover:{class:"interaction",properties:{actionType:{type:["edit"]},action:{type:["insert"]},object:{type:["field","function","property","dataset_property"]},value:{type:"string"},hubSpotPropertyLabel:{type:"string",isOptional:!0},hubSpotObjectTypeName:{type:"string",isOptional:!0},interactionWith:{type:["suggestions-popover"]},interactionSource:{type:["basic-expression-editor"]},assetType:{type:["dataset","report"]}},namespace:"reporting",name:"ANALYTICS_INTERACTION"},openUpgradeModalFromError:{name:"ADVANCED_BUILDER_INTERACTION",namespace:"reporting",class:"interaction",properties:{dataSource:{type:["string"],isOptional:!0},actionType:{type:["open"]},action:{isOptional:!0,type:["open-modal"]},object:{type:["upgrade-point-modal"]},assetType:{type:["dataset","report"]}}},updateDataJoin:{class:"interaction",properties:{assetType:{type:["report","dataset"]},actionType:{type:["create"]},action:{type:["change-primary-data-source","remove-additional-data-source","select-additional-data-source"]},object:{type:["data-source"]},dataSource:{type:"array"},delta:{isOptional:!0,type:"string"},count:{type:"number"},value:{type:"string"}},namespace:"reporting",name:"ANALYTICS_INTERACTION"},clickEditDataset:{name:"ADVANCED_BUILDER_INTERACTION",class:"interaction",namespace:"reporting",properties:{assetType:{type:["dataset","report"]}}}}},eY2p:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("GgP/"),a=n.n(r),o=n("UYb3"),s=n("egg7"),i=n("hZ2L");let c=!0;const l={cacheOnly:!1};let u=l;const p={userInfo:a.a},[d,m]=Object(s.a)(o.a,[i.a.setUserInfo,i.a.clearUserInfo]),g=(e={})=>{const{cacheOnly:t}=Object.assign({},u,{},e),n=o.a.getState().userInfo.promise;if(n)return n;if(t)throw new Error("User info not found in cache.");const r=p.userInfo({cached:c});d({promise:r});c&&(c=!1);r.then(e=>{d({promise:r,userInfo:e})});return r}},egg7:function(e,t,n){"use strict";t.a=(e,t)=>t.map(t=>(...n)=>e.dispatch(t(...n)))},eigc:function(e,t,n){"use strict";var r=n("AYIY"),a=(e,t,n)=>e.reduce((e,...n)=>e.then(e=>r.a.resolve(t(e,...n))),r.a.resolve(n)),o=n("4sYE"),s=n("+Gor"),i=n("QYOI"),c=n("M3id"),l=n("eY2p"),u=(e,t=Object(i.Set)())=>Object(l.a)().then(({user:{user_id:n=c.f}={}})=>t.reduce((e,t)=>e.updateIn(["filters",...t],e=>e===c.e?n:c.f),e)),p=n("Fkpl");const d=([{user:{user_id:e}},t])=>t.reduce((e,{remoteList:t})=>[...e,...t],[]).find(({remoteId:t})=>String(e)===t);var m=(e,t=Object(i.Set)())=>r.a.all([Object(l.a)(),p.b()]).then(d).then(({ownerId:n=c.f}={})=>t.reduce((e,t)=>e.updateIn(["filters",...t],e=>e===c.c&&null!=n?n:c.f),e)),g=(e,t=Object(i.Set)())=>Object(l.a)().then(({user:{teams:n}})=>{const{id:r}=n.find(({my_team:e})=>e)||{};return t.reduce((e,t)=>e.updateIn(["filters",...t],e=>e===c.d&&r||c.f),e)}),b=n("u9+u"),O=n("TTw+"),f=(e,t=Object(i.Set)())=>Object(O.a)(b.DEALS).then(n=>{const r=Object(i.List)(n).flatMap(e=>e.stages.filter(e=>1===parseFloat(e.metadata.probability)).map(e=>e.stageId));return t.reduce((e,t)=>{const n=t.slice(0,-1),a=t[t.length-1];return e.updateIn(["filters",...n],e=>e.get(a)===c.a?e.splice(a,1,...r):e)},e)}),E=n("npjq"),y=(e,t=Object(i.Set)())=>{const n=E.a.moment.portalTz().valueOf();return r.a.resolve(t.reduce((e,t)=>e.updateIn(["filters",...t],e=>e===c.b?n:null),e))},T=n("UNYg"),I=n("dUhI"),h=n("kV5Q"),j=n("jpHT"),A=(e,t=Object(i.Set)())=>{if(!Object(j.a)(I,e.get("dataType")))return e;const n=e.set("dimensions",Object(i.List)(["breakdown"])).updateIn(["filters","custom"],e=>e.filter(e=>e.get("values")!==c.g));return Object(T.a)(n.toJS(),()=>{}).then(e=>e.dataset.getIn(["dimension","buckets"]).map(e=>e.get("key"))).then(n=>{if(n.isEmpty())throw new h.l;return t.reduce((e,t)=>e.setIn(["filters",...t],n),e)})};const S={[c.e]:u,[c.c]:m,[c.d]:g,[c.a]:f,[c.b]:y,[c.g]:A},_=(e,t=[],n=Object(i.Map)())=>e.reduce((e,n,r)=>i.Iterable.isIterable(n)?_(n,[...t,r],e):S.hasOwnProperty(n)?e.update(n,(e=Object(i.Set)())=>e.add([...t,r])):e,n);var N=e=>{const t=e.get("filters")||new i.List,n=_(t);return n.isEmpty()?e:a(n,(e,t,n)=>S[n](e,t),e)},R=n("LHp2"),C=n("wPNq"),v=n("8ayz");const L=[R.a,C.b,v.b];var D=e=>a(L,(e,t)=>t(e),e),M=n("BGD4");const P=i.List.of(M.SUM),U=e=>r.a.resolve(e.has("metrics")?e.update("metrics",(e=Object(i.List)())=>e.map(e=>e.get("metricTypes",Object(i.List)()).isEmpty()?e.set("metricTypes",P):e)):e),k="count",x=i.List.of(M.SUM),w=[U,e=>{const t=(e.get("metrics")||Object(i.List)()).findIndex(e=>e.get("property")===k&&!Object(i.is)(e.get("metricTypes"),x));return r.a.resolve(t>=0?e.updateIn(["metrics",t],e=>e.set("metricTypes",x)):e)}];var F=e=>a(w,(e,t)=>t(e),e);const Y=[n("BXGd").a];var B=e=>a(Y,(e,t)=>t(e),e),G=n("K7y8");const V=[b.UNIFIED_FEEDBACK_TRENDS,b.UNIFIED_FEEDBACK_WEB,b.UNIFIED_FEEDBACK_EMAIL],H=e=>{const t=e.get("dataType");return V.includes(t),r.a.resolve(e)},W=e=>{if(e.get("dataType")!==b.ANALYTICS_CAMPAIGNS||["breakdown","people","deals-influenced"].includes(e.getIn(["dimensions",0])))return Promise.resolve(e);let t=e;t=t.has("dimensions")?t.update("dimensions",e=>e.map(e=>"sessionDate"===e?e:"breakdown")):t.set("dimensions",Object(i.List)());t.hasIn(["filters","custom"])&&(t=t.updateIn(["filters","custom"],e=>e&&e.map(e=>{switch(e.get("property")){case"campaignId":return e.set("property","breakdown"===t.getIn(["dimensions",0])?"d1":"filters");default:return e}})));return Promise.resolve(t)};var K=n("U9YW");const q=[],Q=[H,W,e=>{const t=e.get("dataType");if((t===b.UNIFIED_SEARCH_ANALYTICS_PAGES||t===b.UNIFIED_SEARCH_ANALYTICS_QUERIES)&&!e.getIn(["filters","custom"],Object(i.List)()).some(e=>"site"===e.get("property")))throw new h.j;if(t===b.ANALYTICS_CAMPAIGNS&&e.get("configType")===K.f&&!e.getIn(["filters","custom"],Object(i.List)()).some(e=>"filters"===e.get("property")||"d1"===e.get("property")))throw new h.m;return e}];var $=e=>{const t=G.f.enabled?[...q,...Q]:Q;return a(t,(e,t)=>t(e),e)};const J="funnel.stepwiseConversion",z="funnel.cumulativeConversion",X="pipeline.skips",Z="pipeline.cumulativeConversion",ee=e=>[K.b,K.c].includes(e.get("configType"))&&[b.CONTACTS,b.DEALS].includes(e.get("dataType")),te=[e=>{if(!ee(e))return r.a.resolve(e);const t={property:"count",metricTypes:[M.SUM]};return e.set("metrics",Object(i.fromJS)(e.get("configType")===K.b?[t,{property:J,metricTypes:[M.PERCENTILES]},{property:z,metricTypes:[M.PERCENTILES]}]:[t,{property:X,metricTypes:[M.SUM]},{property:Z,metricTypes:[M.PERCENTILES]}]))}];var ne=e=>a(te,(e,t)=>t(e),e),re=n("mtQV");const ae=e=>t=>t.map(t=>{const n=t.get("property");return e.has(n)?t.set("property",e.get(n)):t}),oe=e=>t=>t.updateIn(["metrics"],ae(e)),se=e=>t=>t.updateIn(["filters","custom"],ae(e)),ie=Object(i.Map)({[b.DEALS]:{amount_in_deal_currency:"amount",closed_amount_in_deal_currency:"hs_closed_amount",projected_amount_in_deal_currency:"hs_projected_amount"},[b.LINE_ITEMS]:{amount:"amount",price:"price"}}),ce=e=>{const t=e.get("dataType");return!!ie.has(t)&&Boolean(e.get("metrics",Object(i.List)()).find(e=>ie.hasIn([t,e.get("property")])))},le=Object(re.a)(se(ie),oe(ie));var ue=e=>ce(e)?le(e):e;n.d(t,"a",(function(){return de}));n.d(t,"b",(function(){return me}));n.d(t,"c",(function(){return ge}));const pe=[N,D,F,B,ne,$,ue],de=e=>a(pe,(e,t)=>t(e),e),me=e=>de(e.get("config")).then(t=>e.set("config",t)),ge=Object(s.a)(o.a,de)},eyRE:function(e,t,n){"use strict";var r=n("QYOI"),a=n("6Umb");const o=Object(a.a)("reporting-data.contactEvent");t.a=()=>Object(r.List)([Object(r.Map)({value:"last_visit",type:"string",label:o("last_visit"),displayOrder:-1}),Object(r.Map)({value:"recent_conversion",type:"string",label:o("recent_conversion"),displayOrder:0}),Object(r.Map)({value:"email_last_open",type:"string",label:o("email_last_open"),displayOrder:1}),Object(r.Map)({value:"email_last_click",type:"string",label:o("email_last_click"),displayOrder:2}),Object(r.Map)({value:"feedback_last_survey",type:"string",label:o("feedback_last_survey"),displayOrder:2})])},fPlQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("j/T8"),a=n.n(r);const o=Object.keys(a.a).reduce((e,t)=>Object.assign({},e,{[t]:t}),{})},fhwZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n.d(t,"a",(function(){return s}));var r=n("QYOI"),a=n("rpKw");const o=Object(r.Map)({"0-1":a.CONTACTS,"0-2":a.COMPANIES,"0-3":a.DEALS,"0-4":a.ENGAGEMENTS,"0-5":a.TICKETS,"0-7":a.PRODUCTS,"0-8":a.LINE_ITEMS,"0-11":a.CONVERSATIONS,"0-19":a.FEEDBACK_SUBMISSIONS,"0-20":a.ATTRIBUTION_TOUCH_POINTS,"0-27":a.TASK,"0-47":a.MEETING_EVENT,"0-48":a.CALL,"0-52":a.CONTACT_CREATE_ATTRIBUTION,"0-60":a.FORECAST,"0-63":a.DEAL_CREATE_ATTRIBUTION,"0-68":a.SEQUENCE_ENROLLMENTS,"0-74":a.GOAL_TARGET,"0-79":a.SEQUENCE_STEP_ENROLLMENTS,"0-101":a.COMMERCE_PAYMENTS,"0-136":a.LEADS,"0-149":a.AI_FORECAST}),s=o.flip()},fmEX:function(e,t,n){"use strict";var r=n("DIPK"),a=n("7Y4s"),o=n("g+dq"),s=n.n(o),i=n("QYOI"),c=n("iZt3"),l=n.n(c),u=n("bQHN"),p=n.n(u),d=n("BPM/");const m=e=>{const t=e.name,n=e.label;return new d.a({id:t,label:n,referencedObject:Object(i.fromJS)(e)})};var g=({meetingOutcomes:e})=>l()(p()("id"),Object(i.List)(e).map(m));const b=({httpClient:e})=>()=>e.get("/calendarintegration/v1/meeting-outcome").then(g),O=b({httpClient:s.a}),f=e=>Object(a.a)(Object.assign({cacheKey:r.Bb,createFetchData:b,fetchData:O},e));t.a=f()},g302:function(e,t,n){"use strict";var r=n("QYOI"),a=n("UzF3");t.a=(e,t)=>{const n=e.getIn(["dimensions",0]),o=t.getIn(["aggregations",n],Object(r.List)());return Object(r.Map)({dimension:Object(r.Map)({property:n,buckets:o.map(t=>Object(r.Map)({key:t.get("key"),metrics:Object(a.a)(e,t)}))}),metrics:Object(a.a)(e,t),total:o.count()||0})}},g7r6:function(e,t,n){"use strict";var r=n("3eGA"),a=n("kV5Q");t.a=e=>{const{status:t,statusText:n,errorCode:o,responseJSON:{type:s,errorType:i,message:c}={}}=e||{};return 403===t||e instanceof a.a?r[i]||r.ACCESS_DENIED:413===t||n===r.REQUEST_ENTITY_TOO_LARGE||s===r.RESULT_POINT_LIMIT_EXCEEDED||e instanceof a.v?r.TOO_MANY_POINTS_REQUESTED:400===t&&"string"==typeof c&&c.includes("should be the same as or earlier than today")?r.FUTURE_DATE_UNSUPPORTED:e instanceof a.s?r.TOO_MANY_BREAKDOWNS:o===r.TIMEOUT||e instanceof a.q?r.TIMEOUT:e instanceof a.h?r.INVALID_PROPERTIES:e instanceof a.c?r.DEPRECATED_PROPERTY:e instanceof a.e?r.FUNNEL_COUNT_PROPERTY_NOT_PRESENT:e instanceof a.x?r.UNSUPPORTED:e instanceof a.u?r.TOO_MANY_METRICS_REQUESTED:e instanceof a.t?r.TOO_MANY_DEAL_STAGES_REQUESTED:e instanceof a.w?r.UNSUPPORTED_DATE_RANGE_REQUESTED:e instanceof a.l?r.MISSING_REQUIRED_DATA:e instanceof a.g?r.INVALID_PIPELINE:422===t||e instanceof a.r?e instanceof a.o||e.responseText&&e.responseText.includes("Forecasting cadences must be uniform")?r.PIPELINE_CADENCE_MISMATCH:r.REQUEST_DATASET_TOO_LARGE:e instanceof a.n?r.MISSING_DIMENSIONS_AND_METRICS:e instanceof a.b?r.DATA_REPROCESSING:e instanceof a.f?r.HIGHCHARTS_ERROR:e instanceof a.j?r.MISSING_INTEGRATION_ERROR:e instanceof a.m?r.MISSING_SERIES_ERROR:e instanceof a.i?r.INVALID_TWO_DIMENSION_METRIC:r.UNKNOWN}},gDmL:function(e,t,n){"use strict";var r=n("QYOI"),a=n("U9YW"),o=n("oqSb"),s=n("w+gF"),i=n("QQ8p"),c=n("P2ER"),l=n("a1V/");const u=["associatedcompanyid","associations.company","associations.contact","associations.deal","associations.ticket"],p=(e,t,n)=>e.mapKeys(e=>Object(i.d)({property:t,type:e})).map(e=>n(e)),d=(e,t=(e=>e.get("raw")))=>e.toMap().flatMap((e,n)=>p(e,n,u.includes(n)?e=>{const n=t(e);return r.List.isList(n)&&1===n.count()?n.first():n}:t)),m=e=>{const t=e.get("dimension");if(t&&t.get("buckets")){const e=t.get("property");return t.get("buckets").toList().flatMap(t=>{const n=t.get("key"),a=Object(r.Map)({[e]:n});return m(t).map(e=>a.merge(e))})}return r.List.of(d(e.get("metrics",Object(r.Map)())))},g=e=>m(e);var b=n("wAvg");const O=e=>e&&e.get("buckets")?Object(r.Map)({[e.get("property")]:Object(r.Map)({label:e.get("propertyLabel")})}).merge(e.get("buckets").flatMap(e=>O(e.get("dimension")))):Object(r.Map)(),f=(e,t,n)=>e.mapKeys(e=>Object(i.d)({property:t,type:e})).map(e=>n(e)),E=(e,t=(e=>e.get("raw")))=>e.toOrderedMap().flatMap((e,n)=>f(e,n,t)),y=e=>E(e.get("metrics",Object(r.Map)()),e=>{let t=Object(r.Map)({});if(e.get("propertyMeta")){t=t.set("currencyCode",e.get("propertyMeta").currencyCode);t=t.set("durationUnit",e.get("propertyMeta").durationUnit)}return Object(r.Map)({format:t,label:e.get("label")})}).merge(e.getIn(["dimension","buckets"],Object(r.List)()).flatMap(e=>y(e))),T=(e,t)=>e.getIn(["dimension","buckets"],Object(r.List)()).toMap().flatMap(n=>e.getIn(["dimension","property"])===t?Object(r.Map)({[Object(b.a)(n.get("key"))]:Object(r.Map)({label:String(n.get("keyLabel")),link:n.get("keyLink")})}):T(n,t)),I=(e,t,n,a)=>(t.includes(n)?Object(r.OrderedMap)():E(e.get("metrics")||Object(r.Map)(),e=>{if(r.List.isList(e.get("raw")))return e.get("raw").reduce((t,n,a)=>null===n?t:t.set(String(Object(b.a)(n)),Object(r.Map)({label:String(e.get("formatted").get(a))})),Object(r.Map)());const{url:t}=e.get("propertyMeta",{});return null!==e.get("raw")&&void 0!==e.get("raw")?Object(r.fromJS)({[Object(b.a)(e.get("raw"))]:{label:r.List.isList(e.get("formatted"))?e.get("formatted").join(", "):String(e.get("formatted")),link:t}}):Object(r.Map)()})).set("",0).mergeDeep(e.getIn(["dimension","buckets"],Object(r.List)()).flatMap(e=>I(e,t,n+1,a))).delete(""),h=(e,t)=>e.get("configType")!==a.b||t?[]:[0],j=(e,t,n)=>{const o=e.get("dimensions").isEmpty()&&t.has("dimension")?Object(r.List)([t.getIn(["dimension","property"])]):e.get("dimensions",Object(r.List)()),s=O(t.get("dimension")).merge(y(t)),i=e.get("configType")===a.e,c=h(e,n),l=o.toMap().mapKeys((e,t)=>t).map(e=>T(t,e)).merge(I(t,c,0,i));return s.map((e,t)=>e.set("references",l.get(t,Object(r.Map)())))};var A=n("O3Yl"),S=n("5hFj");const _=["hs_product_id","hs_ticket_id","hs_object_id","listMemberships.listId","engagement.id","engagement.createdBy"],N=["associatedcompanyid","hs_object_id","hs_created_by_user_id"],R=e=>{if(!e)return e;const t=e.get("type"),n=e.get("name");if(t===A.b)return e.set("type",A.g);if(_.includes(n)&&t===A.g)return e.set("type",A.h);if(N.includes(n)&&t===A.i)return e.set("type",A.h);const r=e.get("numberDisplayHint");return t===A.i&&r?e.set("type",Object(S.d)(r)):e};n.d(t,"a",(function(){return L}));const C=e=>e.update("properties",(e=Object(r.Map)())=>e.reduce((e,t,n)=>e.has(Object(i.b)(n).property)?e:e.set(Object(i.b)(n).property,t),Object(r.Map)())).update("data",(e=Object(r.List)())=>e.map(e=>e.filter(e=>!(r.List.isList(e)&&e.isEmpty())).mapKeys(e=>Object(i.b)(e).property))).update(o.b),v=(e,t)=>e.map(e=>e.map((e,n)=>{const r=t.getIn([n,"type"]);return"number"===r||"id"===r?Object(b.a)(e):e})),L=(e,t,n=Object(r.Map)(),{comparePropertyLabel:o,isSummary:u=!1}={})=>{const p=e.get("configType")===a.e,d=p&&t.getIn(["dimension","property"]),m=(e=p?e.set("dimensions",Object(r.List)([d])).update("metrics",(e=Object(r.List)())=>e.map(e=>e.set("metricTypes",r.List.of("COUNT")))):e).get("dataType"),b=n.get(m)||Object(r.Map)(),O=j(e,t,u).map((t,n)=>{const{property:r}=Object(i.b)(n),a=R(b.get(r),e);return a?a.merge(t):t}),f=v(g(t),O),E=t.getIn(["total","raw"]),y=t.get("dataAge");let T=Object(c.a)({data:f,properties:O,paginationSize:E,dataAge:y});p&&(T=C(T).set("searchDimension",d));const I=Object(s.a)(T,Object(r.List)(T.get("properties").keys()).filter(e=>e.includes(i.a)));T=T.update("properties",e=>e.map((e,t)=>I.get(t)?e.set("shouldBeSmallScale",!0):e));const h=["properties",e.getIn(["dimensions",0]),"label"];o&&T.hasIn(h)&&(T=T.setIn(h,o));return Object(l.b)(T,e)}},gWJY:function(e,t,n){"use strict";var r=n("QYOI"),a=n("npjq"),o=n("u9+u"),s=n("ljrx"),i=n("WZzs"),c=n("mkAW"),l=n("sAns"),u=n("l5oV"),p=n("Agl5"),d=n("sJ2X"),m=n("jOkw"),g=n("80Ck"),b=n("ij+/"),O=n("llQr"),f=n("WUdy"),E=n("yx+q"),y=n("0g/9");const T="dealId",I=()=>new b.a({dataType:o.DEALS,search:{url:"contacts/search/v1/search/deals",objectsField:"deals"},properties:{idProperty:T,responsePaths:{dealId:["dealId"]},references:{"associations.company":o.COMPANIES}},hydrate:{inputs:Object(r.Set)([T,"dealname"]),fn:e=>e?e.dealname:a.a.text("reporting-data.references.deal.unknown",{id:e[T]})}});t.a=Object(s.b)({dataType:o.DEALS,references:Object(r.Map)({pipeline:Object(c.a)(Object(l.a)(o.DEALS)),hubspot_owner_id:Object(c.a)(u.a),hubspot_team_id:Object(c.a)(p.a),dealstage:(...e)=>Object(c.a)(Object(m.a)(o.DEALS,[{stageId:"create",label:a.a.text("reporting-data.properties.deals.stage.create")}]))(...e),deal_currency_code:Object(c.a)(g.a),currency:Object(c.a)(g.a),hs_created_by_user_id:Object(c.a)(d.a),hs_analytics_source_data_2:Object(y.a)(Object(c.a)(O.a),Object(c.a)(f.a),Object(c.a)(E.a))}),referenceProperties:Object(r.Map)({"associations.company":o.COMPANIES,"associations.contact":o.CONTACTS,dealId:o.DEALS}),hydrate:(e,t)=>Object(i.a)(o.DEALS,e,t),getInboundSpec:I})},guEt:function(e,t,n){"use strict";var r=n("QYOI"),a=n("P2ER"),o=n("7tCk"),s=n("q9KR"),i=n("B7Z+"),c=n("9/vt"),l=n("xA3K"),u=n("QgEn"),p=n("npjq"),d=n("VfuR"),m=n.n(d),g=n("Ktcs"),b=n("c/Td"),O=n("9f1P"),f=n.n(O),E=n("DqRu"),y=n("2joo"),T=n("RmcN"),I=n("xV13"),h=n("qS8i"),j=n("BiPx"),A=n("6A2w"),S=n("iJaT"),_=n("CE3l"),N=n("3Shb");const R=f.a.div.withConfig({displayName:"FilterOverlapsModal__StyledSerieSymbol",componentId:"sc-1ghe1rf-0"})(["border-radius:50%;width:8px;height:8px;display:inline-block;"]);class C extends g.Component{constructor(...e){super(...e);this.handleClick=e=>{const{onConfirm:t}=this.props;t(e)};this.renderOverlappingPoint=()=>{const{raasSeriesMap:e,overlapPoints:t}=this.props,n=t.map(t=>{const n=t.get("seriesId"),r=e.get(n);return{point:t,name:r.get("name"),color:r.getIn(["style","color"])}}).map(({point:e,name:t,color:n},r)=>Object(u.jsxs)(E.a,{truncate:!1,use:"tertiary-light",onClick:()=>this.handleClick(e),children:[Object(u.jsx)(R,{className:"m-right-1",style:{backgroundColor:n}}),Object(u.jsx)("span",{children:t})]},r)).toList();return Object(u.jsx)(N.a,{style:{margin:"auto"},justify:"center",children:n})}}render(){const{onReject:e}=this.props;return Object(u.jsxs)(S.a,{use:"conversational",size:"auto",width:"50%",children:[Object(u.jsxs)(A.a,{children:[Object(u.jsx)(j.a,{onClick:e}),Object(u.jsx)(_.a,{className:"is--heading-4",children:p.a.text("reporting-visualizations.click-event-messages.overlapping-points.header")})]},"header"),Object(u.jsxs)(h.a,{className:"p-bottom-8",children:[Object(u.jsx)("p",{children:p.a.text("reporting-visualizations.click-event-messages.overlapping-points.message")}),this.renderOverlappingPoint()]})]})}}C.propTypes=Object.assign({},I.a,{originalRaasPoint:b.map.isRequired,originalChartPoint:m.a.object.isRequired,chartSeries:m.a.array.isRequired,raasSeriesMap:b.map.isRequired,overlapPoints:b.map.isRequired});const v=Object(T.a)(C);var L={open(e={}){const{onConfirm:t}=e,n=Object(l.a)(e,["onConfirm"]);v(n).then(t).catch(y.a)}},D=n("zYNg"),M=n("kV5Q");const P=(e,t=!1)=>e===o.a?()=>1:t?t=>{const n=t.get(e),r=null===n?[null,null]:[...n]||!1;if(2!==r.length)throw new M.l;return r}:t=>{const n=t.get(e);return null===n?null:n||0},U=e=>{const{id:t,dataset:n,x:{field:a}}=e,{data:o}=n,s=W(e,"x"),i=Object(r.Map)(s.map(({key:e})=>e).map((e,t)=>[e,t])),c=`${t}-${0}`,l=e=>i.get(e.get(a)),u=()=>null,p=()=>o.map(e=>Object(r.Map)({layerId:t,seriesId:c,row:e,value:[l(e),u(e)]}));return r.List.of(Object(D.l)({id:c,layerId:t,type:D.k.bar,points:p(),style:Object(D.m)({showInLegend:!1})}))},k=e=>{const{id:t,dataset:n,x:{field:a},color:{field:o,defined:s=Object(r.Map)(),default:i,definedPatterns:l=Object(r.Map)(),definedDashStyles:u=Object(r.Map)()}}=e,{data:p}=n,d=W(e,"x"),m=W(e,"color"),g=Object(r.Map)(d.map(({key:e})=>e).map((e,t)=>[e,t])),b=e=>g.get(e.get(a)),O=()=>null,f=d?Object(c.c)(p,[a,o]):Object(c.c)(p,[o]);return m.map(({key:e,name:n},c)=>{const p=`${t}-${c}`,m=(()=>d.flatMap(({key:n})=>{let s=f.getIn([n,e])||Object(r.List)();s.isEmpty()&&(s=s.push(Object(r.Map)({[a]:n,[o]:e})));return s.map(e=>Object(r.Map)({layerId:t,seriesId:p,row:e,value:[b(e),O(e)]}))}))(),g=Object(r.Map)({color:s.get(String(e))||i,pattern:l.get(String(e)),dashStyle:u.get(String(e))});return Object(D.l)({id:p,layerId:t,name:n,type:D.k.bar,points:m,style:g})})},x=e=>{const{id:t,color:{defined:n=Object(r.Map)(),default:a,definedPatterns:o=Object(r.Map)(),definedDashStyles:s=Object(r.Map)()}}=e;return W(e,"color").map(({key:e,name:i},c)=>{const l=`${t}-${c}`,u=Object(r.Map)({color:n.get(String(e))||a,pattern:o.get(String(e)),dashStyle:s.get(String(e))});return Object(D.l)({id:l,layerId:t,name:i,type:D.k.bar,points:Object(r.List)(),style:u})})},w=e=>{const{id:t,dataset:n,mark:{type:o,zIndex:s,stacking:c,stack:l,marker:u,dashStyle:p},y:{field:d,formattingObject:m,formattingObjectMap:g},color:{default:b,defaultPattern:O}}=e,{data:f}=n,E=!!Object(a.c)(n,d)?Object(a.c)(n,d):Object(r.Map)(),y=g&&g.get(d)||m,T=Object(i.i)(E)?E.set("formattingType",y&&y.type).set("formattingObject",y):E,I=Object(a.d)(n,d),h=`${t}-${0}`,j=I,A=()=>0,S=P(d),_=(()=>f.map(e=>Object(r.Map)({layerId:t,seriesId:h,row:e,value:[A(e),S(e)]})))(),N=o===D.k.bar,R=Object(r.Map)({zIndex:s,color:b,pattern:O,forceStacking:N,marker:u,dashStyle:p,pointWidth:30});return r.List.of(Object(D.l)({id:h,layerId:t,property:T,name:j,type:o,stacking:c||N,stack:l,points:_,style:R}))},F=e=>{const{id:t,dataset:n,mark:{type:o,zIndex:s,stacking:l,stack:u,marker:d,dashStyle:m},x:{field:g,type:b},y:{field:O,fill:f,formattingObject:E,formattingObjectMap:y},color:{default:T,defaultPattern:I}}=e,{data:h}=n,j=W(e,"x"),A=j?Object(r.Map)(j.map(({key:e})=>e).map((e,t)=>[e,t])):void 0,S=!!Object(a.c)(n,O)?Object(a.c)(n,O):Object(r.Map)(),_=y&&y.get(O)||E,N=Object(i.i)(S)?S.set("formattingType",_&&_.type).set("formattingObject",_):S,R=Object(a.d)(n,O),C=`${t}-${0}`,v=R,L=o===D.k.arearange,M=A?e=>A.get(e.get(g)):e=>{const t=e.get(g)||0;return b===D.c.datetime?p.a.moment(t).valueOf():t},U=P(O,L),k=(()=>{if(j){const e=Object(c.c)(h,[g]);return j.flatMap(({key:n})=>{let a=e.get(n)||Object(r.List)();a.isEmpty()&&f&&(a=a.push(Object(r.Map)({[g]:n,[O]:0})));return a.map(e=>{const n=L?[M(e),...U(e)]:[M(e),U(e)];return Object(r.Map)({layerId:t,seriesId:C,row:e,value:n})})})}return h.map(e=>{const n=L?[M(e),...U(e)]:[M(e),U(e)];return Object(r.Map)({layerId:t,seriesId:C,row:e,value:n})})})(),x=Object(r.Map)({zIndex:s,color:T,pattern:I,forceStacking:!1,marker:d,dashStyle:m});return r.List.of(Object(D.l)({id:C,layerId:t,property:N,name:v,type:o,stacking:!!l,stack:u,points:k,style:x,levelOfDetail:[g]}))},Y=e=>{const{id:t,dataset:n,mark:{type:o,zIndex:s,stacking:l,stack:u,marker:p,dashStyle:d},y:{field:m,formattingObject:g,formattingObjectMap:b},color:{field:O,defined:f=Object(r.Map)(),default:E,definedPatterns:y=Object(r.Map)(),definedDashStyles:T=Object(r.Map)()}}=e,{data:I}=n,h=W(e,"color"),j=!!Object(a.c)(n,m)?Object(a.c)(n,m):Object(r.Map)(),A=b&&b.get(m)||g,S=Object(i.i)(j)?j.set("formattingType",A&&A.type).set("formattingObject",A):j,_=()=>0,N=P(m),R=Object(c.c)(I,[O]);return h.map(({key:e,name:n},a)=>{const i=`${t}-${a}`,c=(()=>(R.get(e)||Object(r.List)()).map(e=>Object(r.Map)({layerId:t,seriesId:i,row:e,value:[_(e),N(e)]})))(),m=o===D.k.bar,g=Object(r.Map)({zIndex:s,color:f.get(String(e))||E,forceStacking:m,marker:p,pattern:y.get(String(e)),dashStyle:d||T.get(String(e))});return Object(D.l)({id:i,layerId:t,property:S,name:n,type:o,stacking:l||m,stack:u,points:c,style:g,levelOfDetail:[O]})})},B=e=>{const{id:t,dataset:n,mark:{type:o,zIndex:s,stacking:l,stack:u,marker:d,dashStyle:m},x:{field:g,type:b},y:{field:O,fill:f,formattingObject:E,formattingObjectMap:y},color:{field:T,defined:I=Object(r.Map)(),default:h,definedPatterns:j=Object(r.Map)(),definedDashStyles:A=Object(r.Map)()}}=e,{data:S}=n,_=W(e,"x"),N=W(e,"color"),R=_?Object(r.Map)(_.map(({key:e})=>e).map((e,t)=>[e,t])):void 0,C=!!Object(a.c)(n,O)?Object(a.c)(n,O):Object(r.Map)(),v=y&&y.get(O)||E,L=Object(i.i)(C)?C.set("formattingType",v&&v.type).set("formattingObject",v):C,M=o===D.k.arearange,U=R?e=>R.get(e.get(g)):e=>{const t=e.get(g)||0;return b===D.c.datetime?p.a.moment(t).valueOf():t},k=P(O,M),x=_?Object(c.c)(S,[g,T]):Object(c.c)(S,[T]),w=!!_&&(g===T||Object(r.is)(Object(r.Set)(_.map(({key:e})=>e)),Object(r.Set)(N.map(({key:e})=>e))));return N.map(({key:e,name:n},a)=>{const i=`${t}-${a}`,c=(()=>{if(_)return _.flatMap(({key:n})=>{let a=x.getIn([n,e])||Object(r.List)();a.isEmpty()&&f&&(a=a.push(Object(r.Map)({[g]:n,[T]:e,[O]:0})));return a.map(e=>{const n=M?[U(e),...k(e)]:[U(e),k(e)];return Object(r.Map)({layerId:t,seriesId:i,row:e,value:n})})});return(x.get(e)||Object(r.List)()).map(e=>{const n=M?[U(e),...k(e)]:[U(e),k(e)];return Object(r.Map)({layerId:t,seriesId:i,row:e,value:n})})})(),p=Object(r.Map)({zIndex:s,color:I.get(String(e))||h,forceStacking:w&&o===D.k.bar,marker:d,pattern:j.get(String(e)),dashStyle:m||A.get(String(e))});return Object(D.l)({id:i,layerId:t,property:L,name:n,type:o,stacking:l||w,stack:u,points:c,style:p,levelOfDetail:[g,T]})})},G=(e,t)=>{const{sizing:{field:n}}=e,a=e=>e.get(n)||0;return t.map(e=>e.update("points",Object(r.List)([]),e=>e.map(e=>{const t=a(e.get("row"));return e.update("value",e=>e&&e.concat([t]))})))},V=(e,t)=>{const{detail:{field:n}}=e;return t.map(e=>e.update("levelOfDetail",Object(r.List)([]),e=>e?e.push(n):Object(r.List)([n])).update("points",Object(r.List)([]),e=>e.filter(e=>e.hasIn(["row",n]))))};var H=n("+sJw");n.d(t,"a",(function(){return W}));n.d(t,"d",(function(){return Q}));n.d(t,"b",(function(){return $}));n.d(t,"e",(function(){return z}));n.d(t,"c",(function(){return X}));const W=(e,t)=>{const{dataset:n}=e,{type:r,field:o,order:s,formattingObject:l}=e.get(t);if(r!==D.c.category&&"color"!==t)return;const u=Object(a.c)(n,o),p=Object(i.i)(u)&&l?u.set("formattingType",l.get("type")).set("formattingObject",l):void 0,d=Object(c.b)(n,o).filter(e=>void 0!==e).map(e=>({key:e,name:Object(a.h)(n,o,e)||!p?Object(a.g)(n,o,e):Object(i.h)(p)(e)}));return Object(c.a)(d,s,({key:e})=>e)},K=(e,t)=>{const{dataset:n}=e,{type:s,field:c,formattingType:l,formattingObject:u}=e.get(t);if(!c)return Object(D.a)({title:"",type:s===D.c.scaffold?s:D.c.hidden});const p=c===o.a?"Count":Object(a.d)(n,c),d=!!Object(a.c)(n,c)?Object(a.c)(n,c):Object(r.Map)(),m=u&&Object(i.i)(d)?d.set("formattingType",l).set("formattingObject",u):d,g=W(e,t);return Object(D.a)({title:p,type:s,categories:g,property:m})},q=(e,t,n,a,o)=>{const{dataset:s}=t,i={point:e,layer:t,dataset:s,levelOfDetail:n};a.event(()=>({name:"onPointClick",payload:Object(r.Seq)(i).map(e=>e.toJS()).toObject()}));o(i)},Q=(e,{onPointClick:t}={},n,a)=>{const o=a.toMap().mapKeys((e,t)=>t.get("id"));return a.map(s=>{const i=s.get("points");return s.set("events",Object(r.Map)({click(c){const l=i.get(c.point.index),u=c.point;if(t){const i=a.length>1&&Object(H.e)(u.series.options.type.toUpperCase())?Object(H.c)(u,u.series.chart.series,o):Object(r.Map)({});i.isEmpty()?q(l,e.get(l.get("layerId")),s.get("levelOfDetail"),n,t):L.open({originalRaasPoint:l,originalChartPoint:u,chartSeries:u.series.chart.series,raasSeriesMap:o,overlapPoints:i,onConfirm:r=>{q(r,e.get(r.get("layerId")),o.getIn([r.get("seriesId"),"levelOfDetail"]),n,t)}})}}}))})},$=e=>{const{x:{field:t},y:{field:n},color:{field:r},sizing:{field:a},detail:{field:o}}=e;let s;t&&n&&r?s=B(e):t&&n?s=F(e):n&&r?s=Y(e):n?s=w(e):t&&r?s=k(e):t?s=U(e):r&&(s=x(e));a&&(s=G(e,s));o&&(s=V(e,s));if(!s)throw new Error("Invalid encoding configuration, be sure you have at least one linear axis");return s},J=(e,t)=>{const n=e.getIn([t,"order"]),r=e.dataset,a=e.getIn([t,"field"]),o=Object(s.a)(r,a,n);return e.setIn([t,"order","defined"],o)},z=e=>{const{x:{field:t,type:n,order:r},y:{field:a,type:o,order:s},color:{field:i,order:c}}=e;if(t&&r&&n===D.c.category){e=J(e,"x");c||i!==t||(e=Object(H.a)(e,"x","color"))}if(a&&s&&o===D.c.category){e=J(e,"y");c||i!==a||(e=Object(H.a)(e,"y","color"))}if(i&&c){e=J(e,"color");r||i!==t||(e=Object(H.a)(e,"color","x"));s||i!==a||(e=Object(H.a)(e,"color","y"))}return e},X=(e,t,n)=>e.groupBy((e,n)=>e.getIn([t,"blend"])||String(n)).map((e,r)=>{const a=n.getIn([t,r]),o=K(e.last(),t);return Object(H.h)(o,a)}).map((e,t)=>e.set("id",t)).toList().map(e=>Object(D.a)(e))},h4h6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("w+Se"),a=n.n(r);n("7FkG"),n("eSyu"),n("3Xfp");const o=[/\s+(AND|OR)\s+(AND|OR)\s+/,/^\s*(AND|OR)\s+/,/\s+(AND|OR)\s*$/],s=/"/g;function i(e){const t=e.match(s);return!!t&&t.length%2==1}function c(e){return a()(e)&&""!==e&&!o.some(t=>t.test(e))&&!i(e)}},hDBk:function(e,t,n){"use strict";n("QYOI");var r=n("bQHN"),a=n.n(r),o=n("TvdH"),s=n.n(o),i=n("91Cy"),c=(n("U9YW"),n("u9+u")),l=(n("rpKw"),n("PBgN"),n("k+EG"),n("3Wht")),u=n("prCU");let p;!function(e){e.WATERFALL="WATERFALL";e.CHANGE_HISTORY_DEAL_LIST="CHANGE_HISTORY_DEAL_LIST";e.DEAL_PUSH_ANALYSIS="DEAL_PUSH_ANALYSIS";e.PIPELINE_SNAPSHOTS="PIPELINE_SNAPSHOTS";e.SALES_QUOTA="SALES_QUOTA";e.COMPLETED_ACTIVITIES="COMPLETED_ACTIVITIES"}(p||(p={}));const d={START:"START",CREATED:"CREATED",PULLED:"PULLED",INCREASED:"INCREASED",DECREASED:"DECREASED",PUSHED:"PUSHED",LOST:"LOST",WON:"WON",END:"END"};d.PULLED,d.INCREASED,d.DECREASED,d.PUSHED,d.LOST,d.WON;n.d(t,"a",(function(){return m}));n.d(t,"i",(function(){return g}));n.d(t,"l",(function(){return b}));n.d(t,"h",(function(){return O}));n.d(t,"n",(function(){return f}));n.d(t,"o",(function(){return E}));n.d(t,"d",(function(){return y}));n.d(t,"e",(function(){return T}));n.d(t,"g",(function(){return I}));n.d(t,"q",(function(){return h}));n.d(t,"k",(function(){return j}));n.d(t,"j",(function(){return A}));n.d(t,"p",(function(){return S}));n.d(t,"m",(function(){return _}));n.d(t,"f",(function(){return N}));n.d(t,"v",(function(){return R}));n.d(t,"b",(function(){return C}));n.d(t,"u",(function(){return v}));n.d(t,"w",(function(){return L}));n.d(t,"c",(function(){return D}));n.d(t,"r",(function(){return M}));n.d(t,"t",(function(){return P}));n.d(t,"s",(function(){return k}));i.a[c.DEALS];const m="DATA_LAYER",g=a()("id"),b=a()("name"),O=a()("description"),f=a()("ownerId"),E=e=>e.get("reportDashboardInfo")||[],y=(a()("reportOwnerUser"),a()("updatedByUser"),a()("updatedAt"),a()("businessUnitId"),a()("favorite"),s()(["config","customized"])),T=s()(["config","configType"]),I=a()("customized"),h=a()("reportDefinition"),j=a()("journeyQuery"),A=s()(["journeyQuery","objectQuery","table","objectTypeId"]),S=s()(["config","dataType"]),_=s()(["config","objectTypeId"]),N=e=>s()(["displayParams","customWidget","type"],e)||m,R=e=>a()("template",e)||a()("templateKey",e)||s()(["config","template"],e)||void 0,C=a()("chartType"),v=s()(["reportDefinition","visual","type"]),L=(a()("aiGeneratedDescription"),a()("userReportPermissionLevel")),D=a()("config"),M=e=>e.get("hiddenProperties")||[],P=e=>{const t=e.getIn(["reportDefinition","table"]).toJS();return Object(l.e)(t)},U=e=>Object(u.j)(e).map(e=>e.objectTypeId).filter(e=>!!e),k=e=>{const t=P(e);return t.type===l.d.HUBSPOT_DATASET?[]:U(t).toJS()}},hZ2L:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return i}));var r=n("QYOI");const a={SET_USER_INFO:"@@reporting/SET_USER_INFO",CLEAR_USER_INFO:"@@reporting/CLEAR_USER_INFO"},o=new(Object(r.Record)({promise:null,data:null},"UserInfoState")),s=(e=o,t)=>{const{type:n,data:r={}}=t;switch(n){case a.SET_USER_INFO:{const{promise:t=e.promise,userInfo:n=e.data}=r;return e.set("promise",t).set("data",n)}case a.CLEAR_USER_INFO:return o;default:return e}},i={setUserInfo:({promise:e,userInfo:t})=>({type:a.SET_USER_INFO,data:{promise:e,userInfo:t}}),clearUserInfo:()=>({type:a.CLEAR_USER_INFO})}},hZMd:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));const r="@@MISSING@@",a={STRING:r,ENUMERATION:r,BOOL:0,CURRENCY:0,NUMBER:Number.MIN_SAFE_INTEGER,PERCENT:0}},i7w0:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n.d(t,"b",(function(){return l}));n.d(t,"c",(function(){return u}));var r=n("V4Ay");const a="__REPORTING__";let o;try{o=window}catch(t){o=e.window}const s=()=>{},i=()=>{o[a]&&"object"==typeof o[a]||(o[a]={})},c=Object(r.a)(e=>o[a][e],s),l=Object(r.a)((e,t)=>{o[a][e]=t;return c(e)},s),u=Object(r.a)((e,t)=>{const n=c(e),a=Object(r.a)(t,()=>n);l(e,a(n));return c(e)},s);i()}).call(this,n("H9b4"))},iCNX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("QYOI");function a(e){return r.Iterable.isIterable(e)?e.toJS():e}},ierA:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n.d(t,"d",(function(){return u}));n.d(t,"c",(function(){return g}));n.d(t,"b",(function(){return b}));n.d(t,"e",(function(){return O}));n.d(t,"f",(function(){return f}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS"),s=n("tc1C"),i=n("O2fa");const c=r.i({onPointClick:r.c().optional()},"Events"),l=r.i({field:r.k()},"Angle"),u=r.i({name:r.k(),y:r.a().fromJS(),color:r.k(),sliceRow:r.a().fromJS()},"Point"),p=r.i({field:r.k().optional(),order:s.d.optional(),defined:r.f(r.k()).optional(),default:r.k().optional(),definedPatterns:r.f(r.k()).optional()},"SlicedColorEncoding"),d=r.i({dataset:r.k(),name:r.k().optional(),angle:l,color:p,style:r.f().defaultValue({}),colorFormattingOptions:r.a().optional(),valueFormattingOptions:r.a().optional()},"SlicedLayer"),m=r.i({type:r.k(),dataLabels:r.b().optional(),legendPosition:i.c.optional(),legendWidth:i.e.optional(),showTotals:r.b().optional(),grandTotal:r.g().optional(),tooltipDisabled:r.b().optional(),disableSeriesHighlighting:r.b().optional(),dateResolution:r.k().optional(),dateColumnAlias:r.k().optional()},"SlicedChartOptions"),g=r.i({name:r.k(),points:r.d(u),dataLabelPointFormatter:r.c(),events:r.f(),innerSize:r.k()},"SlicedChartSeries"),b=r.i({series:r.d(),options:m},"SlicedChart"),O=r.i({dataLabels:r.b().optional(),showLegend:r.b().optional(),colors:r.d().optional(),bottomLegend:r.b().optional(),legendPosition:i.c.optional(),legendWidth:i.e.optional(),showTotals:r.b().optional(),tooltipDisabled:r.b().optional(),isMobile:r.b().optional(),dateResolution:r.k().optional(),dateColumnAlias:r.k().optional()},"SlicedStyle"),f=r.i({type:r.k().always(o.g),data:r.f(a.a),layer:d,events:c.optional(),style:O.optional(),isGrouped:r.b().optional(),grandTotal:r.g().optional()},"SlicedVisualization")},"ij+/":function(e,t,n){"use strict";var r=n("QYOI"),a=n("u9+u");const o=Object(r.Map)({"associations.company":a.COMPANIES,"associations.contact":a.CONTACTS}),s=e=>e.updateIn(["properties","references"],Object(r.Map)(),t=>o.set(e.properties.idProperty,e.dataType).merge(t)),i=Object(r.Map)({"associations.company":["associations","associatedCompanyIds"],"associations.contact":["associations","associatedVids"]}),c=e=>e.updateIn(["properties","responsePaths"],Object(r.Map)(),e=>i.merge(e)),l=Object(r.List)([s,c]);var u=e=>l.reduce((e,t)=>t(e),e);n.d(t,"a",(function(){return I}));const p=(e,t,n)=>t(e).map(e=>n(e)),d=(e={},t,n)=>{const r=Object.assign({},e);for(const t in n)e.hasOwnProperty(t)&&(r[t]=n[t](e[t]));return t(r)},m=e=>p(e,r.List,String),g=e=>p(e,r.Map,m),b=Object(r.Record)({url:null,objectsField:null,properties:Object(r.List)()}),O=Object(r.Record)({inputs:Object(r.Set)(),fn:()=>null});function f(e){return d(e,O,{inputs:r.Set})}const E=Object(r.Record)({idProperty:null,responsePaths:Object(r.Map)(),types:Object(r.Map)(),references:Object(r.Map)(),extractors:Object(r.Map)()});function y(e){return d(e,E,{responsePaths:g,types:r.Map,references:r.Map,extractors:r.Map})}const T=Object(r.Record)({dataType:null,objectTypeId:null,references:Object(r.Map)(),search:new b,properties:new y,hydrate:new f,associationPreviews:Object(r.Map)()},"inboundDb spec");function I(e){return u(d(e,T,{references:r.Map,search:b,properties:y,hydrate:f}))}},"j/T8":function(e,t){e.exports={clickCreateAsset:{class:"interaction",properties:{actionType:{type:["create"],isOptional:!1},action:{type:["create"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickGoToDashboard:{class:"interaction",properties:{actionType:{type:["navigate"],isOptional:!1},action:{type:["go-to-dashboard"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},destination:{type:["existing-dashboard"],isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},saveNewAssetInteraction:{class:"interaction",properties:{actionType:{type:["create"],isOptional:!1},action:{type:["save-new"],isOptional:!1},step:{type:["start","exit"],isOptional:!1},whichFlow:{type:["save-from-template","save-from-scratch","save-from-drilldown","save-updates-as-new","clone"],isOptional:!1},whichStage:{type:["report-name-and-destination","assignment-mode","specific-partitioning"],isOptional:!0},screen:{type:"string",isOptional:!0},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},origin:{type:"string",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},saveNewAsset:{class:"usage",properties:{actionType:{type:["create"],isOptional:!1},action:{type:["save-new"],isOptional:!1},step:{type:["complete"],isOptional:!1},whichFlow:{type:["save-from-template","save-from-scratch","save-from-drilldown","save-updates-as-new","clone","report-destination"],isOptional:!1},destination:{type:["new-dashboard","existing-dashboard","none"],isOptional:!0},assignmentMode:{type:["everyone","specific","private"],isOptional:!0},permissionValue:{type:["none","view","edit"],isOptional:!0},teamCount:{type:"number",isOptional:!0},userCount:{type:"number",isOptional:!0},withGeneratedDescription:{type:"boolean",isOptional:!0},wasGeneratedDescriptionCustomized:{type:"boolean",isOptional:!0},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},origin:{type:"string",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickSaveAssetSuccessLink:{class:"interaction",properties:{actionType:{type:["navigate"],isOptional:!1},action:{type:["go-to-saved-asset"],isOptional:!1},whichFlow:{type:["save-from-template","save-from-scratch","save-from-drilldown","save-updates-as-new","clone"],isOptional:!1},destination:{type:["new-dashboard","existing-dashboard","none"],isOptional:!0},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},origin:{type:"string",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickCreateCustomReport:{class:"interaction",properties:{actionType:{type:["create"],isOptional:!1},action:{type:["create"],isOptional:!1},whichFlow:{type:["save-from-template","save-from-scratch"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},origin:{type:"string",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickRestoreAsset:{class:"interaction",properties:{actionType:{type:["create"]},action:{type:["restore"]},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickDeleteAsset:{class:"interaction",properties:{actionType:{type:["edit"]},action:{type:["delete"]},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickSetBusinessUnitNew:{name:"ANALYTICS_INTERACTION",class:"interaction",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["tag"],isOptional:!1},assetType:{type:["dashboard","report"],isOptional:!1},count:{type:"number",isOptional:!1},interactionSource:{type:["single-asset-view","asset-list-page","actions-dropdown"],isOptional:!1},interactionWith:["asset-action"],dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",version:"1"},setBusinessUnitNew:{name:"ANALYTICS_INTERACTION",class:"usage",properties:{actionType:{type:["save"],isOptional:!1},action:{type:["tag"],isOptional:!1},assetType:{type:["dashboard","report"],isOptional:!1},count:{type:"number",isOptional:!1},interactionWith:["modal"],interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",version:"1"},restoreAsset:{class:"usage",properties:{actionType:{type:["save"]},action:{type:["restore"]},count:{type:"number",isOptional:!0},isAdmin:{isOptional:!1,type:"boolean"},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},deleteAsset:{class:"usage",properties:{actionType:{type:["save"]},action:{type:["delete"]},count:{type:"number",isOptional:!0},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickShareAsset:{class:"interaction",properties:{actionType:{type:["share"],isOptional:!1},action:{type:["email","share-asset","export"],isOptional:!1},interactionSource:{type:["actions-dropdown","widget"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickManageRecurringShareAsset:{class:"interaction",properties:{object:{type:["email","share-asset"]},actionType:{type:["edit"],isOptional:!1},action:{type:["open"],isOptional:!1},interactionSource:{type:["actions-dropdown","widget"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},sendReportShareAssetNow:{class:"interaction",properties:{object:{type:["email","slack"]},actionType:{type:["share"],isOptional:!1},action:{type:["send-email","send-slack"],isOptional:!1},interactionSource:{type:["dialog"],isOptional:!1},externalEmailDomains:{type:"string",isOptional:!0},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},createRecurringShareAssets:{class:"interaction",properties:{object:{type:["email","slack"]},actionType:{type:["share"],isOptional:!1},action:{type:["create-recurring-email","create-recurring-slack"],isOptional:!1},interactionSource:{type:["dialog"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},startEditRecurringShareAssetFlow:{class:"interaction",properties:{object:{type:["email","slack"]},actionType:{type:["edit"],isOptional:!1},action:{type:["change-owner","delete","edit-schedule"]},interactionSource:{type:["actions-dropdown","dialog"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},updateSavedRecurringShareAsset:{class:"usage",properties:{object:{type:["email","slack"]},actionType:{type:["save"],isOptional:!1},action:{type:["change-owner","delete","edit-schedule"]},interactionSource:{type:["actions-dropdown","dialog"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickPreviewShareAsset:{class:"interaction",properties:{actionType:{type:["view"],isOptional:!1},action:{type:["open"],isOptional:!1},object:{type:["email","slack"]},interactionSource:{type:["dialog"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickEditInBuilder:{class:"interaction",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["edit-in-builder"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickUpdateAsset:{class:"interaction",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["edit","change-owner","rename","editDescription"],isOptional:!1},object:{type:["name","owner","business unit","config","filters","description"]},count:{type:"number",isOptional:!0},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},completeAssetUpdate:{class:"usage",properties:{actionType:{type:["save"],isOptional:!1},action:{type:["edit","change-owner","rename"],isOptional:!1},object:{type:["name","owner","description","business unit","config","filters","layout"]},count:{type:"number",isOptional:!0},withGeneratedDescription:{type:"boolean",isOptional:!0},wasGeneratedDescriptionCustomized:{type:"boolean",isOptional:!0},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},cancelAssetUpdate:{class:"interaction",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["close"],isOptional:!1},object:{type:["name","owner","description","business unit","config","filters"]},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickGenerateReportDescription:{class:"interaction",namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1",properties:{assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}}},clickRateGeneratedReportDescription:{class:"interaction",properties:{rating:{type:["THUMBS_UP","THUMBS_DOWN"]},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},editAssetAccessInteraction:{class:"interaction",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["edit-access"],isOptional:!1},step:{type:["start","exit"],isOptional:!1},count:{type:"number",isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},completeEditAssetAccess:{class:"usage",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["edit-access"],isOptional:!1},step:{type:["complete"],isOptional:!1},assignmentMode:{type:["everyone","specific","private"],isOptional:!0},permissionValue:{type:["none","view","edit"],isOptional:!0},teamCount:{type:"number",isOptional:!0},userCount:{type:"number",isOptional:!0},count:{type:"number",isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickRefreshAsset:{class:"interaction",properties:{actionType:{type:["view"],isOptional:!1},action:{type:["refresh"],isOptional:!1},interactionSource:{type:["report-viewer","widget"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},openAsset:{class:"interaction",properties:{actionType:{type:["view"],isOptional:!1},action:{type:["open"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},addToDashboardInteraction:{class:"interaction",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["add-to-dashboard"],isOptional:!1},step:{type:["start","exit"],isOptional:!1},count:{type:"number",isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},completeAddToDashboard:{class:"usage",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["add-to-dashboard"],isOptional:!1},step:{type:["complete"],isOptional:!1},count:{type:"number",isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},clickDeleteActionNew:{name:"ANALYTICS_INTERACTION",class:"interaction",namespace:"reporting",version:"1",properties:{assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}}},clickSetDefaultDashboard:{class:"interaction",properties:{actionType:{type:["edit"]},action:{type:["delete"]},step:["start"],assetType:["dashboard"],interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},deleteDashboardNew:{name:"ANALYTICS_INTERACTION",class:"interaction",properties:{subscreen:["dashboard","dashboard-manager"],action:{type:["edit-default-dashboard"],isOptional:!1},interactionSource:{type:["dashboard"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"reporting",version:"1"},setDefaultDashboardNew:{class:"interaction",properties:{subscreen:["dashboard","dashboard-manager"],assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},removeDefaultDashboardNew:{class:"interaction",properties:{subscreen:["dashboard","dashboard-manager"],assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},updateFavoriteAssetsNew:{name:"ANALYTICS_INTERACTION",class:"interaction",properties:{actionType:{type:["save","create","edit"],isOptional:!1},assetType:{type:["dashboard","report"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",version:"1"},clickMoveReportNew:{class:"interaction",properties:{actionType:{type:["edit"],isOptional:!1},action:{type:["move-report-to-dashboard"],isOptional:!1},interactionSource:{type:["dashboard"],isOptional:!1},assetType:{type:["report","dashboard"],isOptional:!1},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"},onConfirmMoveReport:{class:"interaction",properties:{use:{type:"string",isOptional:!0},dashboardType:{type:["NEW","EXISTING"]},assetType:{type:["report","dashboard"],isOptional:!1},interactionSource:{type:["actions-dropdown"],isOptional:!0},dashboardCount:{type:"number",isOptional:!0},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},template:{type:"string",isOptional:!0},role:{type:["viewer","editor","owner","admin"],isOptional:!0},origin:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0},subscreen:{type:"string",isOptional:!0}},namespace:"reporting",name:"ANALYTICS_INTERACTION",version:"1"}}},jOkw:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("QYOI"),a=n("hZMd"),o=n("TTw+"),s=n("UHjn");const i=(e,t,{isRelational:n}={})=>{const r=t===a.b?null:t;return e.get("pipelineLabel")&&!n?`${e.get("label",r)} (${e.get("pipelineLabel")})`:e.get("label",r)},c=(e,t=Object(r.Map)(),n)=>e.reduce((e,{stageId:t,label:a})=>e.set(t,Object(s.b)(t,i(Object(r.Map)({label:a,pipelineLabel:n})))),t);t.a=(e,t=[])=>()=>Object(o.a)(e).then(e=>e.reduce((e,{stages:t,label:n})=>c(t,e,n),c(t,Object(r.Map)())))},jpHT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>Object.prototype.hasOwnProperty.call(e||{},t)},jsKR:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));const r={STRING:"string",NUMBER:"number",BOOL:"bool",DATETIME:"datetime",ENUMERATION:"enumeration",DATE:"date",PHONE_NUMBER:"phone_number",CURRENCY_NUMBER:"currency_number",JSON:"json",OBJECT_COORDINATES:"object_coordinates"},a={COUNT:"COUNT",DISTINCT_COUNT:"DISTINCT_COUNT",SUM:"SUM",AVERAGE:"AVERAGE",MIN:"MIN",MAX:"MAX",DELEGATE:"DELEGATE"}},"k+EG":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));n.d(t,"a",(function(){return m}));n.d(t,"g",(function(){return b}));n.d(t,"c",(function(){return O}));n.d(t,"e",(function(){return f}));n.d(t,"d",(function(){return y}));n.d(t,"f",(function(){return T}));var r=n("npjq"),a=n("QYOI"),o=(n("WbQG"),n("e2gS"),n("rpKw")),s=n("XcLi"),i=n("oQ2E"),c=n("Br7N");n("eY2p"),n("KPJb");const l=s.i({name:s.k(),objectTypeId:s.k(),id:s.g(),metaTypeId:s.g(),defaultSearchPropertyNames:s.d().optional(),createDatePropertyName:s.k().optional(),pluralForm:s.k(),originalMetaDefinition:s.a()},"CrmObjectDataTypeDefinition");s.i({name:s.k(),displayName:s.k(),properties:s.d(s.a().fromJS()),displayOrder:s.g(),hubspotDefined:s.b()},"CrmObjectPropertyGroupDefinition");let u=Object(a.Map)({}),p=Object(a.Map)({});Object(a.Map)({});const d=Object(a.Map)({"0-1":o.CONTACTS,"0-2":o.COMPANIES,"0-3":o.DEALS,"0-4":o.ENGAGEMENT,"0-5":o.TICKETS,"0-8":o.LINE_ITEMS,"0-11":o.CONVERSATIONS,"0-19":o.FEEDBACK_SUBMISSIONS,"0-20":o.ATTRIBUTION_TOUCH_POINTS,"0-27":o.TASK,"0-47":o.MEETING_EVENT,"0-48":o.CALL,"0-52":o.CONTACT_CREATE_ATTRIBUTION,"0-60":o.FORECAST,"0-63":o.DEAL_CREATE_ATTRIBUTION,"0-68":o.SEQUENCE_ENROLLMENTS,"0-69":o.SUBSCRIPTIONS,"0-74":o.GOAL_TARGET,"0-79":o.SEQUENCE_STEP_ENROLLMENTS,"0-96":o.PLAYBOOK,"0-99":o.PLAYBOOK_SUBMISSION,"0-101":o.COMMERCE_PAYMENTS,"0-136":o.LEADS,"0-149":o.AI_FORECAST}),m=d.flip(),g=(Object(a.fromJS)(["0-11","0-27","0-47","0-48","0-68","0-69","0-74","0-101","0-136"]),Object(a.fromJS)({"0-27":["RA:TasksSOBuilder"],"0-47":["RA:MeetingsSOBuilder"],"0-48":["RA:CallsSOBuilder"],"0-68":["RA:SequenceEnrollmentSOBuilder"],"0-74":["Goals:SOReportBuilder"],"0-136":["LeadTracking:GeneralAccess"]}),e=>{const t=e.get("objectTypeId");return l({id:e.get("id"),metaTypeId:e.get("metaTypeId"),name:m.includes(e.get("objectTypeId"))?r.a.text(`reporting-data.dataTypes.crmObjects.${d.get(t)}.singularForm`):e.get("singularForm")||e.get("name"),objectTypeId:t,defaultSearchPropertyNames:e.get("defaultSearchPropertyNames"),createDatePropertyName:e.get("createDatePropertyName"),pluralForm:m.includes(t)?r.a.text(`reporting-data.dataTypes.crmObjects.${d.get(t)}.pluralForm`):e.get("pluralForm"),originalMetaDefinition:e})}),b=e=>e&&(Object(i.b)(e)||"CRM_OBJECT"===e)||m.includes(e),O=[m.get(o.SEQUENCE_ENROLLMENTS)],f=e=>p.includes(e)?Promise.resolve(p.get(e)):c.a("properties/v4/"+e).then(t=>{p=p.set(e,t.map(e=>e.get("property")));return p.get(e)}),E=e=>u.includes(e)?Promise.resolve(u.get(e)):c.a("inbounddb-meta/v1/object-types/"+e).then(t=>{u=u.set(e,g(t));return u.get(e)}),y=e=>E(e).then(e=>e.get("pluralForm")),T=e=>E(e).then(e=>({defaultProperties:e.get("defaultSearchPropertyNames"),defaultDateProperty:e.get("createDatePropertyName"),pluralName:e.get("pluralForm")}))},k3TD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"c",(function(){return l}));n.d(t,"b",(function(){return b}));var r=n("QYOI"),a=n("nDpY"),o=n.n(a),s=n("q/VH");const i="hs_object_id",c={[s.m]:"contact",[s.l]:"company",[s.o]:"deal",[s.B]:"ticket"},l=(s.m,s.m,s.l,s.l,s.o,s.o,s.B,s.B,s.n,s.n,s.g,s.g,s.h,s.h,s.J,s.J,s.I,s.I,s.D,s.D,s.C,s.C,s.P,s.P,s.O,s.O,s.N,s.N,s.M,s.M,s.L,s.L,s.K,s.K,s.F,s.F,s.E,s.E,s.H,s.H,s.G,s.G,s.S,s.S,s.T,s.T,s.V,s.V,s.U,s.U,s.Q,s.Q,s.R,s.R,(e,t)=>{const n=e in c&&c[e];return n?`/contacts/${o.a.get()}/${n}/${t}/`:`/contacts/${o.a.get()}/record/${e}/${t}/`}),u=(e,t)=>`/live-messages/${o.a.get()}?cvObjectId=${t}`,p=(e,t)=>`/live-messages/${o.a.get()}/inbox/${t}`,d=(e,t)=>`/calls/${o.a.get()}/review/${t}`,m=(e,t)=>`/sequences/${o.a.get()}/sequence/${t}`,g=(e,t)=>`/tasks/${o.a.get()}/view/all/task/${t}`,b=Object(r.fromJS)({[s.m]:{[i]:l},[s.l]:{[i]:l,hs_parent_company_id:l},[s.o]:{[i]:l},[s.B]:{hs_ticket_id:l,[i]:l},[s.n]:{[i]:u,hs_thread_id:p},[s.A]:{[i]:g},[s.g]:{[i]:d},[s.h]:{__hs_event_native_object_id:d},[s.J]:{hs_sequence_id:m},[s.I]:{hs_sequence_id:m},[s.D]:{hs_sequence_id:m},[s.C]:{hs_sequence_id:m},[s.P]:{hs_sequence_id:m},[s.O]:{hs_sequence_id:m},[s.N]:{hs_sequence_id:m},[s.M]:{hs_sequence_id:m},[s.L]:{hs_sequence_id:m},[s.K]:{hs_sequence_id:m},[s.F]:{hs_sequence_id:m},[s.E]:{hs_sequence_id:m},[s.H]:{hs_sequence_id:m},[s.G]:{hs_sequence_id:m},[s.S]:{hs_sequence_id:m},[s.T]:{hs_sequence_id:m},[s.V]:{hs_sequence_id:m},[s.U]:{hs_sequence_id:m},[s.Q]:{hs_sequence_id:m},[s.R]:{hs_sequence_id:m}})},kEPo:function(e,t,n){"use strict";n.r(t);n.d(t,"getDealCreateStage",(function(){return N}));n.d(t,"getPropertyGroups",(function(){return P}));n.d(t,"getProperties",(function(){return U}));var r=n("G2Xo"),a=n("QYOI"),o=n("u9+u"),s=n("hZMd"),i=n("gWJY"),c=n("6Umb"),l=n("AYIY"),u=n("wnG7"),p=n("jOkw"),d=n("/SfS"),m=n("SxRi"),g=n("TTw+"),b=n("MSlI"),O=n("qKmU"),f=n("0iGF"),E=n("6sbF"),y=n("y2XY"),T=n("Oc1M"),I=n.n(T);const h=Object(c.a)("reporting-data.properties.deals"),j=(e,t={})=>Object(r.a)("reporting-data.properties.deals."+e,t),A=Object(c.a)("reporting-data.groups.deals"),S=Object(c.a)("reporting-data.properties.common"),_=()=>[{value:"YES",label:S("buckets.included")},{value:"NO",label:S("buckets.excluded")}],N=()=>({value:"create",label:h("stage.create"),displayOrder:-1}),R=()=>Object(g.a)(o.DEALS).then(e=>e.reduce((e,{label:t,stages:n})=>[...e,...n.map(e=>({label:Object(p.b)(Object(a.fromJS)({label:e.label,pipelineLabel:t}),e.stageId),displayOrder:e.displayOrder,value:e.stageId,metadata:e.metadata}))],[N()])),C=e=>`dealstages.${Object(u.a)(e)}_entered`,v=e=>`BUCKET_${C(e)}_enteredCount`,L=e=>e.reduce((e,{label:t,metadata:n})=>{if(!n)return e;const{dateEnteredStagePropertyName:r,timeInStagePropertyName:a,dateExitedStagePropertyName:o}=n;return Object.assign({},e,{[r]:{name:r,label:j("hs_date_entered",{stageName:t})},[o]:{name:o,label:j("hs_date_exited",{stageName:t})},[a]:{name:a,label:j("hs_time_in",{stageName:t})}})},{}),D=()=>Object(a.fromJS)({name:"dealscripted",displayName:A("dealscripted"),displayOrder:0,hubspotDefined:!0,properties:[{name:"BUCKET_createdate_enteredCount",property:"createdate",groupName:"dealscripted",scripted:!0,label:h("BUCKET_createdate_enteredCount"),type:"buckets",blocklistedForFiltering:!0,options:_()},{name:"BUCKET_dealProgress",property:"deal.probability",groupName:"dealscripted",scripted:!0,label:h("BUCKET_dealProgress"),blocklistedForFiltering:!0,type:"buckets",options:[{value:"WON",label:h("dealprogress.won")},{value:"OPEN",label:h("dealprogress.open")},{value:"LOST",label:h("dealprogress.lost")}]},{name:"dealstage.probability",groupName:"dealscripted",scripted:!0,label:h("dealstageProbability"),type:"number",defaultNullValue:-1,options:[{value:"WON",label:h("dealprogress.won")},{value:"OPEN",label:h("dealprogress.open")},{value:"LOST",label:h("dealprogress.lost")}]},{name:"days_to_close",groupName:"dealscripted",scripted:!0,label:h("days_to_close"),type:"number"}]}),M=()=>Object(g.a)(o.DEALS).then(a.fromJS).then(e=>{const t=e.map(e=>e.get("stages").map(t=>{const n=t.get("stageId"),r=t.get("label");return Object(a.List)([Object(a.Map)({name:C(n),type:"datetime",label:Object(p.b)(Object(a.fromJS)({label:j("enteredStage",{stageLabel:r}),pipelineLabel:e.get("label")}),n),groupName:"dealstages",scripted:!0,stageId:n,pipeline:e}),Object(a.Map)({name:v(n),property:C(n),type:"buckets",label:j("hasEnteredStage",{stageLabel:r}),groupName:"dealstages",scripted:!0,stageId:n,pipeline:e,options:Object(a.fromJS)(_()),buckets:[{name:"YES",operator:"GT",value:0},{name:"NO"}]})])})).flatten(2),n=e.map(e=>e.get("stages").map(t=>{const n=t.get("stageId"),r=t.get("label");return Object(a.Map)({name:`dealstages.${Object(u.a)(n)}_duration`,durationUnit:"milliseconds",label:Object(p.b)(Object(a.fromJS)({label:j("timeInStage",{stageLabel:r}),pipelineLabel:e.get("label")}),n),description:h("timeInStageDescriptions"),groupName:"dealstages",type:"duration",scripted:!0,stageId:n,pipeline:e})})).flatten(1);return Object(a.Map)({name:"dealstages",displayName:A("dealstages"),displayOrder:0,hubspotDefined:!0,properties:Object(a.List)([Object(a.Map)({name:"dealstages.*_duration",groupName:"dealstages",scripted:!0,label:h("timeInAllStages"),description:h("timeInStageDescriptions"),type:"duration",durationUnit:"milliseconds",blocklistedForFiltering:!0}),...n,...t])})}),P=I()(()=>l.a.all([Object(m.a)(o.DEALS),M(),R()]).then(([e,t,n])=>Object(O.a)(Object(a.List)([...e,D(),t]),"dealinformation",Object.assign({"associations.company":{name:"associations.company",label:S("associatedCompanies"),type:"enumeration"},"associations.contact":{name:"associations.contact",label:S("associatedContacts"),type:"enumeration"},dealstage:{options:n},amount:{name:"amount",type:"currency",label:h("amount")},hubspot_team_id:{referencedObjectType:"TEAM"},hs_closed_amount:{name:"hs_closed_amount",type:"currency",label:h("hs_closed_amount"),hidden:!1},hs_projected_amount:{name:"hs_projected_amount",type:"currency",label:h("hs_projected_amount"),hidden:!1},amount_in_home_currency:{name:"amount_in_home_currency",type:"currency",label:h("amount_in_home_currency")},projectedAmount:{name:"projectedAmount",type:"currency",label:h("projectedAmount"),scripted:!0,hidden:!0},closedAmount:{name:"closedAmount",type:"currency",label:h("closedAmount"),scripted:!0,hidden:!0},closedAmountInHomeCurrency:{name:"closedAmountInHomeCurrency",type:"currency",label:h("closedAmountInHomeCurrency"),scripted:!0,hidden:!0},projectedAmountInHomeCurrency:{name:"projectedAmountInHomeCurrency",type:"currency",label:h("projectedAmountInHomeCurrency"),scripted:!0,hidden:!0},hs_projected_amount_in_home_currency:{name:"hs_projected_amount_in_home_currency",type:"currency",label:h("hs_projected_amount_in_home_currency"),hidden:!1},hs_closed_amount_in_home_currency:{name:"hs_closed_amount_in_home_currency",type:"currency",label:h("hs_closed_amount_in_home_currency"),hidden:!1},"_inbounddbio.importid_":{name:"_inbounddbio.importid_",label:S("inboundDbImport"),type:"enumeration",hidden:!1,blocklistedForAggregation:!0},hs_deal_stage_probability:{type:"percent"},hs_created_by_user_id:{type:"enumeration",externalOptions:!0,referencedObjectType:"USER",externalOptionsReferenceType:"USER",defaultNullValue:s.a.NUMBER,reportingOverwrittenNumericType:!0}},L(n))))),U=I()(()=>l.a.all([Object(b.a)(P)(),R()]).then(([e,t])=>e.merge(Object(E.b)(o.DEALS)).merge(Object(f.a)()).merge(Object(y.a)()).merge(Object(a.fromJS)({dealId:{name:"dealId",label:h("deal"),type:"string"},"funnel.dealstage":{name:"funnel.dealstage",label:h("dealStage"),type:"enumeration",options:t,blocklistedForGrouping:!0},"pipeline.dealstage":{name:"pipeline.dealstage",label:h("dealStage"),type:"enumeration",options:t,blocklistedForGrouping:!0},snapshotDate:{name:"snapshotDate",type:"date",hidden:!0,blocklistedForAggregation:!0,blocklistedForFiltering:!0}}))).then(Object(d.a)(i.a.getInboundSpec())))},kKAy:function(e,t,n){"use strict";n.r(t);n.d(t,"getNotePropertyGroups",(function(){return g}));n.d(t,"getPropertyGroups",(function(){return b}));n.d(t,"getProperties",(function(){return O}));var r=n("QYOI"),a=n("AYIY"),o=n("6Umb"),s=n("u9+u"),i=n("MSlI"),c=n("03no"),l=n("6sbF"),u=n("YrWE"),p=n("/SfS");const d=Object(o.a)("reporting-data.properties.notes"),m=Object(o.a)("reporting-data.groups.engagement"),g=()=>a.a.resolve(r.List.of(Object(r.Map)({name:"noteInfo",displayName:m("noteInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(r.List)([Object(r.Map)({name:"note.body",label:d("body"),type:"string"})])}))),b=()=>a.a.all([Object(c.a)(),g()]).then(([e,t])=>Object(r.List)([...e,...t])),O=()=>Object(i.a)(b,e=>e.merge(Object(l.b)(s.NOTES)))().then(Object(p.a)(u.a.getInboundSpec()))},kV5Q:function(e,t,n){"use strict";n.d(t,"d",(function(){return a}));n.d(t,"c",(function(){return o}));n.d(t,"e",(function(){return s}));n.d(t,"h",(function(){return i}));n.d(t,"k",(function(){return c}));n.d(t,"g",(function(){return l}));n.d(t,"v",(function(){return u}));n.d(t,"s",(function(){return p}));n.d(t,"x",(function(){return d}));n.d(t,"u",(function(){return m}));n.d(t,"t",(function(){return g}));n.d(t,"w",(function(){return b}));n.d(t,"l",(function(){return O}));n.d(t,"r",(function(){return f}));n.d(t,"o",(function(){return E}));n.d(t,"n",(function(){return y}));n.d(t,"b",(function(){return T}));n.d(t,"f",(function(){return I}));n.d(t,"j",(function(){return h}));n.d(t,"m",(function(){return j}));n.d(t,"a",(function(){return A}));n.d(t,"q",(function(){return S}));n.d(t,"i",(function(){return _}));n.d(t,"p",(function(){return N}));var r=n("3eGA");class a extends Error{constructor(e){super(e);this.name=this.constructor.name;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class o extends a{constructor(e){super(`Deprecated property ${e} used`);this.status=400;this.statusText="DEPRECATED_PROPERTY";this.meta={property:e}}}class s extends a{constructor(e){super(`Only one metric is allowed and it must contain the property count for this report. ${e} was given instead. Try removing this report and selecting a different one`);this.status=400;this.statusText="FUNNEL_COUNT_PROPERTY_NOT_PRESENT";this.meta={metricName:e}}}class i extends a{constructor(e=[]){super(`Invalid property ${e} used`);this.status=400;this.statusText="INVALID_PROPERTIES";this.meta={properties:e}}}class c extends a{constructor(e){super("missing properties for "+e)}}class l extends a{constructor(e){super(`invalid pipeline: "${e}"`);this.meta={pipeline:e}}}class u extends a{constructor(){super("too much data to process");this.status=413;this.statusText="REQUEST_ENTITY_TOO_LARGE"}}class p extends a{constructor(){super("too many breakdowns to process")}}class d extends a{constructor({type:e,entity:t}){super(`unsupported ${e} used`);this.meta={type:e,entity:t}}}class m extends a{constructor(){super("too many metrics to request")}}class g extends a{constructor(){super("too many deal stages to request")}}class b extends a{constructor(){super("report does not support the requested date range")}}class O extends a{constructor(){super("missing data needed to finish report resolution");this.status=404;this.statusText="MISSING_REQUIRED_DATA"}}class f extends a{constructor(){super("too large dataset to process");this.status=422;this.statusText="REQUEST_DATASET_TOO_LARGE"}}class E extends a{constructor(){super("Forecasting cadences must be uniform across all pipelines");this.status=422;this.statusText="PIPELINE_CADENCE_MISMATCH"}}class y extends a{constructor(){super("report contains no dimensions or metrics");this.statusText=r.MISSING_DIMENSIONS_AND_METRICS}}class T extends a{constructor(){super("report is not avaliable becuase its data is reprocessing");this.statusText=r.DATA_REPROCESSING}}class I extends a{constructor(e){super(e.message);this.statusText=r.HIGHCHARTS_ERROR}}class h extends a{constructor(){super("the report requires a site filter");this.statusText=r.MISSING_INTEGRATION_ERROR}}class j extends a{constructor(){super("the report requires at least one series filter");this.statusText=r.MISSING_SERIES_ERROR}}class A extends a{constructor(){super("access denied");this.statusText=r.ACCESS_DENIED;this.status=403}}class S extends a{constructor(){super("timeout");this.statusText=r.TIMEOUT}}class _ extends a{constructor({propertyName:e}){super("dealstage.*_duration cannot be used in two dimension reports");this.statusText=r.INVALID_TWO_DIMENSION_METRIC;this.meta={propertyName:e}}}class N extends a{constructor(e,t){super("report failed a raas resolve network call");this.datasetKey=e;this.errorBody=t}}},kaWj:function(e,t,n){"use strict";n.d(t,"r",(function(){return o}));n.d(t,"n",(function(){return s}));n.d(t,"b",(function(){return f}));n.d(t,"e",(function(){return N}));n.d(t,"q",(function(){return R}));n.d(t,"t",(function(){return C}));n.d(t,"p",(function(){return v}));n.d(t,"s",(function(){return L}));n.d(t,"k",(function(){return D}));n.d(t,"y",(function(){return M}));n.d(t,"x",(function(){return P}));n.d(t,"z",(function(){return U}));n.d(t,"w",(function(){return k}));n.d(t,"v",(function(){return x}));n.d(t,"u",(function(){return w}));n.d(t,"E",(function(){return Y}));n.d(t,"B",(function(){return B}));n.d(t,"A",(function(){return G}));n.d(t,"C",(function(){return V}));n.d(t,"D",(function(){return H}));n.d(t,"F",(function(){return W}));n.d(t,"l",(function(){return K}));n.d(t,"o",(function(){return q}));n.d(t,"a",(function(){return Q}));n.d(t,"d",(function(){return $}));n.d(t,"c",(function(){return J}));n.d(t,"i",(function(){return z}));n.d(t,"j",(function(){return X}));n.d(t,"f",(function(){return Z}));n.d(t,"h",(function(){return ee}));n.d(t,"g",(function(){return te}));n.d(t,"m",(function(){return ne}));var r=n("QYOI"),a=n("XcLi");const o={UNDEFINED:"UNDEFINED",NULL:"NULL",NUMERIC_LITERAL:"NUMERIC_LITERAL",STRING_LITERAL:"STRING_LITERAL",BOOLEAN_LITERAL:"BOOLEAN_LITERAL",NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",DATE:"DATE",DATETIME:"DATETIME",PROPERTY:"PROPERTY",UNION:"UNION",GENERIC:"GENERIC",FUNCTION:"FUNCTION"},s={number:"number",string:"string",bool:"bool",enumeration:"enumeration",datetime:"datetime",date:"date",phone_number:"phone_number",currency_number:"currency_number",json:"json",object_coordinates:"object_coordinates"},i=a.l(o,"TypeName"),c=(e,t,n)=>a.i({type:i.always(e).defaultValue(e),value:n},t),l=(e,t)=>a.i({type:i.always(e).defaultValue(e)},t),u=c(o.UNDEFINED,"UndefinedType",a.a().always(void 0)),p=c(o.NULL,"NullType",a.a().always(null).defaultValue(null)),d=c(o.NUMERIC_LITERAL,"NumericLiteralType",a.g()),m=c(o.STRING_LITERAL,"StringLiteralType",a.k()),g=c(o.BOOLEAN_LITERAL,"BooleanLiteralType",a.b()),b=l(o.NUMBER,"NumberType"),O=l(o.STRING,"StringType"),f=l(o.BOOLEAN,"BooleanType"),E=l(o.DATE,"DateType"),y=l(o.DATETIME,"DatetimeType"),T=a.i({type:i.always(o.PROPERTY).defaultValue(o.PROPERTY),propertyType:a.l(s)},"PropertyType"),I=a.i({type:i.always(o.GENERIC).defaultValue(o.GENERIC),name:a.k()},"GenericType"),h=e=>({UnionType:a.i({type:i.always(o.UNION).defaultValue(o.UNION),types:a.d(e)},"UnionType"),FunctionType:a.i({type:i.always(o.FUNCTION).defaultValue(o.FUNCTION),signatures:a.d(a.i({arguments:a.d(e).defaultValue([]),rest:e.optional(),returns:e},"FunctionSignature")),isAggregation:a.b().defaultValue(!1)},"FunctionType")}),j=a.j(e=>{const{UnionType:t,FunctionType:n}=h(e);return a.h("type",{[o.UNDEFINED]:u,[o.NULL]:p,[o.NUMERIC_LITERAL]:d,[o.STRING_LITERAL]:m,[o.BOOLEAN_LITERAL]:g,[o.NUMBER]:b,[o.STRING]:O,[o.BOOLEAN]:f,[o.DATE]:E,[o.DATETIME]:y,[o.PROPERTY]:T,[o.UNION]:t,[o.GENERIC]:I,[o.FUNCTION]:n},"Type")}),{UnionType:A,FunctionType:S}=h(j),_=A,N=S,R=j,C=a.i({type:R,value:a.a()},"Value"),v=a.f(C,"Scope"),L=u({}),D=p({}),M=e=>m({value:e}),P=e=>T({propertyType:e}),U=(...e)=>_({types:Object(r.Set)(e).toList()}),k=e=>I({name:e}),x=(...e)=>N({signatures:e}),w=(...e)=>x(...e).set("isAggregation",!0),F=e=>U(e,D),Y=e=>e.type===o.UNDEFINED,B=e=>e.type===o.NULL,G=e=>{switch(e.type){case o.NUMERIC_LITERAL:case o.STRING_LITERAL:case o.BOOLEAN_LITERAL:return!0;default:return!1}},V=e=>{switch(e.type){case o.NUMBER:case o.STRING:case o.BOOLEAN:case o.DATE:case o.DATETIME:return!0;default:return!1}},H=e=>e.type===o.PROPERTY,W=e=>e.type===o.UNION,K=b({}),q=O({}),Q=f({}),$=E({}),J=y({}),z=F(K),X=F(q),Z=F(Q),ee=F($),te=F(J),ne={NUMBER:P(s.number),STRING:P(s.string),BOOL:P(s.bool),ENUMERATION:P(s.enumeration),DATE:P(s.date),DATETIME:P(s.datetime),PHONE_NUMBER:P(s.phone_number),CURRENCY_NUMBER:P(s.currency_number),JSON:P(s.json),OBJECT_COORDINATES:P(s.object_coordinates)}},kqwf:function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"precondition",(function(){return B}));n.d(r,"format",(function(){return G}));var a=n("QYOI"),o=n("u9+u"),s=n("4sYE"),i=n("nJ0p"),c=(e,t)=>Object(i.a)(e,t).filterNot(e=>Boolean(e.get("label"))).map(e=>e.get("raw")).toSet(),l=n("bt3G"),u=n("t9Aa"),p=n("chpV"),d=n("+Gor"),m=n("mkAW"),g=n("UHjn"),b=n("l5oV"),O=n("I5fL"),f=n("wAvg"),E=n("8ayz"),y=n("U9YW"),T=n("BGD4"),I=n("zors"),h=n("kyD0"),j=n("w+gF"),A=n("G2Xo");var S=(e,t,n="")=>e?Object(A.a)("reporting-data.propertyLabel."+t.toUpperCase(),{propertyLabel:e}):n,_=n("5hFj"),N=n("ahZR"),R=n("AYIY"),C=n("1eNF"),v=n("ayHa"),L=n("96fz"),D=n("07iG"),M=n("eWZY");const P="USD",U=(e,t)=>(n,r)=>{const o=e.get("configType"),s=r.get(v.b),i=Object(D.a)(e,s);if([y.a,y.f].includes(o)&&(s||v.d.includes(n))){if(i){if(i.get("operator")===N.b)return Object(C.a)(i.get("value"));if(i.get("operator")===N.f&&1===i.get("values",Object(a.List)()).size)return Object(C.a)(i.get("values",Object(a.List)()).first())}return null}return t};var k=(e,t)=>{if(!e.get("metrics").some(e=>{const n=e.get("property");return"currency"===t.getIn([n,"type"])}))return R.a.resolve(()=>null);const n=e.get("processors",Object(a.List)()),r=Object(M.b)(n.find(M.c));return r?R.a.resolve(()=>r):Object(L.a)().then(({homeCurrency:{currencyCode:t=P}})=>U(e,t))},x=n("npjq"),w=n("jpHT");const F=e=>()=>x.a.text("reporting-data.properties.unified-feedback-trends."+e),Y={detractorsCount:{NPS:F("npsDetractorsCount"),CES:F("cesDetractorsCount"),CSAT:F("csatDetractorsCount")},passivesCount:{NPS:F("npsPassivesCount"),CES:F("cesPassivesCount"),CSAT:F("csatPassivesCount")},promotersCount:{NPS:F("npsPromotersCount"),CES:F("cesPromotersCount"),CSAT:F("csatPromotersCount")}},B=(e,t)=>t.get("dataType")===o.UNIFIED_FEEDBACK_TRENDS&&Object(w.a)(Y,e),G=(e,t)=>{const n=Y[e]||{},r=t.getIn(["filters","custom"],Object(a.List)()).find(e=>"surveyType"===e.get("property"),null,Object(a.Map)()).get("value");return r&&Object(w.a)(n,r)?n[r]():null},V=[r],H=(e,t)=>V.find(n=>n.precondition(e,t)),W=["engagement.timestamp"],K=Object(I.a)("invalidMetricValueWarning",e=>console.error("[reporting-data] invalid metric value for "+e)),q=Object(a.Record)({type:null,currencyCode:null,durationUnit:"milliseconds",inverseDeltas:!1,shouldFormat:!0,url:null});var Q=(e=Object(a.Map)(),t=Object(a.Map)(),n=Object(a.Map)())=>{const r=e.get("dataType"),o=e.get("configType"),s=e.get("frequency"),i=Object(j.b)(n,e,t);return k(e,t.get(r,Object(a.Map)())).then(c=>{const l=n=>{if("lifecyclestage"===n){const n=Object(E.c)(e);if(n){const e=`BUCKET_hs_date_entered_${n}_enteredCount`;return t.getIn([r,e])||Object(a.Map)()}}const s=t.getIn([r,n])||Object(a.Map)(),i=s.get("name");return o===y.e&&W.includes(i)?s.set("type","timestamp"):s},u=(t,n,u)=>{const p=l(u),d=H(u,e),m=d&&d.format(u,e)||p.get("label");m||h.a.once("hydrate/dataset","missing property: "+u);const g=c(u,p),b=p.get("type"),O=p.get("durationUnit"),f=q({type:b,currencyCode:"currency"===b?g:void 0,durationUnit:O,inverseDeltas:p.get("inverseDeltas"),shouldFormat:"unformatted"!==p.get("numberDisplayHint"),url:p.getIn(["options",t,"url"])});return Object(a.Map)({raw:t,formatted:Object(_.a)(t,p,{currencyCode:g,frequency:s,metricType:n,configType:o,dataType:r,smallScale:o===y.e||i.getIn([u,n],!1)}),label:S(m,n,u),propertyMeta:f})},p=(e,t)=>e.map((e,n)=>{if(a.Map.isMap(e)&&(e.has("raw")||e.has("formatted"))){return u(e.get("raw"),n,t).merge(e)}null==e||"number"==typeof e||"string"==typeof e||a.List.isList(e)||K(t);return u(e,n,t)}),d=e=>e.withMutations(t=>{const n=e.get("property"),r=l(n),a=t.get("propertyLabel")||r.get("label")||n;t.set("propertyLabel",a);e.has("buckets")&&t.update("buckets",e=>e.map(e=>g(e,r)))}),m=e=>{e.has("metrics")&&e.update("metrics",e=>e.map(p));e.has("dimension")&&e.update("dimension",d)},g=(e,t)=>e.withMutations(e=>{const n=e.get("key");m(e);if(n||""===n){const r=e.get("keyLabel")||Object(_.a)(n,t,{frequency:s}),a=t.getIn(["options",n,"url"]);a&&e.set("keyLink",a);e.set("keyLabel",r)}});return(e=>e.withMutations(e=>{m(e);e.has("total")&&e.update("total",e=>u(e,T.COUNT,"total"))}))(n)})};n.d(t,"b",(function(){return z}));n.d(t,"a",(function(){return X}));const $={OWNER:Object(m.a)(b.a)},J=({config:e=Object(a.Map)(),data:t=Object(a.List)(),properties:n=Object(a.Map)(),referenceGetters:r=Object(a.Map)(),response:o})=>{const s=e.get("dataType");return Object(l.a)(s).then(i=>{const p=e.get("metrics",Object(a.List)()).map(e=>e.get("property")),d=[...e.get("dimensions",Object(a.List)()).concat(e.get("properties",Object(a.List)())).concat(p)].reduce((u,p)=>{const d=r.get(p);if(d)return[...u,d(e,p,t,o,void 0,{excludeNull:n.getIn([s,p,"reportingOverwrittenNumericType"]),overwrittenNullLabel:n.getIn([s,p,"reportingOverwrittenNumericNullLabel"])})];const m=i.getIn(["referenceProperties",p],null);if(m){const n=c(p,t).toList().map(f.a),r=Object(l.a)(m).then(t=>t.get("hydrate")(n,e).then(e=>Object(a.Map)({key:p,value:e.map((e,t)=>Object(g.b)(t,e))})));return[...u,r]}return u},[]);return Object(u.a)(d).then(e=>e.reduce((e,{state:t,value:n})=>{if("fulfilled"===t&&n){const{properties:t}=e;return{properties:t.setIn([s,n.get("key"),"options"],n.get("value"))}}return e},{properties:n})).then(e=>Object.assign({},e))})},z=({dataConfig:e,dataset:t,response:n})=>{const r=e.get("dataType");return Object(l.a)(r).then(s=>(r===o.CROSS_OBJECT?Object(O.a)(e):Object(p.a)(r)).then(o=>{const i=o.get(r).filter(e=>$.hasOwnProperty(e.get("referencedObjectType"))).map(e=>$[e.get("referencedObjectType")]).merge(s.get("references",Object(a.Map)()));return J({config:e,data:t,properties:o,referenceGetters:i,response:n})}).then(({properties:e})=>e).then(n=>Q(e,n,t)))},X=Object(d.a)(s.b,z)},kyD0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zors"),a=n("Ff2B");const o=["#ea90b1","#fea58e","#f5c78e","#a2d28f","#51d3d9","#81c1fd","#bda9ea","#9784c2"],s=((e=0)=>()=>o[e++%o.length])(),i=Object(r.a)("debug",e=>{const t=s(),n=(...n)=>{if(Object(a.a)()){const r=`color: ${t}; font-weight: bold;`;console.log("%c"+e,r,...n)}};n.once=Object(r.a)(n);return n});i.log=(e,...t)=>i(e)(...t);i.once=(e,...t)=>i(e).once(...t)},l1KU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("TvdH"),a=n.n(r);const o=a()(["user","user_id"]);a()(["user","email"])},l5oV:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("QYOI"),a=n("npjq"),o=n("Fkpl"),s=n("MIaD"),i=n("UHjn"),c=n("hZMd"),l=n("dPcB");const u=(e,t,{isRelational:n}={})=>{const o=!(e=Object(r.fromJS)(e))||!e.has("firstName")&&!e.has("lastName")&&!e.has("email")&&!e.has("label"),s=t===c.a.ENUMERATION||""===t||0===Number(t);return o||s?t&&t!==c.a.ENUMERATION&&0!==Number(t)?a.a.text("reporting-data.missing.unknown.owner",{id:t}):n?a.a.text("reporting-data.missing.value"):a.a.text("reporting-data.missing.unassigned"):e.has("label")?e.get("label"):Object(l.a)({firstName:e.get("firstName"),lastName:e.get("lastName"),email:e.get("email")})};t.a=e=>Object(o.a)(Object(s.a)(e)).then(t=>Object.keys(t).reduce((e,n)=>e.set(String(n),Object(i.b)(n,u(t[n]))),e.includes(c.a.ENUMERATION)?Object(r.Map)({[c.a.ENUMERATION]:Object(i.b)(c.a.ENUMERATION,a.a.text("reporting-data.missing.unassigned"))}):Object(r.Map)()))},lKVk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["number","duration","currency","percent"]},lf24:function(e,t,n){"use strict";n.r(t);var r=n("QYOI"),a=n("AYIY"),o=n("u9+u"),s=n("03no"),i=n("ShXV"),c=n("xhc2"),l=n("kKAy"),u=n("5OFW"),p=n("6Umb"),d=n("MSlI"),m=n("c50W");const g=Object(p.a)("reporting-data.groups.engagement"),b=Object(p.a)("reporting-data.properties.publishingTasks"),O=()=>a.a.resolve(r.List.of(Object(r.fromJS)({name:"publishingTaskInfo",displayName:g("publishingTaskInfo"),hubspotDefined:!0,properties:[{name:"publishingTask.state",label:b("state.label"),type:"enumeration",options:[{value:"TODO",label:b("state.options.TODO")},{value:"DONE",label:b("state.options.DONE")}]},{name:"publishingTask.category",label:b("category.label"),type:"enumeration",options:[{label:b("category.options.BLOG_POST"),value:"BLOG_POST"},{label:b("category.options.CUSTOM"),value:"CUSTOM"},{label:b("category.options.EMAIL"),value:"EMAIL"},{label:b("category.options.FACEBOOK"),value:"FACEBOOK"},{label:b("category.options.LANDING_PAGE"),value:"LANDING_PAGE"},{label:b("category.options.LEGACY_PAGE"),value:"LEGACY_PAGE"},{label:b("category.options.LINKEDIN"),value:"LINKEDIN"},{label:b("category.options.SITE_PAGE"),value:"SITE_PAGE"},{label:b("category.options.TWITTER"),value:"TWITTER"}]},{name:"publishingTask.campaignGuid",label:b("campaignGuid.label"),type:"enumeration",externalOptions:!0,referencedObjectType:m.E}]}))),f=()=>a.a.all([Object(s.a)(),O()]).then(([e,t])=>Object(r.List)([...e,...t]));Object(d.a)(f,e=>e);var E=n("NwS3"),y=n("T1GP"),T=n("6sbF"),I=n("YrWE"),h=n("/SfS");const j=Object(p.a)("reporting-data.properties.communication"),A=Object(p.a)("reporting-data.groups.engagement"),S=()=>a.a.resolve(r.List.of(Object(r.Map)({name:"communicationInfo",displayName:A("communicationInfo"),displayOrder:0,hubspotDefined:!0,properties:Object(r.List)([Object(r.Map)({name:"communication.body",label:j("body"),type:"string"})])}))),_=Object(p.a)("reporting-data.properties.postalMail"),N=Object(p.a)("reporting-data.groups.engagement"),R=()=>a.a.resolve(r.List.of(Object(r.Map)({name:"postalMail",displayName:N("postalMail"),displayOrder:0,hubspotDefined:!0,properties:Object(r.List)([Object(r.Map)({name:"postalMail.body",label:_("body"),type:"string"})])})));n.d(t,"getPropertyGroups",(function(){return C}));n.d(t,"getProperties",(function(){return v}));const C=()=>a.a.all([Object(s.a)(),Object(i.getCallPropertyGroups)(),Object(c.getConversationPropertyGroups)(),S(),R(),Object(l.getNotePropertyGroups)(),Object(E.getEngagementEmailPropertyGroups)(),Object(y.getMeetingPropertyGroups)(),Object(u.getTaskPropertyGroups)(),O()]).then(([e,t,n,a,o,s,i,c,l,u])=>Object(r.List)([...e,...t,...n,...a,...o,...s,...i,...c,...l,...u])),v=()=>Object(d.a)(C,e=>e.merge(Object(T.b)(o.ENGAGEMENT)))().then(Object(h.a)(I.a.getInboundSpec()))},ljrx:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n.d(t,"c",(function(){return l}));n.d(t,"a",(function(){return u}));var r=n("VlG2"),a=n("XcLi");const o=a.l(r,"DataSource"),s=a.k(),i=a.i({dataSource:o,dataType:s.optional(),use:a.a(),references:a.a().fromJS(),handleError:a.a(),getUnifiedSpecForConfig:a.c().optional(),getInboundSpec:a.c().optional(),referenceProperties:a.a().optional(),search:a.a().optional(),hydrate:a.a().optional()},"Module"),c=e=>i(Object.assign({dataSource:r.INBOUNDDB},e)),l=e=>i(Object.assign({dataSource:r.UNIFIED},e)),u=e=>i(Object.assign({dataSource:r.CUSTOM},e))},llQr:function(e,t,n){"use strict";var r=n("QYOI"),a=n("UHjn");const o={642:"Zerys",1362:"SnapApp",1552:"Unbounce",24027:"Scripted",25200:"Zapier",25343:"WordPress",25427:"Wistia",25487:"Magento",25573:"ReadyTalk",25599:"Scribe",25696:"SnapEngage",25760:"Klipfolio",25777:"SalesforceIQ",25835:"Bedrock Data",25881:"LeadPages",25892:"HubShop.ly for Shopify",25917:"DataHero",25925:"Verblio",26112:"AppCues",26769:"HubShop.ly for BigCommerce",26949:"Base CRM",27036:"Infer",27152:"Seventh Sense",27301:"HelloSign",27374:"Uberflip",27496:"App Data Room",27901:"inboundli",27917:"Perfect Audience",28280:"CallRail",28285:"Datanyze",28533:"WorkflowMax",28536:"Teamwork",28564:"Eventbrite",28662:"UberConference",28754:"Unific (formerly Revenue Conduit)",28779:"Smartling",28836:"CData Software",28996:"Grow",29107:"Zendesk",29142:"Aircall",29498:"DataBox",29685:"Privy",29707:"Opensense",30238:"Beacon eBooks",30430:"LeadsBridge",30544:"Conversica",30708:"Cloudpipes",31318:"Drift",31481:"Azuqua",31765:"AskNicely",31775:"Dasheroo",31942:"AdRoll",32259:"HotJar",32363:"AdEspresso by HootSuite",32450:"PieSync",32460:"Sigstr",32480:"HubShop.ly for Magento",32532:"Slemma",32725:"Proposify",32941:"Toky",33027:"Automate.io",33205:"Pure Chat",33232:"Tray.io",33259:"Front",33338:"Wistia",33674:"PandaDoc",33902:"PhoneBurner",34212:"Lucky Orange",35161:"GoToWebinar",35186:"SurveyMonkey",35224:"Google Calendar",35569:"Kixie",35774:"Vidyard Pro",36196:"Enthusem",36304:"TwentyThree",36992:"Olark",37115:"LeadGnome",37204:"Woopra",37409:"Fomo",37454:"Brightcove",37528:"VOIQ",37845:"Accelo",38080:"CallPage",38273:"Quuu",38341:"briX",38577:"Salesforce",38589:"JustCall",38652:"DepositFix",38659:"Salesmsg",38741:"Dossier",39247:"TapClicks",39687:"Instapage",39806:"Stitch",40128:"GetAccept",40568:"Promo by Slidely",40901:"iCapture",41074:"Help Scout",41259:"Justuno",41644:"Map My Customers",41765:"LiveChat",41985:"BrightTALK",42082:"LinkedIn Sales Navigator",43261:"Cincopa",43817:"Yext Review Generation",43994:"Design Wizard",44044:"Skyvia",48628:"Yext Lead Generation",49055:"Revoice",49078:"Shakr",51340:"Smile.io",51366:"MagneticOne Mobile",51381:"Shopify",51395:"Belch.io",51665:"Swoogo",51670:"VidMob",51837:"OrgChartHub",51841:"Insycle",52136:"Atomic Reach",52447:"Integromat",52619:"Attentive",52668:"Needls.",52827:"Powtoon",52964:"Qwilr",53251:"Viewbix",53446:"Animoto",53656:"Ceros",53904:"G-Accon",54670:"Survicate",54715:"Postalytics",54736:"Zoho Analytics",55021:"Terminus",55554:"Retreaver",55856:"atEvent",56075:"Rambl",56378:"GetSiteControl",56440:"MailChimp",57500:"LeadDyno",58426:"WooCommerce by MakeWebBetter",58713:"XeroSync",58725:"PhoneWagon",58827:"PlusThis",59987:"Data2CRM",60195:"Import2 Wizard",60318:"Visible",60729:"Slack",60950:"Power BI Integration by Bayard Bradford",61385:"CircleLoop",61542:"Paycove",62093:"RingOver",62422:"Typeform",62621:"WorkCast",62823:"Workplace by Facebook",62891:"Wootric",62899:"nDash.co",63044:"Stripe",146082:"Oktopost",168764:"Leadfeeder",168891:"RightMessage",169676:"AdStage",169804:"Intercom",176554:"MAXG",178192:"Zoom",178446:"Google Search Console",179157:"NeverBounce",180085:"HubSpot Video powered by Vidyard",180421:"RoboAuditor",182040:"Outgrow",188672:"Asana",GMAIL_ID:"Gmail",OUTLOOK_ID:"Outlook",FACEBOOK_ADS_ID:"Facebook Ads"},s=Object(r.Map)(o).map((e,t)=>Object(a.b)(t,e));t.a=()=>Promise.resolve(s)},lqKP:function(e,t,n){"use strict";var r=n("npjq"),a=n("QYOI"),o=n("u9+u"),s=n("jpHT"),i=n("ljrx"),c=n("mk7u"),l=n("dPcB");const u=e=>t=>{const n=t.getIn(["associatedObjects",e],Object(a.List)());return Object(a.Map)({raw:n.map(e=>e.get("objectId")),properties:n.map(e=>e.get("properties")),formatted:n.map(e=>Object(l.a)({firstName:e.getIn(["properties","firstname","value"]),lastName:e.getIn(["properties","lastname","value"]),email:e.getIn(["properties","email","value"])})||r.a.text("reporting-data.references.contact.unknown",{id:e.get("objectId").toString()})),label:r.a.text("reporting-data.properties.common.associatedContacts")})},p=e=>t=>{const n=t.getIn(["associatedObjects",e],Object(a.List)());return Object(a.Map)({raw:n.map(e=>e.get("objectId")),properties:n.map(e=>e.get("properties")),formatted:n.map(e=>e.getIn(["properties","name","value"])||r.a.text("reporting-data.references.company.unknown",{id:e.get("objectId").toString()})),label:r.a.text("reporting-data.properties.common.associatedCompanies")})},d=e=>t=>{const n=t.getIn(["associatedObjects",e],Object(a.List)());return Object(a.Map)({raw:n.map(e=>e.get("objectId")),properties:n.map(e=>e.get("properties")),formatted:n.map(e=>e.getIn(["properties","dealname","value"])||r.a.text("reporting-data.references.deal.unknown",{id:e.get("objectId").toString()})),label:r.a.text("reporting-data.properties.common.associatedDeals")})},m=e=>t=>{const n=t.getIn(["associatedObjects",e],Object(a.List)());return Object(a.Map)({raw:n.map(e=>e.get("objectId")),properties:n.map(e=>e.get("properties")),formatted:n.map(e=>{const t=e.get("objectId").toString(),n=e.getIn(["properties","subject","value"]);return t?n?`${n} (${t})`:r.a.text("reporting-data.references.ticket.unknown-with-id",{id:t}):n||r.a.text("reporting-data.references.ticket.unknown")}),label:r.a.text("reporting-data.properties.common.associatedTickets")})},g=e=>e===o.CONTACTS?{associatedcompanyid:p("CONTACT_TO_COMPANY")}:e===o.DEALS||e===o.ENGAGEMENT?{"associations.contact":u("CONTACT"),"associations.company":p("COMPANY"),"associations.deal":d("DEAL"),"associations.ticket":m("TICKET")}:{};var b=n("FQVk");const O=Object.keys(b.a).reduce((e,t)=>Object.assign({},e,{[t]:e=>e.getIn(["properties",b.a[t],"value"],"")}),{"engagement.details":e=>{const t=e.getIn(["properties","hs_engagement_type","value"]);return Object(a.List)(b.b[t]).map(t=>e.getIn(["properties",t,"value"],"")).filterNot(e=>!e).first()}});var f=n("JB0K"),E=n("ij+/");const y={[o.CONTACTS]:"vid",[o.COMPANIES]:"company-id",[o.DEALS]:"dealId",[o.ENGAGEMENT]:"engagement.id",[o.TICKETS]:"hs_ticket_id",[o.FEEDBACK_SUBMISSIONS]:"hs_object_id",[o.GOAL_TARGET]:"hs_object_id"},T={[o.CONTACTS]:["firstname","lastname","email"],[o.COMPANIES]:["name"],[o.DEALS]:["dealname","deal_currency_code"],[o.LINE_ITEMS]:["objectId","hs_line_item_currency_code"],[o.ENGAGEMENT]:["title"],[o.TICKETS]:["subject"]},I={[o.CONTACTS]:{associatedcompanyid:{CONTACT_TO_COMPANY:{properties:T[o.COMPANIES]}}},[o.DEALS]:{"associations.contact":{CONTACT:{properties:T[o.CONTACTS]}},"associations.company":{COMPANY:{properties:T[o.COMPANIES]}}},[o.ENGAGEMENT]:{"associations.contact":{CONTACT:{properties:T[o.CONTACTS]}},"associations.company":{COMPANY:{properties:T[o.COMPANIES]}},"associations.deal":{DEAL:{properties:T[o.DEALS]}},"associations.ticket":{TICKET:{properties:T[o.TICKETS]}}}},h={[o.CONTACTS]:"reporting-data.references.contact.unknown",[o.COMPANIES]:"reporting-data.references.company.unknown",[o.DEALS]:"reporting-data.references.deal.unknown",[o.ENGAGEMENT]:"reporting-data.references.activity.unknown",[o.TICKETS]:"reporting-data.references.ticket.unknown",[o.LINE_ITEMS]:"reporting-data.references.line-item.unknown"},j={[o.COMPANIES]:"reporting-data.references.company.unnamed",[o.ENGAGEMENT]:"reporting-data.references.activity.untitled"},A=(e,t,n,a,i)=>{if(t===o.CONTACTS)return Object(c.a)(e);const l=a&&a[0];return e&&l&&Object(s.a)(e,l)?e[l]:e&&l&&!e[l]&&j[t]?r.a.text(j[t],{id:e[n]}):Object(s.a)(h,t)?r.a.text(h[t],{id:e[n]||i}):e[n]},S=(e,t)=>Object(a.Map)(t.reduce((t,n)=>Object.assign({},t,{},I[e]&&I[e][n]||{}),{})),_=e=>{const t=e.get("dataType"),n=f.a.has(t)?o.ENGAGEMENT:t,r=y[n]||"objectId",s=T[t]||[],i=e.get("metrics").map(e=>e.get("property")).toSet().union(s).toList(),c=Object.assign({},n===o.ENGAGEMENT?O:{},{},g(n)),l=S(n,i);return new E.a({dataType:t,objectTypeId:n,search:{url:"crm-search/search/beta",objectsField:"results",properties:i},properties:{idProperty:r,responsePaths:{[r]:["objectId"]},extractors:c},associationPreviews:l,hydrate:{inputs:Object(a.Set)([r,...s]),fn:(e,n)=>A(e,t,r,s,n)}})};t.a=Object(i.b)({getInboundSpec:_})},mEW6:function(e,t,n){"use strict";var r=n("dPcB"),a=n("QYOI"),o=n("q/VH");const s="D-EMAIL_EVENTS";n.d(t,"a",(function(){return c}));n.d(t,"d",(function(){return l}));n.d(t,"c",(function(){return u}));n.d(t,"b",(function(){return d}));const i="hs_object_id",c=Object(a.fromJS)({[o.m]:i,[o.l]:i,[o.o]:i,[o.B]:"hs_ticket_id",[o.i]:i,[o.g]:i,[s]:"hs_email_scheduled_id"}),l=(e,t)=>{const n=e===i,r=e===c.get(t);return n||r},u=(e,t,n,r)=>`${r[t]} (${e})`,p=(e,t,n,{firstname:a,lastname:o,email:s})=>Object(r.a)({firstName:a,lastName:o,email:s}),d=Object(a.fromJS)({[o.m]:p})},mQDE:function(e,t,n){"use strict";var r=n("Ktcs"),a=n("GgP/"),o=n.n(a),s=n("Tj6W"),i=n.n(s);n("bQHN");const c={loading:!0,error:null,data:i()({gates:[],limits:{},portal:{},scopes:[],user:{}})},l=e=>{const{gates:t,portal:n,user:r}=e,{limits:a}=n,{scopes:o}=r;return i()({gates:t,limits:a,portal:n,scopes:o,user:r})},u=()=>{const[e,t]=Object(r.useState)(c);Object(r.useEffect)(()=>{try{const e=Object(a.userInfoSync)();t({loading:!1,error:null,data:l(e)})}catch(n){o()().then(e=>{t({loading:!1,error:null,data:l(e)})},n=>{console.error(n);t(Object.assign({},e,{error:n}))})}},[]);return e};t.a=u},mgmp:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n.d(t,"a",(function(){return o}));var r=n("Ke4B");const a=()=>{const{showDialog:e}=Object(r.c)();return e},o=()=>{const{hideDialog:e}=Object(r.c)();return e}},mk7u:function(e,t,n){"use strict";n.d(t,"c",(function(){return o}));n.d(t,"b",(function(){return s}));n.d(t,"d",(function(){return i}));n.d(t,"a",(function(){return c}));var r=n("npjq"),a=n("dPcB");const o="vid",s=[o,"firstname","lastname","email"],i=e=>r.a.text("reporting-data.references.contact.unknown",{id:e}),c=(e,t)=>e&&Object(a.a)({firstName:e.firstname,lastName:e.lastname,email:e.email})||i(e[o]||t)},mkAW:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("npjq"),a=n("QYOI"),o=n("hZMd"),s=n("FrAO"),i=n("AYIY"),c=n("wAvg"),l=n("UHjn");const u=e=>(t,n,u,p,d,{excludeNull:m=!1,overwrittenNullLabel:g}={})=>{const b=(d||Object(s.a)(n,u)).map(c.a);return b.isEmpty()?i.a.resolve(Object(a.Map)({key:n,value:Object(a.Map)()})):m?e(b.filter(e=>e!==o.b)).then(e=>Object(a.Map)({key:n,value:e.set(o.b,Object(l.b)(o.b,g||r.a.text("reporting-data.missing.value")))})):e(b).then(e=>Object(a.Map)({key:n,value:e}))}},mop1:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS");const s=r.i({field:r.k()},"AxisEncoding"),i=r.i({dataset:r.k(),x:s,y:s,onClick:r.c()},"Layer"),c=r.i({type:r.k().always(o.i),data:r.f(a.a),layer:i},"WaterfallVisualization")},mtQV:function(e,t,n){"use strict";t.a=(...e)=>t=>{let n=t;for(let t=e.length-1;t>=0;t--)n=e[t](n);return n}},"n/1W":function(e,t){e.exports={clickedTableLink:{name:"REPORT_INTERACTION",class:"interaction",properties:{dataType:"string"},namespace:"reporting"},toggleLegendItem:{name:"REPORT_INTERACTION",class:"interaction",namespace:"reporting"},clickReportSpecificAction:{name:"DASHBOARD_INTERACTION",class:"interaction",properties:{type:{type:"string",isOptional:!0},data_type:{type:"string",isOptional:!0},actionType:["create-task","add-persona","set-quotas","show-goals","show-offline-sources","customize-sales-performance","set-goals","go-to-crm"]},namespace:"reporting"},setMarketingPerformanceGoals:{name:"REPORT_INTERACTION",class:"interaction",namespace:"reporting"},initializeMarketingPerformanceGoals:{name:"REPORT_INTERACTION",class:"interaction",properties:{type:["LAST_MONTHS_VALUES","DEFAULT_VALUES"]},namespace:"reporting"},clickGoToLink:{name:"REPORT_INTERACTION",class:"interaction",namespace:"reporting"},openReportFilters:{name:"REPORT_INTERACTION",class:"interaction",namespace:"reporting"},selectQuickFilter:{name:"ANALYTICS_INTERACTION",class:"interaction",properties:{dataType:{type:"string"},property:{type:"string"},actionType:{type:["edit"]},action:{type:["filter"]},assetType:{type:["report"],isOptional:!1}},namespace:"reporting"},toggleReportChartType:{name:"ANALYTICS_INTERACTION",class:"interaction",properties:{dataType:{type:"string"},chartType:{type:"string"},actionType:{type:["edit"]},action:{type:["change chart type"]},assetType:{type:["report"],isOptional:!1}},namespace:"reporting"},addSrvSavedFilter:{name:"REPORT_INTERACTION",class:"interaction",namespace:"reporting"},changeSrvReportConfigFilters:{name:"REPORT_INTERACTION",class:"interaction",properties:{action:{type:["condition-added","condition-deleted"],isOptional:!1},filterType:{type:"string",isOptional:!0}},namespace:"reporting"},changeSrvObjectSpecificFilters:{name:"REPORT_INTERACTION",class:"interaction",properties:{filterType:{type:"string",isOptional:!0}},namespace:"reporting"},changeSrvDateFilters:{name:"REPORT_INTERACTION",class:"interaction",properties:{action:{type:["date-range","date-property","compared-to","frequency"],isOptional:!1}},namespace:"reporting"},changeSrvSnowflakeFilters:{name:"REPORT_INTERACTION",class:"interaction",namespace:"reporting"},resetSrvFilters:{name:"REPORT_INTERACTION",class:"interaction",namespace:"reporting"},toggleSrvTabs:{name:"REPORT_INTERACTION",class:"interaction",properties:{action:{type:["srv-filters-tab","srv-about-tab"],isOptional:!1}},namespace:"reporting"},drillInto:{name:"ANALYTICS_INTERACTION",class:"interaction",properties:{action:{type:["drill-into"],isOptional:!1},assetType:{type:["report"],isOptional:!1},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0}},namespace:"reporting"},hoverOver:{name:"ANALYTICS_INTERACTION",class:"interaction",properties:{action:{type:["hover-over"],isOptional:!1},assetType:{type:["report"],isOptional:!1},chartType:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},duration:{type:"number",isOptional:!1},templateKey:{type:"string",isOptional:!0},origin:{type:"string",isOptional:!0}},namespace:"reporting"}}},nJ0p:function(e,t,n){"use strict";var r=n("QYOI");const a=Object(r.Record)({raw:null,label:null});function o(e,t,n){let s=n;t.has("metrics")&&(s=t.get("metrics").reduce((t,n,o)=>o===e?t.concat(n.valueSeq().flatMap(e=>r.List.isList(e)?e:Object(r.List)([e])).map(e=>r.Map.isMap(e)?e:a({raw:e}))):t,s));t.getIn(["dimension","property"])===e&&(s=s.concat(t.getIn(["dimension","buckets"]).map(e=>a({raw:e.get("key"),label:e.get("keyLabel")}))));t.has("dimension")&&t.hasIn(["dimension","buckets"])&&(s=t.getIn(["dimension","buckets"]).reduce((t,n)=>o(e,n,t),s));return s}t.a=(e,t)=>o(e,t,Object(r.Set)())},nNCA:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("QYOI"),a=n("VljC"),o=n("Br7N"),s=n("UHjn");const i="inbounddbproducts/v1/products/batch",c=e=>e.get("name");t.a=e=>o.d(a.a.get({url:i,query:{id:e,properties:"name",includeDeletes:!0}})).then(e=>Object(r.Map)(e.map((e,t)=>Object(s.b)(t,e.getIn(["properties","name","value"])))))},nNMF:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));var r=n("QYOI");const a=Object(r.Record)({userSetType:void 0,userSetId:void 0},"PermissionGrant"),o={SINGLE_USER:"SINGLE_USER",TEAM:"TEAM",API_ACCESS:"API_ACCESS"},s=(e,t)=>a({userSetType:e,userSetId:t})},o07f:function(e,t,n){"use strict";var r=n("LZPL"),a=n.n(r),o=n("nDpY"),s=n.n(o);t.a=()=>a.a.isProd()&&53===s.a.get()||a.a.isQa()&&99535353===s.a.get()},o2FA:function(e,t,n){"use strict";var r=n("VfuR"),a=n.n(r);const o=a.a.shape({useFetchQuery:a.a.func.isRequired,useSearchQuery:a.a.func.isRequired,api:a.a.shape({byId:a.a.func.isRequired,search:a.a.func.isRequired,refreshCache:a.a.func.isRequired}).isRequired,referenceType:a.a.string.isRequired});t.a=o},o8Kl:function(e,t,n){"use strict";n.d(t,"f",(function(){return o}));n.d(t,"d",(function(){return s}));n.d(t,"c",(function(){return i}));n.d(t,"b",(function(){return c}));n.d(t,"h",(function(){return l}));n.d(t,"e",(function(){return u}));n.d(t,"g",(function(){return p}));n.d(t,"a",(function(){return d}));var r=n("u9+u"),a=(n("U9YW"),n("U4wD"));n("fhwZ");const o=e=>void 0!==e.get("reportDefinition"),s=e=>void 0!==e.get("journeyQuery"),i=e=>{const t=e.getIn(["displayParams","customWidget","type"]);return!o(e)&&(e.get("chartType")===a.e||void 0!==t&&"DATA_LAYER"!==t)},c=e=>void 0!==e.get("config"),l=e=>e.getIn(["config","dataType"])===r.UNIFIED_EVENTS,u=e=>void 0!==e.get("reportConfigs"),p=e=>void 0!==e.getIn(["displayParams","pluginName"]),d=e=>o(e)||c(e)||i(e)||s(e)||p(e)},oQ2E:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));var r=n("u9+u"),a=n("e2gS");const o=e=>e.getIn(["config","dataType"])===r.CRM_OBJECT&&e.getIn(["config","objectTypeId"]).startsWith(a.a.PORTAL_SPECIFIC+"-"),s=e=>e.startsWith(a.a.PORTAL_SPECIFIC+"-")},oqSb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return i}));var r=n("hZMd"),a=n("O3Yl");const o=(e,t)=>e===r.b||""===e&&[a.g,a.k,a.e,a.f,a.d,a.a,a.i,a.h,void 0].includes(t),s=(e,t)=>e.filter((e,n)=>!o(e,t.get(n))),i=e=>{const t=e.get("properties").map(e=>e.get("type"));return e=(e=e.update("data",e=>e.map(e=>s(e,t)))).update("properties",e=>e.map((e,n)=>{const r=t.get(n);return e.update("references",e=>e.filter((e,t)=>!o(t,r)))}))}},otYv:function(e,t,n){"use strict";n.d(t,"h",(function(){return a}));n.d(t,"d",(function(){return o}));n.d(t,"e",(function(){return s}));n.d(t,"i",(function(){return i}));n.d(t,"a",(function(){return c}));n.d(t,"b",(function(){return l}));n.d(t,"f",(function(){return u}));n.d(t,"c",(function(){return p}));n.d(t,"g",(function(){return d}));n.d(t,"j",(function(){return m}));var r=n("+KD7");const a=r.OBSIDIAN,o=r.GYPSUM,s=r.EERIE,i=r.BATTLESHIP,c=r.CALYPSO,l=r.EERIE,u=r.OLAF,p="rgba(203, 214, 226, 0.6)",d=r.SLINKY,m=(e,t)=>({pattern:{path:{d:e,strokeWidth:2.5},width:10,height:10,opacity:1,color:t}})},pewT:function(e,t,n){"use strict";n.d(t,"c",(function(){return c}));n.d(t,"b",(function(){return l}));n.d(t,"a",(function(){return u}));var r=n("08Ee"),a=n.n(r),o=n("6U1n");const s=(e,t)=>Object(o.c)(e)>=Object(o.c)(t),i=a()((e,t)=>s(t,e)),c=i(o.a.VIEW),l=i(o.a.EDIT),u=i(o.a.CREATE_AND_OWN)},prCU:function(e,t,n){"use strict";n.d(t,"e",(function(){return d}));n.d(t,"j",(function(){return m}));n.d(t,"i",(function(){return b}));n.d(t,"m",(function(){return O}));n.d(t,"a",(function(){return f}));n.d(t,"h",(function(){return y}));n.d(t,"k",(function(){return h}));n.d(t,"c",(function(){return j}));n.d(t,"l",(function(){return A}));n.d(t,"b",(function(){return S}));n.d(t,"g",(function(){return _}));n.d(t,"d",(function(){return R}));n.d(t,"f",(function(){return C}));var r=n("npjq"),a=n("xX1V"),o=n("QYOI"),s=n("e2gS"),i=n("k3TD"),c=n("mEW6"),l=n("3X2b"),u=n("3Wht"),p=n("Q8yF");const d=e=>{const t=e.type;if(t===p.b.HUBSPOT_OBJECT||t===p.b.HUBSPOT_EVENT){if(!e.objectTypeId)throw new Error("Expected objectTypeId to be defined for this data source!");return e.objectTypeId}if(p.b.EVENTS_DIGEST===t)return"D-"+e.eventsDigestType;if(p.b.HUBSPOT_DATASET===t&&e.datasetId)return e.datasetId;throw new Error("Unhandled table.type "+t)},m=e=>Object(o.OrderedSet)([e,...(e.join||Object(o.OrderedSet)()).map(e=>e.target).filter(e=>!!e).flatMap(e=>m(e)).filterNot(e=>e.name===u.a).toList()]).toList(),g=e=>{const t=d(e);return m(e).filter(e=>d(e)!==t)},b=(e,t)=>{if(!t||Object(p.l)(t))return e;const{name:n}=t;if("metaTypeId"in t){const{metaTypeId:e,metaDefinition:n={}}=t,{pluralForm:r,singularForm:a}=n;if(e===s.a.INTEGRATION||e===s.a.PORTAL_SPECIFIC||e===s.a.INTEGRATION_EVENT||e===s.a.PORTAL_SPECIFIC_EVENT)return r||a}const o=`reporting-snowflake.source-labels.${n}.other`;return Object(a.a)(o)?r.a.text(o):n},O=(e,t)=>t(e.update("join",e=>e?e.map(e=>e.update("target",e=>O(e,t))).toList():Object(o.List)())),f=(e,t,n)=>e.equals(t)?n:e.update("join",e=>e?e.map(e=>e.update("target",e=>f(e,t,n))).toList():Object(o.List)()),E=e=>{switch(e.type){case p.b.EVENTS_DIGEST:{const t=d(e);return c.a.get(t)}case p.b.HUBSPOT_OBJECT:case p.b.HUBSPOT_EVENT:{const t=e.objectTypeId,{metaDefinition:n}=e,{primaryDisplayLabelPropertyName:r,metaType:a}=n,o=a===p.c.PORTAL_SPECIFIC?i.a:void 0;return c.a.get(t)||o||r}default:console.error("Unhandled `DataSourceTypes`",e);return}},y=(e,t)=>m(t).map(t=>e.get(t.name)).filter(e=>!!e).map(e=>{const t=e.name,n=E(e);return n?Object(l.a)({property:n,table:t}):void 0}).filter(e=>!!e).toOrderedSet(),T=e=>e.name,I=e=>g(e).map(e=>e.name).toSet(),h=e=>I(e).add(T(e)),j=e=>m(e).find(e=>e.type===p.b.HUBSPOT_EVENT),A=e=>[p.b.HUBSPOT_EVENT,p.b.EVENTS_DIGEST].includes(e.type),S=e=>m(e).find(e=>A(e)),_=e=>m(e).filter(e=>A(e)),N={[p.e.EVENT_AND_OBJECT_COORDINATE]:u.c.COORDINATE,[p.e.EVENT_AND_OBJECT_PRIMARY]:u.c.ASSOCIATION,[p.e.EVENT_AND_OBJECT_UNIQUE_PROPERTY]:u.c.FIELD,[p.e.OBJECT_TO_OBJECT_ASSOCIATION]:u.c.ASSOCIATION,[p.e.OBJECT_TO_OBJECT_UNIQUE_PROPERTY]:u.c.FIELD},R=e=>{const t=N[e.joinType];switch(t){case u.c.ASSOCIATION:{const{combinedAssociationTypeId:n}=e;return Object(u.b)({type:t,combinedAssociationTypeId:n})}case u.c.FIELD:{const{sourceProperty:n,targetProperty:r}=e;return Object(u.b)({type:t,leftField:n,rightField:r})}case u.c.COORDINATE:{const{sourceProperty:n,targetProperty:r}=e;return Object(u.b)({type:t,leftField:n,rightField:r})}default:throw new Error(`Cannot convert JoinMetadata to JoinDefinition! Unsupported JoinMetadata.joinType ${e.joinType} or JoinDefinition.type ${t}!`)}},C=(e,t)=>{const n=m(e).find(e=>e.name===t);return n?d(n):void 0}},"q/VH":function(e,t,n){"use strict";n.d(t,"m",(function(){return r}));n.d(t,"l",(function(){return a}));n.d(t,"o",(function(){return o}));n.d(t,"q",(function(){return s}));n.d(t,"B",(function(){return i}));n.d(t,"s",(function(){return c}));n.d(t,"n",(function(){return l}));n.d(t,"t",(function(){return u}));n.d(t,"a",(function(){return p}));n.d(t,"b",(function(){return d}));n.d(t,"c",(function(){return m}));n.d(t,"r",(function(){return g}));n.d(t,"i",(function(){return b}));n.d(t,"f",(function(){return O}));n.d(t,"g",(function(){return f}));n.d(t,"p",(function(){return E}));n.d(t,"A",(function(){return y}));n.d(t,"J",(function(){return T}));n.d(t,"I",(function(){return I}));n.d(t,"D",(function(){return h}));n.d(t,"C",(function(){return j}));n.d(t,"P",(function(){return A}));n.d(t,"O",(function(){return S}));n.d(t,"N",(function(){return _}));n.d(t,"M",(function(){return N}));n.d(t,"L",(function(){return R}));n.d(t,"K",(function(){return C}));n.d(t,"F",(function(){return v}));n.d(t,"E",(function(){return L}));n.d(t,"H",(function(){return D}));n.d(t,"G",(function(){return M}));n.d(t,"T",(function(){return P}));n.d(t,"S",(function(){return U}));n.d(t,"V",(function(){return k}));n.d(t,"U",(function(){return x}));n.d(t,"R",(function(){return w}));n.d(t,"Q",(function(){return F}));n.d(t,"z",(function(){return Y}));n.d(t,"y",(function(){return B}));n.d(t,"v",(function(){return G}));n.d(t,"u",(function(){return V}));n.d(t,"k",(function(){return H}));n.d(t,"j",(function(){return W}));n.d(t,"x",(function(){return K}));n.d(t,"w",(function(){return q}));n.d(t,"h",(function(){return Q}));n.d(t,"e",(function(){return $}));n.d(t,"d",(function(){return J}));const r="0-1",a="0-2",o="0-3",s="0-4",i="0-5",c="0-8",l="0-11",u="0-29",p="0-30",d="0-31",m="0-32",g="0-34",b="0-35",O="0-39",f="0-48",E="0-72",y="0-27",T="4-83769",I="4-675772",h="4-83770",j="4-675773",A="4-83771",S="4-675774",_="4-83772",N="4-675775",R="4-83773",C="4-675776",v="4-83774",L="4-675777",D="4-83775",M="4-675778",P="4-83776",U="4-675779",k="4-83777",x="4-675780",w="4-83778",F="4-675781",Y="4-530144",B="4-1367006",G="4-530145",V="4-1367314",H="4-530146",W="4-1367771",K="4-530147",q="4-1367930",Q="4-534173",$="4-706542",J="4-1553675"},q1f1:function(e,t,n){"use strict";var r=n("QYOI"),a=n("6Umb");const o=Object(a.a)("reporting-data.properties.sessions");t.a=()=>Object(r.List)([Object(r.Map)({value:"ORGANIC_SEARCH",type:"string",label:o("organic")}),Object(r.Map)({value:"PAID_SEARCH",type:"string",label:o("paid")}),Object(r.Map)({value:"EMAIL_MARKETING",type:"string",label:o("email")}),Object(r.Map)({value:"SOCIAL_MEDIA",type:"string",label:o("social")}),Object(r.Map)({value:"REFERRALS",type:"string",label:o("referrals")}),Object(r.Map)({value:"OTHER_CAMPAIGNS",type:"string",label:o("other")}),Object(r.Map)({value:"DIRECT_TRAFFIC",type:"string",label:o("direct")}),Object(r.Map)({value:"OFFLINE",type:"string",label:o("offline")}),Object(r.Map)({value:"PAID_SOCIAL",type:"string",label:o("paid-social")})])},q6rb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));var r=n("2Om6");const a=(e,t)=>e.resolve.getIn(["configs",t],null),o=(e,t)=>{const n=a(e,t);Object(r.a)(null!=n,"Cannot retrieve data promise of config not in store");return e.resolve.getIn(["resolving",n,"promise"])}},q83f:function(e,t,n){"use strict";var r=n("npjq"),a=n("QYOI"),o=n("u9+u"),s=n("hZMd"),i=n("BGD4"),c=n("O3Yl"),l=n("xMF4"),u=n("5hFj"),p=n("oqSb"),d=n("w+gF"),m=n("JsU1"),g=n("XCmw");const b={id:void 0,label:void 0,link:void 0},O=Object(a.Record)(b);var f=n("oQ2E"),E=n("c50W");n.d(t,"a",(function(){return R}));const y=(e,t,n,r)=>(a.List.isList(t)?t:Object(a.List)([t])).reduce((t,a)=>{const o=e.getIn(["links",n,a,r])||e.getIn(["links",n,a,a])||e.getIn(["links",n,a])||e.getIn(["identifiers",n,a,"references","url"]);return o?t.set(String(a),o):t},Object(a.Map)({})),T=e=>{let t=e.getIn(["format","referenceMeta","referenceType"]);if(t===o.CRM_OBJECT){t=e.getIn(["format","referenceMeta","objectTypeId"]);if(Object(f.b)(t))return E.U}return t},I=(e,t)=>{const n=e.get("header").map(e=>e.getIn(["format","type"])).toMap(),r=e.get("header").map(e=>{const n=e.getIn(["format","type"]);return n===c.i&&t.isSearch?e.getIn(["format","isFormatted"]):[c.j,c.i,c.c,c.f].includes(n===c.h?e.getIn(["format","subType"]):n)});return e.get("data").map((o,c)=>{t.isSearch&&!t.isRelational&&(o=Object(p.a)(o,n).toMap());const l=o.get("hs_object_id");return o.reduce((n,a,o)=>{const u=y(e,a,o,l);u.isEmpty()||(n=n.setIn([m.a,o],u));if(!r.get(o))return n.set(o,a);if(t.removeLastRowPercentiles&&c===e.get("data").count()-1&&t.isMeasure(o)&&t.getMeasureType(o)===i.PERCENTILES&&a===s.b)return n;const p=isNaN(a)||null===a||""===a?a:parseFloat(a),d=p===s.b&&t.isMeasure(o)?null:p;return n.set(o,d)},Object(a.Map)())}).toList()},h=e=>e.getIn(["pagination","total"]),j=e=>(e.getIn(["format","type"])===c.h||e.hasIn(["format","referenceMeta"]))&&!e.has("aggregationType"),A=(e,t,n,o,{smallScale:i=!1,isRelational:p=!1}={})=>{if(j(n))return Object(l.a)(T(n))(o.getIn([String(t),"references"],Object(a.Map)()),String(t),{isRelational:p});if(t===s.b)return r.a.text("reporting-data.missing.value");if(n.getIn(["format","type"])===c.i&&!n.getIn(["format","isFormatted"]))return t;if(n.getIn(["format","type"])===c.g)return n.getIn(["format","options",String(t),"label"],Object(u.c)(t));const d=(n=n.set("name",n.get("field")).set("type",n.getIn(["format","type"]))).getIn(["format","currencyCodeColumnName"]),m=d&&e.get(d);return Object(u.a)(t,n,{currencyCode:m===s.b?null:m,frequency:n.getIn(["format","frequency"]),smallScale:i})},S=(e,t)=>{if(!t)return e;const n=["engagement.timestamp"];return e.map(e=>n.includes(e.get("field"))?e.setIn(["format","type"],"timestamp"):e)},_=(e,{smallScaleMetrics:t=Object(a.Map)()}={},n)=>{const r=S(e.get("header"),n.isSearch),o=e.get("identifiers");return(e,i,c,l,u)=>{if(null==l)return i;const p=A(e,l,r.get(c),o&&o.get(c)?o.get(c):Object(a.Map)(),{smallScale:n.isSearch||t.get(c),isRelational:n.isRelational}),d=o&&o.getIn([c,l,"references","url"]),m=u?e.get(u):void 0,g=m&&m!==s.b?`${m}|${String(l)}`:String(l);return i.set(g,O({id:g,label:String(null!==p?p:l)})).update(g,e=>d?e.set("link",d):e)}},N=(e,t,n)=>{const r=e.get("header"),o=Object(d.a)(Object(a.Map)({data:t,properties:r.reduce((e,t,n)=>e.setIn([n,"type"],t.getIn(["format","type"])),Object(a.Map)())}),Object(a.List)(r.filter(e=>"METRIC"===e.get("columnType")).keys())),i=_(e,{smallScaleMetrics:o},n);return r.reduce((e,r,l)=>{const u=r.get("format",Object(a.Map)()),p=t.get(-1,Object(a.Map)()),d=u.get("currencyCodeColumnName"),m=d&&!n.hasCurrencyDimension(d)?p.get(d,s.b):s.b,g={};o.get(l)&&(g.shouldBeSmallScale=!0);r.get("scripted",!1)&&(g.scripted=!0);r.get("propertyMeta")&&(g.propertyMeta=r.get("propertyMeta"));const b=t.reduce((e,t)=>{const n=t.get(l);return a.List.isList(n)?n.reduce((e,n)=>i(t,e,String(l),n,d),e):i(t,e,String(l),n,d)},Object(a.Map)()),O=Object(a.Map)(Object.assign({format:d?u.set("currencyCode",m===s.b?null:m):u,label:r.get("label"),type:u.get("type")===c.h&&"number"!==u.get("subType")?u.get("subType"):u.get("type"),name:r.get("field"),references:b},g));return e.set(l,O)},Object(a.Map)())},R=(e,t=g.a)=>{const n=I(e,t),r=e.get("queryId");return Object.assign({data:n,paginationSize:h(e),properties:N(e,n,t)},r&&{queryId:r},{},t.dataAge&&{dataAge:t.dataAge})}},q9KR:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n.d(t,"b",(function(){return f}));n.d(t,"c",(function(){return E}));var r=n("QYOI"),a=n("7tCk"),o=n("tc1C"),s=n("hZMd");const i=e=>e.count(),c=e=>e.reduce((e,t)=>e+t,0),l=e=>c(e)/i(e),u={count:i,sum:c,average:l,min:e=>e.min(),max:e=>e.max(),distinct:e=>e.toSet().count(),attribute:e=>e.first()},p=e=>t=>{const[n]=t;return null==n?e===o.c.ascending?Number.MAX_VALUE:Number.MIN_VALUE:n},d=(e,t)=>n=>{const[,r]=n,a=u[t],o=r.map(t=>t.get(e));return null==a(o)?Number.MIN_VALUE:a(o)},m=(e,t)=>n=>{const[r]=n,a=e.indexOf(r);return a<0&&t===o.c.ascending?Number.MAX_VALUE:a},g=e=>{const{field:t,aggregation:n,defined:s=Object(r.List)(),direction:i}=e;if(s.size>0)return m(s,i);if(!t)return p(i);const c=n||(t===a.a?o.a.count:o.a.sum);return d(t,c)},b=(e,t)=>void 0===e&&void 0===t||e===s.b&&t===s.b?0:void 0===e||e===s.b?1:void 0===t||t===s.b?-1:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,void 0,{sensitivity:"base"}):e>t?1:e<t?-1:0,O=(e,t,n)=>{const{direction:a,defined:s=Object(r.List)()}=n,i=g(n),c=e.data.groupBy(e=>e.get(t)).entrySeq().sortBy(i,b).map(([e])=>e).toList(),l=s.filter(e=>c.includes(e));return(a===o.c.ascending?c:c.reverse()).filter(e=>!l.includes(e)).concat(l)},f=(e,t,n)=>{const{direction:r}=n,a=g(n);return e.groupBy(e=>e.get(t)).entrySeq().sortBy(a,b).flatMap(([,e])=>e).toList().update(e=>r===o.c.ascending?e:e.reverse())},E=(e,t,n)=>e.update("data",e=>f(e,t,n))},qIj6:function(e,t,n){"use strict";var r=n("QYOI");t.a=(e,t)=>Object(r.Map)().withMutations(n=>{for(const r of t)n.set(e(r),r);return n})},qKmU:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("QYOI");const a=(e,t)=>{let n=Object(r.Set)(Object.keys(t));return{mergedGroups:e.map(e=>e.update("properties",e=>e.map(e=>{if(t.hasOwnProperty(e.get("name"))){n=n.remove(e.get("name"));return e.merge(t[e.get("name")])}return e}))),propertiesToAdd:n.map(e=>t[e])}},o=(e,t,n)=>{const a=e.findIndex(e=>e.get("name")===t);return e.get(a)?e.update(a,e=>e.update("properties",e=>e.concat(n.map(e=>Object(r.fromJS)(e))))):e},s=(e,t,n)=>{const{mergedGroups:r,propertiesToAdd:s}=a(e,n);return o(r,t,s)}},qnu9:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n.d(t,"a",(function(){return d}));var r=n("zTB3"),a=n("mQDE"),o=(n("5Kec"),n("hDBk")),s=n("l1KU"),i=n("Yai4");const c={VIEWER:"viewer",EDITOR:"editor",OWNER:"owner",ADMIN:"admin"},l={[i.a.VIEW]:c.VIEWER,[i.a.EDIT]:c.EDITOR,[i.a.CREATE_AND_OWN]:c.OWNER},u=()=>{const e=Object(r.g)(),t=Object(r.h)(),n=Object(r.i)();return e?c.ADMIN:t?c.OWNER:n?c.EDITOR:c.VIEWER},p=({assetAccessLevel:e,ownerId:t})=>{const{data:n}=Object(a.a)();return e===i.a.CREATE_AND_OWN&&t!==Object(s.a)(n)?c.ADMIN:l[e]},d=e=>p({assetAccessLevel:Object(o.w)(e),ownerId:Object(o.n)(e)})},rSjK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"e",(function(){return l}));n.d(t,"d",(function(){return p}));n.d(t,"f",(function(){return d}));n.d(t,"c",(function(){return m}));n.d(t,"b",(function(){return g}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS"),s=n("tc1C");const i={left:"left",right:"right"},c=r.l(i,"Align"),l={row:"row",column:"column"},u=r.l(l,"EncodingTypes"),p=r.i({label:r.k(),headerData:r.f(),encodingSize:r.g().defaultValue(1),onSort:r.c().optional(),align:c.optional(),encodingType:u.optional()},"EncodingLabel"),d=r.i({onClick:r.c().optional()},"Events"),m=r.i({field:r.k(),onSort:r.c().optional(),order:s.d.optional(),nested:r.b().optional(),formattingType:r.k().optional(),formattingObject:r.a().optional()},"Encoding"),g=r.i({type:r.k().always(o.a),data:r.f(a.a),dataset:r.k().optional().defaultValue("primary"),columns:r.d(m).optional().defaultValue([]),rows:r.d(m).optional().defaultValue([]),rowTotal:r.d(r.k()).defaultValue([]),columnTotal:r.d(r.k()).defaultValue([]),showColumnSubtotals:r.b().defaultValue(!1),showRowSubtotals:r.b().defaultValue(!1),showColumnTotal:r.b().optional(),showRowTotal:r.b().optional(),grandTotal:r.d(r.k()).defaultValue([]),events:d.optional(),values:r.d(m).optional().defaultValue([])},"CrossTabVisualization")},rVB7:function(e,t,n){"use strict";var r=n("xA3K"),a=n("QgEn"),o=n("VfuR"),s=n.n(o),i=n("sl/w"),c=n("fPlQ"),l=n("bRfn"),u=n("vuW9"),p=n("DqRu"),d=n("P8at");const m=e=>{let{label:t,dataTestId:n,disabled:o,onClick:s,tooltip:c,tooltipPlacement:l,tooltipUse:m,showNewBadge:g}=e,b=Object(r.a)(e,["label","dataTestId","disabled","onClick","tooltip","tooltipPlacement","tooltipUse","showNewBadge"]);return Object(a.jsx)(u.a,{disabled:!o,title:c,use:m,placement:l,children:Object(a.jsxs)(p.a,Object.assign({disabled:o,onClick:s,"data-test-id":n},b,{children:[t,g&&Object(a.jsx)(d.a,{use:"new",className:"m-left-1",children:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.newBadge"})})]}))})};m.propTypes={dataTestId:s.a.string,disabled:s.a.bool,label:s.a.element.isRequired,onClick:s.a.func.isRequired,tooltip:s.a.node,tooltipUse:s.a.string,tooltipPlacement:s.a.string,showNewBadge:s.a.bool};m.defaultProps={tooltipPlacement:"left bottom"};var g=m,b=n("IBY6"),O=n("qnu9"),f=n("mgmp"),E=n("a3aD"),y=n("hDBk"),T=n("NfVS"),I=n("77dM"),h=n("oQ2E"),j=n("QYOI"),A=n("u9+u"),S=n("Nbqo");const _=Object(j.Set)([A.ANALYTICS_BEHAVIORAL_EVENTS,A.BLOG,A.BLOG_POSTS,A.DOCUMENTS,A.EXPERIMENTAL_REVENUE,A.KNOWLEDGE_ARTICLES,A.LEGACY_CAMPAIGNS,A.QUOTAS,A.SEQUENCES,A.TEMPLATES,A.UNIFIED_FEEDBACK_EMAIL,A.UNIFIED_FEEDBACK_WEB]),N=e=>!_.includes(Object(S.a)(e));var R=n("JYON"),C=n("HjNE"),v=n("X+gL"),L=n("7bbc");const D=()=>{const{data:e,error:t,loading:n}=Object(v.a)(L.a);return{data:e?e[L.b]:void 0,error:t,loading:n}},M=()=>{const{data:e}=D();return e&&e.get("customReports")},P=()=>{const{data:e}=D();return e&&e.get("standardReports")};var U=n("zTB3"),k=n("TvdH"),x=n.n(k),w=n("mQDE"),F=n("aqT1");var Y=()=>{const{data:e}=Object(w.a)();return x()([F.d,F.a],e)};var B=()=>{const{data:e}=Object(w.a)();return x()([F.d,F.e],e)},G=n("/EpT"),V=n("VUdM"),H=n("bs7Q"),W=n("afEi"),K=n("hmaQ");var q=({message:e,restrictedFieldLevelProperties:t})=>Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(i.a,{message:e,options:{count:t.length}}),Object(a.jsx)(K.a,{styled:!0,className:"p-top-2 m-bottom-2",children:t.map((e,t)=>{const n=e.get("property").get("label");return Object(a.jsx)("span",{children:n},t)})}),Object(a.jsx)(i.a,{message:"reporting-action-components.actions.askAnAccountAdminForAccess"})]});const Q=e=>{const t=Object(U.c)(),n=Object(R.m)(e),r=Object(R.n)(e);return n&&!r&&!t};var $=({report:e,saveUse:t=G.b,shouldBecomeCustom:n=!1,upgradeLocation:r}={})=>{const{loading:o,error:s}=Object(w.a)(),{loading:c,error:l}=D(),u=M(),p=Y(),d=Object(U.c)(),m=Object(U.b)(),g=e&&Object(R.h)(e),b=P(),O=B(),f=Object(U.h)(),E=Object(U.f)(),j=Object(U.e)(),A=Object(U.j)(),S=Q(e),_=e?Object(y.r)(e):[],v=(t===G.a||t===G.c)&&g,L=t===G.b&&n||v,k=L&&u>=p,x=!(g||n)&&b>=O;if(o||c)return W.b;if(s||l)return W.a;if(Object(R.g)(e)&&L&&!j)return{problem:V.i,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksMarketingJourneyReporting"})};if(Object(R.k)(e)&&L&&!A)return{problem:V.k,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksSalesJourneyReporting"})};if(L&&!d)return{problem:V.g,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksCustomReporting"}),upgradeKey:H.a[r]};if(k)return{problem:V.q,disabledMessage:Object(a.jsx)(T.a,{message:"reporting-action-components.actions.save.button.tooltip.willExceedCustomReportLimit_jsx",elements:{UILink:I.a},options:{href:Object(C.b)(),limit:p}}),upgradeKey:H.b[r]};if(x)return{problem:V.t,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.willExceedStandardReportLimit",options:{limit:O}})};if(t===G.b&&_.length)return{problem:V.h,disabledMessage:Object(a.jsx)(q,{message:"reporting-action-components.actions.save.button.tooltip.restrictedFieldLevelPermission",restrictedFieldLevelProperties:_})};if(t===G.b&&Object(R.e)({report:e})&&!E)return{problem:V.j,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksPaymentsReportingAccess"})};if(t===G.b&&S)return{problem:V.l,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksSnowflakeTemplateAccess"})};if(e&&!N(e))return{problem:V.p,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.unsupportedReportType"})};if(!f)return{problem:V.d,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.insufficientReportingPermission"})};if(e){if(!(t!==G.a&&t!==G.c||Object(R.d)(e)))return{problem:V.c,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.insufficientAssetPermission"})};if((t===G.a||t===G.c)&&_.length)return{problem:V.h,disabledMessage:Object(a.jsx)(q,{message:"reporting-action-components.actions.save.button.tooltip.restrictedFieldLevelPermissionClone",restrictedFieldLevelProperties:_})};if((t===G.a||t===G.c)&&Object(R.e)({report:e})&&!E)return{problem:V.j,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksPaymentsReportingAccessClone"})};if((t===G.a||t===G.c)&&S)return{problem:V.l,disabledMessage:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksSnowflakeTemplateAccessClone"})};if(Object(h.a)(e)&&!m)return{problem:V.f,disabledMessage:Object(a.jsx)(T.a,{message:"reporting-action-components.actions.save.button.tooltip.lacksCustomObjects_jsx",elements:{UILink:I.a},options:{href:C.a}})}}return{problem:null,disabledMessage:null}};const J=e=>e===V.h?"longform":"default",z=e=>{let{appUsageTracker:t,"data-test-id":n,defaultTargetDashboardId:o,disabled:s,isDrilldown:i,label:u,onButtonClick:p,onSaveError:d,onSaveStarted:m,onSaveSuccess:T,report:I,saveUse:h,showOnDisable:j,shouldBecomeCustom:A,tooltipMessage:S,tooltipPlacement:_,trackingProperties:N}=e,R=Object(r.a)(e,["appUsageTracker","data-test-id","defaultTargetDashboardId","disabled","isDrilldown","label","onButtonClick","onSaveError","onSaveStarted","onSaveSuccess","report","saveUse","showOnDisable","shouldBecomeCustom","tooltipMessage","tooltipPlacement","trackingProperties"]);const C=Object(b.a)(t),v=Object(f.b)(),{problem:L,disabledMessage:D}=$({report:I,saveUse:h,shouldBecomeCustom:A}),M=s||!!L,P=Object(O.b)(),U=()=>{C&&C.track(c.a.saveNewAssetInteraction,Object.assign({actionType:"create",action:"save-new",step:"start",whichFlow:Object(G.e)({saveUse:h,template:Object(y.v)(I),isDrilldown:i,shouldBecomeCustom:A}),role:P},Object(l.a)(I),{},N));p();v({dialogType:E.a,dialogProps:{defaultTargetDashboardId:o,isDrilldown:i,onSaveError:d,onSaveStarted:m,onSaveSuccess:T,report:I,saveUse:h,shouldBecomeCustom:A,trackingProperties:N,usageTracker:C,appUsageTracker:t}})};return M&&!j?null:Object(a.jsx)(g,Object.assign({label:u,"data-test-id":L!==V.m&&n,disabled:M,tooltip:S||D,tooltipPlacement:_,tooltipUse:J(L),onClick:U},R))};z.propTypes={appUsageTracker:s.a.object.isRequired,"data-test-id":s.a.string,defaultTargetDashboardId:s.a.number,disabled:s.a.bool.isRequired,isDrilldown:s.a.bool,label:s.a.element,onButtonClick:s.a.func,onSaveError:s.a.func,onSaveStarted:s.a.func,onSaveSuccess:s.a.func,report:s.a.object.isRequired,saveUse:s.a.oneOf(G.d).isRequired,shouldBecomeCustom:s.a.bool.isRequired,showOnDisable:s.a.bool,tooltipMessage:s.a.node,tooltipPlacement:s.a.string,trackingProperties:s.a.object};z.defaultProps={label:Object(a.jsx)(i.a,{message:"reporting-action-components.actions.save.button.text.default"}),disabled:!1,isDrilldown:!1,onButtonClick:()=>{},onSaveError:()=>{},onSaveStarted:()=>{},onSaveSuccess:()=>{},saveUse:G.b,shouldBecomeCustom:!1,showOnDisable:!0,trackingProperties:{}};t.a=z},rg85:function(e,t,n){"use strict";var r=n("eigc");t.a=e=>Object(r.a)(e.get("config")).then(t=>e.set("config",t))},rpKw:function(e,t,n){"use strict";n.r(t);n.d(t,"AI_FORECAST",(function(){return r}));n.d(t,"ATTRIBUTION_TOUCH_POINTS",(function(){return a}));n.d(t,"CALL",(function(){return o}));n.d(t,"CALLS",(function(){return s}));n.d(t,"COMMERCE_PAYMENTS",(function(){return i}));n.d(t,"COMPANIES",(function(){return c}));n.d(t,"CONTACTS",(function(){return l}));n.d(t,"CONTACT_CREATE_ATTRIBUTION",(function(){return u}));n.d(t,"CONVERSATIONS",(function(){return p}));n.d(t,"COMMUNICATION",(function(){return d}));n.d(t,"POSTAL_MAIL",(function(){return m}));n.d(t,"CROSS_OBJECT",(function(){return g}));n.d(t,"CRM_OBJECT",(function(){return b}));n.d(t,"DEAL_CREATE_ATTRIBUTION",(function(){return O}));n.d(t,"DEALS",(function(){return f}));n.d(t,"ENGAGEMENT_EMAILS",(function(){return E}));n.d(t,"ENGAGEMENT",(function(){return y}));n.d(t,"ENGAGEMENTS",(function(){return T}));n.d(t,"FEEDBACK",(function(){return I}));n.d(t,"FEEDBACK_SUBMISSIONS",(function(){return h}));n.d(t,"FORECAST",(function(){return j}));n.d(t,"LEADS",(function(){return A}));n.d(t,"LINE_ITEMS",(function(){return S}));n.d(t,"MEETING_EVENT",(function(){return _}));n.d(t,"MEETINGS",(function(){return N}));n.d(t,"NOTES",(function(){return R}));n.d(t,"PRODUCTS",(function(){return C}));n.d(t,"SOCIAL_POSTS",(function(){return v}));n.d(t,"TASK",(function(){return L}));n.d(t,"TASKS",(function(){return D}));n.d(t,"TICKETS",(function(){return M}));n.d(t,"SEQUENCE_ENROLLMENTS",(function(){return P}));n.d(t,"SEQUENCE_STEP_ENROLLMENTS",(function(){return U}));n.d(t,"SUBSCRIPTIONS",(function(){return k}));n.d(t,"GOAL_TARGET",(function(){return x}));n.d(t,"PLAYBOOK",(function(){return w}));n.d(t,"PLAYBOOK_SUBMISSION",(function(){return F}));n.d(t,"INBOUND_DB_DATA_TYPES",(function(){return Y}));const r="AI_FORECAST",a="ATTRIBUTION_TOUCH_POINTS",o="CALL",s="CALLS",i="COMMERCE_PAYMENTS",c="COMPANIES",l="CONTACTS",u="CONTACT_CREATE_ATTRIBUTION",p="CONVERSATIONS",d="COMMUNICATION",m="POSTAL_MAIL",g="CROSS_OBJECT",b="CRM_OBJECT",O="DEAL_CREATE_ATTRIBUTION",f="DEALS",E="ENGAGEMENT_EMAILS",y="ENGAGEMENT",T="ENGAGEMENTS",I="FEEDBACK",h="FEEDBACK_SUBMISSIONS",j="FORECAST",A="LEADS",S="LINE_ITEMS",_="MEETING_EVENT",N="MEETINGS",R="NOTES",C="PRODUCTS",v="SOCIAL_POSTS",L="TASK",D="TASKS",M="TICKETS",P="SEQUENCE_ENROLLMENTS",U="SEQUENCE_STEP_ENROLLMENTS",k="SUBSCRIPTIONS",x="GOAL_TARGET",w="PLAYBOOK",F="PLAYBOOK_SUBMISSION",Y=[a,s,i,c,l,u,p,d,m,g,b,O,f,E,y,T,I,h,S,N,R,C,v,D,M,P,U,k,x]},sAns:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("TTw+"),a=n("UHjn");const o=e=>e.get("label");t.a=e=>()=>Object(r.a)(e).then(e=>e.map(({pipelineId:e,label:t})=>Object(a.b)(e,t)))},sJ2X:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("Br7N"),a=n("QYOI"),o=n("UHjn"),s=n("npjq"),i=n("iCNX"),c=n("hZMd"),l=n("dPcB");const u="users/v2/app/hub-users/bulk",p=()=>Object(a.Map)({0:Object(o.b)(0,s.a.text("reporting-data.missing.unknown.user"))}),d=(e,t)=>e&&t!==c.a.ENUMERATION?(e=Object(a.fromJS)(e)).has("label")||e.has("firstName")||e.has("lastName")||e.has("email")?e.has("label")?e.get("label"):Object(l.a)({firstName:e.get("firstName"),lastName:e.get("lastName"),email:e.get("email")}):s.a.text("reporting-data.missing.unknown.userWithId",{id:t}):t&&t!==c.a.ENUMERATION?s.a.text("reporting-data.missing.unknown.userWithId",{id:t}):s.a.text("reporting-data.missing.unknown.user");t.a=e=>{const t=e.map(Number).filter(e=>!!e);return 0===t.length?Promise.resolve(p()):r.c(u,{data:t,query:{limit:t.length}}).then(i.a).then(({userBriefs:e})=>t.reduce((t,n)=>{const r=e.find(e=>e.id===n),a=d(r);return t.set(n,Object(o.b)(n,a))},p()))}},sNkl:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n.d(t,"d",(function(){return o}));n.d(t,"a",(function(){return s}));n.d(t,"c",(function(){return i}));var r=n("QYOI");const a={ALL:"ALL",THIS_DAY:"THIS_DAY",LAST_DAY:"LAST_DAY",NEXT_DAY:"NEXT_DAY",THIS_WEEK:"THIS_WEEK",LAST_WEEK:"LAST_WEEK",NEXT_WEEK:"NEXT_WEEK",THIS_MONTH:"THIS_MONTH",LAST_MONTH:"LAST_MONTH",NEXT_MONTH:"NEXT_MONTH",CUSTOM_MONTH:"CUSTOM_MONTH",THIS_QUARTER:"THIS_QUARTER",LAST_QUARTER:"LAST_QUARTER",NEXT_QUARTER:"NEXT_QUARTER",THIS_FISCAL_QUARTER:"THIS_FISCAL_QUARTER",LAST_FISCAL_QUARTER:"LAST_FISCAL_QUARTER",NEXT_FISCAL_QUARTER:"NEXT_FISCAL_QUARTER",CUSTOM_QUARTER:"CUSTOM_QUARTER",THIS_YEAR:"THIS_YEAR",LAST_YEAR:"LAST_YEAR",NEXT_YEAR:"NEXT_YEAR",THIS_FISCAL_YEAR:"THIS_FISCAL_YEAR",LAST_FISCAL_YEAR:"LAST_FISCAL_YEAR",NEXT_FISCAL_YEAR:"NEXT_FISCAL_YEAR",CUSTOM_YEAR:"CUSTOM_YEAR",ROLLING:"ROLLING",CUSTOM:"CUSTOM",IS_EQUAL_TO:"IS_EQUAL_TO",IS_BEFORE_DATE:"IS_BEFORE_DATE",IS_AFTER_DATE:"IS_AFTER_DATE"},o={[a.THIS_QUARTER]:a.THIS_FISCAL_QUARTER,[a.LAST_QUARTER]:a.LAST_FISCAL_QUARTER,[a.NEXT_QUARTER]:a.NEXT_FISCAL_QUARTER,[a.THIS_YEAR]:a.THIS_FISCAL_YEAR,[a.LAST_YEAR]:a.LAST_FISCAL_YEAR,[a.NEXT_YEAR]:a.NEXT_FISCAL_YEAR,[a.ALL]:a.ALL,[a.ROLLING]:a.ROLLING},s=Object(r.fromJS)(o).flip().toJS(),i={7:7,14:14,30:30,60:60,90:90,365:365}},sV17:function(e,t,n){"use strict";n.d(t,"c",(function(){return m}));n.d(t,"a",(function(){return O}));var r=n("npjq"),a=n("QYOI"),o=n("hZMd"),s=n("z7F3"),i=n("AYIY"),c=n("Br7N"),l=n("VljC"),u=n("UHjn");const p="campaigns/v1/campaigns/guids",d=300,m=(e,t)=>{if(e.has("label"))return e.get("label");const n=e.get("display_name",t!==o.b?t:null);return"true"===e.get("deleted")||!0===e.get("deleted")?r.a.text("reporting-data.references.campaign.deleted",{name:n}):n},g=e=>Object(s.a)(e=>c.d(l.a.get({url:p,query:{guid:e,includeDeletes:!0}})),e=>e.reduce((e,t)=>e.concat(t),Object(a.List)()),e,d),b=e=>0===e.size?i.a.resolve(Object(a.Map)()):g(e).then(e=>e.reduce((e,t)=>{const n=t.get("guid");return e.set(n,Object(u.b)(n,m(t)))},Object(a.Map)()));t.b=b;const O=e=>b(Object(a.List)(e)).then(e=>e.reduce((e,t)=>Object.assign({},e,{[t.get("value")]:t.get("label")}),{}))},slWH:function(e,t,n){"use strict";var r=n("npjq"),a=n("KKaK"),o=n.n(a);const s="all",i="__hs__ME",c="";var l=n("zzHy");n.d(t,"a",(function(){return u}));o()(()=>Object(l.a)({label:r.a.text("customerDataObjects.OwnerIdSelect.all"),value:s}));const u=o()(()=>Object(l.a)({icon:"dynamicFilter",label:r.a.text("customerDataObjects.OwnerIdSelect.me"),value:i,description:r.a.text("customerDataObjects.OwnerIdSelect.meDescription")}));o()(()=>Object(l.a)({label:r.a.text("customerDataObjects.OwnerIdSelect.none"),value:c}))},"t7X+":function(e,t,n){"use strict";var r=n("QgEn"),a=n("QYOI"),o=n("LhZO"),s=n.n(o),i=n("wBb7"),c=n("x63W"),l=n.n(c),u=n("Ktcs"),p=n("c/Td"),d=n("1bYP"),m=n("VfuR"),g=n.n(m),b=n("hOQF"),O=n("DSKb"),f=n("nkcb"),E=n("ThkF"),y=n.n(E),T=n("WbQG"),I=n("KD0M"),h=n("mkIT");const j=e=>e.getIn(["referencedObject","hubspotDefined"])?e.update("label",T.b):e,A={filter:g.a.func,innerRef:g.a.any,inputRef:h.a,onChange:g.a.func.isRequired,optionFormatter:g.a.func.isRequired,options:g.a.arrayOf(i.c.isRequired),readOnly:g.a.bool,resolver:b.a.isRequired,value:g.a.oneOfType([g.a.string,g.a.arrayOf(g.a.string.isRequired)]),multi:g.a.bool},S={options:[],optionFormatter:I.a},_={options:[]};class N extends u.Component{constructor(){super();this.handleOptionsChange=e=>{const{filter:t,optionFormatter:n}=this.props;if(Object(f.c)(e)){const r=t?e.filter(t):e;this.setState({options:r.map(j).sort((e,t)=>e.getIn(["referencedObject","displayOrder"],-1)-t.getIn(["referencedObject","displayOrder"],-1)).map(n).toArray()})}};this.state=_;this.referenceAtom=null}componentDidMount(){this.configureResolver(this.props)}componentDidUpdate(e){if(this.props.resolver!==e.resolver){this.referenceAtom&&Object(d.unwatch)(this.referenceAtom,this.handleOptionsChange);this.configureResolver(this.props)}}componentWillUnmount(){this.referenceAtom&&Object(d.unwatch)(this.referenceAtom,this.handleOptionsChange)}configureResolver(e){const{resolver:t}=e;this.referenceAtom=t.all();Object(d.watch)(this.referenceAtom,this.handleOptionsChange);this.handleOptionsChange(Object(d.deref)(this.referenceAtom))}getOptions(){const{options:e}=this.props;return e.concat(this.state.options)}render(){const e=y()(["innerRef","onCancel","onSecondaryChange"],this.props);return Object(r.jsx)(O.a,Object.assign({},e,{anchorType:"button",inputRef:this.props.inputRef,ref:this.props.innerRef,options:this.getOptions()}))}}N.propTypes=A;N.defaultProps=S;var R=Object(u.forwardRef)((e,t)=>Object(r.jsx)(N,Object.assign({},e,{innerRef:t}))),C=n("xA3K");const v={innerRef:g.a.any,inputRef:h.a,onChange:g.a.func.isRequired,options:g.a.arrayOf(i.c.isRequired),value:g.a.oneOfType([g.a.string,g.a.arrayOf(g.a.string.isRequired)])},L={options:[]},D=Object(u.forwardRef)((e,t)=>{const{options:n}=e,a=Object(C.a)(e,["options"]);return Object(r.jsx)(O.a,Object.assign({},a,{ref:t,options:n}))});D.propTypes=v;D.defaultProps=L;var M=D,P=n("1Cff"),U=n("0fP3"),k=n("Pw6n"),x=n("/B53"),w=n.n(x),F=n("Cxba"),Y=n.n(F),B=n("dF7T"),G=n("xEDu");const V=n.n(G)()(B.a),H=(e,t)=>{const n=O.a.stripDiacritics(t),r=V(n),a=e.text&&O.a.stripDiacritics(e.text),o=e.help&&("string"==typeof e.help?O.a.stripDiacritics(e.help):void 0);return Boolean(a&&r.test(a)||o&&r.test(o))},W=l()(s()(Y()({help:e=>e.hubspotDefined?Object(T.a)(e.label,e.description):e.description,icon:!0,text:e=>e.hubspotDefined?Object(T.b)(e.label):e.label,value:!0,disabled:!0})),w.a),K={inputRef:h.a,innerRef:g.a.any,multi:g.a.bool,onChange:g.a.func.isRequired,options:g.a.oneOfType([g.a.arrayOf(i.c.isRequired).isRequired,Object(p.listOf)(Object(p.recordOf)({label:g.a.string.isRequired,value:g.a.string.isRequired})).isRequired]).isRequired,resolver:U.a,value:g.a.oneOfType([g.a.string,Object(p.listOf)(g.a.string.isRequired)])},q={options:[]};class Q extends u.Component{constructor(...e){super(...e);this.handleChange=e=>{const{multi:t,onChange:n}=this.props;n(t?Object(k.a)(Object(a.List)(e.target.value)):e)}}getOptions(){const{options:e}=this.props;return!e||Array.isArray(e)?e:W(e)}getReferenceEnumComponent(){const{resolver:e}=this.props;return e?e.search?P.a:R:M}getValue(){const{multi:e,value:t}=this.props;return e?t?t.toArray():[]:t}render(){const e=this.getReferenceEnumComponent(),t=y()(["getProperty","objectType","showError","showPlaceholder","subjectId","secondaryChanges","onSecondaryChange","onChangeMultiple","innerRef"],this.props);return Object(r.jsx)(e,Object.assign({},t,{anchorType:"button",filterOption:H,inputRef:this.props.inputRef,onChange:this.handleChange,options:this.getOptions(),ref:this.props.innerRef,value:this.getValue()}))}}Q.propTypes=K;Q.defaultProps=q;t.a=Object(u.forwardRef)((e,t)=>Object(r.jsx)(Q,Object.assign({},e,{innerRef:t})))},t9Aa:function(e,t,n){"use strict";var r=n("AYIY");const a=e=>t=>({state:e,value:t});t.a=e=>r.a.all(e.map(e=>e.then(a("fulfilled")).catch(a("rejected"))))},"tb+F":function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"match",(function(){return c}));n.d(t,"retrieve",(function(){return l}));var r=n("rpKw"),a=n("dUhI"),o=n("EKDx"),s=n("UNYg"),i=n("jpHT");const c=e=>{const t=e.get("dataType");return r[t]||a[t]},l=(e,t,n={})=>{const c=e.get("dataType");if(Object(i.a)(r,c))return Object(o.a)(e,t,n);if(Object(i.a)(a,c))return Object(s.a)(e,t,n);throw new Error("Mismatch base retrieve")};e&&e.exports&&(e.exports.default=e.exports)}).call(this,n("OYux")(e))},tc1C:function(e,t,n){"use strict";n.d(t,"c",(function(){return a}));n.d(t,"b",(function(){return o}));n.d(t,"a",(function(){return s}));n.d(t,"d",(function(){return c}));var r=n("XcLi");const a={ascending:"ascending",descending:"descending"},o=r.l(a,"Direction"),s={count:"count",sum:"sum",average:"average",min:"min",max:"max",distinct:"distinct",attribute:"attribute"},i=r.l(s,"Aggregation"),c=r.i({defined:r.d(r.k()).optional(),direction:o.optional(),field:r.k().optional(),aggregation:i.optional()},"Order")},tjfq:function(e,t,n){"use strict";n.r(t);n.d(t,"CHANNEL_TYPES",(function(){return b}));n.d(t,"getPropertyGroups",(function(){return O}));n.d(t,"getProperties",(function(){return f}));var r=n("QYOI"),a=n("6Umb"),o=n("AYIY"),s=n("u9+u"),i=n("w7vv"),c=n("/SfS"),l=n("MSlI"),u=n("6sbF");const p=Object(a.a)("reporting-data.properties.socialPosts"),d=Object(a.a)("reporting-data.groups.socialPosts"),m=Object(a.a)("reporting-data.properties.unified.options"),g=["Facebook","Instagram","Twitter","LinkedIn","YouTube"],b=["FacebookPage","Instagram","Twitter","LinkedInStatus","LinkedInCompanyPage","YouTube"],O=()=>o.a.resolve(Object(r.fromJS)([{name:"socialPostInfo",displayName:d("socialPostInfo"),displayOrder:0,hubspotDefined:!0,properties:[{name:"key",type:"string",label:p("key")},{name:"publishedAt",type:"datetime",label:p("publishedAt")},{name:"channelType",type:"enumeration",label:p("channelType"),options:b.map(e=>({value:e,label:m("social-channels."+e.toLowerCase())}))},{name:"channelId",type:"string",label:p("channelId")},{name:"foreignId",type:"string",label:p("foreignId")},{name:"accountType",type:"enumeration",label:p("accountType"),options:g.map(e=>({value:e,label:m("social-accounts."+e.toLowerCase())}))},{name:"campaignGuid",type:"string",label:p("campaignGuid")},{name:"broadcastGuid",type:"string",label:p("broadcastGuid")},{name:"mediaType",type:"string",label:p("mediaType")},{name:"remoteContentId",type:"string",label:p("remoteContentId")},{name:"remoteContentType",type:"string",label:p("remoteContentType")},{name:"interactionsTotal",type:"number",label:p("stats.interactions")},{name:"interactionsClassicTotal",type:"number",label:p("stats.interactions")},{name:"body",type:"string",label:p("body")},{name:"stats.likes",type:"number",label:p("stats.likes")},{name:"stats.dislikes",type:"number",label:p("stats.dislikes")},{name:"stats.comments",type:"number",label:p("stats.comments")},{name:"stats.shares",type:"number",label:p("stats.shares")},{name:"stats.impressions",type:"number",label:p("stats.impressions")},{name:"stats.clicks",type:"number",label:p("stats.clicks")},{name:"stats.videoViews",type:"number",label:p("stats.videoViews")},{name:"stats.videoMinutesWatched",type:"duration",durationUnit:"minutes",label:p("stats.videoMinutesWatched")},{name:"stats.videoAverageViewPercentage",type:"percent",label:p("stats.videoAverageViewPercentage")},{name:"stats.videoAverageViewDurationSeconds",type:"duration",durationUnit:"seconds",label:p("stats.videoAverageViewDurationSeconds")},{name:"id",type:"enumeration",label:p("id")}]}])),f=()=>Object(l.a)(O,e=>e.merge(Object(u.b)(s.SOCIAL_POSTS)))().then(Object(c.a)(i.a.getInboundSpec()))},trO3:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n.d(t,"a",(function(){return c}));var r=n("jpHT"),a=n("tv8C"),o=n("x1fr");const s=({filters:{custom:e=[]}={}})=>{const t=e.find(({property:e})=>"peopleType"===e);return t?t.value:"visits"},i=(e,t)=>e=>{const{dimensions:n,metrics:o=[]}=t,{total:s,people:i}=e,c=i.map(({vid:e})=>e),l=i.reduce((e,t)=>Object.assign({},e,{[t.vid]:t}),{});return{response:e,matrix:{dimensions:n,metrics:Object(a.a)(t),keys:[c],data:c.map(e=>o.map(({property:t})=>Object(r.a)(l,e)?Object(r.a)(l[e],t)?l[e][t]:Object(r.a)(l[e].metadata,t)?l[e].metadata[t]:null:null)),total:[s]}}},c=(e,t)=>({url:`${e.url}/people/${s(t)}`,parse:i(e,t),downgrade:o.a})},tv8C:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=({metrics:e=[]})=>e.reduce((e,{property:t,metricTypes:[n]})=>[...e,[t,n]],[])},u4JO:function(e,t,n){"use strict";n.d(t,"g",(function(){return a}));n.d(t,"i",(function(){return l}));n.d(t,"k",(function(){return u}));n.d(t,"d",(function(){return p}));n.d(t,"b",(function(){return d}));n.d(t,"f",(function(){return m}));n.d(t,"e",(function(){return g}));n.d(t,"a",(function(){return b}));n.d(t,"h",(function(){return O}));n.d(t,"j",(function(){return f}));n.d(t,"c",(function(){return E}));var r=n("XcLi");const a={AUTO:"AUTO",PARANTHESES:"parantheses",LEFT:"left",RIGHT:"right",RED:"red"},o=r.l(a,"NegativeSymbol").defaultValue(a.AUTO),s=r.g().defaultValue(2),i=r.k().optional(),c=r.b().defaultValue(!0),l="number",u="percentage",p="currency",d="auto",m={AUTO:d,PERCENTAGE:u,NUMBER:l,CURRENCY:p},g=r.l(m,"FormatType"),b=r.i({type:g.always(d),negativeSymbol:o,customPrecision:s,useThousandsSeparator:c},"AutoFormatting"),O=r.i({type:g.always(l),negativeSymbol:o,customPrecision:s,useThousandsSeparator:c},"NumberFormatting"),f=r.i({type:g.always(u),negativeSymbol:o,customPrecision:s,useThousandsSeparator:c},"PercentFormatting"),E=r.i({type:g.always(p),negativeSymbol:o,customPrecision:s,currencyCode:i,useThousandsSeparator:c},"CurrencyFormatting")},"u9+u":function(e,t,n){"use strict";n.r(t);var r=n("rpKw"),a=n("dUhI");const o="UNIFIED_EVENTS";n.d(t,"CONVERSION",(function(){return s}));n.d(t,"ATTRIBUTION",(function(){return i}));n.d(t,"EMAIL",(function(){return c}));n.d(t,"KNOWLEDGE_ARTICLES",(function(){return l}));n.d(t,"EXPERIMENTAL_REVENUE",(function(){return u}));n.d(t,"QUOTAS",(function(){return p}));n.d(t,"CUSTOM_DATA_TYPES",(function(){return d}));n.d(t,"ANALYTICS_FUNNEL",(function(){return m}));n.d(t,"ANALYTICS_PAGES",(function(){return g}));n.d(t,"ANALYTICS_PEOPLE",(function(){return b}));n.d(t,"DOCUMENTS",(function(){return O}));n.d(t,"SEQUENCES",(function(){return f}));n.d(t,"TEMPLATES",(function(){return E}));n.d(t,"WEB_ANALYTICS",(function(){return y}));n.d(t,"BLOG",(function(){return T}));n.d(t,"BLOG_POSTS",(function(){return I}));n.d(t,"LEGACY_CAMPAIGNS",(function(){return h}));n.d(t,"CRM_OBJECT",(function(){return j}));n.d(t,"AI_FORECAST",(function(){return r.AI_FORECAST}));n.d(t,"ATTRIBUTION_TOUCH_POINTS",(function(){return r.ATTRIBUTION_TOUCH_POINTS}));n.d(t,"CALL",(function(){return r.CALL}));n.d(t,"CALLS",(function(){return r.CALLS}));n.d(t,"COMMERCE_PAYMENTS",(function(){return r.COMMERCE_PAYMENTS}));n.d(t,"COMPANIES",(function(){return r.COMPANIES}));n.d(t,"CONTACTS",(function(){return r.CONTACTS}));n.d(t,"CONTACT_CREATE_ATTRIBUTION",(function(){return r.CONTACT_CREATE_ATTRIBUTION}));n.d(t,"CONVERSATIONS",(function(){return r.CONVERSATIONS}));n.d(t,"COMMUNICATION",(function(){return r.COMMUNICATION}));n.d(t,"POSTAL_MAIL",(function(){return r.POSTAL_MAIL}));n.d(t,"CROSS_OBJECT",(function(){return r.CROSS_OBJECT}));n.d(t,"DEAL_CREATE_ATTRIBUTION",(function(){return r.DEAL_CREATE_ATTRIBUTION}));n.d(t,"DEALS",(function(){return r.DEALS}));n.d(t,"ENGAGEMENT_EMAILS",(function(){return r.ENGAGEMENT_EMAILS}));n.d(t,"ENGAGEMENT",(function(){return r.ENGAGEMENT}));n.d(t,"ENGAGEMENTS",(function(){return r.ENGAGEMENTS}));n.d(t,"FEEDBACK",(function(){return r.FEEDBACK}));n.d(t,"FEEDBACK_SUBMISSIONS",(function(){return r.FEEDBACK_SUBMISSIONS}));n.d(t,"FORECAST",(function(){return r.FORECAST}));n.d(t,"LEADS",(function(){return r.LEADS}));n.d(t,"LINE_ITEMS",(function(){return r.LINE_ITEMS}));n.d(t,"MEETING_EVENT",(function(){return r.MEETING_EVENT}));n.d(t,"MEETINGS",(function(){return r.MEETINGS}));n.d(t,"NOTES",(function(){return r.NOTES}));n.d(t,"PRODUCTS",(function(){return r.PRODUCTS}));n.d(t,"SOCIAL_POSTS",(function(){return r.SOCIAL_POSTS}));n.d(t,"TASK",(function(){return r.TASK}));n.d(t,"TASKS",(function(){return r.TASKS}));n.d(t,"TICKETS",(function(){return r.TICKETS}));n.d(t,"SEQUENCE_ENROLLMENTS",(function(){return r.SEQUENCE_ENROLLMENTS}));n.d(t,"SEQUENCE_STEP_ENROLLMENTS",(function(){return r.SEQUENCE_STEP_ENROLLMENTS}));n.d(t,"SUBSCRIPTIONS",(function(){return r.SUBSCRIPTIONS}));n.d(t,"GOAL_TARGET",(function(){return r.GOAL_TARGET}));n.d(t,"PLAYBOOK",(function(){return r.PLAYBOOK}));n.d(t,"PLAYBOOK_SUBMISSION",(function(){return r.PLAYBOOK_SUBMISSION}));n.d(t,"INBOUND_DB_DATA_TYPES",(function(){return r.INBOUND_DB_DATA_TYPES}));n.d(t,"ANALYTICS_ALL_PAGES",(function(){return a.ANALYTICS_ALL_PAGES}));n.d(t,"ANALYTICS_ALL_PAGES_BY_COMPANY",(function(){return a.ANALYTICS_ALL_PAGES_BY_COMPANY}));n.d(t,"ANALYTICS_ALL_PAGES_SOURCES",(function(){return a.ANALYTICS_ALL_PAGES_SOURCES}));n.d(t,"ANALYTICS_BLOG_POSTS",(function(){return a.ANALYTICS_BLOG_POSTS}));n.d(t,"ANALYTICS_BOTS_CHATS",(function(){return a.ANALYTICS_BOTS_CHATS}));n.d(t,"ANALYTICS_BOTS_MODULES",(function(){return a.ANALYTICS_BOTS_MODULES}));n.d(t,"ANALYTICS_BROWSER_DETAILS",(function(){return a.ANALYTICS_BROWSER_DETAILS}));n.d(t,"ANALYTICS_CAMPAIGNS",(function(){return a.ANALYTICS_CAMPAIGNS}));n.d(t,"ANALYTICS_CONTENT_SEARCH",(function(){return a.ANALYTICS_CONTENT_SEARCH}));n.d(t,"ANALYTICS_CTA_PLACEMENTS",(function(){return a.ANALYTICS_CTA_PLACEMENTS}));n.d(t,"ANALYTICS_DEVICE_TYPES",(function(){return a.ANALYTICS_DEVICE_TYPES}));n.d(t,"ANALYTICS_DEVICE_TYPE_DETAILS",(function(){return a.ANALYTICS_DEVICE_TYPE_DETAILS}));n.d(t,"ANALYTICS_BEHAVIORAL_EVENTS",(function(){return a.ANALYTICS_BEHAVIORAL_EVENTS}));n.d(t,"ANALYTICS_EVENT_COMPLETIONS",(function(){return a.ANALYTICS_EVENT_COMPLETIONS}));n.d(t,"ANALYTICS_EVENT_PROPERTIES",(function(){return a.ANALYTICS_EVENT_PROPERTIES}));n.d(t,"ANALYTICS_FORMS",(function(){return a.ANALYTICS_FORMS}));n.d(t,"ANALYTICS_FORMS_SOURCES",(function(){return a.ANALYTICS_FORMS_SOURCES}));n.d(t,"ANALYTICS_FORMS_URLS",(function(){return a.ANALYTICS_FORMS_URLS}));n.d(t,"ANALYTICS_GEOLOCATION",(function(){return a.ANALYTICS_GEOLOCATION}));n.d(t,"ANALYTICS_KNOWLEDGE_ARTICLES",(function(){return a.ANALYTICS_KNOWLEDGE_ARTICLES}));n.d(t,"ANALYTICS_KNOWLEDGE_ARTICLES_SOURCES",(function(){return a.ANALYTICS_KNOWLEDGE_ARTICLES_SOURCES}));n.d(t,"ANALYTICS_LANDING_PAGES",(function(){return a.ANALYTICS_LANDING_PAGES}));n.d(t,"ANALYTICS_PATHS",(function(){return a.ANALYTICS_PATHS}));n.d(t,"ANALYTICS_SALES_DOCUMENTS",(function(){return a.ANALYTICS_SALES_DOCUMENTS}));n.d(t,"ANALYTICS_SALES_TEMPLATES",(function(){return a.ANALYTICS_SALES_TEMPLATES}));n.d(t,"ANALYTICS_SEQUENCE_ENROLLMENT_ACTIVITIES",(function(){return a.ANALYTICS_SEQUENCE_ENROLLMENT_ACTIVITIES}));n.d(t,"ANALYTICS_SOCIAL",(function(){return a.ANALYTICS_SOCIAL}));n.d(t,"ANALYTICS_SOCIAL_ENGAGEMENT",(function(){return a.ANALYTICS_SOCIAL_ENGAGEMENT}));n.d(t,"ANALYTICS_SOURCES",(function(){return a.ANALYTICS_SOURCES}));n.d(t,"ANALYTICS_STANDARD_PAGES",(function(){return a.ANALYTICS_STANDARD_PAGES}));n.d(t,"ANALYTICS_TARGETED_CONTENT",(function(){return a.ANALYTICS_TARGETED_CONTENT}));n.d(t,"ANALYTICS_TARGETED_CONTENT_DEFINITIONS",(function(){return a.ANALYTICS_TARGETED_CONTENT_DEFINITIONS}));n.d(t,"ANALYTICS_TOPICS",(function(){return a.ANALYTICS_TOPICS}));n.d(t,"ANALYTICS_UTM_CAMPAIGNS",(function(){return a.ANALYTICS_UTM_CAMPAIGNS}));n.d(t,"ANALYTICS_UTM_CONTENTS",(function(){return a.ANALYTICS_UTM_CONTENTS}));n.d(t,"ANALYTICS_UTM_MEDIUMS",(function(){return a.ANALYTICS_UTM_MEDIUMS}));n.d(t,"ANALYTICS_UTM_SOURCES",(function(){return a.ANALYTICS_UTM_SOURCES}));n.d(t,"ANALYTICS_UTM_TERMS",(function(){return a.ANALYTICS_UTM_TERMS}));n.d(t,"ANALYTICS_VIDEOS",(function(){return a.ANALYTICS_VIDEOS}));n.d(t,"ANALYTICS_VIDEOS_VIEWERSHIP",(function(){return a.ANALYTICS_VIDEOS_VIEWERSHIP}));n.d(t,"SOCIAL_CHANNELS",(function(){return a.SOCIAL_CHANNELS}));n.d(t,"UNIFIED_ADS_ACCOUNTS",(function(){return a.UNIFIED_ADS_ACCOUNTS}));n.d(t,"UNIFIED_ADS_CAMPAIGNS",(function(){return a.UNIFIED_ADS_CAMPAIGNS}));n.d(t,"UNIFIED_ADS_NETWORKS",(function(){return a.UNIFIED_ADS_NETWORKS}));n.d(t,"UNIFIED_FEEDBACK_EMAIL",(function(){return a.UNIFIED_FEEDBACK_EMAIL}));n.d(t,"UNIFIED_FEEDBACK_TRENDS",(function(){return a.UNIFIED_FEEDBACK_TRENDS}));n.d(t,"UNIFIED_FEEDBACK_WEB",(function(){return a.UNIFIED_FEEDBACK_WEB}));n.d(t,"UNIFIED_SEARCH_ANALYTICS_PAGES",(function(){return a.UNIFIED_SEARCH_ANALYTICS_PAGES}));n.d(t,"UNIFIED_SEARCH_ANALYTICS_QUERIES",(function(){return a.UNIFIED_SEARCH_ANALYTICS_QUERIES}));n.d(t,"SEQUENCE_SENDER_SCORE",(function(){return a.SEQUENCE_SENDER_SCORE}));n.d(t,"UNIFIED_DATA_TYPES",(function(){return a.UNIFIED_DATA_TYPES}));n.d(t,"UNIFIED_EVENTS",(function(){return o}));const s="CONVERSION",i="ATTRIBUTION",c="EMAIL",l="KNOWLEDGE_ARTICLES",u="EXPERIMENTAL_REVENUE",p="QUOTAS",d=[s,i,c,l,u,p],m="ANALYTICS_FUNNEL",g="ANALYTICS_PAGES",b="ANALYTICS_PEOPLE",O="DOCUMENTS",f="SEQUENCES",E="TEMPLATES",y="WEB_ANALYTICS",T="BLOG",I="BLOG_POSTS",h="LEGACY_CAMPAIGNS",j="CRM_OBJECT"},uE7y:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n.d(t,"a",(function(){return p}));n.d(t,"c",(function(){return d}));var r=n("XcLi"),a=n("AuBM"),o=n("3Wht"),s=n("DIgQ"),i=n("LA5X"),c=n("QP1J"),l=n("kaWj");const u=r.i({name:r.k(),table:r.k(),type:r.l(l.n)},"DatasetProperty"),p=r.i({name:r.k(),label:r.k(),derived:r.b(),hidden:r.b(),valid:r.b(),input:r.k().defaultValue(""),expression:c.b,persistedType:l.q.optional(),hasPropertyMapping:r.b().defaultValue(!1),type:l.q,context:s.a.defaultValue(s.b.ROW_LEVEL),editor:i.c.defaultValue(Object(i.a)({editorState:{}}))},"DatasetField"),d=r.i({table:o.e,properties:r.f(r.f(u)),fields:r.f(p),fieldOrder:r.d(r.k()),derivedFieldOrder:r.d(r.k()),filtering:a.i.optional(),eventDateInterval:a.c.optional()},"RelationalDataset")},uPyI:function(e,t,n){"use strict";var r=n("DIPK"),a=n("bw/x"),o=n("7Y4s");const s=e=>Object(o.a)(Object.assign({cacheKey:r.F,createFetchData:a.b,fetchData:a.l},e));t.a=s()},vWJb:function(e,t,n){"use strict";var r=n("QYOI"),a=n("4X0v"),o=n("LHp2"),s=n("u9+u"),i=n("hZMd"),c=n("4Nkb"),l=n("9Xev");const u=e=>e.getIn(["dimension","buckets"],Object(r.List)()).reduce((e,t)=>t.getIn(["dimension","buckets"],Object(r.List)()).reduce((e,t)=>e.add(t.get("key")),e),Object(r.Set)()),p=(e,t,n)=>{const a=Object(r.Map)({[n.get("property")]:n.get("metricTypes").reduce((e,t)=>e.set(t,0),Object(r.Map)())});return t.updateIn(["dimension","buckets"],(t=Object(r.List)())=>t.map(t=>t.updateIn(["dimension","buckets"],(t=Object(r.List)())=>{const n=t.reduce((e,t)=>e.set(t.get("key"),t),Object(r.Map)()),o=e.filter(e=>!n.has(e)).map(e=>Object(r.Map)({key:e,metrics:a}));return t.concat(o)})))},d=/.displayOrder$/,m=e=>"string"==typeof e?e.replace(d,""):null,g=(e,t,n=Object(r.List)())=>r=>t.hasIn([e,r,"options",0,"displayOrder"])||n.some(e=>e.property===r)?r:null,b=(e,t)=>n=>a=>{const o=t.getIn([e,n,"options"],Object(r.List)()).find(e=>a===e.get("value"));return o?o.get("displayOrder"):a===i.b?-999:-1},O=(e,t)=>(n,r)=>{const[a,o]=[n.get("key"),r.get("key")],s=t===c.a?e(a)-e(o):e(o)-e(a);if(0===s){return(t===c.a?1:-1)*(a>=o?1:-1)}return s},f=(e,t,n,a)=>o=>{const s=t.getIn([e,n,"options"],Object(r.List)()).some(e=>o===e.get("value"))||a.has(o),c=o===i.b?null:o;return s?c:null},E=(e,t)=>(n,r)=>{const[a,o]=[n,r].map(e=>e.get("key")).map(e),s=t===c.a?1:-1;return null===a?-1*s:null===o?s:s*(a>=o?1:-1)},y=({property:e,order:t},n)=>{if(n){const t=n.find(t=>t.property===e);if(t.type===l.a)return t.order}return t},T=(e,t)=>{const n=e.get("dimensions",Object(r.List)()).concat(e.get("metrics",Object(r.List)()).map(e=>e.get("property")));return t.filter(({property:e})=>!d.test(e)&&n.includes(e))},I=(e,t)=>e.reduce((e,n)=>{const{order:r=c.a}=t.find(e=>m(e.property)===n)||{};return[...e,{property:n,order:r}]},[]),h=(e,{property:t}={})=>t&&1===e.length&&e[0].property===t,j={[s.FEEDBACK_SUBMISSIONS]:["hs_survey_name","hs_survey_channel","hs_response_group","hs_survey_type"],[s.ENGAGEMENT]:["engagement.type","task.status","task.taskType"]},A=(e,t)=>j[e]&&j[e].includes(t),S=(e,t,n)=>{const a=e.get("dataType"),o=e.get("dimensions"),i=e.get("sort",Object(r.List)()).toJS(),c=g(a,t,i),l=o.map(c);if(l.some(Boolean)){const r=T(e,i),[o,c]=I(l,i),d=b(a,t),m=h(r,c);let g=n;if(o&&o.property&&(0===r.length||m)&&!A(a,o.property)){const e=d(o.property),t=O(e,o.order);g=g.updateIn(["dimension","buckets"],e=>e.sort(t))}const j=!(!c||!c.property)&&"enumeration"===t.getIn([a,c.property,"type"]);if(c&&c.property&&![s.ATTRIBUTION_TOUCH_POINTS,s.CONTACT_CREATE_ATTRIBUTION].includes(a)&&j){const n=u(g);let o,s;if(!m&&!A(a,c.property)){o=d(c.property);s=O(o,c.order)}else{o=f(a,t,c.property,n);s=E(o,y(c,m&&r))}g=p(n,g,e.getIn(["metrics",0])).updateIn(["dimension","buckets"],e=>e.map(e=>e.updateIn(["dimension","buckets"],e=>e.sort(s))))}return g}return n};var _=n("npjq");const N="YYYY-MM-DD",R=["date","datetime"],C=(e,t,n)=>R.includes(t.getIn([e,n,"type"])),v=(e,t)=>{const[n,r]=[e,t].map(e=>_.a.moment(e.get("key"),N));return n.isBefore(r)?-1:1},L=(e,t,n)=>{const r=e.get("dataType"),a=e.getIn(["dimensions",1]);if(C(r,t,a)){const t=u(n);return p(t,n,e.getIn(["metrics",0])).updateIn(["dimension","buckets"],e=>e.map(e=>e.updateIn(["dimension","buckets"],e=>e.sort(v))))}return n};var D=n("O3Wt"),M=n("O3Yl"),P=n("AXZb");const U=(e,t,n)=>{const r=e.getIn(["metrics",t.get("name"),Object(P.a)(n)]);return[M.f,M.i,M.j,M.c].includes(t.get("type"))&&isNaN(r)?0:r};var k=(e,t,n)=>{const a=e.get("metrics",Object(r.List)());return Object(r.Map)({total:t.get("count"),metrics:a.reduce((e,a)=>a.get("metricTypes",Object(r.List)()).reduce((e,r)=>{const o=a.get("property");return e.setIn([o,r],"count"===o?t.get("count"):U(t,n.get(o),r))},e),Object(r.Map)())})},x=n("g302"),w=n("UzF3"),F=(e,t)=>{const n=e.getIn(["dimensions",0]),a=e.getIn(["dimensions",1]),o=t.getIn(["aggregations",n],Object(r.List)());return Object(r.Map)({dimension:Object(r.Map)({property:n,buckets:o.map(t=>Object(r.Map)({key:t.get("key"),metrics:Object(w.a)(e,t),dimension:Object(r.Map)({property:a,buckets:t.getIn(["aggregations",a],Object(r.List)()).map(t=>Object(r.Map)({key:t.get("key"),metrics:Object(w.a)(e,t)}))})}))}),metrics:Object(w.a)(e,t),total:o.count()||0})},Y=n("wPNq");const B=(e,t,n)=>{const r=e.get("dimensions"),[a,o]=r.map(e=>n.hasIn([e,"property"]));return t.update("aggregations",e=>{let t=e;a&&(t=t.mapKeys(()=>r.first()));o&&(t=t.update(r.first(),e=>e.map(e=>e.update("aggregations",e=>e.mapKeys(()=>r.get(1))))));return t})},G=(e,t,n)=>{const r=e.get("dimensions").size;switch(r){case 0:return k(e,t,n);case 1:return Object(x.a)(e,t);case 2:return F(e,t);default:throw new Error("expected valid dimensionality, but got "+r)}},V=(e,t)=>{if(e.getIn(["dimensions",0])===Y.a)return t;const n=e.get("offset")||0,a=e.get("limit");return t.updateIn(["dimension","buckets"],Object(r.List)(),e=>a?e.skip(n).take(a):e)},H=(e,t)=>{const n=e.getIn(["dimensions",0],Object(r.List)());return["date","datetime"].includes(t.getIn([n,"type"]))};t.a=e=>(t,n)=>{D.b(n);Object(o.b)(t)&&(t=t.set("dimensions",Object(r.List)()));const s=t.get("dataType"),i=e.get(s),c=B(t,n,i),l=G(t,c,i),u=H(t,i)?Object(a.a)(t,l):l,p=[S,L].reduce((n,r)=>r(t,e,n),u);return V(t,p)}},vZor:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QYOI"),a=n("kV5Q");const o=500,s=(e,t=[o])=>{const n=e=>e.get("aggregations",Object(r.Map)()).forEach(e=>{const[n=o,...r]=t;if(e.count()>n)throw new a.v;s(e,r)});r.List.isList(e)?e.forEach(n):n(e)};t.b=s},veyg:function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"RUNTIME_OPTIONS",(function(){return d}));n.d(t,"resolve",(function(){return j}));n.d(t,"runtimeOptions",(function(){return A}));var r=n("QYOI"),a=n("AnRp"),o=n("KNLt"),s=n("Yopw"),i=n("XSXw"),c=n("T1O4"),l=n("Kcsf"),u=n("u9+u"),p=n("UJ2w");const d={batchRequests:!1,v2Datasets:!0,useBackendResolve:!1,useLocalReportingApis:!1,validationResolve:!1,runtimeMockResolvers:void 0},m="ReportingDataMainResolve",g="reportingDataMainResolvePath",b="reportingDataMainRuntimeOptionsV2Datasets",O="reportingDataDataSystem",f="CRM Search",E="Unified Analytics",y="Unified Events",T="Other Data System",I=e=>{if(e)return u.INBOUND_DB_DATA_TYPES.includes(e)?f:u.UNIFIED_DATA_TYPES.includes(e)?E:e===u.UNIFIED_EVENTS?y:T},h=(e,t,n,r)=>{const a=new l.a;a.addReportAttributes(e);a.addAttribute(b,t.v2Datasets);r&&a.addErrorAttributes(r);a.addAttribute(g,n);a.addAttribute(O,I(e.getIn(["config","dataType"])));a.sendPageAction(m)},j=(e,t={})=>{a.a(e);const n=Object.assign({report:e},d,{},t);if(e.get("reportConfigs")&&t.useAdditionalConfigs){if(t.useRaaSAPIToResolveMultiConfig)return Object(p.a)(e);const n=e.delete("reportConfigs"),a=e.get("reportConfigs").map((e,a)=>{const o=n.set("config",e);return j(o,t).then(e=>Object(r.Map)({[a]:e.get("primary")}))});return Promise.all([j(n,t),...a.toArray()]).then(([e,...t])=>t.reduce((e,t)=>e.merge(t),e)).catch(console.error)}if(t.useFrontendResolve)return Object(s.a)(Object(o.a)(e.get("config")),n);if((Object(i.a)(e)||t.useBackendResolve)&&n.v2Datasets){h(e,n,"BackendResolveShortCircuit");return Object(c.b)(e,n)}h(e,n,"FrontendResolve");return Object(s.a)(Object(o.a)(e.get("config")),n)},A=d;e&&e.exports&&(e.exports.default=e.exports)}).call(this,n("OYux")(e))},"w+gF":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"a",(function(){return c}));var r=n("QYOI"),a=n("O3Yl");const o=2e3,s=(e,t,n)=>e.has("dimension")?e.getIn(["dimension","buckets"],Object(r.List)()).every(e=>s(e,t,n)):Math.abs(e.getIn(["metrics",t,n],0))<o,i=(e,t,n)=>t.get("metrics").reduce((e,t)=>e.update(t.get("property"),e=>e?e.concat(t.get("metricTypes")):Object(r.List)(t.get("metricTypes"))),Object(r.Map)()).map((o,i)=>o.reduce((r,o)=>r.set(o,n.getIn([t.get("dataType"),i,"type"])===a.f&&s(e,i,o)),Object(r.Map)())),c=(e,t)=>t.reduce((t,n)=>t.set(n,e.getIn(["properties",n,"type"])===a.f&&e.get("data",Object(r.List)()).every(e=>Math.abs(e.get(n))<o)),Object(r.Map)())},"w17+":function(e,t,n){"use strict";t.a=(e,t)=>n=>{const r=e(n,t);return void 0===r?t:r}},w7vv:function(e,t,n){"use strict";var r=n("QYOI"),a=n("ljrx"),o=n("u9+u"),s=n("WZzs"),i=n("mkAW"),c=n("sV17"),l=n("5H2Q"),u=n("ij+/");const p="id",d=()=>new u.a({dataType:o.SOCIAL_POSTS,properties:{idProperty:p,responsePaths:{id:["id"],"stats.clicks":["stats","clicks"],"stats.impressions":["stats","impressions"],"stats.shares":["stats","shares"]},extractors:{__default:(e,t)=>e.get(t),"stats.clicks":e=>e.getIn(["stats","clicks"]),"stats.impressions":e=>e.getIn(["stats","impressions"]),"stats.shares":e=>e.getIn(["stats","shares"])}},search:{url:"social-reporting/v1/search/posts",objectsField:"results"},hydrate:{inputs:Object(r.Set)([p,"channelType"]),fn:({id:e,channelType:t})=>`${e} (${t})`}});t.a=Object(a.b)({dataType:o.SOCIAL_POSTS,references:Object(r.Map)({channelId:Object(i.a)(()=>Object(l.b)({useChannelId:!0})),campaignGuid:Object(i.a)(c.b)}),referenceProperties:Object(r.Map)({id:o.SOCIAL_POSTS}),hydrate:(e,t)=>Object(s.a)(o.SOCIAL_POSTS,e,t),getInboundSpec:d})},wAvg:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const r=/^[0-9]\.?[0-9]*[eE][0-9]+/,a=/\.0$/,o=e=>{const t=String(e);return r.exec(t)||a.exec(t)},s=e=>isNaN(e)||null===e||""===e||!o(e)?e:"string"==typeof e?String(Number(e)):Number(e)},wLYU:function(e,t,n){"use strict";var r=n("QYOI"),a=n("WbQG"),o=n("iCNX"),s=n("Br7N");t.a=()=>s.a("twilio/v1/custom-dispositions",{query:{includeDeleted:!0}}).then(o.a).then(({callDispositions:e})=>Object(r.List)(e.map(({uid:e,label:t,displayOrder:n})=>Object(r.Map)({value:e,label:Object(a.b)(t,"reporting-data.properties.call.dispositionTypes"),displayOrder:n}))))},wPNq:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n.d(t,"b",(function(){return i}));var r=n("QYOI"),a=n("AYIY"),o=n("VqtB");const s="BUCKET_dealProgress",i=e=>{const t=(e.get("dimensions")||Object(r.List)()).indexOf(s);return a.a.resolve(t>=0?e.set("limit",o.a):e)}},wnG7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,75)},x1fr:function(e,t,n){"use strict";n.d(t,"c",(function(){return r}));n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return o}));const r=({metrics:e,data:t,total:n})=>({metrics:t.reduce((t,n,r)=>Object.assign({},t,{[e[r][0]]:{[e[r][1]]:n}}),{}),total:n[0]}),a=({dimensions:e,metrics:t,keys:n,data:r,total:a,totals:o,labels:s})=>Object.assign({dimension:Object.assign({property:e[0],buckets:r.map((e,r)=>Object.assign({key:n[0][r],metrics:e.reduce((e,n,r)=>Object.assign({},e,{[t[r][0]]:{[t[r][1]]:n}}),{})},s&&s.keys&&s.keys.length>0?{keyLabel:s.keys[0][r]}:{}))},s&&s.dimensions?{propertyLabel:s.dimensions[0]}:{})},o?{metrics:t.reduce((e,t,n)=>Object.assign({},e,{[t[0]]:{[t[1]]:o[n]}}),{})}:{},{total:a[0]||n[0].length}),o=({dimensions:e,metrics:t,keys:n,data:r,total:a,labels:o})=>({dimension:{property:e[0],buckets:r.map((r,a)=>({key:n[0][a],dimension:{property:e[1],buckets:r.map((e,r)=>Object.assign({key:n[1][r],metrics:e.reduce((e,n,r)=>Object.assign({},e,{[t[r][0]]:{[t[r][1]]:n}}),{})},o&&o.keys&&o.keys.length>1?{keyLabel:o.keys[1][r]}:{}))}}))},total:a[0]||n[0].length})},x5iv:function(e,t,n){"use strict";n.d(t,"c",(function(){return r}));n.d(t,"e",(function(){return a}));n.d(t,"a",(function(){return o}));n.d(t,"b",(function(){return s}));n.d(t,"d",(function(){return i}));const r="formatted",a="unformatted",o="currency",s="duration",i="percentage"},x6c8:function(e,t,n){"use strict";var r=n("6Umb");const a=Object(r.a)("reporting-data.offlineSources");t.a=()=>({IMPORT:a("import"),API:a("api"),FORM:a("form"),ANALYTICS:a("analytics"),MIGRATION:a("migration"),SALESFORCE:a("salesforce"),INTEGRATION:a("integration"),CONTACTS_WEB:a("contactsWeb"),WAL_INCREMENTAL:a("walIncremental"),TASK:a("task"),EMAIL:a("email"),WORKFLOWS:a("workflows"),CALCULATED:a("calculated"),SOCIAL:a("social"),BATCH_UPDATE:a("batchUpdate"),SIGNALS:a("signals"),COMPANY_INSIGHTS:a("companyInsights"),COMPANIES:a("companies"),DEALS:a("deals"),ASSISTS:a("assists"),PRESENTATIONS:a("presentations"),TALLY:a("tally"),SIDEKICK:a("sidekick"),CRM_UI:a("crmUI"),MERGE_CONTACTS:a("mergeContacts"),PORTAL_USER_ASSOCIATOR:a("portalUserAssociator"),INTEGRATIONS_PLATFORM:a("integrationsPlatform"),BCC_TO_CRM:a("bccToCrm"),FORWARD_TO_CRM:a("forwardToCrm"),ENGAGEMENTS:a("engagements"),SALES:a("sales"),HEISENBERG:a("heisenberg"),LEADIN:a("leadin"),GMAIL_INTEGRATION:a("gmailIntegration"),ACADEMY:a("academy"),SALES_MESSAGES:a("salesMessages"),AVATARS_SERVICE:a("avatarsService"),MERGE_COMPANIES:a("mergeCompanies"),SEQUENCES:a("sequences"),COMPANY_FAMILIES:a("companyFamilies"),MOBILE_IOS:a("mobileIOS"),MOBILE_ANDROID:a("mobileAndroid"),CONTACTS:a("contacts"),ASSOCIATIONS:a("associations"),EXTENSION:a("extension"),SUCCESS:a("success"),BOT:a("bot"),INTEGRATIONS_SYNC:a("integrationsSync"),AUTOMATION_PLATFORM:a("automationPlatform"),CONVERSATIONS:a("conversations"),EMAIL_INTEGRATION:a("emailIntegration"),CONTENT_MEMBERSHIP:a("contentMembership"),QUOTES:a("quotes"),BET_ASSIGNMENT:a("betAssignment"),QUOTAS:a("quotas"),BET_CRM_CONNECTOR:a("betCrmConnector"),MEETINGS:a("meetings"),MERGE_OBJECTS:a("mergeObjects")})},xMF4:function(e,t,n){"use strict";var r=n("hZMd"),a=n("npjq"),o=n("QYOI");const s=(e,t)=>{const n=e.get("label");return n||t!==r.b?n||t:null},i=(e,t)=>t===r.a.ENUMERATION?a.a.text("reporting-data.missing.unassigned"):e.get("label");var c=n("sV17");const l=e=>e.get("hs_chatflow_name");var u=n("VEo5"),p=n("7lqv");const d=e=>e.get("hs_inbox_name");var m=n("80Ck"),g=n("yaFf");const b=(e,t)=>e.get("label",t===r.b?null:a.a.text("reporting-data.references.generic-channel.unknown",{id:t}));var O=n("zviy"),f=n("YfH6"),E=n("l5oV"),y=n("sAns"),T=n("jOkw"),I=n("nNCA");const h=(e,t)=>{let n;if(t===r.b)n=a.a.text("reporting-data.references.sequencestep.unknown");else{const e=+t;n=a.a.text("reporting-data.references.sequencestep.label",{stepNumber:e+1})}return n};var j=n("Agl5"),A=n("JfoG"),S=n("sJ2X");n("VljC"),n("Br7N"),n("UHjn");const _="hs_template_name",N=(e,t)=>{const n=t!==r.b?a.a.text("reporting-data.references.template.unknown",{id:t}):void 0;return e.get(_)||n};var R=({labelKeyOrKeys:e,fallbackTranslationPath:t})=>(n,s)=>{const i=s!==r.b?a.a.text(t,{id:s}):void 0,c=Object(o.List)(o.List.isList(e)?e:[e]).find(e=>n.get(e));return n.get(c)||i};n.d(t,"a",(function(){return v}));const C=Object(o.Map)(Object.assign({USER:S.b,OWNER:E.b,CAMPAIGN:c.c,PIPELINE:y.b,PIPELINE_STAGE:T.b,TEAM:j.b,CURRENCY_CODE:m.b,GENERIC_CHANNEL:b,LIST:O.b,MARKETABLE_REASON:f.b,ANALYTICS_SOURCE_DATA_2:s,"0-1":p.b,"0-2":u.b,"0-3":g.b,"0-5":A.b,"0-7":I.b,"0-55":d,"0-56":l,"0-62":N,SEQUENCE_STEP_ORDER:h,BUSINESS_UNIT:i},Object(o.Map)({"0-35":{labelKeyOrKeys:Object(o.List)(["label","hs_name"]),fallbackTranslationPath:"reporting-data.references.campaign.unknown"},"0-45":{labelKeyOrKeys:"label",fallbackTranslationPath:"reporting-data.references.list.unknown"},"0-58":{labelKeyOrKeys:"hs_sequence_name",fallbackTranslationPath:"reporting-data.references.sequence.unknown"},"0-83":{labelKeyOrKeys:"hs_document_title",fallbackTranslationPath:"reporting-data.references.sales-document.unknown"},"0-119":{labelKeyOrKeys:"hs_tag_name",fallbackTranslationPath:"reporting-data.references.feedback-submission.unknown"},SEQUENCE:{labelKeyOrKeys:Object(o.List)(["label","name"]),fallbackTranslationPath:"reporting-data.references.sequence.unknown"},EVENT_TYPE:{labelKeyOrKeys:"label",fallbackTranslationPath:"reporting-data.references.event-type.unknown"},CTA:{labelKeyOrKeys:Object(o.List)(["label","name"]),fallbackTranslationPath:"reporting-data.references.cta.unknown"},FORM:{labelKeyOrKeys:Object(o.List)(["label","name"]),fallbackTranslationPath:"reporting-data.references.form.unknown"},INTERACTION_TYPE:{labelKeyOrKeys:Object(o.List)(["label","name"]),fallbackTranslationPath:"reporting-data.references.interaction-type.unknown"},SALESFORCE_CAMPAIGN:{labelKeyOrKeys:Object(o.List)(["label","name"]),fallbackTranslationPath:"reporting-data.references.salesforce-campaign.unknown"},OBJECT_COORDINATES:{labelKeyOrKeys:"label",fallbackTranslationPath:"reporting-data.references.object-coordinates.unknown"},CRM_OBJECT_TAG:{labelKeyOrKeys:"label",fallbackTranslationPath:"reporting-data.references.crm-object-tags.unknown"},CALL_DISPOSITION:{labelKeyOrKeys:"label",fallbackTranslationPath:"reporting-data.references.call-disposition.unknown"},CUSTOM_OBJECT:{labelKeyOrKeys:"label",fallbackTranslationPath:"reporting-data.references.custom-objects.unknown"}}).map(e=>R(e)).toJS())),v=e=>{const t=C.get(e)?C.get(e):(e,t)=>t;return(e,n,...o)=>{const s=t(e,n,...o);return s||n!==r.b?null==s?n:s:a.a.text("reporting-data.missing.value")}}},xhc2:function(e,t,n){"use strict";n.r(t);n.d(t,"getConversationPropertyGroups",(function(){return b}));n.d(t,"getPropertyGroups",(function(){return O}));n.d(t,"getProperties",(function(){return f}));var r=n("QYOI"),a=n("u9+u"),o=n("YrWE"),s=n("6Umb"),i=n("AYIY"),c=n("/SfS"),l=n("MSlI"),u=n("6sbF"),p=n("03no");const d=Object(s.a)("reporting-data.properties.conversations"),m=Object(s.a)("reporting-data.groups.conversations"),g=(e,t)=>Object(r.fromJS)(t.map(t=>Object.assign({},t,{name:`${e}.${t.name}`}))),b=()=>i.a.resolve(r.List.of(Object(r.Map)({name:"conversationInfo",displayName:m("conversationInfo"),displayOrder:0,hubspotDefined:!0,properties:g("conversationSession",[{name:"visitorStartTime",label:d("visitorStartTime"),type:"datetime"},{name:"visitorEndTime",label:d("visitorEndTime"),type:"datetime"},{name:"visitorWaitTimeMilliseconds",label:d("visitorWaitTimeMilliseconds"),type:"duration"},{name:"sessionDurationMilliseconds",label:d("sessionDurationMilliseconds"),type:"duration"},{name:"agentJoinTime",label:d("agentJoinTime"),type:"datetime"},{name:"numVisitorMessages",label:d("numVisitorMessages"),type:"number"},{name:"numAgentMessages",label:d("numAgentMessages"),type:"number"},{name:"online",label:d("online"),type:"bool",hidden:!0},{name:"isBot",label:d("isBot"),type:"bool"},{name:"fullUrl",label:d("fullUrl"),type:"string"},{name:"conversationSource",label:d("conversationSource"),type:"enumeration",options:[{value:"LIVE_CHAT",label:d("conversationSources.liveChat")},{value:"FB_MESSENGER",label:d("conversationSources.facebookMessenger")}]},{name:"threadId",label:d("threadId"),type:"number",numberDisplayHint:"unformatted",hidden:!0},{name:"sessionClosedAt",label:d("sessionClosedAt"),type:"datetime"},{name:"agentResponseTimeMilliseconds",label:d("agentResponseTimeMilliseconds"),type:"duration"}])}))),O=()=>i.a.all([Object(p.a)(),b()]).then(([e,t])=>Object(r.List)([...e,...t])),f=()=>Object(l.a)(O,e=>e.merge(Object(u.b)(a.CONVERSATIONS)))().then(Object(c.a)(o.a.getInboundSpec()))},xnR0:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("QgEn"),a=n("npjq"),o=n("QYOI"),s=n("nDpY"),i=n.n(s),c=n("VfuR"),l=n.n(c),u=n("Ktcs"),p=n("3eGA"),d=n("77dM"),m=n("DqRu"),g=n("NfVS"),b=n("QLu5"),O=n("9f1P");const f=n.n(O).a.div.withConfig({displayName:"ErrorMessage__StyledErrorMessage",componentId:"sc-1isahi4-0"})(["&&{","}"],({isMobile:e})=>"padding: "+(e?"0px":"40px")),E={[p.TOO_MANY_POINTS_REQUESTED]:"https://knowledge.hubspot.com/reports/understand-the-custom-report-builder#too-many-data-points-requested-error-troubleshooting"},y=(e,t)=>a.a.text("error-messages."+e,t),T={[p.ACCESS_DENIED]:()=>({header:y("access-denied.header"),tip:y("access-denied.message")}),[p.UNAUTHORIZED_ENGAGEMENTS_REPORT_READ]:()=>({header:y("access-denied-engagements.header"),tip:y("access-denied-engagements.message")}),[p.TOO_MANY_POINTS_REQUESTED]:()=>({header:y("too-many-data-points.header"),tip:y("too-many-data-points.message")}),[p.TOO_MANY_BREAKDOWNS]:()=>({header:y("too-many-breakdowns.header"),tip:y("too-many-breakdowns.message")}),[p.INVALID_PROPERTIES]:({meta:{properties:e=[]}})=>({header:y("invalid-properties.header"),tip:y("invalid-properties.message",{properties:a.a.formatList(e)})}),[p.DEPRECATED_PROPERTY]:({meta:{property:e}})=>({header:y("deprecated-property.header"),tip:y("deprecated-property.message."+e)}),[p.FUNNEL_COUNT_PROPERTY_NOT_PRESENT]:({meta:{metricName:e}})=>({header:y("funnel-count-not-present.header"),tip:y("funnel-count-not-present."+e)}),[p.FIELD_LEVEL_PERMISSIONS]:()=>({header:y("field-level-permissions.header"),tip:y("field-level-permissions.message")}),[p.UNSUPPORTED]:()=>({header:y("unsupported.header"),tip:y("unsupported.message")}),[p.TIMEOUT]:()=>({header:y("timeout.header"),tip:y("timeout.message")}),[p.TOO_MANY_METRICS_REQUESTED]:()=>({tip:y("too-many-metrics.message"),buttonText:y("too-many-metrics.buttonText")}),[p.TOO_MANY_DEAL_STAGES_REQUESTED]:()=>({tip:y("too-many-deal-stages.message"),buttonText:y("too-many-deal-stages.buttonText")}),[p.UNSUPPORTED_DATE_RANGE_REQUESTED]:()=>({header:y("unsupported-frequency-display.header"),tip:y("unsupported-frequency-display.message")}),[p.INVALID_PIPELINE]:()=>({tip:y("invalid-pipeline.message"),buttonText:y("invalid-pipeline.buttonText")}),[p.MISSING_REQUIRED_DATA]:()=>({tip:Object(r.jsx)(b.a,{})}),[p.NOT_CUSTOM_OBJECT_SUPPORTED]:()=>({header:y("notCustomObjectSupported")}),[p.REQUEST_DATASET_TOO_LARGE]:()=>({header:y("too-large-dataset.header"),tip:y("too-large-dataset.message")}),[p.PIPELINE_CADENCE_MISMATCH]:()=>({header:y("pipeline-cadence-mismatch.header"),tip:y("pipeline-cadence-mismatch.message")}),[p.UNKNOWN]:()=>({header:y("generic.header"),tip:y("generic.message")}),[p.MISSING_DIMENSIONS_AND_METRICS]:()=>({header:y("no-dimensions-or-metrics.header"),tip:y("no-dimensions-or-metrics.message")}),[p.DATA_REPROCESSING]:()=>({header:y("data-reprocessing.header"),tip:y("data-reprocessing.message")}),[p.HIGHCHARTS_ERROR]:()=>({header:y("generic.header"),tip:y("generic.message")}),[p.MISSING_INTEGRATION_ERROR]:()=>({header:y("missing-integration.header"),tip:y("missing-integration.message")}),[p.MISSING_SERIES_ERROR]:()=>({header:y("missing-series.header"),tip:y("missing-series.message")}),[p.INVALID_TWO_DIMENSION_METRIC]:({meta:{propertyName:e}})=>({header:y("invalid-two-dimension-metric.header",{propertyName:e}),tip:y("invalid-two-dimension-metric.message"),buttonText:y("invalid-two-dimension-metric.buttonText")}),[p.MOBILE_UNSUPPORTED]:()=>({header:y("mobile-unsupported.header"),tip:y("mobile-unsupported.message")}),[p.FUTURE_DATE_UNSUPPORTED]:()=>({header:y("future-date-unsupported.header"),tip:y("future-date-unsupported.message")})},I=(e,t)=>{e===p.UNKNOWN&&console.error(e+" ERROR in HubSpot/reporting:",t)};class h extends u.PureComponent{componentDidMount(){const{type:e,error:t}=this.props;I(e,t)}componentDidUpdate({type:e,error:t}){e===this.props.type&&this.props.error===t||I(e,t)}render(){const{type:e=p.UNKNOWN,error:t,editableReport:n,"data-test-id":a="reporting-error-message",isMobile:o=!1}=this.props,{header:s,tip:c,buttonText:l}=T[e](t),u=n&&n.get("id");return Object(r.jsxs)(f,{className:"splash-message","data-test-id":a,isMobile:o,children:[Object(r.jsx)("h4",{children:s}),Object(r.jsx)("p",{children:c}),E[e]&&Object(r.jsx)(g.a,{message:"error-messages.learn-more_jsx",elements:{UILink:d.a},options:{external:!0,href:E[e],target:"blank"}}),l&&u&&Object(r.jsx)("div",{className:"m-top-2",children:Object(r.jsx)(m.a,{use:"tertiary",href:`/report-builder/${i.a.get()}/report/${u}`,children:l})})]})}}h.propTypes={type:l.a.oneOf(Object.keys(p)),error:l.a.any,editableReport:l.a.instanceOf(o.Map),"data-test-id":l.a.string,isMobile:l.a.bool};h.defaultProps={type:p.UNKNOWN}},y2XY:function(e,t,n){"use strict";var r=n("QYOI"),a=n("6Umb");const o=Object(a.a)("reporting-data.properties.quotas");t.a=()=>Object(r.fromJS)({"QUOTAS.MONTHLY.AVERAGE_NPS":{name:"QUOTAS.MONTHLY.AVERAGE_NPS",label:o("AVERAGE_NPS.MONTHLY"),type:"number"},"QUOTAS.MONTHLY.AVERAGE_RESOLUTION_TIME":{name:"QUOTAS.MONTHLY.AVERAGE_RESOLUTION_TIME",label:o("AVERAGE_RESOLUTION_TIME.MONTHLY"),type:"duration"},"QUOTAS.MONTHLY.AVERAGE_RESPONSE_TIME":{name:"QUOTAS.MONTHLY.AVERAGE_RESPONSE_TIME",label:o("AVERAGE_RESPONSE_TIME.MONTHLY"),type:"duration"},"QUOTAS.MONTHLY.CALLS_MADE":{name:"QUOTAS.MONTHLY.CALLS_MADE",label:o("CALLS_MADE.MONTHLY"),type:"number"},"QUOTAS.MONTHLY.DEALS_CREATED":{name:"QUOTAS.MONTHLY.DEALS_CREATED",label:o("DEALS_CREATED.MONTHLY"),type:"number"},"QUOTAS.MONTHLY.MEETINGS_BOOKED":{name:"QUOTAS.MONTHLY.MEETINGS_BOOKED",label:o("MEETINGS_BOOKED.MONTHLY"),type:"number"},"QUOTAS.MONTHLY.REVENUE":{name:"QUOTAS.MONTHLY.REVENUE",label:o("REVENUE.MONTHLY"),type:"currency"},"QUOTAS.MONTHLY.TICKETS_CLOSED":{name:"QUOTAS.MONTHLY.TICKETS_CLOSED",label:o("TICKETS_CLOSED.MONTHLY"),type:"number"}})},y6Jc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("XcLi");const a=r.i({id:r.a(),stages:r.d(r.k()).defaultValue([])},"Pipeline")},yaFf:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("npjq"),a=n("QYOI"),o=n("u9+u"),s=n("fhwZ"),i=n("z7F3"),c=n("AYIY"),l=n("Br7N"),u=n("UHjn");const p=(e=Object(a.List)())=>Object(i.a)(e=>l.b("inbounddb-objects/v1/preview",{data:{[s.a.get(o.DEALS)]:e.toArray()}}).then(a.fromJS),e=>e.reduce((e,t)=>{const n=t.getIn([s.a.get(o.DEALS)]);return e.concat(n)},Object(a.OrderedMap)({})),e),d=(e,t)=>e.get("dealname")||e.getIn(["properties","dealname","value"],null)||r.a.text("reporting-data.references.deal.unknown",{id:t});t.a=e=>{if(e.isEmpty())return c.a.resolve(Object(a.Map)());const t=e.reduce((e,t)=>{const n=Number(t);return n?e.set(String(n),t):e},Object(a.Map)());return p(t.keySeq().toList()).then(e=>Object(a.fromJS)(e).reduce((e,n=Object(a.Map)(),r)=>e.set(String(r),Object(u.b)(t.get(r,r),d(n,r))),Object(a.Map)()))}},"yx+q":function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n("VljC"),a=n("Br7N"),o=n("UHjn"),s=n("QYOI");const i="inbounddb-io/imports/get-names",c=100;function l(e){return a.d(r.a.put({url:i,data:[...e]})).then(e=>e.get("hits",Object(s.Map)()).map((e,t)=>Object(o.b)(t,e)))}const u=e=>{const t=[];for(let n=0;n<e.count();n+=c)t.push(l(e.slice(n,n+c)));return Promise.all(t).then(e=>e.reduce((e,t)=>e.merge(t),Object(s.Map)()))};t.a=u;const p=e=>u(Object(s.List)(e)).then(e=>e.reduce((e,t)=>Object.assign({},e,{[t.get("value")]:t.get("label")}),{}))},z7F3:function(e,t,n){"use strict";const r=100,a=e=>null!=e.size?e.size:e.length,o=e=>[...Array(e)].map((e,t)=>t),s=(e,t)=>o(Math.ceil(a(e)/t)).map(n=>e.slice(n*t,t*(n+1)));t.a=(e,t,n,a=r)=>Promise.all(s(n,a).map(e)).then(t)},"zKI+":function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));n.d(t,"a",(function(){return u}));n.d(t,"d",(function(){return d}));var r=n("QYOI"),a=n("Br7N"),o=n("VljC"),s=n("6Umb"),i=n("WbQG");const c=Object(s.a)("reporting-data.lifecyclestage"),l="create",u=()=>Object(r.List)([Object(r.Map)({value:l,type:"string",label:c(l),displayOrder:-1}),Object(r.Map)({value:"subscriber",type:"string",label:c("subscriber"),displayOrder:0}),Object(r.Map)({value:"lead",type:"string",label:c("lead"),displayOrder:1}),Object(r.Map)({value:"marketingqualifiedlead",type:"string",label:c("marketingqualifiedlead"),displayOrder:2}),Object(r.Map)({value:"salesqualifiedlead",type:"string",label:c("salesqualifiedlead"),displayOrder:3}),Object(r.Map)({value:"opportunity",type:"string",label:c("opportunity"),displayOrder:4}),Object(r.Map)({value:"customer",type:"string",label:c("customer"),displayOrder:5}),Object(r.Map)({value:"evangelist",type:"string",label:c("evangelist"),displayOrder:6}),Object(r.Map)({value:"other",type:"string",label:c("other"),displayOrder:7})]),p=()=>a.d(o.a.get({url:"pipelines/v2/pipelines/0-1/contacts-lifecycle-pipeline"})),d=()=>p().then(e=>e.get("stages").map(t=>Object(r.Map)({type:"string",value:t.get("stageId"),label:Object(i.d)({objectType:e.get("objectType"),stageId:t.get("stageId"),pipelineId:e.get("pipelineId"),label:t.get("label")}),displayOrder:t.get("displayOrder")})).unshift(Object(r.Map)({value:"create",type:"string",label:c("create"),displayOrder:-1})));t.c=d},zTB3:function(e,t,n){"use strict";n("JYON");var r=n("bQHN"),a=n.n(r),o=n("QYOI"),s=n("mQDE");var i=()=>{const{data:e}=Object(s.a)();return a()("scopes",e)||Object(o.List)()};n("OZT9");const c="reporting-edit",l="reporting-create-and-own",u="reporting-admin",p="custom-reporting-access",d="custom-object-access",m="journey-analytics-read",g="deal-journey-analytics-read",b="dashboard-specific-permission-grants",O="dashboard-demo-write",f="marketing-starter-product",E="hub-marketing-product",y="reports-paid-access",T="commerce-payments-read";n.d(t,"i",(function(){return j}));n.d(t,"h",(function(){return A}));n.d(t,"g",(function(){return S}));n.d(t,"b",(function(){return _}));n.d(t,"c",(function(){return N}));n.d(t,"a",(function(){return R}));n.d(t,"d",(function(){return C}));n.d(t,"e",(function(){return v}));n.d(t,"j",(function(){return L}));n.d(t,"l",(function(){return D}));n.d(t,"k",(function(){return M}));n.d(t,"f",(function(){return P}));const I=(...e)=>{const t=i();return e.every(e=>t.includes(e))},h=(...e)=>{const t=i();return e.some(e=>t.includes(e))},j=()=>I(c),A=()=>I(l),S=()=>I(u),_=()=>I(d),N=()=>I(p),R=()=>I(b),C=()=>I(O),v=()=>I(m),L=()=>I(g),D=()=>!h(f,E,y),M=()=>{const e=I(f),t=h(E,y);return e&&!t},P=()=>I(T)},zYNg:function(e,t,n){"use strict";n.d(t,"m",(function(){return u}));n.d(t,"l",(function(){return p}));n.d(t,"c",(function(){return d}));n.d(t,"h",(function(){return g}));n.d(t,"a",(function(){return f}));n.d(t,"d",(function(){return T}));n.d(t,"k",(function(){return I}));n.d(t,"j",(function(){return j}));n.d(t,"b",(function(){return A}));n.d(t,"n",(function(){return S}));n.d(t,"f",(function(){return _}));n.d(t,"e",(function(){return N}));n.d(t,"i",(function(){return R}));n.d(t,"o",(function(){return v}));n.d(t,"g",(function(){return L}));n.d(t,"p",(function(){return D}));var r=n("XcLi"),a=n("P2ER"),o=n("WvXS"),s=n("tc1C"),i=n("R+M3"),c=n("O2fa");const l=r.i({key:r.a(),name:r.k()},"Category"),u=(r.i({row:r.a().fromJS(),value:r.a().fromJS()},"Point"),r.i({zIndex:r.g().optional(),color:r.k().optional(),marker:r.a().fromJS(),pointWidth:r.g().optional(),dashStyle:r.k().optional(),forceStacking:r.b().optional(),showInLegend:r.b().optional(),pattern:r.k().optional()},"SeriesStyle")),p=r.i({index:r.g().optional(),id:r.k(),layerId:r.k(),property:r.a().optional(),name:r.k().optional(),type:r.k().optional(),yAxis:r.k().optional(),xAxis:r.k().optional(),stacking:r.b().optional(),stack:r.k().optional(),points:r.a().fromJS(),style:u.optional(),events:r.a().fromJS(),levelOfDetail:r.d(r.k()).optional()},"Series"),d={linear:"linear",logarithmic:"logarithmic",datetime:"datetime",category:"category",hidden:"hidden",scaffold:"scaffold"},m=r.l(d,"AxisType"),g={solid:"solid"},b=r.l(g,"GridLineDashStyle"),O=r.i({plotLines:r.a().fromJS(),plotBands:r.a().fromJS()},"AxisRules"),f=r.i({id:r.k().optional(),title:r.k().optional(),type:m.optional(),min:r.g().optional(),max:r.g().optional(),startOnTick:r.b().optional(),rules:O.optional(),property:r.a().optional(),categories:r.d(l).optional(),gridLineDashStyle:b.optional()},"Axis"),E=r.i({inverted:r.b().optional(),xAxis:r.d(f).fromJS(),yAxis:r.d(f).fromJS()},"Axes"),y=r.i({title:r.k().optional(),type:r.k().defaultValue("column"),colors:r.d().optional(),dataLabels:r.b().optional(),stackLabels:r.b().optional(),showLegend:r.b().optional(),showBubbleLegend:r.b().defaultValue(!1),bottomLegend:r.b().optional(),tooltipFormatter:r.c().optional(),tooltipDisabled:r.b().optional(),showTotals:r.b().optional(),legendPosition:c.c.optional(),legendWidth:c.e.optional(),dataLabelFormat:c.a.optional(),disableSeriesHighlighting:r.b().optional(),dateResolution:r.k().optional(),disableZoom:r.b().optional(),showZeroesInTooltip:r.b().optional(),axisTotal:r.k().optional()},"Options"),T=r.i({axes:E,series:r.d(p),options:y},"Chart"),I={arearange:"arearange",bar:"bar",line:"line",area:"area",scatter:"scatter",bubble:"bubble",tick:"tick"},h=r.l(I,"MarkType"),j=r.i({type:h.optional(),stacking:r.b().optional(),stack:r.k().optional(),marker:r.a().fromJS(),dashStyle:r.k().optional(),zIndex:r.g().optional()},"MarkEncoding"),A=r.i({type:m,field:r.k(),order:s.d.optional(),blend:r.k().optional(),formattingType:r.k().optional(),formattingObject:r.a().optional(),formattingObjectMap:r.f(r.a()).optional(),fill:r.b().optional()},"AxisEncoding"),S=r.i({field:r.k()},"SizingEncoding"),_=r.i({field:r.k()},"DetailEncoding"),N=r.i({field:r.k().optional(),order:s.d.optional(),defined:r.f(r.k()).optional(),default:r.k().optional(),defaultPattern:r.k().optional(),definedPatterns:r.f(r.k()).optional(),definedDashStyles:r.f(r.k()).optional(),formattingType:r.k().optional(),formattingObject:r.a().optional(),formattingObjectMap:r.f(r.a()).optional()},"ColorEncoding"),R=r.i({id:r.k().optional(),dataset:r.k(),mark:j.optional(),x:A.optional(),y:A.optional(),sizing:S.optional(),detail:_.optional(),color:N.optional(),transform:r.d(i.c).optional(),excludeFromLegacyTooltipTotals:r.b().optional(),axisTotal:r.k().optional()},"Layer"),C=r.i({initial:r.g().optional(),final:r.g().optional()},"Delta"),v=r.i({type:r.k().optional(),orient:r.k().optional(),x:r.f(r.a().fromJS()).optional(),y:r.f(r.a().fromJS()).optional(),width:r.g().optional(),height:r.g().optional(),dataLabels:r.b().optional(),delta:C.optional(),stackLabels:r.b().optional(),showLegend:r.b().optional(),showBubbleLegend:r.b().optional(),colors:r.d().optional(),bottomLegend:r.b().optional(),tooltipFormatter:r.c().optional(),tooltipDisabled:r.b().optional(),showTotals:r.b().optional(),legendPosition:c.c.optional(),legendWidth:c.e.optional(),isMobile:r.b().optional(),opacity:r.g().optional(),dataLabelFormat:c.a.optional(),dateResolution:r.k().optional(),disableZoom:r.b().optional(),showZeroesInTooltip:r.b().optional()},"Style"),L=r.i({onPointClick:r.c().optional()},"Events"),D=r.i({type:r.k().always(o.j),data:r.f(a.a),layers:r.d(R),style:v.optional(),events:L.optional()},"XYVisualization")},zg2S:function(e,t,n){"use strict";var r=n("DIPK"),a=n("bw/x"),o=n("7Y4s");const s=e=>Object(o.a)(Object.assign({cacheKey:r.cc,createFetchData:a.j,fetchData:a.t},e));t.a=s()},zors:function(e,t,n){"use strict";var r=n("QYOI"),a=n("Ff2B"),o=n("i7w0");let s=!1;const i=e=>e.split("reporting-data/static-1.39791/js")[1].split(".js")[0],c=e=>{const t=e.split(".hubspot/static-archive/")[1].split("/");t.splice(1,2);return t.join("/").split(".js")[0]},l=()=>{if(Object(a.a)())try{const e=(new Error).stack.split("\n")[3];return-1!==e.indexOf(".hubspot")?c(e):i(e)}catch(e){return"err_module_from_stack"}return null};let u=[];const p=()=>{u.forEach(e=>e.reset());u=[]},d=Symbol("@@value@@"),m={HIT:"hit",MISS:"miss",BUST:"bust"},g=Object(r.Map)({[m.HIT]:0,[m.MISS]:0,[m.BUST]:0}),b=(...e)=>e.length?[...e,d]:[d],O=(e,t,n=null)=>{if("function"==typeof e){t=e;e=l()}else e=e&&"string"==typeof e?`${l()} #${e}`:"UNKEYED_CACHE";let i=Object(r.Map)(),c=Object(r.Map)(),p=Object(r.Map)();const d=()=>{c=Object(r.Map)();i=Object(r.Map)()},O=(e,...t)=>{const n=b(...t);i.hasIn(n)||(i=i.setIn(n,g));i=i.updateIn([...n,e],e=>e+1)},f=(...e)=>{const t=b(...e);if(p.hasIn(t)){clearTimeout(p.getIn(t));p=p.deleteIn(t)}},E=(...e)=>{const t=b(...e);if(c.hasIn(t)){O(m.BUST,...e);c=c.deleteIn(t)}},y=(...e)=>{if(s)return t(...e);const r=b(...e);if(c.hasIn(r))O(m.HIT,...e);else{O(m.MISS,...e);c=c.setIn(r,t(...e));if(0===n)E(...e);else if(null!==n){f(...e);p=p.setIn(r,setTimeout(()=>{f(...e);E(...e)},n))}}return c.getIn(r)};y.bust=E;y.reset=d;y.stats=()=>i;y.get=()=>c;Object(a.a)()&&o.a("cached").add(e,y);u.push(y);return y};O.Value=d;O.enable=()=>s=!1;O.disable=()=>s=!0;O.resetAll=p;if(Object(a.a)()){let e=Object(r.Map)({});const t={add:(t,n)=>{e=e.has(t)?e.set(`${t}_${e.count()}`,n):e.set(t,n)},read:()=>e.map(e=>e.get()),readNonEmpty:()=>t.read().filter(e=>!e.isEmpty())};o.b("cached",t)}t.a=O},zviy:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("QYOI"),a=n("hZMd"),o=n("z7F3"),s=n("6Umb"),i=n("iCNX"),c=n("Br7N"),l=n("MIaD"),u=n("UHjn");const p=Object(s.a)("reporting-data.properties.contacts"),d=(e,t)=>{const n=Object(r.fromJS)(e);return n.has("label")?n.get("label"):n.get("name",t===a.b?null:p("deletedList",{listId:n.get("listId")||t}))},m=e=>Object(o.a)(e=>c.a("contacts/v1/lists/batch",{query:{property:["listId","name"],listId:Object(l.a)(e).toArray()}}).then(i.a),e=>e.reduce((e,{lists:t})=>Object.assign({},e,{},t.reduce((e,t)=>Object.assign({},e,{[t.listId]:d(t)}),{})),{}),e);t.a=e=>m(e).then(t=>e.reduce((e,n)=>e.set(String(n),Object(u.b)(n,t[n])),Object(r.Map)()))},zwFt:function(e,t,n){"use strict";var r=n("npjq"),a=n("hZMd");const o={years:12,days:2.4,hours:2.4,minutes:2.4,seconds:0,milliseconds:0},s=(e,t,n=1)=>Math.round(e/t*n)/n,i=e=>{const t=r.a.moment.duration(1,"second").valueOf(),n=r.a.moment.duration(1,"minute").valueOf(),a=r.a.moment.duration(1,"hour").valueOf(),o=r.a.moment.duration(1,"day").valueOf(),i=r.a.moment.duration(1,"year").valueOf(),c=e?Math.pow(10,e):1;return{years:e=>s(e,i,c),days:e=>s(e,o,c),hours:e=>s(e,a,c),minutes:e=>s(e,n,c),seconds:e=>s(e,t),milliseconds:e=>Math.round(e)}},c=(e,t,n)=>Object.keys(i(n)).reduce((a,s)=>{const c=i(n)[s](e);return a||(Math.abs(c)>o[s]?"milliseconds"!==s?r.a.text("reporting-data.durations."+s,{count:c}):r.a.text("reporting-data.durations.seconds",{count:t?c/1e3:r.a.SafeString("< "+(c>0?"1":"-1"))}):0)},0);var l=n("fQNK");n.d(t,"c",(function(){return g}));n.d(t,"d",(function(){return b}));n.d(t,"a",(function(){return O}));n.d(t,"b",(function(){return f}));const u="–",p=2,d=(e,t=Number)=>(n,...r)=>{const a=t("string"==typeof n?n.replace(/,/g,""):n);return[null,void 0,""].includes(n)||[null,void 0].includes(a)||!isFinite(a)?u:e(a,...r)},m=(e,t)=>!t&&Number(e)%1==0||0===t?0:t||p,g=d((e,t={})=>r.a.formatNumber(e,Object.assign({precision:m(e,t.customPrecision),strip_insignificant_zeros:!t.keepInsignificantZeros},t))),b=d((e,t={})=>r.a.formatPercentage(e,Object.assign({precision:m(e,t.customPrecision)},t))),O=d((e,t={})=>{const{currencyCode:n}=t;return n&&n!==a.a.CURRENCY?t.customPrecision||0===t.customPrecision?Object(l.b)(e,Object.assign({precision:t.customPrecision},t)):r.a.formatCurrency(e,Object.assign({},t)):g(e,t)}),f=d((e,{durationUnit:t="milliseconds",smallScale:n=!1,durationPrecision:a=1}={})=>c(r.a.moment.duration(e,t),n,a))}}]);
//# sourceMappingURL=0.js.map
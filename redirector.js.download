!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};e[n].call(o.exports,o,o.exports,r);o.l=!0;return o.exports}r.m=e;r.c=t;r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})};r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};r.t=function(e,t){1&t&&(e=r(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n};r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="//static.hsappstatic.net/deactivated-user-redirector/static-1.384/";r(r.s=3)}([function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return n}));r.d(t,"b",(function(){return o}));function n(){return"undefined"!=typeof window&&window||void 0!==e&&e||{}}function o(){return n().hubspot=n().hubspot||{}}}).call(this,r(1))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,function(e,t,r){"use strict";r.r(t);function n(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++){r=s[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}const o=["api","local","app","private","platform","tools","meetings"],s=["hubspotstarter","hubspotfree"],i=["growth"],a={com:["hubspot","hubteam","grader","getsignals","getsidekick","gettally","hubspotemail","customer-hub","hubspotservicehub","hubspotquote"].join("|"),net:s.join("|"),org:i.join("|")};var u=function e(t){const r=new RegExp(`^(?!local|test|selenium)(.*\\.)?(${Object.entries(a).map(([e,t])=>`(?:${t})(qa)?\\.${e}`).join("|")}|(?:connect)\\.com|(?:connect)(qa)\\.co)$`).test(t.hostname),n=new RegExp(Object.entries(a).map(([e,t])=>`(?:${t})qa\\.${e}`).join("|")+"|(?:connect)qa\\.co"),s=new RegExp(`^(?:${o.join("|")})-(.*).(?:hubspot|hubteam)(?:qa)?.com`),i=new RegExp("^(.*).(?:hubspotquote)(?:qa)?.com"),u="ENV",c="Enviro error: the default argument for .get and .getShort is no longer supported",p=e=>{let t=window[e];if(null==t)try{t=window.sessionStorage.getItem(e)}catch(e){}if(null==t)try{t=window.localStorage.getItem(e)}catch(e){}return t},l=()=>{const e=p(u);return e||(n.test(t.host)?"qa":"prod")},d=(e,t)=>{window[e]=t;return t},h={prod:"production",qa:"development"},f=e=>{if("string"==typeof e){const t=e.toLowerCase();return h[t]||t}return e},m=e=>{e="string"==typeof e?e.toLowerCase():void 0;return Object.keys(h).find(t=>e===h[t])||e},w=(e,t)=>{if(null!=t)throw new Error(c);let r=null;if(e){const t=e.split(".").reverse();for(let e=0;e<t.length;e++){const n=t[e];r=p(n.toUpperCase()+"_ENV");if(r)break}}if(null==r){const e=l();r=null!=e?e:"qa"}return f(r)},g=(e,t)=>{if(null!=t)throw new Error(c);return m(w(e))},b=g,y=e=>"prod"===b(e),O=e=>"qa"===b(e);return{createEnviro:e,debug:(e,t=!1)=>{let r;"string"==typeof e&&(r=p(e.toUpperCase()+"_DEBUG"));null==r&&(r=p("DEBUG"));return null==r?t:r},denormalize:m,deployed:e=>{let t;"string"==typeof e&&(t=p(e.toUpperCase()+"_DEPLOYED"));null==t&&(t=p("DEPLOYED"));return null==t?r:!!t},enabled:(e,t=!1)=>{let r=p(e.toUpperCase()+"_ENABLED");null==r&&(r=JSON.stringify(t));return"true"===(""+r).toLowerCase()},get:w,getHublet:()=>{const e=p("HUBLET");return e||(s.test(t.hostname)?s.exec(t.hostname)[1]:i.test(t.hostname)?i.exec(t.hostname)[1]:"na1")},getInternal:g,getShort:b,isProd:y,isQa:O,normalize:f,set:function(e,t){if(1===arguments.length){t=e;e=u}return d(e,t)},setDebug:(e,t=!0)=>{if("string"==typeof e)try{t?localStorage.setItem(e.toUpperCase()+"_DEBUG",JSON.stringify(!0)):localStorage.removeItem(e.toUpperCase()+"_DEBUG")}catch(r){d(e.toUpperCase()+"_DEBUG",t||void 0)}else{t=null==e||e;try{t?localStorage.setItem("DEBUG",JSON.stringify(t)):localStorage.removeItem("DEBUG")}catch(e){d("DEBUG",t||void 0)}}}}}(document.location);const c=e=>"function"==typeof e,p=Object.getOwnPropertySymbols||(()=>[]);var l=e=>{if(u.deployed("hub-http")||!Object.freeze)return e;Object.freeze(e);Object.getOwnPropertyNames(e).concat(p(e)).forEach(t=>{c(e)&&"caller"!==t&&"callee"!==t&&null!=e[t]&&!Object.isFrozen(e[t])&&Object.freeze(e[t])});return e};const d=(e,t)=>Promise.resolve(e(l(Object.assign({},t,{_input:t})))),h=(...e)=>{const[t,...r]=e;return e=>0===r.length?d(t,e):r.reduce((e,t)=>e.then(t),d(t,e))};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const m=(e,t)=>r=>{(r=Object.assign({},r))[e]=t;return r},w=(e,t)=>r=>m(e,[...r[e]||[],t])(r),g=e=>"string"==typeof e[0]||e[0]instanceof String||"symbol"===f(e[0])?l({}):l([]),b=(e,t)=>(r=g(e))=>1===e.length?m(e[0],t)(r):m(e[0],b(e.slice(1),t)(r[e[0]]))(r),y=(e,t)=>"function"==typeof e?e(t):e,O=e=>"function"==typeof e?e():e,R=(e,t,r)=>n=>y(e,n)?m(t,O(r))(n):n,v=Symbol("responseHandlers"),S=e=>e[v],E=e=>w(v,e),j=(e,t,r,n)=>Object.assign(new Error,e,{message:t,code:r,previousError:n}),T=window&&window.performance&&window.performance.timing&&window.performance.timing.navigationStart,q=window&&window.performance&&window.performance.now,_=T?window.performance.timing.navigationStart:(new Date).valueOf(),I=q?window.performance.now.bind(window.performance):()=>(new Date).valueOf()-_;let x=1;function C(e,t=""){if("succeeded"===e||"timedOut"===e||"failed"===e||"aborted"===e)return!0;console&&console.error&&console.error(`Invalid state passed ${t?"to "+t:""} (${e})`);return!1}function $(e,t=""){if("pending"===e||C(e,t))return!0;console&&console.error&&console.error(`Invalid state passed ${t?"to "+t:""} (${e})`);return!1}const P=e=>$(e,"getHttpRequestStatsByState")&&window.hubspot&&window.hubspot._httpRequestStats&&window.hubspot._httpRequestStats[e]?Object.keys(window.hubspot._httpRequestStats[e]).map(t=>window.hubspot._httpRequestStats[e][t]):[],A=()=>P("pending").concat(P("succeeded"),P("timedOut"),P("failed"),P("aborted"));if(window.hubspot){window.hubspot.getAllHttpRequestStats||(window.hubspot.getAllHttpRequestStats=A);window.hubspot.getHttpRequestStatsByState||(window.hubspot.getHttpRequestStatsByState=P)}const U=(e,t)=>{const r=x++;if(window.hubspot){window.hubspot._httpRequestStats||(window.hubspot._httpRequestStats={pending:{},succeeded:{},timedOut:{},failed:{},aborted:{}});window.hubspot._httpRequestStats.pending||(window.hubspot._httpRequestStats.pending={});window.hubspot._httpRequestStats.pending[r]={id:r,started:I(),state:"pending",url:e,via:t}}return r},L=(e,t,r="succeeded",n={})=>{if(C(r,"finishTrackingRequest for "+t)&&window.hubspot&&window.hubspot._httpRequestStats&&window.hubspot._httpRequestStats.pending){const t=window.hubspot._httpRequestStats.pending[e];if(t){delete window.hubspot._httpRequestStats.pending[e];t.finished=I();t.state=r;window.hubspot._httpRequestStats[r]||(window.hubspot._httpRequestStats[r]={});window.hubspot._httpRequestStats[r][e]=t;Object.keys(n).forEach(e=>{null==t[e]&&null!=n[e]&&(t[e]=n[e])})}}},M=(e,t)=>t.reduce((e,t)=>t(e),e),N=e=>(e.getAllResponseHeaders()||"").trim().split("\n").reduce((e,t)=>{const r=t.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();e[n]=o;return e},{}),k=(e,t)=>{e=m("options",t)(e);const r=S(t);return r&&r.length?M(Promise.resolve(e),r):Promise.resolve(e)},B=e=>{try{return 0===e.getResponseHeader("content-type").indexOf("application/json")?JSON.parse(e.responseText):void 0}catch(e){return}},D=e=>({status:e.status,statusText:e.statusText,data:"response"in e?e.response:e.responseText,headers:N(e),xhr:e,responseText:"text"===e.responseType||""===e.responseType?e.responseText:"",responseJSON:B(e)}),H=(e,t,r)=>{const n=D(e);return Object.assign(n,{statusText:n.statusText||t,responseJSON:B(e),errorMessage:t,errorCode:r})},F=e=>{let t;const r="REQUEST ERROR";e instanceof Error?t=e:("string"==typeof e||e instanceof String)&&(t=new Error(e));return Object.assign(t,{code:r,status:0,statusText:t.message})},J=Symbol("requestId"),W=e=>{if(!0===e.doNotTrack)return e;{const t=U(e.url,"hub-http"),r=Object.assign({},e);r[J]=t;return r}},G=(e,{willBeRetried:t=!1,retryReason:r,retryAttempt:n}={})=>{e.options&&void 0!==e.options[J]&&("ABORT"===e.errorCode?L(e.options[J],e.options.url,"aborted",{status:e.status}):"TIMEOUT"===e.errorCode?L(e.options[J],e.options.url,"timedOut",{status:e.status}):L(e.options[J],e.options.url,"failed",{status:e.status,statusText:e.statusText,willBeRetried:t,retryReason:r,retryAttempt:n}));return e},z=(e,t)=>{const r=e.retryAttempts||0;return t(Object.assign({},e,{retryAttempts:r})).catch(n=>{if(n.retry&&n.retry.exceededRetries)return Promise.reject(j(n,`Request for ${n.options.method} ${n.options.url} failed with status code ${n.status} after max retries exceeded (${n.retry.maxRetries}). ${n.statusText||""}`));if(n.retry){const o=n.retry.reason?" Reason: "+n.retry.reason:"";G(n,{willBeRetried:!0,retryReason:o,retryAttempt:r+1});console.log(`Retrying. Retry attempt ${r+1} of ${n.retry.maxRetries}.${o}`);return new Promise(o=>{setTimeout(()=>o(z(Object.assign({},e,{retryAttempts:r+1}),t)),n.retry.delay)})}return Promise.reject(n)})},X=e=>{e.options&&void 0!==e.options[J]&&L(e.options[J],e.options.url,"succeeded",{status:e.status,statusText:e.statusText});return e},Q=/^(?:(?:([^:/?#]+):)?(?:\/\/([^:/?#]+)(?::([0-9]+))?)+?)?([^?#]+)?(?:\?([^#]*))?(?:#(.+))?/,K=e=>{const t=(e||"").toLowerCase();return t?"http"===t?80:"https"===t?443:null:null},V=e=>{const[,t,r,n,o,s,i]=Q.exec(e);return{protocol:t,hostname:r,port:void 0!==n?parseInt(n,10):K(t),path:o,query:s,hash:i}},Y=e=>{if(e&&e.hostname){const t=e.hostname.split(".");if(3!==t.length)return{};const[r]=t,[n]=r.split("-");return{loadBalancer:r,loadBalancerBase:n}}return{}},Z=e=>{if(!e.port)return!0;if(!e.protocol)return!0;const t=(e.protocol||"").toLowerCase();return"http"===t&&80===e.port||"https"===t&&443===e.port},ee=e=>[e.hostname?(e.protocol||"https")+"://":"",e.hostname,Z(e)?"":":"+e.port,e.hostname&&e.path&&"/"!==e.path.substr(0,1)?"/"+e.path:e.path,e.query?"?"+e.query:"",e.hash?"#"+e.hash:""].join("");function te(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(null==t?"":t)}`}function re(e,t){return t.reduce((t,r)=>{null!=r&&t.push(te(""+e,r));return t},[]).join("&")}const ne=e=>null==e?"":"string"==typeof e||e instanceof String?e:Object.keys(e).reduce((t,r)=>{const n=e[r];Array.isArray(n)?n.length>0&&t.push(re(r,n)):null!=n&&t.push(te(r,n));return t},[]).join("&"),oe=e=>null==e||""===e.trim()?{}:e.split("&").reduce((e,t)=>{const[r,n]=t.split("=");let o=r;const s=decodeURIComponent(n);o.length>2&&o.lastIndexOf("[]")===o.length-2&&(o=o.substring(0,o.length-2));const i=e[o];void 0!==i?Array.isArray(i)?i.push(s):e[o]=[i,s]:e[o]=s;return e},{}),se=(e,t)=>{const r=t.headers;if(r)for(const t in r)if(r.hasOwnProperty(t)&&t.toLowerCase()===e.toLowerCase())return r[t]},ie=(e,t,r)=>{const n=r.headers;for(const o in n)if(n.hasOwnProperty(o)&&o.toLowerCase()===e.toLowerCase())return b(["headers",o],t)(r);return b(["headers",e],t)(r)};function ae(e){return Boolean(e.mockAuth)}const ue="unauthorized",ce="portal moved",pe="migration in progress";function le(){try{if(window.self!==window.top)return window.top}catch(e){return null}return null}const de=(e,t,r)=>Ne(n=>{if(e.includes(n.status)){t.postMessage(r,"*");return Promise.reject(j(n,`Aborting: notifying parents of ${r} response`))}return n}),he=e=>e&&"true"===e.toLowerCase(),fe=e=>e.safeMode||e.localStorage&&he(e.localStorage.getItem("HUB-HTTP_SAFE_MODE")),me=()=>{},we=(e,t)=>{const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&Object.keys(e).every(r=>{const n=e[r],o=t[r];return!!Object.prototype.hasOwnProperty.call(t,r)&&("string"==typeof n?"string"==typeof o&&o===n:!!Array.isArray(n)&&(Array.isArray(o)&&n.every(e=>o.includes(e))&&o.every(e=>n.includes(e))))})},ge=(e,t,r=me)=>{if(ae(t))return!1;const n="HUB-HTTP_IGNORE_REDIRECTS",o=e=>e&&"true"===e.toLowerCase(),s=[[()=>t.ignoreRedirect,"ignoreRedirect option is set"],[()=>t.localStorage&&o(t.localStorage.getItem(n)),`local storage key ${n} is set to "true"`],[()=>fe(t),"safe mode is enabled"],[()=>{try{const r=new URL(e),n=t.location,o=oe((r.search||"").substring(1)),s=oe((n.search||"").substring(1));return r.protocol===n.protocol&&r.hostname===n.hostname&&r.pathname===n.pathname&&r.hash===n.hash&&we(o,s)}catch(e){console.error("Error checking for infinite redirect",e);return!1}},"redirect URL is identical to current location"]].find(([e])=>e());if(s){console.log("[hub-http] Skipping redirect because "+s[1]);return!1}r(t);t.location.href=e;return!0},be=()=>{try{return window.localStorage}catch(e){return}},ye=()=>window.hubspot&&window.hubspot.bender?{name:window.hubspot.bender.currentProject,version:window.hubspot.bender.currentProjectVersion}:null,Oe=e=>Object.assign({location:window.location,cookies:window.document.cookie,localStorage:be(),document:window.document,appInfo:ye()},e),Re=e=>{const t=u.getShort("hub-http"),r="local"===t?"local":"deployed",n=e[r]?e[r][t]:null;if(!n)throw new Error(`No hostname defined for environment ${t} and ${r}`);return n},ve=Symbol("url"),Se=e=>t=>{let r=t[ve]||V(t.url);r=e(r);t=m(ve,r)(t);return t=m("url",ee(r))(t)},Ee=(e,t)=>{const r=t&&t._input?t._input:t;return void 0!==r[e]?r[e]:void 0},je=(e,t)=>r=>void 0===Ee(e,r)?m(e,t)(r):r,Te=e=>je("method",e),qe=(e,t,r)=>n=>r||void 0===se(e,n)?ie(e,t,n):n,_e=Symbol("initialQuery"),Ie=Symbol("noOverrideQuery"),xe=Symbol("overrideQuery"),Ce=(e,t=!0)=>Se(r=>{let n=r;void 0===n[_e]&&(n=m(_e,r.query||"")(n));const[o,s,i]=t?[xe,n[xe],e]:[Ie,e,n[Ie]];n=b([o],Object.assign({},s,{},i))(n);return m("query",[n[_e],ne(Object.assign({},n[xe],{},n[Ie]))].filter(Boolean).join("&"))(n)}),$e=Se(m("protocol","https")),Pe=e=>t=>Se(r=>{!r.protocol&&t.location&&(r.protocol=t.location.protocol.slice(0,-1));if(!r.hostname){const n=t.api||e;r.hostname=Re(n)}return r})(t),Ae=e=>{if(e&&"na1"!==e)return"-"+e;const t=u.getHublet();return"na1"===t||"na1"===e?"":"-"+t},Ue=(e,t,r)=>{const n=Ae(r);return{local:{qa:`local${n}.${t}qa.com`,prod:`local${n}.${t}.com`},deployed:{qa:`${e}${n}.${t}qa.com`,prod:`${e}${n}.${t}.com`}}},Le=(e,t)=>r=>{(r=qe("content-type",e)(r)).rawData?r.data=r.rawData:"function"==typeof t&&se("content-type",r)===e&&(r.data=t(r.data));return r},Me=e=>t=>{try{return e(t)}catch(e){e.response=t;throw e}},Ne=e=>E(t=>t.then(Me(e))),ke=e=>E(t=>t.catch(Me(e))),Be=e=>e&&e.headers&&se("content-type",e)||"",De=h(qe("Accept","application/json, text/javascript, */*; q=0.01"),Ne(e=>R("string"==typeof e.data&&0===Be(e).indexOf("application/json"),"data",()=>e.data.length?JSON.parse(e.data):void 0)(e))),He=Ne(e=>"OPTIONSERROR"===e.errorCode?Promise.reject(j(e,"hub-http error building request options: "+e.options.error.message)):e),Fe=(e,{reason:t,maxRetries:r=1,delay:n=250,onMaxAttemptsReached:o}={})=>s=>{const i=o=>{if(e(o)){const e=m("retry",{reason:t,maxRetries:r,delay:n,exceededRetries:o.options.retryAttempts>=r})(o);return Promise.reject(j(e,`Request for ${s.url} failed with status ${o.status}. ${o.statusText||""}`))}return o};if(0===r)return s;return(s.retryAttempts>=r&&"function"==typeof o?h(Ne(i),o):Ne(i))(s)},Je=(m("safeMode",!0),(e,t)=>r=>Ne(r=>{if(e(r)){let e;try{e="function"==typeof t?t(r):t;ge(e,r.options);return Promise.reject(j(r,"Aborting: redirection in progress"))}catch(e){return Promise.reject(j(r,"Aborting: status indicates redirect required, but redirect URL could not be formed"))}}return r})(r)),We=e=>{if(e.skipMigrationCheck||ae(e))return e;const t=le();return t?de([477],t,pe)(e):Je(e=>477===e.status,ee({hostname:Re(Ue("app","hubspot")),path:`/data-transfer-status/${e.portalId}/`}))(e)},Ge=e=>{if(ae(e))return e;const t=le();return t?de([488],t,ce)(e):Je(e=>488===e.status,t=>{const r=se("x-hubspot-correct-hublet",t);if(!r)throw new Error("488 response missing X-Hubspot-Correct-Hublet header");const n=e.location;return ee({protocol:n.protocol&&n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol,port:n.port,path:n.pathname,query:""!==n.search?n.search.substring(1):void 0,hash:""!==n.hash?n.hash:void 0,hostname:Re(Ue(Y(e.location).loadBalancerBase||"app","hubspot",r))})})(e)},ze=e=>ae(e)?e:Ce({skipMigrationCheck:e.skipMigrationCheck},!1)(e),Xe=e=>null==e?"unknown":"static"===e?"dev":e.replace("static-",""),Qe=e=>e.appInfo?qe("X-HubSpot-Static-App-Info",`${e.appInfo.name}@${Xe(e.appInfo.version)}`)(e):e,Ke=e=>{if(!e.appInfo)return e;const t=oe(V(e.url).query);return Ce({hs_static_app:t.hs_static_app||e.appInfo.name,hs_static_app_version:t.hs_static_app_version||""+Xe(e.appInfo.version)})(e)};function Ve(e){return t=>Object.assign({},t,{mockAuth:e})}var Ye=r(0);function Ze(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){t.push(r);t.push(String(e[r]))}return t.sort().toString()}const et=60*1e3;let tt;function rt(e,t){const r=Object(Ye.a)();return tt?tt(e,t):r.navigator&&r.navigator.sendBeacon(e,t)}function nt(e,t=""){if(rt)try{rt(e,t)}catch(e){}}const ot={package:Object(Ye.b)()&&Object(Ye.b)().bender&&Object(Ye.b)().bender.currentProject||"unknown",version:Object(Ye.b)()&&Object(Ye.b)().bender&&Object(Ye.b)().bender.currentProjectVersion||"unknown"};function st(){return`https://metrics-fe-${u.getHublet()}.hubspot${u.isQa()?"qa":""}.com/metrics/v1/frontend/custom/send?hs_static_app=${ot.package}&hs_static_app_version=${ot.version}`}function it(e){if(u.deployed("METRICS")){u.debug("METRICS")&&console.log("[metrics-js] Datapoint sent",e);nt(st(),JSON.stringify(e))}else u.debug("METRICS")&&console.log("[metrics-js] Dropping local datapoint",e)}let at=null;const ut="__metricsJsDisabled";const ct=()=>!("object"!=typeof window.safari||!window.safari.pushNotification);class pt{constructor(){this.metrics=new Map;this.interval=void 0;this.flush=(e=!1)=>{const t=[];this.metrics.forEach(r=>{r.canFlush(e)&&t.push(r.flush())});t.length>0&&it(t)};this.eagerlyFlushQueueOnUnload=()=>{"hidden"!==document.visibilityState&&"beforeunload"!==this.listenTo||this.stop()};this.listenTo=ct()?"beforeunload":"visibilitychange"}static instance(){at=at||new pt;return at}clearMetricCache(){this.metrics.clear()}run(){if(!(Object(Ye.a)()&&Object(Ye.a)().hubspot&&Object(Ye.a)().hubspot[ut]||this.interval)){this.interval=setInterval(this.flush,et);this.interval.unref&&this.interval.unref();try{window.addEventListener(this.listenTo,this.eagerlyFlushQueueOnUnload,!0)}catch(e){}}}stop(){clearInterval(this.interval);this.interval=void 0;this.flush(!0);this.clearMetricCache();try{window.removeEventListener(this.listenTo,this.eagerlyFlushQueueOnUnload)}catch(e){}}getMetricCacheKey(e,t){return`${e}-${Ze(t)}`}getMetric(e,t,r){const n=this.getMetricCacheKey(e,t);if(this.metrics.has(n))return this.metrics.get(n);const o=new r(e,t);this.metrics.set(n,o);return o}}class lt{constructor(e,t){this.name=e;this.dimensions=t}getDimensions(){return this.dimensions}getName(){return this.name}getSeries(e){return[this.name,e].join(".")}toString(){return JSON.stringify({name:this.getName(),dimensions:this.getDimensions()},null,2)}}class dt extends lt{constructor(...e){super(...e);this.count=0;this.hasUpdated=!1}safeStep(e){if("number"!=typeof e||e%1==0){this.hasUpdated=!0;this.count+=e}else 0}increment(e=1){this.safeStep(e)}decrement(e=1){this.safeStep(-1*e)}canFlush(e=!1){return this.hasUpdated}flush(){const e={name:this.getName(),values:[this.count],type:"COUNTER",dimensions:this.getDimensions()};this.count=0;this.hasUpdated=!1;return e}}class ht extends lt{constructor(...e){super(...e);this.values=[]}update(e){this.values.push(e)}canFlush(){return this.values.length>0}flush(){const e={name:this.getName(),type:"HISTOGRAM",values:this.values.slice(),dimensions:this.getDimensions()};this.values=[];return e}}class ft extends dt{canFlush(e){return e}flush(){const e=super.flush();e.type="HISTOGRAM";return e}}function mt(e){return e&&"function"==typeof e.then}class wt extends lt{constructor(...e){super(...e);this.values=[]}update(e){this.values.push(e)}time(e){const t=performance.now(),r=e();if(mt(r))return r.then(e=>{this.update(performance.now()-t);return e});this.update(performance.now()-t);return r}canFlush(){return this.values.length>0}flush(){const e={name:this.getName(),type:"TIMER",values:this.values.slice(),dimensions:this.getDimensions()};this.values=[];return e}}const gt=Symbol("SessionCounter");class bt{constructor(e,t={}){this.namespace=e;this.globalDimensions=t}namespaceMetric(e){return`${this.namespace}.${e}`}counter(e,t={}){return pt.instance().getMetric(this.namespaceMetric(e),Object.assign({},this.globalDimensions,{},t),dt)}[gt](e,t={}){return pt.instance().getMetric(this.namespaceMetric(e),Object.assign({},this.globalDimensions,{},t),ft)}histogram(e,t={}){return pt.instance().getMetric(this.namespaceMetric(e),Object.assign({},this.globalDimensions,{},t),ht)}timer(e,t={}){return pt.instance().getMetric(this.namespaceMetric(e),Object.assign({},this.globalDimensions,{},t),wt)}}let yt;function Ot(e){Object(Ye.b)().__metricsSetupComplete=e}function Rt(){return Object(Ye.b)().__metricsSetupComplete}function vt(){if(!yt&&!Rt()){yt=new bt("metrics",{});yt.counter("loaded").increment();Ot(!0)}}let St,Et=window;const jt=new Set;function Tt(e){Et=e||Et;if(!St){St=new bt("js",{});try{Et.addEventListener("error",Ct);Et.addEventListener("unhandledrejection",It);Et.addEventListener("rejectionhandled",xt)}catch(e){}}}const qt=/@<inline>|moz-extension:\/\/|chrome-extension:\/\/|safari-web-extension:\/\/|safari-extension:\/\//;function _t(e){if(e&&e.stack&&e.stack.match(qt)){St&&St.counter("browser-extension-errors").increment();return!0}return!1}function It(e){St&&(e.reason&&_t(e.reason)||St.counter("unhandled-promise-rejection").increment())}function xt(){St&&St.counter("handled-promise-rejection").increment()}function Ct(e){if(!St)return;if(!(e instanceof ErrorEvent))return;const t=e.error||new Error(e.message);if(!jt.has(t))if($t(t))St.counter("configured-ignored-errors").increment();else if(!_t(t)){St.counter("errors").increment();St[gt]("errors-per-session").increment();jt.add(t);Pt(t)}}function $t(e){return!!(window.hubspot&&window.hubspot._shouldIgnoreJsError&&window.hubspot._shouldIgnoreJsError(e))}function Pt(e){setTimeout(()=>jt.delete(e),250)}function At(){const e=pt.instance();e.run();return e}function Ut(e,t={}){if(!e)throw new Error("[metrics-js] A namespace is required for a Metrics factory.");At();Tt();const r=t.dimensions||{};t.library&&(r.fe_library=t.library);return new bt(e,r)}vt();const Lt=Ut("http",{library:"hub-http"}),Mt=1e4,Nt=`https://${Re(Ue("app","hubspot"))}/api/metrics/v1/frontend/send`,kt=new Set,Bt=Boolean(navigator.sendBeacon);let Dt=void 0,Ht=!1;const Ft=e=>{const t=e.performance.getEntriesByType("resource");if(!t||!t.length)return{};const r=t.filter(e=>"xmlhttprequest"===e.initiatorType),n={};r.forEach(({name:e,duration:t,requestStart:r,responseStart:o,transferSize:s})=>{n[e]||(n[e]=[]);n[e].push({duration:t,transferSize:s,serverTime:o-r,requestStart:r})});return n},Jt=(e,t)=>{if(!e)return{};const r=e.filter(e=>t-e.requestStart<10);return r.length?r[0]:{}},Wt=()=>{try{if(0===kt.size)return;const e=[...kt];kt.clear();let t,r={};try{t=window.apiIframeUsed&&window.apiIframe&&window.apiIframe.contentWindow;r=t?Ft(window.apiIframe.contentWindow):{}}catch(e){}let n={};try{n=Ft(window)}catch(e){}const o=Object.assign({},n,{},r),s=e.map(({url:e,sendTime:t,statusCode:r,statusDesc:n})=>{const s={url:e,statusCode:r};n&&(s.statusDesc=n);const i=Jt(o[e],t);return Object.assign({},s,{},i)});navigator.sendBeacon(Nt,JSON.stringify({datapoints:s}))||e.forEach(e=>kt.add(e))}catch(e){}},Gt=e=>{if(Bt){kt.add(e);clearTimeout(Dt);kt.size>=25&&Wt();Dt=setTimeout(Wt,Mt);if(!Ht){window.addEventListener("unload",Wt,!1);Ht=!0}}},zt=e=>{if("string"==typeof e)try{const{hostname:t}=V(e),[r,n,o]=t.split(".");Lt.counter("request-sent",{hostname:[r.replace(/\d+/,""),n.replace(/qa$/,""),o].join("."),prom_only:!0}).increment()}catch(e){}},Xt=e=>new Promise(t=>{const r=new(e.Request||XMLHttpRequest);if(e.error){t(k(H(r,e.error.message,"OPTIONSERROR"),e));return}if(e.externalResponse){const n=e.externalResponse instanceof XMLHttpRequest?D(e.externalResponse):Object.assign(D(r),e.externalResponse);t(k(n,e));return}zt(e.url);r.open(e.method||"GET",e.url,!0);"number"==typeof e.timeout&&(r.timeout=e.timeout);r.withCredentials=e.withCredentials;e.responseType&&(r.responseType=e.responseType);"function"==typeof e.withXhr&&e.withXhr(r);Object.keys(e.headers||{}).forEach(t=>{!1!==e.headers[t]&&r.setRequestHeader(t,e.headers[t])});const n=performance.now();r.addEventListener("load",()=>{Gt({url:r.responseURL,sendTime:n,statusCode:r.status});return t(k(D(r),e))});r.addEventListener("error",()=>{Gt({url:r.responseURL,sendTime:n,statusCode:r.status,statusDesc:"NETWORKERROR"});return t(k(H(r,"Network request failed","NETWORKERROR"),e))});r.addEventListener("timeout",()=>{Gt({url:r.responseURL,sendTime:n,statusCode:r.status,statusDesc:"TIMEOUT"});return t(k(H(r,"Request timeout","TIMEOUT"),e))});r.addEventListener("abort",()=>{Gt({url:r.responseURL,sendTime:n,statusCode:r.status,statusDesc:"ABORT"});return t(k(H(r,"Request aborted","ABORT"),e))});r.send(void 0===e.data?null:e.data)}),Qt=e=>Promise.reject(F(e)),Kt=h(W,e=>{const t=e.useIframeRequest&&window.iframeXMLHttpRequest&&window.apiIframe&&window.apiIframe.contentDocument,r=e.useIframeRequest&&window.iframeXMLHttpRequestPromise;if(!(t||r))return m("Request",e.Request||XMLHttpRequest)(e);window.apiIframeUsed=!0;const n=Object.assign({"X-HS-Referer":window.location.href},e.headers),o=Qe(m("headers",n)(e));return r?window.iframeXMLHttpRequestPromise.then(e=>m("Request",e)(o)).catch(()=>m("Request",e.Request||XMLHttpRequest)(e)):m("Request",window.iframeXMLHttpRequest)(o)},Ke);let Vt=!1,Yt=!1;const Zt=e=>{Vt=!0;const t=(t,r)=>{const n=V(t);n.hostname&&n.hostname.match(/^api(-[a-z]{2}\d{1})?\.hubspot(qa)?\.com/)&&Lt.counter("hardcoded-api-hubspot-domain").increment();return z(Object.assign({},r,{url:t}),t=>e(t).catch(Qt).then(Kt).then(Xt)).then(X,e=>Promise.reject(G(e)))},r=e=>(r,n)=>t(r,Object.assign({},n,{method:e})),n=e=>(t,n)=>r(e)(t,n).then(({data:e})=>e);return Object.assign(t,{get:n("GET"),post:n("POST"),put:n("PUT"),patch:n("PATCH"),delete:n("DELETE"),options:n("OPTIONS"),getWithResponse:r("GET"),postWithResponse:r("POST"),putWithResponse:r("PUT"),patchWithResponse:r("PATCH"),deleteWithResponse:r("DELETE"),optionsWithResponse:r("OPTIONS")})};var er=e=>Zt(h(Ve(Yt),e));const tr=(e,t)=>{const r="HUB-HTTP-LABS:"+e,n=t.localStorage&&t.localStorage.getItem(r);if(n&&"true"===n.toLowerCase()){console.log(`Using localStorage override for ${r}: ${n}`);return"true"===n.toLowerCase()}return"object"==typeof t.labs&&t.labs[e]},rr=(e,t,r=(e=>e))=>n=>tr(e,n)?t(n):r(n),nr="hapijs_options",or=e=>`${nr}:${e.portalId}`;var sr={get(e){const t=e.localStorage&&e.localStorage.getItem(or(e));return t?JSON.parse(t):{}},set(e,t){e.localStorage&&e.localStorage.setItem(or(e),JSON.stringify(t))},clear(e){e.localStorage&&e.localStorage.removeItem(or(e))}};const ir=e=>Object.assign({},{timeout:14e3,withCredentials:!0,portalId:window.hubspot&&window.hubspot.portal&&window.hubspot.portal.id,labs:window.hubspot&&window.hubspot["__hub-http-labs"]},e),ar=e=>t=>e(Se(e=>{if(e.hostname||t.api)return e;let r=e.path;if(r.startsWith("/api/")||r.startsWith("api/"))return e;r=r.startsWith("/")?"/api"+r:"/api/"+r;e.path=r;return e})(t)),ur=(rr("HUBONEDOMAIN",ar(Pe(Ue("app","hubspot"))),Pe(Ue("api","hubspot"))),(e,t)=>{const r={hostname:Re(Ue("app","hubspot")),path:e.loginPathOverride||"/login/"},n={loginRedirectUrl:e.location.href};t&&t["x-hubspot-auth-failure"]&&Object.assign(n,{authFailureReason:t["x-hubspot-auth-failure"]});e.portalId&&(n.loginPortalId=e.portalId);r.query=ne(n);return ee(r)}),cr=e=>sr.clear(e),pr=e=>{const t=e.options,r=ur(t,e.headers);ge(r,t,cr);return Promise.reject(j(e,"Aborting: redirection in progress"))},lr=ke(pr),dr=e=>t=>Ne(t=>e(t)?pr(t):t)(t),hr=(Fe(e=>"GET"===e.options.method&&(e.status>=500||0===e.status&&"NETWORKERROR"===e.errorCode),{reason:"Server error"}),(e,t)=>{let r=JSON.parse(t);if(!Array.isArray(r)){console.error("REWRITE_URL local storage key must be a stringified array");return e}if(!r.length)return e;let n=ee(e);("string"==typeof r[0]||r[0]instanceof String)&&(r=[r]);r.forEach(([e,t])=>{n=n.replace(new RegExp(e),t)});return V(n)}),fr=(e,t)=>{const r=JSON.parse(t);if(!Array.isArray(r)){console.error("LOCAL_API_OVERRIDES local storage key must be a stringified array");return e}let n=ee(e);r.forEach(e=>{n.includes(e)&&(n=n.replace(/https:\/\/(app|api)/,"https://local").replace("/api/","/"))});return V(n)},mr=e=>Se(t=>{const r=e.localStorage&&e.localStorage.getItem("URL_REWRITE");if(r)return hr(t,r);const n=e.localStorage&&e.localStorage.getItem("LOCAL_API_OVERRIDES");return n?fr(t,n):t})(e),wr="HUB-HTTP_TIMEOUT",gr=e=>{const t=e.localStorage&&e.localStorage.getItem(wr);if(null!=t){console.log(`[hub-http] Using localStorage override ${wr} for request timeout.`);return m("timeout",parseInt(t,10))(e)}return e};function br(e){let t=!0;const r=()=>t,n=e=>{t=e},o=(...t)=>e(r)(...t);return Object.assign(o,{setEnabled:n})}var yr=br;const Or=e=>0===e.xhr.readyState?{status:e.status,statusText:e.statusText,data:e.data}:e.xhr,Rr=e=>t=>m("externalResponse",Or(t))(e),vr=e=>e.recycledPromise?e.recycledPromise.then(Rr(e),Rr(e)):e,Sr=e=>403===e.status||401===e.status,Er=e=>{const t=le();return t?de([401,403],t,ue)(e):dr(Sr)(e)},jr=Fe(e=>200!==e.status&&!Sr(e),{reason:"Error fetching user data",maxRetries:3,onMaxAttemptsReached:lr}),Tr=e=>m("data",{portalId:e.portalId})(e),qr=e=>{const t=Re(Ue("app","hubspot")),r=e.portalId||"";return ee({hostname:t,path:`/account-and-billing/${r}/forbidden`})},_r=e=>{const t=e.options,r=qr(t);return ge(r,t)?Promise.reject(j(e,"Aborting: redirection in progress")):e},Ir=e=>!!e.options&&!e.options.allowSuspended&&!!e.data&&!!e.data.user&&Array.isArray(e.data.user.scopes)&&-1!==e.data.user.scopes.indexOf("suspended"),xr=h(e=>Se(e=>"/login-verify"===e.path?Object.assign({},e,{path:"/login-verify/hub-user-info"}):e)(e),Te("GET"),e=>rr("HUBONEDOMAIN",ar(Pe(Ue("app","hubspot",e.hubletOverride))),Pe(Ue("api","hubspot",e.hubletOverride)))(e),e=>Ce({portalId:e.portalId})(e)),Cr=yr(e=>t=>e()?Ne(e=>Ir(e)?_r(e):e)(t):t);var $r=er(h(Oe,ir,vr,gr,Tr,Le("application/x-www-form-urlencoded",ne),xr,$e,mr,He,Er,ze,We,Ge,jr,De,Cr));let Pr,Ar;function Ur(){return Pr}function Lr(e){Pr=e}function Mr(e){Ar=e}const Nr=(e,t)=>{let r;if("function"==typeof window.Event)r=Object.assign(new Event(e),t);else{r=Object.assign(document.createEvent("Event"),t);r.initEvent(e,!0,!0)}window.dispatchEvent(r)},kr=()=>Boolean(window.newrelic),Br="mark_user_info_start",Dr="mark_user_info_success",Hr="measure_user_info_time",Fr="measure_api_verify_time",Jr=(e,t)=>{kr()&&window.newrelic.setCustomAttribute(e,t)},Wr=e=>{const{cached:t=!0}=e,r=n(e,["cached"]);!t&&r.externalResponse&&delete r.externalResponse;const o=Ur();t&&o&&(r.recycledPromise=o);const s=$r("/login-verify",r);t&&o||Lr(s);return s.then(({data:e})=>e)};let Gr;const zr=()=>{Gr||(Gr=new Promise((e,t)=>{const r=window.quickFetch&&window.quickFetch.getRequestStateByName("api-verify");if(!r){t(new Error("No quick-fetch early login-verify request found"));Jr("earlyRequesterRequestNotFound","true");Jr("earlyRequesterFinished","false");return}const n=r.finished;r.whenFinished(t=>{Jr("earlyRequesterFinished",""+Boolean(n));window.performance&&"function"==typeof window.performance.getEntriesByName&&window.performance.getEntriesByName(Fr).length&&Jr("earlyRequesterApiTime",window.performance.getEntriesByName(Fr)[0].duration);return e(t)});r.onError(e=>{t(new Error(`[hub-http] EarlyRequester token refresh attempt failed with status ${e.status}: ${e.statusText}`))})}));return Gr},Xr=e=>{const t=t=>{t&&console.error(t.message);return Wr(e)},r=e=>({status:200,statusText:"OK",data:e});return zr().then(t=>Wr(Object.assign({},e,{externalResponse:r(t)}))).catch(t).then(({auth:e,portal:t,user:r})=>{const n={user:r,gates:t.enabled_gates,portal:t};e&&(n.auth=e);if(window.performance&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.getEntriesByName){window.performance.mark(Dr);window.performance.measure(Hr,Br,Dr);const e=window.performance.getEntriesByName(Hr).length?window.performance.getEntriesByName(Hr)[0].duration:-1;Jr("userInfoTime",e)}Nr("hubspot:userinfochange",n);return n})},Qr=(e={})=>{const t=Object.assign({},e);window.performance&&"function"==typeof window.performance.mark&&window.performance.mark(Br);return Xr(t).then(e=>{Mr(e);return e})},Kr=e=>Qr(Object.assign({},e,{safeMode:!0}));const Vr="deactivated";function Yr(){Kr().then(({user:{scopes:e}})=>{-1!==e.indexOf(Vr)&&window.location.replace(window.location.origin+"/login-api/v1/logout/all")}).catch(e=>{console.log("Caught error from userInfo request:",e)})}"loading"!==document.readyState?Yr():document.addEventListener("DOMContentLoaded",()=>{Yr()})}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([["sidebar-gdpr-actions"],{frTQ:function(e,t,s){"use strict";var n=s("Wf03"),r=s("tPYf"),i=s("m9st"),a=s("pq4V"),c=s("Nw75"),o=s("MQNR"),u=s("VfuR"),d=s.n(u),b=s("YP+8"),p=s("zQkm"),f=s("inXk"),l=s("x7mX");const S={[o.COMPANY]:n.a,[o.CONTACT]:i.a,[o.DEAL]:a.a,[o.VISIT]:b.a,[o.TICKET]:p.a},O={propTypes:{objectType:r.b.isRequired,subjectId:d.a.string},stores:[n.a,i.a,f.a,a.a,p.a,b.a],deref(e){const{objectType:t,subjectId:s}=e;if(null===s)return c.a;if(![o.COMPANY,o.CONTACT,o.DEAL,o.VISIT,o.TICKET].includes(t)){const e=Object(l.b)({objectId:s,objectTypeId:t});return f.a.get(e)}const n=S[t];return n&&n.get(s)}};t.a=O},gOpT:function(e,t,s){"use strict";s.r(t);var n=s("QgEn"),r=s("VfuR"),i=s.n(r),a=s("m9st"),c=s("G/lG"),o=s("sl/w"),u=s("frTQ"),d=s("sPSZ"),b=s("77dM"),p=s("1V8t"),f=s("E7+s"),l=s("7ETf"),S=s.n(l),O=s("oWUm"),I=s("lkf3");const T={handleOpenAddSubscriptionPanel:i.a.func.isRequired,isEditable:i.a.bool.isRequired,subject:O.a,subscriptionsByEmail:i.a.array,isUngatedForPreferencesGroupBeta:i.a.bool},E=({handleOpenAddSubscriptionPanel:e,subscriptionsByEmail:t,subject:s,isEditable:r,isUngatedForPreferencesGroupBeta:i})=>{if(Object(f.d)(t)||!s||!i)return null;const a=Object(I.b)(s,t)||!r;return Object(n.jsx)(b.a,{onClick:e,"data-selenium-test":"subscriptions-add-button",className:"flex-row",disabled:a,children:Object(n.jsx)(o.a,{message:"cardGDPRSubscriptions.profileSidebarModule.subscriptions.add"})})};E.propTypes=T;t.default=Object(p.connect)({subject:u.a,subscriptionsByEmail:{stores:[d.a,a.a],deref:({objectId:e})=>{const t=a.a.get(e),s=Object(I.a)(t);if(Object(f.c)(s))return f.a;const n=s.map(e=>d.a.get(e));return n.some(f.d)?f.b:n.filter(S.a)}},isUngatedForPreferencesGroupBeta:{stores:[c.default],deref:()=>c.default.get("subscriptions:groupSettings")}})(E)},lkf3:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));s.d(t,"b",(function(){return o}));var n=s("QYOI"),r=s("E7+s"),i=s("P4dz"),a=s("VukZ");const c=e=>{if(!e)return r.a;const t=Object(i.g)(e,"email"),s=Object(a.e)(e);if(!t)return r.a;const c=[t].concat(s);return Object(n.Set)(c).toArray()},o=(e,t)=>{const s=Object(i.g)(e,"email"),n=t&&t.find(e=>e.get("email")===s);return n&&"unsubscribed"===n.get("status")}},sPSZ:function(e,t,s){"use strict";var n=s("al+t"),r=s("5mx2"),i=s("0dUV"),a=s("RRvD"),c=s("QYOI"),o=s("AgF4");Object(i.b)({namespace:r.hb,fetch:n.a});const u=Object(i.a)({namespace:r.hb,idIsValid:e=>"string"==typeof e}).defineName("SubscriptionsStoreByEmail").defineResponseTo(a.SUBSCRIPTION_RELATIONSHIP_FETCH_SUCCEEDED,(e,t)=>e.mergeDeep(t)).defineResponseTo(a.SUBSCRIPTION_RELATIONSHIP_UPDATE_SUCCEEDED,(e,{email:t,updatedSubscription:s})=>{const n=e.getIn([t,"subscriptionStatuses"]).findIndex(e=>e.get("id")===s.id);return n>-1?e.setIn([t,"subscriptionStatuses",n],Object(c.fromJS)(s)):e.updateIn([t,"subscriptionStatuses"],e=>e.push(Object(c.fromJS)(s)))}).defineResponseTo(a.SUBSCRIPTION_RELATIONSHIP_UPDATES_SUCCEEDED,(e,{emails:t,updatedSubscription:s})=>{t.forEach((t="NOT_OPTED",n)=>{s.optState=t;const r=e.getIn([n,"subscriptionStatuses"]).findIndex(e=>e.get("id")===s.id);e=r>-1?e.setIn([n,"subscriptionStatuses",r],Object(c.fromJS)(s)):e.updateIn([n,"subscriptionStatuses"],e=>e.push(Object(c.fromJS)(s)))});return e}).register(o.a);t.a=u}}]);
//# sourceMappingURL=sidebar-gdpr-actions.js.map
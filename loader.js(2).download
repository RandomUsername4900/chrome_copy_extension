!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};t[r].call(a.exports,a,a.exports,n);a.l=!0;return a.exports}var r=[{name:"head-dlb/bundle.production.js",path:"head-dlb/static-1.368/bundle.production.js",ids:{}},{name:"hubspot-dlb/bundle.production.js",path:"hubspot-dlb/static-1.427/bundle.production.js",ids:{}}];n.dlbpr=function(t,e){var a=r[t];if(!a.r){a.r=window["__webpack_require_"+a.name+"__"];if(!a.r)throw new Error("dlb "+a.name+" not loaded");a.r.linkDlb(n,a.ids)}return a.r(e)};n.m=t;n.c=e;n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})};n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})};n.t=function(t,e){1&e&&(t=n(t));if(8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:!0,value:t});if(2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r};n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="//static.hsappstatic.net/FireAlarmUi/static-1.900/";n(n.s=6)}([function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return o}));n.d(e,"a",(function(){return l}));var r=n(2);const a="qa.com",i=/^(?:local|app)-(.*).(?:hubspot)(?:qa)?.com/;let s;try{const t=!(!window||!window.localStorage)&&window.localStorage;s=new r.a(t)}catch(t){s=new r.a(!1)}function o(){return"qa"===s.getItem("ENV")||document.domain.indexOf(a)>=0}function l(t){return i.test(t)?i.exec(t)[1]:"na1"}t&&t.exports&&(t.exports.default=Object.assign({},t.exports))}).call(this,n(1)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]);Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}});Object.defineProperty(e,"exports",{enumerable:!0});e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";class r{constructor(t){if(!1===t)this.storageEnabled=!1;else{this.localStorage=t;this.storageEnabled=null}}isStorageEnabled(){if(null!==this.storageEnabled)return this.storageEnabled;try{const t="firealarm-test",e=Date.now();this.localStorage.setItem(t,e);this.storageEnabled=this.localStorage.getItem(t)==e;this.localStorage.removeItem(t)}catch(t){this.storageEnabled=!1}return this.storageEnabled}getItem(t){return this.isStorageEnabled()?this.localStorage.getItem(t):null}removeItem(t){this.isStorageEnabled()&&this.localStorage.removeItem(t)}setItem(t,e){this.isStorageEnabled()&&this.localStorage.setItem(t,e)}}e.a=r},,,,function(t,e,n){"use strict";n.r(e);function r(t,...e){e.forEach(e=>{let n=Object.keys(e).reduce((t,n)=>{t[n]=Object.getOwnPropertyDescriptor(e,n);return t},{});Object.defineProperties(t,n)});return t}function a(...t){if(0===t.length)return;const e=r({},t[0]);if(1===t.length)return e;for(let n=1;n<t.length;n++){let r=t[n],a=Object.keys(r).reduce((t,n)=>{void 0===e[n]&&(t[n]=Object.getOwnPropertyDescriptor(r,n));return t},{});Object.defineProperties(e,a)}return e}class i{constructor(){const t={CRITSIT:{id:0,priority:4},OUTAGE:{id:1,priority:3},MAINTENANCE:{id:2,priority:2},DEBUG:{id:3,priority:1}};this.idIndex={};Object.keys(t).forEach(e=>{const n=t[e];this[e]=n;n.key=e;this.idIndex[n.id]=n})}getById(t){return this.idIndex[t]}getByKey(t){return this[t]}}var s=new i;class o{constructor(){this.eventGroups={ON_LOAD:"onLoad",ON_RECEIVE_ALARM:"onReceiveAlarm",ON_RENDER_ALARM:"onRenderAlarm",ON_RENDER_ALL:"onRenderAll",ON_DISMISS_ALARM:"onDismissAlarm",CREATE_ALARM:"createAlarm"};this.keys().forEach(t=>{const e=this.eventGroups[t];this[t]=e})}keys(){return Object.keys(this.eventGroups)}getByKey(t){return this[t]}}var l=new o;const m="View status page";class d{constructor(t,e,n,a,i){r(this,t);this.dom=e;this.storage=n;this.events=a;this.date=i||Date;this.severity=s.getByKey(t.severity);var o=this.id||this.uuid;this.alarmId=`alarm.${o}.revision.${this.revisionNumber}`;this.className="Alarm";this.storageKey="firealarm.dismiss."+this.alarmId;this.analyticsKey="firealarm.analytics."+this.alarmId;this.domElement=null;this.alarmElementId="firealarm-"+(this.id||this.date.now());this.alarmDismissButtonId=this.alarmElementId+"-dismiss"}dismiss(){this.storage.setItem(this.storageKey,"true");if(this.domElement){const t=this.domElement.parentNode;t.removeChild(this.domElement);t.hasChildNodes()||t.parentNode.removeChild(t)}this.events.runEvents(l.ON_DISMISS_ALARM,this)}getDomElement(){if(!this.domElement){const t=this.callToAction&&this.callToAction.ctaText||m;this.domElement=this.dom.createElementFromHtml(`<div\n          id="${this.alarmElementId}"\n          class="fire-alarm_alarm fire-alarm_${this.severity.key.toLowerCase()}"\n          role="alert"\n          aria-live="assertive"\n          aria-atomic="true" >\n            <div class="fire-alarm_alarm-inner">\n              <div class="fire-alarm_alarm-body">\n                <h2>${this.title}</h2>\n                <p>${this.message}</p>\n              </div>\n            </div>\n        </div>`);if(this.callToAction){const e=this.dom.createElementFromHtml(`<a class="fire-alarm_alarm-status-page-link" href="${this.callToAction.url}" target="_blank">${t}</a>`);this.domElement.appendChild(e)}!1!==this.dismissible&&this.renderDismissButton()}return this.domElement}renderDismissButton(){let t=this.dom.createElementFromHtml(`<button id=${this.alarmDismissButtonId} type="button" data-action="close" class="fire-alarm_alarm-close-button">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="alarm-close-icon">\n            <path transform="translate(-1 -1)" d="M14.5,1.5l-13,13m0-13,13,13"></path>\n          </svg>\n          <span class="fire-alarm_alarm-button-text">Close</span>\n        </button>`);this.domElement.appendChild(t);if(t){const e=t=>{t.preventDefault();this.dismiss()};t.addEventListener("touchend",e);t.addEventListener("click",e)}}isDismissed(){return"true"===this.storage.getItem(this.storageKey)}}var c=d;class h{constructor(t,e){this.httpRequest=t;this.exception=e||null}getMessage(){return this.exception?this.exception.toString():this.httpRequest&&this.httpRequest.readyState===XMLHttpRequest.DONE?this.httpRequest.statusText:"httpRequest did not complete"}}var u=h,f=n(0);function p(t){const e=("; "+document.cookie).split(";");for(let n=0;n<e.length;n++){const r=e[n].split("=");if(2===r.length&&r[0].trim()===t)return r[1]}return null}class g{constructor(t,e,n){this.dom=t;this.storage=e;this.events=n}getAlarms(t,e){const{dom:n,storage:r,events:a}=this;let i=this.getHttpRequest();if(!i)throw"Could not create XMLHttpRequest. Browser may not support AJAX.";const s=this.getUrl(t),o=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status){try{const t=JSON.parse(i.responseText);let s=[];Array.isArray(t)&&(s=t.map(t=>new c(t,n,r,a)));e(s,null)}catch(t){e(null,new u(i,t))}return}e(null,new u(i))}};i.onreadystatechange=o;i.open("GET",s);const l=p("csrf.app");if(null!==l){i.withCredentials=!0;i.setRequestHeader("X-HubSpot-CSRF-hubspotapi",l)}else console.log("No CSRF Cookie found.");i.send();return!0}getHttpRequest(){return new XMLHttpRequest}getUrl(t){const e=Object(f.b)()?"qa":"",n=window.I18n&&window.I18n.langEnabled?window.I18n.lang:"en",r=/^\/(?:[A-Za-z0-9-_]*)\/(\d+)(?:\/|$)/.exec(document.location.pathname),a=r&&r.length>1?"/"+r[1]:"",i=Object(f.a)(document.location.hostname);return`https://api${"na1"===i?"":"-"+i}.hubspot${e}.com/firealarm/v4/alarm/${t}${a}?lang=${n}`}}var b=g;class v{constructor(t){this.document=t||window.document}createElement(t,e,n){let r=this.document.createElement(t);e&&this.setAttributes(r,e);if(n)if("string"==typeof n){const t=this.document.createTextNode(n);r.appendChild(t)}else n.forEach(t=>{r.appendChild(t)});return r}createElementFromHtml(t){let e=this.document.createElement("template");e.insertAdjacentHTML("afterbegin",t);let n=e.firstChild;for(;null!=n&&3==n.nodeType;)n=n.nextSibling;return n}getBody(){return this.document.body}getElementById(t){return this.document.getElementById(t)}setAttributes(t,e){for(let n in e)t.setAttribute(n,e[n]);return t}}var E=v;const A="fire-alarm_no-nav-margin-bottom",y=new E(document);class w{constructor(t={}){this.config=a(t,{after:null,additionalClasses:[],before:null,parent:null});this.alarmElements=[]}addAlarm(t){if(!t.isDismissed()){const e=t.getDomElement();if(-1===this.alarmElements.indexOf(e)){this.alarmElements.push(e);this.getDomElement().appendChild(e)}}}removeAllAlarms(){if(this.domElement){for(;this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);this.alarmElements=[]}}getDomElement(){if(null==this.domElement){const t=this.config.additionalClasses.join(" ");this.domElement=y.createElement("div",{class:"fire-alarm_alarms "+t})}return this.domElement}addNoMarginClass(){if(!this.addedNoMarginClass){this.getDomElement().classList.add(A);this.addedNoMarginClass=!0}}getParent(){const{after:t,before:e,parent:n}=this.config;n||(t?this.config.parent=t.parentNode:e&&(this.config.parent=e.parentNode));return this.config.parent}render(){const{after:t,before:e}=this.config,n=this.getParent();if(n){const r=this.getDomElement();if(t){const e=window.getComputedStyle(t).marginBottom;parseInt(e,10)||this.addNoMarginClass();n.insertBefore(r,t.nextSibling)}else e?n.insertBefore(r,e):n.appendChild(r)}}}var _=w;class x{constructor(t){const e=[],n=[];this.alarms=t;this.groupedAlarms=t.reduce((t,r)=>{const a=r.severity.key;t[a]=t[a]||[];r.severity===s.CRITSIT?e.push(r):n.push(r);t[a].push(r);return t},{});this.placement={aboveNav:e,belowNav:n}}}var C=x,R=n(2);const k="FIREALARM_DEBUG";let I;try{const t=!(!window||!window.localStorage)&&window.localStorage;I=new R.a(t)}catch(t){I=new R.a(!1)}function N(t){I.getItem(k)&&console.log.apply(console,arguments)}var S=N;const O="_preLoadEvents";class D{constructor(){this.events={};this.eventMarkers={};l.keys().forEach(t=>{const e=l[t];this.events[e]=[]})}addEvent(t,e){this.events[t]=this.events[t]||[];this.events[t].push(e)}addEventMarker(t,e){this.eventMarkers[t]=this.eventMarkers[t]||[];this.eventMarkers[t].push(e)}extractPreloadEvents(t){const e=t&&t[O]?t[O]:{};l.keys().forEach(t=>{const n=l[t];e[n]&&Array.isArray(e[n])&&e[n].map(t=>{this.addEvent(n,t)})})}runEvents(t,e){const n={eventGroup:t,data:e};if(this.events[t])switch(t){case l.eventGroups.CREATE_ALARM:this.events[t].map(t=>{e.addAlarm(t)});break;default:this.events[t].map(t=>{t(n)})}this.addEventMarker(t,n)}}var M=D;function L(t,e){let n;if("function"==typeof window.Event)n=Object.assign(new Event(t),e);else{n=Object.assign(document.createEvent("Event"),e);n.initEvent(t,!0,!0)}window.dispatchEvent(n)}const j='var(--uicomponents-font-family, "Lexend Deca", Helvetica, Arial, sans-serif)',T="700",P="500",B="600";var $={getCss:()=>{const t=`\n      .fire-alarm_alarms {\n        box-sizing: border-box;\n        color: rgb(255, 255, 255);\n        font-family: ${j};\n        font-weight: ${P};\n        font-size: 14px ;\n        line-height: 24px;\n      }\n\n      .fire-alarm_alarms.fire-alarm_no-nav-margin-bottom {\n        margin-bottom: 0;\n        margin-top: 0;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm {\n        box-sizing: border-box;\n        min-height: 60px;\n        padding: 14px 20px;\n        position: relative;\n      }\n\n      .fire-alarm_critsit {\n        background-color: rgb(242, 84, 91);\n        background-image: repeating-linear-gradient(135deg, rgb(240, 75, 81), rgb(240, 75, 81) 24px, rgb(242, 84, 91) 24px, rgb(242, 84, 91) 48px);\n        border: 1px solid rgb(248, 169, 173);\n      }\n\n      .fire-alarm_outage{\n        background-color: #fdf3e1;\n        border: 1px solid #f5c26b;\n      }\n\n      .fire-alarm_maintenance,\n      .fire-alarm_debug {\n        background-color: #f2fafb;\n        border: 1px solid #7fd1de;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-inner {\n        align-items: baseline;\n        display: flex;\n        flex: 1;\n      }\n\n      .fire-alarm_alarms h2 {\n        color: rgb(255, 255, 255);\n        display: block;\n        font-size: 16px;\n        font-weight: ${T};\n        line-height: 20px;\n        margin: 0 20px 6px 0;\n        text-shadow: transparent 0px 0px 1px;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-body {\n        line-height: 1.4;\n        padding-right: 24px;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-body p {\n        font-size: 14px;\n        line-height: 19.6px;\n        margin: 0;\n      }\n\n      .fire-alarm_outage h2,\n      .fire-alarm_maintenance h2,\n      .fire-alarm_outage .fire-alarm_alarm-body p,\n      .fire-alarm_maintenance .fire-alarm_alarm-body p {\n        color: rgb(66, 91, 118);\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-body a,\n      .fire-alarm_alarms .fire-alarm_alarm-status-page-link {\n        color: rgb(255, 255, 255);\n        font-weight: ${B};\n        text-decoration: underline;\n        text-shadow: transparent 0px 0px 1px;\n        transition-delay: 0s;\n        transition-duration: 0.15s;\n        transition-property: all;\n        transition-timing-function: ease-out;\n      }\n\n      .fire-alarm_outage .fire-alarm_alarm-body a,\n      .fire-alarm_maintenance .fire-alarm_alarm-body a,\n      .fire-alarm_outage .fire-alarm_alarm-status-page-link,\n      .fire-alarm_maintenance .fire-alarm_alarm-status-page-link {\n        color: rgb(0, 164, 189);\n        font-weight: ${P};\n        text-decoration: none;\n      }\n\n      .fire-alarm_outage .fire-alarm_alarm-body a:hover,\n      .fire-alarm_maintenance .fire-alarm_alarm-body a:hover,\n      .fire-alarm_outage .fire-alarm_alarm-status-page-link:hover,\n      .fire-alarm_maintenance .fire-alarm_alarm-status-page-link:hover {\n        text-decoration: underline;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button {\n        background: scroll border-box transparent none 0% 0% repeat;\n        border: 0px none;\n        box-sizing: border-box;\n        color: rgb(255, 255, 255);\n        cursor: pointer;\n        display: block;\n        font-kerning: auto;\n        height: 16px;\n        line-height: 24px;\n        margin: 0;\n        outline-offset: 0px;\n        overflow: visible;\n        padding: 0px;\n        position: absolute;\n        right: 20px;\n        text-align: start;\n        text-transform: none;\n        top: 20px;\n        transition-delay: 0s;\n        transition-duration: 0.15s;\n        transition-property: all;\n        transition-timing-function: ease-out;\n        width: 16px;\n      }\n\n      .fire-alarm_outage .fire-alarm_alarm-close-button {\n        color: rgb(245, 194, 107);\n      }\n\n      .fire-alarm_maintenance .fire-alarm_alarm-close-button {\n        color: #7c98b6;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button:after {\n        display: block;\n        background: rgba(255,255,255,0);\n        border-radius: 100%;\n        padding: 1.25rem;\n        content: ' ';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translateZ(0) translate(-50%, -50%);\n        transition: all 150ms ease-out;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button:hover:after {\n        background: rgba(255,255,255,0.1);\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button path {\n        fill: currentColor;\n        stroke: currentColor;\n        stroke-width: 2;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-button-text {\n        position: absolute !important;\n        width: 1px !important;\n        height: 1px !important;\n        margin: -1px !important;\n        padding: 0 !important;\n        overflow: hidden !important;\n        clip: rect(0, 0, 0, 0) !important;\n        border: 0 !important;\n      }\n    `,e=document.createElement("style");e.innerHTML=t;return e}};const F="selenium.disable.alarms";function q(t){const e=t&&t.getItem&&"true"===t.getItem(F);e&&console.warn(`FireAlarms are currently disabled. Unset '${F}' in localStorage to enable.`);return e}const H="fire-alarm-custom-container",G="fireAlarm",U="https://git.hubteam.com/HubSpot/FireAlarmUi/blob/master/README.md#including-benderprojectdepandpathvariables",K="hs-nav-v4",z="firealarm.show.debug.alarms";class X{constructor(t,e={}){this.className="FireAlarmApp";this.hubspot=t;this.events=new M;this.events.extractPreloadEvents(t[G]||{});this.alarms=[];try{const t=!(!window||!window.localStorage)&&window.localStorage;this.storage=new R.a(t)}catch(t){this.storage=new R.a(!1)}this.events.runEvents(l.ON_LOAD);this.config=a(e,{containers:{}});t[G]=this}selectOrMakeCritsitContainer(t,e){if(t.containers.critsit){let e=t.containers.critsit;e.additionalClasses=e.additionalClasses||[];e.additionalClasses.push("firealarm-critsits");return this.makeContainer(e)}return t.containers.default?e:this.makeNavContainer(!0)}addCss(){const t=document.getElementsByTagName("head")[0];if(t){const e=$.getCss();t.appendChild(e)}}getAlarmApi(){return new b(this.getDom(),this.storage,this.events)}getDom(){this.dom||(this.dom=new E(document));return this.dom}getNav(){if(!this.navElement){let t=this.getDom().getElementById(K);if(!t){t=this.getDom().getBody().firstChild;for(;null!=t&&3==t.nodeType;)t=t.nextSibling}if(!t)throw"No Nav element could be found to add FireAlarms";this.navElement=t}return this.navElement}loadAndRenderAppAlarms(t){const{addCss:e,hubspot:n}=this;this.getAlarmApi().getAlarms(t,(t,r)=>{if(r)S("ApiError",r.getMessage(),r);else{S("Loaded alarms from FireAlarmApi",t);this.events.runEvents(l.ON_RECEIVE_ALARM,new C(t));!Object(f.b)()||n.bender&&n.bender.currentProject||t.push(this.getBenderWarningAlarm());if(t.length>0){0==this.alarms&&e();this.alarms=t;this.renderAlarms()}}})}renderAlarms(){const t=this.prioritiseAlarms(this.filterAlarms(this.alarms));this.containers.default.removeAllAlarms();this.containers.critsit.removeAllAlarms();t.forEach(t=>{t.severity===s.CRITSIT?this.containers.critsit.addAlarm(t):this.containers.default.addAlarm(t)});this.renderContainers();t.forEach(t=>{this.events.runEvents(l.ON_RENDER_ALARM,t)});this.events.runEvents(l.ON_RENDER_ALL,new C(t))}getAppName(){return this.hubspot&&this.hubspot.bender&&this.hubspot.bender.currentProject?this.hubspot.bender.currentProject:null}makeContainer(t){const e=r({additionalClasses:(t.additionalClasses||[]).concat([H])},t);return new _(e)}makeNavContainer(t=!1){const e=this.getDom().getBody(),n=this.getNav();let r;r=t?{parent:e,before:n,additionalClasses:["firealarm-critsits"]}:{parent:e,after:n};return new _(r)}getBenderWarningAlarm(){return new c({title:"FireAlarm needs some setup!",message:`Please include 'benderProjectDepAndPathVariables' in this app to report it to FireAlarm. See the <a href="${U}">FireAlarm docs</a> for more information.`,createdAt:Date.now(),severity:s.MAINTENANCE.key},this.getDom(),this.storage)}filterAlarms(t){return t.filter(t=>{if(t.debug&&"true"!==this.storage.getItem(z))return!1;const e=new RegExp(t.urlRegexPattern);return!t.urlRegexPattern||e.test(window.location.href)})}prioritiseAlarms(t){return t.sort((t,e)=>t.severity===e.severity?0:t.severity.priority<e.severity.priority?1:-1)}addAlarm(t){let e=new c(t,this.getDom(),this.storage,this.events,t.date);0==this.alarms.length&&this.addCss();this.alarms.push(e);e.severity===s.CRITSIT?this.containers.critsit.addAlarm(e):this.containers.default.addAlarm(e);this.renderContainers();this.events.runEvents(l.ON_RENDER_ALARM,e)}renderContainers(){if(!q(this.storage)){this.containers.default.alarmElements.length>0&&this.containers.default.render();this.containers.default!==this.containers.critsit&&this.containers.critsit.alarmElements.length>0&&this.containers.critsit.render()}}addLocationChangeEvent(){history.pushState=(t=history.pushState,function(){const e=t.apply(this,arguments);L("fireAlarmLocationChange");return e});var t;history.replaceState=(t=>function(){const e=t.apply(this,arguments);L("fireAlarmLocationChange");return e})(history.replaceState);window.addEventListener("popstate",()=>{L("fireAlarmLocationChange")});window.addEventListener("fireAlarmLocationChange",()=>{S("Refiltering fire alarms for this page");this.renderAlarms()})}start(){S("FireAlarm started");const t=this.config.appName||this.getAppName(),e=this.config.containers.default||!1,n=e?this.makeContainer(e):this.makeNavContainer(),r=this.selectOrMakeCritsitContainer(this.config,n);this.containers={default:n,critsit:r};this.loadAndRenderAppAlarms(t);this.addLocationChangeEvent();this.events.runEvents(l.CREATE_ALARM,this)}}X.HUBSPOT_FIREALARM_KEY=G;var V=X;const J=window.hubspot=window.hubspot||{};if(!J.fireAlarm){J.fireAlarm=new V(J);J.fireAlarm.start()}}]);
//# sourceMappingURL=loader.js.map
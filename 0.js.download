(window.webpackJsonpNav=window.webpackJsonpNav||[]).push([[0],{pZmF:function(e,t,n){"use strict";n.r(t);var a=n("mXPB"),r=n("PE+M");function o(){if(!Object(a.a)())return;const e=Object(r.a)(".navNotifications");e&&e.addEventListener("click",()=>{window.hubspot&&window.hubspot.notifications&&window.hubspot.notifications.openSidebar&&window.hubspot.notifications.openSidebar()})}var i=n("ANe3"),s=n("joix"),c=n("CWqZ"),l=n("DF7d"),u=n("jcOy");function d(e,t){const n=Object(u.b)();n&&n.track(e,t)}var h=n("COoD");function b(e,t,n,a){const r={resultIds:{},results:{}},o=Object.keys(n);for(let i=0;i<o.length;i++){const s=o[i];r.resultIds[s]=[];for(let o=0;o<n[s].results.length;o++){const c=n[s].results[o],l=`${c.resultType}-${c.resultId}-${s.toLowerCase()}`,u=e?o+a:o;r.resultIds[s].push(c.resultId);r.results[l]={category:s.toLowerCase(),categoryIndex:i,itemIndex:t&&0===i?u+1:u,highlightFields:c.highlightFields}}}return r}function f({userId:e,userEmail:t}){Object(h.a)()||Object(u.c)(t);Object(s.a)(Object(i.a)('button[data-tracking*="click"]'),l.c);Object(s.a)(Object(i.a)('a[data-tracking*="click"]'),l.c);Object(s.a)(Object(i.a)('a[data-tracking*="focus"]'),l.d);Object(l.e)(l.a.ACCOUNTS,()=>{Object(s.a)(Object(i.a)('.navAccountSwitcher a[data-tracking*="click"]'),l.c)});Object(l.e)(l.a.SEARCH,({detail:t})=>{if(!t&&["queryIdentifier","searchTerm","resultSections","totalResults"].every(e=>Object.prototype.hasOwnProperty.call(t,e)))return;const{queryIdentifier:n,searchTerm:a,paginated:r,hero:o,resultSections:i,resultOffset:s,totalResults:l}=t,{resultIds:u}=b(r,o,i,s);d("navSearchBarInteraction",{currentUrl:window.location.pathname,currentApp:Object(c.a)(),isNewNav:!0,queryIdentifier:n,userId:e,searchTerm:a,totalResults:l,results:JSON.stringify(u)})})}var p=n("7jc4"),m=n("vCIP");const v="navSearch-input",g="globalSearchQuery",w="searchFilters",O="globalSearchQuery",j="global_search",y={ROUTE:"route",CLOSE:"close",UPDATE_QUERY:"updateQuery",UPDATE_FILTERS:"updateFilters",INIT_COMPLETE:"initialStateTransmitted",LISTENERS_REGISTERED:"windowListenersRegistered"};function E({withAlerts:e}){let t=54;const n=document.querySelector("#hs-nav-v4");if(n){const{height:a,y:r}=n.getBoundingClientRect();t=a;e&&(t+=r)}return t}var I=n("+93m"),S=n("IXsz"),N=n("I9Ts"),_=n("ADkl");var T=e=>{try{JSON.parse(e)}catch(e){return!1}return!0};let k;const L=C();let R,x;const $=".navSearch-v2";let A;const B=(e,t)=>{const n=new URLSearchParams(window.location.search);""===t||void 0===t||Array.isArray(t)&&!String(t)?n.delete(e):n.set(e,t.toString());const a=""===n.toString()?window.location.pathname:"?"+n.toString();window.history.replaceState({},"",a)};function P(){const e=new URLSearchParams(window.location.search);R=e.get(w);x=R?R.split(","):null;A.searchKeyword=W()}const U=()=>{K({width:window.innerWidth});G()};function D(){if(L.domain){A={searchParent:Object(r.a)($),searchInput:Object(r.a)($).querySelector("#"+v),searchKeyword:""};X();H();P();if(A.searchInput&&(A.searchKeyword||R)){U();A.searchInput.focus()}}}function C(){const e=Object(m.a)(),t=Object(S.a)().location.host;return{domain:"https://"+t,iframeSrc:`${Object(N.a)(String(Object(_.a)("GLOBAL_SEARCH_ENV")||"app"),{hubletOverride:t.includes("eu1")?"eu1":void 0,envOverride:t.includes("qa")?"qa":"prod"})}/global-search-ui/${e}`}}const q=e=>{if(e.target.id!==v)return;const t=document.documentElement;t.classList.contains("navSearch-open")||t.classList.add("navSearch-open");if(k){if(k.hidden){G();k.hidden=!1}}else{""===W()&&U()}},V=e=>{A.searchKeyword=e.target.value||"";const t=1!==A.searchKeyword.length?A.searchKeyword:"";B(g,t);return F(y.UPDATE_QUERY,{query:t})};function H(){A.searchInput.addEventListener("click",q);A.searchInput.addEventListener("keyup",V)}function M(){A.searchInput.removeEventListener("click",q);A.searchInput.removeEventListener("keyup",V)}function G(){A.searchParent.className=A.searchParent.className+" open";A.searchInput.value=A.searchKeyword}function F(e,t){try{k&&k.contentWindow&&k.contentWindow.postMessage({app:j,key:e,payload:t},L.domain)}catch(e){e instanceof Error&&Object(I.a)(e)}}function W(){return new URLSearchParams(window.location.search).get(O)||""}function K({width:e}){Object(p.b)(L.iframeSrc,{height:null,width:e||"100vw",style:"position: absolute; top: var(--global-nav-height); height: calc(100vh - var(--global-nav-height)); z-index:2001; opacity: 1; left: 0; border: none;",id:"global-search",onerror:Q,allowfullscreen:""})}function J(){k=document.querySelector("#global-search");window.scrollTo(0,0);F(y.INIT_COMPLETE,{query:A.searchKeyword,filters:x&&x.length?x.toString():R})}function Q(){console.warn("fail to load search iframe")}function Y({width:e,height:t,hidden:n}){if(k){k.width=e||k.width;k.height=t||k.height;k.hidden=n||k.hidden}}const Z=()=>{Y({width:window.innerWidth,height:window.innerHeight-E({withAlerts:!0})})},z=e=>{if(e.origin===L.domain&&"string"==typeof e.data)try{if(!T(e.data))return;const t=JSON.parse(e.data||"{}");if(Object.keys(t).length<2||t.app!==j)return;switch(t.key){case y.CLOSE:B(g);B(w);te();break;case y.ROUTE:if(!t.payload)return;ne(t.payload);break;case y.LISTENERS_REGISTERED:J();break;case y.UPDATE_QUERY:A.searchInput.value=t.payload;B(g,t.payload);break;case y.UPDATE_FILTERS:B(w,t.payload)}}catch(e){e instanceof Error&&Object(I.a)(e)}};function X(){window.addEventListener("resize",Z);window.addEventListener("message",z)}function ee(){window.removeEventListener("resize",Z);window.removeEventListener("message",z)}function te(){A.searchKeyword="";A&&A.searchInput&&(A.searchInput.value="");k.hidden=!0;A.searchParent.className=A.searchParent.className.replace(" open","");document.documentElement.classList.remove("navSearch-open")}function ne(e){if(!e)return;const t=decodeURI(e),n=t.startsWith("https://")||t.startsWith("http://");try{if(n)window.open(t,"_blank","noopener");else{document.location.href=t;ee();M()}}catch(e){console.warn(e)}}var ae=n("jZ2P");let re=!1;function oe({userId:e,userEmail:t,isDevPortal:n}){if(!re){re=!0;f({userId:e,userEmail:t});Object(ae.a)()}n||D();o()}var ie=n("OZMN"),se=n("w1Qr"),ce=n("7ZxV"),le=n("cRCQ"),ue=n("ifue"),de=n("jjyS"),he=n("pYfI"),be=n("Jq5c");const fe=window.hubspot&&window.hubspot.navigation&&window.hubspot.navigation.hiddenAlertDurationMillis||12096e5,pe="NAVIGATION_HIDDEN_ALERTS",me="render-alerts-failure";function ve(e="nonFill"){return`${pe}:${Object(m.a)()}:${e}`}function ge(e){const t=ce.a(ve(e));return t?JSON.parse(t):null}function we(e){const{alertType:t}=e,n=ge(t),a=new Date;if(n&&new Date(n+fe)>a)return;const o=document.createElement("div");o.innerHTML=Object(de.a)({level:e.level,link:e.link,title:Object(le.c)(`nav.alerts.${t}.title`),description:Object(le.c)(`nav.alerts.${t}.description`),linkText:Object(le.c)(`nav.alerts.${t}.linkText`)});o&&o.parentNode&&o.querySelector("svg.close-icon").addEventListener("click",()=>{o.parentNode.removeChild(o);ce.c(ve(t),+a)});Object(r.a)().parentNode.insertBefore(o,Object(r.a)())}function Oe(){const e=e=>{Object(s.a)(e,e=>we(e))},t=Object(be.a)();if(t.hubspot&&t.hubspot.navigation&&t.hubspot.navigation.alerts)return e(t.hubspot.navigation.alerts);{const t="/navconfig/v2/alerts?portalId="+Object(m.a)(),n={maxRetries:5};return Object(ue.a)(n).get(t).then(e).catch(e=>{he.a.counter(me).increment();Object(I.a)(e)})}}var je=n("chJ/"),ye=n("qvhV");function Ee(){const e=Object(i.a)(".secondary-nav .expandable > a");Object(s.a)(e,e=>{const{parentElement:t}=e;Object(ie.a)(t)})}function Ie({isEnrolledInOnboarding:e,portalId:t,gates:n}){Ee();!Object(ye.a)()&&n&&n.includes("navigation:preact:GlobalToolbar")||Object(se.b)();Oe();e&&Object(m.a)()&&Object(je.a)({portalId:t})}const Se="hs-nav-v3",Ne="hs-nav-v4",_e="no-bottom-margin",Te="hs-nav-before-container",ke="hs-nav-after-container";function Le(e={}){return HTMLElement&&"object"==typeof HTMLElement?e&&e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function Re(e){let t=document.getElementById(e);if(!t||!Le(t)){t=document.createElement("div");t.id=e}return t}function xe(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function $e(e,t=[]){for(;e.firstChild;)e.removeChild(e.firstChild);t.forEach(t=>{e.appendChild(t)});return e}class Ae{constructor(){this.siblings=[];this.nav=null}insertBefore(e){this._insert(e,"before")}insertAfter(e){this._insert(e,"after")}_insert(e,t){if(Le(e.element)){this.siblings.push(Object.assign({},e,{position:t}));this.render()}}_getNav(){if(Le(this.nav))return this.nav;const e=document.getElementById(Ne)||document.getElementById(Se);Le(e)&&(this.nav=e);return e}_getSiblingsToRender(){return 1===this.siblings.length?this.siblings:this.siblings.reduce((e,t)=>{if(t.isPriority||0===e.length){e.push(t);e.length>1&&(e=e.reduce((e,t)=>{t.isPriority&&e.push(t);return e},[]))}return e},[])}_getSiblingContainer(e,t,n){let a=Re(n);a=$e(a,t);-1!==e.className.indexOf(_e)&&(a.className+=" "+_e);return a}remove(e){this.siblings=this.siblings.reduce((t,n)=>{n.key!==e&&t.push(n);return t},[]);this.render()}removeAll(){this.siblings=[];this.render()}_renderBefore(e=[]){const t=this._getNav();if(!Le(t))return;const n=this._getSiblingContainer(t,e,Te);t.parentNode.insertBefore(n,t)}_renderAfter(e=[]){const t=this._getNav();if(!Le(t))return;xe(this._getSiblingContainer(t,e,ke),t)}render(){const e=this._getSiblingsToRender(),t=[],n=[];e.forEach(e=>{"before"===e.position?t.push(e.element):"after"===e.position&&n.push(e.element)});this._renderBefore(t);this._renderAfter(n)}}var Be=new Ae;class Pe{constructor({key:e="",isPriority:t=!1,element:n=null}={}){this.key=e;this.isPriority=t;if(!Le(n)){console.warn("NavSibling expects element to be an instanceof HTMLElement");n=document.createElement("div")}this.element=n}}var Ue=Pe;const De="onboarding_referrer_task",Ce="show_onboarding_banner",qe=[De,"onboarding_referrer_group","onboarding_referrer_source","in_app_onboarding_goal",Ce];function Ve(e){const t=window.requestIdleCallback||window.setTimeout;t(e,t===window.requestIdleCallback?{timeout:5e3}:0)}function He(e){const t=new Ue({key:"onboarding-tours-banner",element:e});Be.insertBefore(t);return t}function Me(){const e=`${Object(ue.b)({localOverride:"ONBOARDING_TOURS_BANNER_ENV",subDomain:"app"})}/guide-onboarding-tours/${Object(m.a)()}`,t=new URLSearchParams(window.location.search.slice(1)),n=qe.reduce((e,n)=>{const a=t.get(n);a&&e.push(`${n}=${a}`);return e},[]);return`${e}${n.length?"?"+n.join("&"):""}`}function Ge(){const e=document.createElement("iframe");e.id="onboarding-tours-banner-frame";e.frameBorder="0";e.src=Me();return e}function Fe(){const e=document.createElement("div");e.id="onboarding-tours-banner";const t=Ge();e.style.display="none";e.appendChild(t);return e}function We(){He(Fe())}function Ke(){const e=window.sessionStorage&&window.sessionStorage.getItem("ONBOARDING_TOURS_GUIDE"),t=new URLSearchParams(window.location.search.slice(1));return e||t.get(De)}function Je(){const e=window.sessionStorage&&window.sessionStorage.getItem("SHOW_ONBOARDING_BANNER"),t=new URLSearchParams(window.location.search.slice(1));return Ke()||e||t.get(Ce)}function Qe(){if(Object(a.a)()&&Je()){Ve(()=>{We()});return!0}return!1}var Ye=n("VSoE");function Ze(){return window.location.host.includes("qa")}function ze(e){return`${e}${Ze()?"-qa":""}.js`}function Xe(){Object(a.a)()&&Object(Ye.a)(ze("//static.hsappstatic.net/growth-dynamic-ui/ex/js/start"))}var et=n("pkiA");const tt=()=>{let e;try{e=window.localStorage.getItem("SANDBOXES_REDIRECT")||"sandboxes"}catch(t){e="sandboxes"}return e},nt=({parentPortalId:e,sandboxName:t,isDevelopmentSandbox:n})=>`<div class="sandbox-banner-alert hs-nav-v4-alert hs-nav-v4-alert--warning">\n    <b>${n?""+Object(le.c)("nav.alerts.sandbox.developmentSandbox",{sandboxName:t,defaultValue:`You're in ${t}, which is a development sandbox account.`}):""+Object(le.c)("nav.alerts.sandbox.sandboxAccount",{sandboxName:t,defaultValue:`You're in ${t}, which is a standard sandbox account.`})}</b>\n    <span class="sandbox-banner-message">\n      ${e?`<a href="${Object(et.a)()}/${tt()}/${e}">${Object(le.c)("nav.alerts.sandbox.linkText",{defaultValue:"Go back to my production account."})}</a>`:""+Object(le.c)("nav.alerts.sandbox.somethingWentWrong",{defaultValue:"Something went wrong finding the url for your production account. Please reload the page to try again."})}\n    </span>\n  </div>`;function at(e,t,n){const a=document.createElement("div");a.innerHTML=nt({parentPortalId:t,sandboxName:e,isDevelopmentSandbox:n});const r=document.getElementById("hs-nav-v4"),o=document.getElementById("navbar"),i=document.getElementById("hs-global-toolbar-root");if(o&&r&&o!==r){if(i){r.insertBefore(a,i);return}r.insertBefore(a,o)}}function rt(e,t){if(!e)return;const n=`/hubs/v1/hubs/${e}/?portalId=${e}`,a={maxRetries:2};return Object(ue.a)(a).get(n).then(t).catch(e=>{Object(I.a)(e)})}function ot(e,t,n){if(!e)return at(t);const a="/sandbox-hubs/v1/self/?portalId="+e;return Object(ue.a)().get(a).then(n).catch(e=>{Object(I.a)(e);at(t)})}var it=n("Rpd1");const st=11,ct="DEVELOPER";function lt(){rt(Object(m.a)(),e=>{if(e.hubType===st){const t=Object(it.a)(e.accountName)||"";ot(Object(m.a)(),t,e=>{const n=e.parentHubId,a=e.type===ct;at(t,n,a)})}})}var ut=n("aawh");const dt=({url:e})=>`<div class="developer-banner-alert hs-nav-v4-alert hs-nav-v4-alert--info">\n    <b>${Object(le.c)("nav.alerts.developer.title",{defaultValue:"This is an app developer account."})}</b>\n    <span class="developer-banner-message">\n    ${Object(le.c)("nav.alerts.developer.description",{defaultValue:"Learn about the different HubSpot account types and what each one is used for in this"})}\n    <a target="_blank" href="${e}"><b>${Object(le.c)("nav.alerts.developer.linkText",{defaultValue:"developer doc."})}</b><span class="external-logo">${Object(ut.b)("#33475b")}</span></a>\n    </span>\n  </div>`,ht="https://developers.hubspot.com/hubspot-account-types";function bt(e){if(e){const e=document.createElement("div");e.innerHTML=dt({url:ht});const t=document.getElementById("hs-nav-v4"),n=document.getElementById("navbar"),a=document.getElementById("hs-global-toolbar-root");if(n&&t){if(a){t.insertBefore(e,a);return}t.insertBefore(e,n)}}}const ft="You are temporarily logged in as {{ firstName }} {{ lastName }} and actions taken in this account will be saved.",pt="Sign out to regain access to your account.",mt="Sign out",vt=({firstName:e,lastName:t})=>`\n  <div\n    class="impersonation-banner-alert hs-nav-v4-alert hs-nav-v4-alert--info"\n    data-test-id="user-impersonation-banner"\n  >\n    <h5>\n      ${Object(le.c)("nav.alerts.impersonation.active",{defaultValue:ft,firstName:e,lastName:t})}\n      <small>\n        ${Object(le.c)("nav.alerts.impersonation.hint",{defaultValue:pt})}\n        <a href="${Object(et.a)()}/login-api/v1/logout/all" class="hs-nav-v4-alert__button">\n          ${Object(le.c)("nav.tools.signOut",{defaultValue:mt})}\n        </a>\n      </small>\n    </h5>\n  </div>\n`;function gt(e){const t=Object.entries(e);return Object.fromEntries(t.map(([e,t])=>[e,Object(it.a)(t)||""]))}const wt="navUserImpersonation";function Ot(e,t,n){const a=document.querySelector(e);if(a)return a;const r=document.createElement("div"),o=t(gt(n));r.innerHTML=o;const i=document.getElementById("hs-nav-v4"),s=document.getElementById("navbar"),c=document.getElementById("hs-global-toolbar-root");s&&i&&(c?i.insertBefore(r,c):i.insertBefore(r,s));return r.querySelector(e)}function jt(){const e="/login-verify/user-info";return Object(ue.a)().get(e)}function yt(e){e&&Object(l.g)(e,wt,["destinationUrl","level","target"])}function Et(){jt().then(({user:{firstName:e,lastName:t},actingUserId:n})=>{if(!n)return null;return Ot('[data-test-id="user-impersonation-banner"]',vt,{firstName:e,lastName:t})}).then(yt).catch(e=>{Object(I.a)(e)})}var It=n("6eSY");const St="/treatments/v2/exposure/log-bulk?&hs_static_app=unified-navigation-ui",Nt=(e,t)=>Object(ue.a)().post(St,{data:e.map(e=>({key:e,identifier:t}))}).catch(e=>Object(I.a)(e)),_t=(e,t,n)=>{const a="en-US"===t,r="free"===Object(It.a)(n);if(!a&&r)return Nt(["help-030"],""+e)};n.d(t,"default",(function(){return Tt}));class Tt{start({accountName:e,avatarUrl:t,gates:n,isDevPortal:a,scopes:r,userEmail:o,userId:i,portalId:s,firstName:c,lastName:l,attributes:u,enrolledInUserGuide:d,isEnrolledInOnboarding:h,experiments:b,displayLanguage:f}){window.hubspot&&window.hubspot.fireAlarmDisabled||Object(Ye.a)("//static.hsappstatic.net/FireAlarmUi/ex/js/FireAlarmLoader.js");!Object(ye.a)()&&n&&n.includes("navigation:preact:GlobalToolbar")||Object(se.c)({accountName:e,avatarUrl:t,firstName:c,lastName:l,scopes:r,userEmail:o,attributes:u,enrolledInUserGuide:d,isDevPortal:a,userId:i});oe({userId:i,userEmail:o,scopes:r,isDevPortal:a});Ie({isEnrolledInOnboarding:h,experiments:b,portalId:s,gates:n});lt();Et();bt(a);Qe()||Xe();s&&_t(s,f,r)}}}}]);
//# sourceMappingURL=0.js.map
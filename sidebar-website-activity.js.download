(window.webpackJsonp=window.webpackJsonp||[]).push([["sidebar-website-activity"],{"2/4d":function(e,t,i){"use strict";i.r(t);i.d(t,"getDateFromProperty",(function(){return c}));i.d(t,"getMaxDays",(function(){return a}));i.d(t,"getFirstConversionDate",(function(){return o}));i.d(t,"getFirstVisitDate",(function(){return d}));i.d(t,"getMostRecentVisitDate",(function(){return u}));i.d(t,"getDaysRemaining",(function(){return l}));var s=i("npjq"),r=i("P4dz");const n=7,c=(e,t)=>{const i=parseInt(Object(r.g)(e,t),10);return!i||isNaN(i)?null:i},a=()=>n,o=e=>{let t;const i=Object(r.g)(e,"first_conversion_date"),s=Object(r.g)(e,"hs_analytics_first_visit_timestamp");if(i)t="first_conversion_date";else{if(!s)return;t="hs_analytics_first_visit_timestamp"}return c(e,t)},d=e=>c(e,"hs_analytics_first_visit_timestamp"),u=e=>c(e,"hs_analytics_last_visit_timestamp"),l=e=>{const t=o(e);if(t){const e=s.a.moment.userTz().diff(s.a.moment.userTz(t),"days");return n-e}return null}},EzWd:function(e,t,i){"use strict";i.r(t);var s=i("QgEn"),r=i("npjq"),n=i("Ktcs"),c=i("P4dz"),a=i("bSpp"),o=i("9/nK"),d=i("FeM/"),u=i("RvQm"),l=i("LkYt"),p=i("hEU+"),b=i("2/4d"),j=i("VfuR"),m=i.n(j),h=i("DqRu"),g=i("lGhp"),y=i("nDpY"),f=i.n(y),v=i("aeBh"),O=i("oxA8"),x=i("H90k");class _ extends n.Component{render(){const{subject:e}=this.props;if(!e)return null;if(Object(x.b)(g.a.getContainer().get(),"contacts-timeline-unlimited-analytics"))return null;if(!b.getFirstConversionDate(e))return null;const t=b.getDaysRemaining(e),i=b.getMaxDays();if(null==t)return null;const r={count:t,numMaxDays:i},n=t>0?"expiringSoon":"expired";return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)(O.a,{message:"cardWebsiteActivity.profileSidebarModule.websiteActivityModule."+n,options:r})}),Object(s.jsx)(h.a,{href:`/browse/${f.a.get()}/compare/marketing?product=starter&upgradeSource=crm-website-activity`,target:"_blank",className:"m-top-5",children:Object(s.jsx)(O.a,{message:"cardWebsiteActivity.profileSidebarModule.websiteActivityModule.upgrade"})})]})}}_.displayName="ProfileWebsiteActivityUpgrade";_.propTypes={subject:m.a.instanceOf(v.a).isRequired};var A=_,M=i("E7+s"),T=i("oWUm"),D=i("1V8t");const w={subject:i("vLO/").a};class V extends n.PureComponent{constructor(...e){super(...e);this.getIsLoaded=()=>!Object(M.d)(this.props.subject);this.renderActivityDate=(e,t)=>{const{subject:i}=this.props;if(!i)return null;const n=b[e](i);return n?Object(s.jsxs)("div",{className:"m-y-5",children:[Object(s.jsx)(u.a,{children:Object(s.jsx)(O.a,{message:"cardWebsiteActivity.profileSidebarModule.websiteActivityModule."+t})}),Object(s.jsx)("p",{children:Object(s.jsx)(l.a,{children:r.a.moment.userTz(n).format("llll z")})})]},t):null};this.renderMostRecentVisit=()=>this.renderActivityDate("getMostRecentVisitDate","mostRecentVisit");this.renderFirstVisit=()=>this.renderActivityDate("getFirstVisitDate","firstVisit");this.renderActivitySummary=(e,t)=>Object(s.jsxs)(o.a,{className:"flex-column",align:"center",children:[Object(s.jsx)("h1",{"data-activity":t,children:e}),Object(s.jsx)("h6",{children:Object(s.jsx)(O.a,{message:"cardWebsiteActivity.profileSidebarModule.websiteActivityModule."+t})})]},t);this.renderActivity=()=>{const{subject:e}=this.props;if(!e)return null;const t=b.getFirstConversionDate(e),i=Object(c.g)(e,"hs_analytics_num_visits"),r=Object(c.g)(e,"hs_analytics_num_page_views");return t||"0"!==i||"0"!==r?[this.renderActivitySummary(i,"siteVisits"),this.renderActivitySummary(r,"pagesViewed")]:Object(s.jsx)(O.a,{message:"cardWebsiteActivity.profileSidebarModule.websiteActivityModule.noData"})};this.renderUpgrade=()=>Object(s.jsx)(A,{subject:this.props.subject});this.renderLoading=()=>Object(s.jsx)(p.a,{});this.renderComplete=()=>this.props.subject?Object(s.jsx)("div",{"data-selenium-test":"profile-website-activity-card-content",children:Object(s.jsxs)(d.a,{children:[Object(s.jsx)(a.a,{align:"center",children:this.renderActivity()}),this.renderMostRecentVisit(),this.renderFirstVisit(),this.renderUpgrade()]})}):Object(s.jsx)("noscript",{});this.render=()=>this.getIsLoaded()?this.renderComplete():this.renderLoading()}}V.displayName="ProfileWebsiteActivity";V.propTypes={subject:T.a};t.default=Object(D.connect)(w)(V)},"hEU+":function(e,t,i){"use strict";var s=i("QgEn"),r=i("LTV0"),n=i("FeM/");const c="SidebarLoading",a={minHeight:r.a.propTypes.minHeight},o={minHeight:200},d=({minHeight:e})=>Object(s.jsx)(n.a,{children:Object(s.jsx)(r.a,{grow:!0,minHeight:e})});d.displayName=c;d.propTypes=a;d.defaultProps=o;var u=d;i.d(t,"a",(function(){return u}))},"vLO/":function(e,t,i){"use strict";var s=i("Wf03"),r=i("tPYf"),n=i("m9st"),c=i("pq4V"),a=i("Nw75"),o=i("MQNR"),d=i("VfuR"),u=i.n(d),l=i("YP+8"),p=i("zQkm"),b=i("inXk"),j=i("x7mX");const m={[o.COMPANY]:s.a,[o.CONTACT]:n.a,[o.DEAL]:c.a,[o.VISIT]:l.a,[o.TICKET]:p.a},h={propTypes:{objectType:r.b.isRequired,subjectId:u.a.string},stores:[s.a,n.a,b.a,c.a,p.a,l.a],deref(e){const{objectType:t,subjectId:i}=e;if(null===i)return a.a;if(![o.COMPANY,o.CONTACT,o.DEAL,o.VISIT,o.TICKET].includes(t)){const e=Object(j.b)({objectId:i,objectTypeId:t});return b.a.get(e)}const s=m[t];return s&&s.get(i)}};t.a=h}}]);
//# sourceMappingURL=sidebar-website-activity.js.map